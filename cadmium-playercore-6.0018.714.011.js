B6kk.O2K=function(y2K){return{e2d:function(){var i2K,z2K=arguments;switch(y2K){case 1:i2K=-z2K[0]-z2K[2]+z2K[1];break;case 2:i2K=z2K[0]-z2K[2]*z2K[1];break;case 0:i2K=z2K[1]-z2K[0];break;}return i2K;},M2d:function(Q2K){y2K=Q2K;}};}();B6kk.P5d=function (){return typeof B6kk.O5d.M2d==='function'?B6kk.O5d.M2d.apply(B6kk.O5d,arguments):B6kk.O5d.M2d;};B6kk.R7P=function (){return typeof B6kk.M7P.e2d==='function'?B6kk.M7P.e2d.apply(B6kk.M7P,arguments):B6kk.M7P.e2d;};B6kk.A9o=function(r9o){return{e2d:function(){var E9o,w9o=arguments;switch(r9o){case 0:E9o=(w9o[1]-w9o[0])*w9o[2];break;}return E9o;},M2d:function(c9o){r9o=c9o;}};}();B6kk.y7X=function(x7X){return{e2d:function(){var C7X,z7X=arguments;switch(x7X){case 0:C7X=z7X[0]+z7X[1];break;case 1:C7X=z7X[0]-z7X[2]+z7X[1];break;}return C7X;},M2d:function(f7X){x7X=f7X;}};}();B6kk.j8x=function (){return typeof B6kk.c8x.M2d==='function'?B6kk.c8x.M2d.apply(B6kk.c8x,arguments):B6kk.c8x.M2d;};B6kk.L5x=function (){return typeof B6kk.B5x.e2d==='function'?B6kk.B5x.e2d.apply(B6kk.B5x,arguments):B6kk.B5x.e2d;};B6kk.Z2K=function (){return typeof B6kk.O2K.M2d==='function'?B6kk.O2K.M2d.apply(B6kk.O2K,arguments):B6kk.O2K.M2d;};B6kk.h9P=function (){return typeof B6kk.M7P.M2d==='function'?B6kk.M7P.M2d.apply(B6kk.M7P,arguments):B6kk.M7P.M2d;};B6kk.E8W=function (){return typeof B6kk.y8W.e2d==='function'?B6kk.y8W.e2d.apply(B6kk.y8W,arguments):B6kk.y8W.e2d;};B6kk.M5d=function (){return typeof B6kk.O5d.e2d==='function'?B6kk.O5d.e2d.apply(B6kk.O5d,arguments):B6kk.O5d.e2d;};B6kk.f5W=function (){return typeof B6kk.o5W.M2d==='function'?B6kk.o5W.M2d.apply(B6kk.o5W,arguments):B6kk.o5W.M2d;};B6kk.a9P=function (){return typeof B6kk.M7P.e2d==='function'?B6kk.M7P.e2d.apply(B6kk.M7P,arguments):B6kk.M7P.e2d;};B6kk.v3P=function (){return typeof B6kk.Y3P.e2d==='function'?B6kk.Y3P.e2d.apply(B6kk.Y3P,arguments):B6kk.Y3P.e2d;};B6kk.z5M=function (){return typeof B6kk.j5M.e2d==='function'?B6kk.j5M.e2d.apply(B6kk.j5M,arguments):B6kk.j5M.e2d;};B6kk.X2d=function (){return typeof B6kk.l2d.M2d==='function'?B6kk.l2d.M2d.apply(B6kk.l2d,arguments):B6kk.l2d.M2d;};B6kk.d5W=function (){return typeof B6kk.o5W.M2d==='function'?B6kk.o5W.M2d.apply(B6kk.o5W,arguments):B6kk.o5W.M2d;};B6kk.O5d=function(s5d){return{e2d:function(){var Q5d,i5d=arguments;switch(s5d){case 1:Q5d=i5d[2]+i5d[1]+i5d[0]+i5d[4]+i5d[3];break;case 2:Q5d=i5d[1]+i5d[0]+i5d[2];break;case 0:Q5d=i5d[0]+i5d[1];break;}return Q5d;},M2d:function(y5d){s5d=y5d;}};}();B6kk.c8x=function(W8x){return{e2d:function(){var E8x,r8x=arguments;switch(W8x){case 0:E8x=r8x[1]-r8x[0]+r8x[2];break;}return E8x;},M2d:function(K8x){W8x=K8x;}};}();B6kk.Q9o=function (){return typeof B6kk.A9o.e2d==='function'?B6kk.A9o.e2d.apply(B6kk.A9o,arguments):B6kk.A9o.e2d;};B6kk.L9P=function (){return typeof B6kk.M7P.M2d==='function'?B6kk.M7P.M2d.apply(B6kk.M7P,arguments):B6kk.M7P.M2d;};B6kk.G8W=function (){return typeof B6kk.y8W.e2d==='function'?B6kk.y8W.e2d.apply(B6kk.y8W,arguments):B6kk.y8W.e2d;};B6kk.w3P=function (){return typeof B6kk.Y3P.M2d==='function'?B6kk.Y3P.M2d.apply(B6kk.Y3P,arguments):B6kk.Y3P.M2d;};B6kk.v1n=function (){return typeof B6kk.X1n.M2d==='function'?B6kk.X1n.M2d.apply(B6kk.X1n,arguments):B6kk.X1n.M2d;};B6kk.j5M=function(L5M){return{e2d:function(){var e5M,Q5M=arguments;switch(L5M){case 2:e5M=Q5M[1]+Q5M[0];break;case 0:e5M=(Q5M[3]-Q5M[4])*-Q5M[0]/Q5M[2]/Q5M[1];break;case 1:e5M=Q5M[0]-Q5M[1]+Q5M[2];break;}return e5M;},M2d:function(C5M){L5M=C5M;}};}();B6kk.Y3P=function(J3P){return{e2d:function(){var b3P,q3P=arguments;switch(J3P){case 2:b3P=q3P[0]/q3P[1];break;case 1:b3P=q3P[4]/q3P[1]/q3P[3]^q3P[0]/q3P[2]+q3P[6]/q3P[5];break;case 0:b3P=q3P[0]-q3P[1];break;}return b3P;},M2d:function(S3P){J3P=S3P;}};}();B6kk.x5M=function (){return typeof B6kk.j5M.e2d==='function'?B6kk.j5M.e2d.apply(B6kk.j5M,arguments):B6kk.j5M.e2d;};B6kk.Y8x=function (){return typeof B6kk.c8x.M2d==='function'?B6kk.c8x.M2d.apply(B6kk.c8x,arguments):B6kk.c8x.M2d;};B6kk.T5M=function (){return typeof B6kk.j5M.M2d==='function'?B6kk.j5M.M2d.apply(B6kk.j5M,arguments):B6kk.j5M.M2d;};B6kk.e8W=function (){return typeof B6kk.y8W.M2d==='function'?B6kk.y8W.M2d.apply(B6kk.y8W,arguments):B6kk.y8W.M2d;};B6kk.f8x=function (){return typeof B6kk.c8x.e2d==='function'?B6kk.c8x.e2d.apply(B6kk.c8x,arguments):B6kk.c8x.e2d;};B6kk.u8W=function (){return typeof B6kk.y8W.M2d==='function'?B6kk.y8W.M2d.apply(B6kk.y8W,arguments):B6kk.y8W.M2d;};B6kk.B5x=function(i4x){return{e2d:function(){var d4x,Q4x=arguments;switch(i4x){case 0:d4x=Q4x[1]-Q4x[0];break;}return d4x;},M2d:function(x4x){i4x=x4x;}};}();B6kk.p5x=function (){return typeof B6kk.B5x.e2d==='function'?B6kk.B5x.e2d.apply(B6kk.B5x,arguments):B6kk.B5x.e2d;};B6kk.c1n=function (){return typeof B6kk.X1n.e2d==='function'?B6kk.X1n.e2d.apply(B6kk.X1n,arguments):B6kk.X1n.e2d;};B6kk.M7P=function(s7P){return{e2d:function(){var x7P,p7P=arguments;switch(s7P){case 0:x7P=p7P[1]+p7P[0];break;}return x7P;},M2d:function(z7P){s7P=z7P;}};}();B6kk.Z7X=function (){return typeof B6kk.y7X.M2d==='function'?B6kk.y7X.M2d.apply(B6kk.y7X,arguments):B6kk.y7X.M2d;};function B6kk(){}B6kk.X1n=function(k1n){return{e2d:function(){var G1n,n1n=arguments;switch(k1n){case 2:G1n=n1n[0]+n1n[1];break;case 0:G1n=n1n[1]<n1n[0];break;case 1:G1n=n1n[1]>=n1n[0];break;}return G1n;},M2d:function(h1n){k1n=h1n;}};}();B6kk.S1n=function (){return typeof B6kk.X1n.e2d==='function'?B6kk.X1n.e2d.apply(B6kk.X1n,arguments):B6kk.X1n.e2d;};B6kk.K9o=function (){return typeof B6kk.A9o.M2d==='function'?B6kk.A9o.M2d.apply(B6kk.A9o,arguments):B6kk.A9o.M2d;};B6kk.B5o=function (){return typeof B6kk.C4o.M2d==='function'?B6kk.C4o.M2d.apply(B6kk.C4o,arguments):B6kk.C4o.M2d;};B6kk.g3P=function (){return typeof B6kk.Y3P.M2d==='function'?B6kk.Y3P.M2d.apply(B6kk.Y3P,arguments):B6kk.Y3P.M2d;};B6kk.c2d=function (){return typeof B6kk.l2d.M2d==='function'?B6kk.l2d.M2d.apply(B6kk.l2d,arguments):B6kk.l2d.M2d;};B6kk.A4o=function (){return typeof B6kk.C4o.M2d==='function'?B6kk.C4o.M2d.apply(B6kk.C4o,arguments):B6kk.C4o.M2d;};B6kk.a5x=function (){return typeof B6kk.B5x.M2d==='function'?B6kk.B5x.M2d.apply(B6kk.B5x,arguments):B6kk.B5x.M2d;};B6kk.y8W=function(f8W){return{e2d:function(){var O8W,N8W=arguments;switch(f8W){case 0:O8W=N8W[0]+N8W[1];break;}return O8W;},M2d:function(Q8W){f8W=Q8W;}};}();B6kk.F7X=function (){return typeof B6kk.y7X.e2d==='function'?B6kk.y7X.e2d.apply(B6kk.y7X,arguments):B6kk.y7X.e2d;};B6kk.C4o=function(Y4o){return{e2d:function(){var F4o,R4o=arguments;switch(Y4o){case 4:F4o=R4o[1]-R4o[2]+R4o[0];break;case 2:F4o=R4o[1]+R4o[2]+R4o[3]+R4o[0];break;case 1:F4o=R4o[0]/R4o[1];break;case 3:F4o=R4o[1]+R4o[0];break;case 0:F4o=R4o[1]-R4o[0];break;}return F4o;},M2d:function(h4o){Y4o=h4o;}};}();B6kk.o5W=function(u5W){return{e2d:function(){var U5W,n5W=arguments;switch(u5W){case 0:U5W=-(n5W[1]*n5W[0]/-n5W[2]);break;}return U5W;},M2d:function(y5W){u5W=y5W;}};}();B6kk.x5W=function (){return typeof B6kk.o5W.e2d==='function'?B6kk.o5W.e2d.apply(B6kk.o5W,arguments):B6kk.o5W.e2d;};B6kk.i7X=function (){return typeof B6kk.y7X.e2d==='function'?B6kk.y7X.e2d.apply(B6kk.y7X,arguments):B6kk.y7X.e2d;};B6kk.V7X=function (){return typeof B6kk.y7X.M2d==='function'?B6kk.y7X.M2d.apply(B6kk.y7X,arguments):B6kk.y7X.M2d;};B6kk.t9o=function (){return typeof B6kk.A9o.e2d==='function'?B6kk.A9o.e2d.apply(B6kk.A9o,arguments):B6kk.A9o.e2d;};B6kk.E4o=function (){return typeof B6kk.C4o.e2d==='function'?B6kk.C4o.e2d.apply(B6kk.C4o,arguments):B6kk.C4o.e2d;};B6kk.W5d=function (){return typeof B6kk.O5d.M2d==='function'?B6kk.O5d.M2d.apply(B6kk.O5d,arguments):B6kk.O5d.M2d;};B6kk.T5x=function (){return typeof B6kk.B5x.M2d==='function'?B6kk.B5x.M2d.apply(B6kk.B5x,arguments):B6kk.B5x.M2d;};B6kk.J2d=function (){return typeof B6kk.l2d.e2d==='function'?B6kk.l2d.e2d.apply(B6kk.l2d,arguments):B6kk.l2d.e2d;};B6kk.m8x=function (){return typeof B6kk.c8x.e2d==='function'?B6kk.c8x.e2d.apply(B6kk.c8x,arguments):B6kk.c8x.e2d;};B6kk.p9o=function (){return typeof B6kk.A9o.M2d==='function'?B6kk.A9o.M2d.apply(B6kk.A9o,arguments):B6kk.A9o.M2d;};B6kk.F2K=function (){return typeof B6kk.O2K.e2d==='function'?B6kk.O2K.e2d.apply(B6kk.O2K,arguments):B6kk.O2K.e2d;};B6kk.c5W=function (){return typeof B6kk.o5W.e2d==='function'?B6kk.o5W.e2d.apply(B6kk.o5W,arguments):B6kk.o5W.e2d;};B6kk.H4o=function (){return typeof B6kk.C4o.e2d==='function'?B6kk.C4o.e2d.apply(B6kk.C4o,arguments):B6kk.C4o.e2d;};B6kk.B1n=function (){return typeof B6kk.X1n.M2d==='function'?B6kk.X1n.M2d.apply(B6kk.X1n,arguments):B6kk.X1n.M2d;};B6kk.D2K=function (){return typeof B6kk.O2K.e2d==='function'?B6kk.O2K.e2d.apply(B6kk.O2K,arguments):B6kk.O2K.e2d;};B6kk.d3P=function (){return typeof B6kk.Y3P.e2d==='function'?B6kk.Y3P.e2d.apply(B6kk.Y3P,arguments):B6kk.Y3P.e2d;};B6kk.l2d=function(N2d){return{e2d:function(){var R2d,D2d=arguments;switch(N2d){case 2:R2d=D2d[1]-D2d[0];break;case 1:R2d=D2d[0]+D2d[1];break;case 4:R2d=D2d[1]*D2d[3]/D2d[2]|D2d[0];break;case 0:R2d=D2d[0]===D2d[1];break;case 5:R2d=D2d[1]/D2d[2]|D2d[0];break;case 6:R2d=D2d[0]/D2d[1];break;case 7:R2d=(D2d[2]/D2d[0]|D2d[3])*D2d[1];break;case 3:R2d=D2d[1]+D2d[2]/D2d[0]*D2d[3];break;}return R2d;},M2d:function(f2d){N2d=f2d;}};}();B6kk.f5M=function (){return typeof B6kk.j5M.M2d==='function'?B6kk.j5M.M2d.apply(B6kk.j5M,arguments):B6kk.j5M.M2d;};B6kk.I2d=function (){return typeof B6kk.l2d.e2d==='function'?B6kk.l2d.e2d.apply(B6kk.l2d,arguments):B6kk.l2d.e2d;};B6kk.k2K=function (){return typeof B6kk.O2K.M2d==='function'?B6kk.O2K.M2d.apply(B6kk.O2K,arguments):B6kk.O2K.M2d;};B6kk.o5d=function (){return typeof B6kk.O5d.e2d==='function'?B6kk.O5d.e2d.apply(B6kk.O5d,arguments):B6kk.O5d.e2d;};(function(){(function(J,ma){var sb,Cb,Qa,uc,pa,za,ab,Gd,Hd,Ka,La,Mb,Id,vc,Jd,Kd,Wc,l,oa,gc,Ld,Xc,C,Q,ga,ub,jb,Ya,da,bb,Pa,Ob,Ga,Ea,Ia,db,wc,vb,pb,qb,xc,Yc,Md,Fb,Gb,Pb,Zc,Vb,wb,yc,Lb,$c,Nd,Wb,ad,bd,cd,dd,xb,ed,fd,gd,Yb,yb,zb,Zb,zc,Ac,Bc,hb,Se,Oa,Nb,Od,Cc,lb,Pd,Te,rb,Qd,Rd,Dc,Sd,Ue,fc,Td,Re,Ve,hd,Ec,We,Xe,Dd,Ye,Ed,Ud,kb,hc,Vd,ic,Wd,mb,Xd,id,Yd,kd,Fc,Zd,$e,Fd,Gc,Vc,$d,Ze,ae,ld,be,ce,de,md,Kb,fe,ee,af,jc,ge,od,kc,he,nd,ie,je,pd,le,me,Jc,Sb,$b,Tb,ne,oe,pe,qe,re,se,Kc,bf,te,ue,rd,ve,gb,Qb,Xb,Rb,Ib,Ab,Hc,cb,Eb,ke,lc,Ub,we,cf,mc,xe,df,ac,ye,Lc,sd,nc,td,ze,oc,Ae,Be,Ce,ef,pc,De,ff,gf,Ee,qd,Ic,Fe,Qe,Ge,hf,kf,jf,bc,tc,lf,Cd,mf,He;function Va(h,l){if(!l||"utf-8"===l)return Pc(h);throw Error("unsupported encoding");}function Sa(h,l){if(!l||"utf-8"===l)return Qc(h);throw Error("unsupported encoding");}function Pc(h){for(var l=0,n,Ma=h.length,C="";l<Ma;){n=h[l++];if(n&128)if(192===(n&224))n=((n&31)<<6)+(h[l++]&63);else if(224===(n&240))n=((n&15)<<12)+((h[l++]&63)<<6)+(h[l++]&63);else throw Error("unsupported character");C+=String.fromCharCode(n);}return C;}function Qc(h){var l,n,Ma,C,r;l=h.length;n=0;C=0;for(Ma=l;Ma--;)r=h.charCodeAt(Ma),128>r?n++:n=2048>r?n+2:n+3;n=new Uint8Array(n);for(Ma=0;Ma<l;Ma++)r=h.charCodeAt(Ma),128>r?n[C++]=r:(2048>r?n[C++]=192|r>>>6:(n[C++]=224|r>>>12,n[C++]=128|r>>>6&63),n[C++]=128|r&63);return n;}function $a(h,n){if(h===n)return!0;if(!h||!n||h.length!=n.length)return!1;for(var l=0;l<h.length;++l)if(h[l]!=n[l])return!1;return!0;}function fb(h){var r;if(!(h&&h.constructor==Uint8Array||Array.isArray(h)))throw new TypeError("Cannot compute the hash code of "+h);for(var n=1,l=0;l<h.length;++l){r=h[l];if("number"!==typeof r)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+r);n=31*n+r&4294967295;}return n;}function xd(h,n){var Ba;if(h===n)return!0;if(!h||!n)return!1;n instanceof Array||(n=[n]);for(var l=0;l<n.length;++l){for(var r=n[l],C=!1,Jb=0;Jb<h.length;++Jb){Ba=h[Jb];if(r.equals&&"function"===typeof r.equals&&r.equals(Ba)||r==Ba){C=!0;break;}}if(!C)return!1;}return!0;}function yd(h,n){return xd(h,n)&&(h.length==n.length||xd(n,h));}function n(h,n,l){var r,C;l&&(r=l);if("object"!==typeof h||"function"!==typeof h.result||"function"!==typeof h.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{C=n.call(r,h);C!==ma&&h.result(C);}catch(Rc){try{h.error(Rc);}catch(Ba){}}}function r(h,l,r){if("object"!==typeof h||"function"!==typeof h.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");n(h,l,r);}function h(h,n,l){1E5>h&&(h=1E5+h);Object.defineProperties(this,{internalCode:{value:h,writable:!1,configurable:!1},responseCode:{value:n,writable:!1,configurable:!1},message:{value:l,writable:!1,configurable:!1}});}function Sc(h){switch(h){case Oa.PSK:case Oa.MGK:return!0;default:return!1;}}function zd(h){switch(h){case Oa.PSK:case Oa.MGK:case Oa.X509:case Oa.RSA:case Oa.NPTICKET:case Oa.ECC:return!0;default:return!1;}}function Ne(h){return h.toJSON();}function Ad(n,l){tc?l.result(tc):Promise.resolve().then(function(){return Ia.getKeyByName(n);})["catch"](function(){return Ia.generateKey({name:n},!1,["wrapKey","unwrapKey"]);}).then(function(h){tc=h;l.result(tc);})["catch"](function(n){l.error(new C(h.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Bd(h,n){var l,r,C;l=n.masterToken;r=n.userIdToken;C=n.serviceTokens;return{NccpMethod:h.method,UserId:h.userId,UT:r&&r.serialNumber,MT:l&&l.serialNumber+":"+l.sequenceNumber,STCount:C&&C.length};}function Oe(h){return h.uniqueKey();}function Pe(r,J,ob,Ma,sc){var Ha;function Jb(h,K){h.errorCode===l.ENTITY_REAUTH||h.errorCode===l.ENTITYDATA_REAUTH?(Ma.clearCryptoContexts(),Ta()):h.errorCode!==l.USER_REAUTH&&h.errorCode!==l.USERDATA_REAUTH||Ba(K);}function Ba(h){if(h=Ma.getUserIdToken(h))Ma.removeUserIdToken(h),Ta();}function V(h,K,H){var w;w=[];(function B(){h.read(-1,K,{result:function(h){n(H,function(){var v,F,I,H,K;if(h)w.push(h),B();else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:H=w.length,K=0;for(F=v=0;F<H;F++)v+=w[F].length;v=new Uint8Array(v);for(F=0;F<H;F++)I=w[F],v.set(I,K),K+=I.length;return v;}});},timeout:function(){H.timeout();},error:function(h){H.error(h);}});}());}function Ta(){Ma.getStoreState({result:function(h){for(var K=Ha.slice(),H=0;H<K.length;H++)K[H]({storeState:h});},timeout:function(){r.error("Timeout getting store state",""+e);},error:function(h){r.error("Error getting store state",""+h);}});}Ha=[];this.addEventHandler=function(h,K){switch(h){case"shouldpersist":Ha.push(K);}};this.send=function(n){return new Promise(function(K,H){var w,z,B;w=n.timeout;z=new Cd(r,ob,n,Ma.getKeyRequestData());B=new Dd(n.url);r.trace("Sending MSL request");J.request(ob,z,B,w,{result:function(z){var v;z&&z.getMessageHeader();r.trace("Received MSL response",{Method:n.method});if(z){n.allowTokenRefresh&&Ta();v=z.getErrorHeader();v?(Jb(v,n.userId),H({success:!1,error:v})):V(z,w,{result:function(h){K({success:!0,body:Va(h)});},timeout:function(){H({success:!1,subCode:sc.MSL_READ_TIMEOUT});},error:function(h){H({success:!1,error:h});}});}else H({success:!1,error:new C(h.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){H({success:!1,subCode:sc.MSL_REQUEST_TIMEOUT});},error:function(h){H({success:!1,error:h});}});});};this.hasUserIdToken=function(h){return!!Ma.getUserIdToken(h);};this.getUserIdTokenKeys=function(){return Ma.getUserIdTokenKeys();};this.removeUserIdToken=Ba;this.clearUserIdTokens=function(){Ma.clearUserIdTokens();Ta();};this.isErrorReauth=function(h){return h&&h.errorCode==l.USERDATA_REAUTH;};this.isErrorHeader=function(h){return h instanceof Kb;};this.getErrorCode=function(h){return h&&h.errorCode;};this.getStateForMdx=function(h){var K,H;K=Ma.getMasterToken();h=Ma.getUserIdToken(h);H=Ma.getCryptoContext(K);return{masterToken:K,userIdToken:h,cryptoContext:H};};this.buildPlayDataRequest=function(h,K){var H;H=new Ed();J.request(ob,new Cd(r,ob,h),H,h.timeout,{result:function(){K.result(H.getRequest());},error:function(){K.result(H.getRequest());},timeout:function(){K.timeout();}});};this.rekeyUserIdToken=function(h,K){Ma.rekeyUserIdToken(h,K);Ta();};this.getServiceTokens=function(h){var K;K=Ma.getMasterToken();(h=Ma.getUserIdToken(h))&&!h.isBoundTo(K)&&(h=ma);return Ma.getServiceTokens(K,h);};this.removeServiceToken=function(h){var K;K=Ma.getMasterToken();Ma.getServiceTokens(K).find(function(H){return H.name===h;})&&(Ma.removeServiceTokens(h,K),Ta());};}function Tc(n,l,r,Ma,J,Q){function Ba(l){var V;return Promise.resolve().then(function(){V=n.authenticationKeyNames[l];if(!V)throw new C(h.KEY_IMPORT_ERROR,"Invalid config keyName "+l);return Ia.getKeyByName(V);}).then(function(n){return new Promise(function(l,K){Vb(n,{result:l,error:function(){K(new C(h.KEY_IMPORT_ERROR,"Unable to create "+V+" CipherKey"));}});});})["catch"](function(n){throw new C(h.KEY_IMPORT_ERROR,"Unable to import "+V,n);});}return Promise.resolve().then(function(){if(!Ia.getKeyByName)throw new C(h.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Ba("e"),Ba("h"),Ba("w")]);}).then(function(h){var V,Ha,Ja;V={};V[l]=new r(n.esn,h[0],h[1],h[2]);h=new Ma(n.esn);Ha=new Qe();Ha=[new J(Ha)];Ja=new Q(l);return{entityAuthFactories:V,entityAuthData:h,keyExchangeFactories:Ha,keyRequestData:Ja};});}function Uc(n,l,r){var ob;function Ma(){return Promise.resolve().then(function(){return Ia.generateKey(l,!1,["wrapKey","unwrapKey"]);}).then(function(h){return J(h.publicKey,h.privateKey);});}function J(n,l){return Promise.all([new Promise(function(l,V){Lb(n,{result:l,error:function(n){V(new C(h.INTERNAL_EXCEPTION,"Unable to create keyx public key",n));}});}),new Promise(function(n,V){Wb(l,{result:n,error:function(n){V(new C(h.INTERNAL_EXCEPTION,"Unable to create keyx private key",n));}});})]).then(function(h){h=new Vc("rsaKeypairId",r,h[0],h[1]);ob&&(h.storeData={keyxPublicKey:n,keyxPrivateKey:l});return h;});}ob=!n.systemKeyWrapFormat;return Promise.resolve().then(function(){var h,l;h=n.storeState;l=h&&h.keyxPublicKey;h=h&&h.keyxPrivateKey;return ob&&l&&h?J(l,h):Ma();}).then(function(h){var l,Ta,Ha;l={};l[Oa.NONE]=new Re();Ta=new fc(n.esn);Ha=[new Fd()];return{entityAuthFactories:l,entityAuthData:Ta,keyExchangeFactories:Ha,keyRequestData:h,createKeyRequestData:ob?Ma:ma};});}Cb=J.nfCrypto||J.msCrypto||J.webkitCrypto||J.crypto;Qa=Cb&&(Cb.webkitSubtle||Cb.subtle);uc=J.nfCryptokeys||J.msCryptokeys||J.webkitCryptokeys||J.cryptokeys;(function(h){var n,l;n=function(){function h(h,l){h instanceof n?(this.abv=h.abv,this.position=h.position):(this.abv=h,this.position=l||0);}h.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(h){this.abv[this.position++]=h;},peekByte:function(h){return this.abv[h];},copyBytes:function(h,l,n){var V;V=new Uint8Array(this.abv.buffer,this.position,n);h=new Uint8Array(h.buffer,l,n);V.set(h);this.position+=n;},seek:function(h){this.position=h;},skip:function(h){this.position+=h;},getPosition:function(){return this.position;},setPosition:function(h){this.position=h;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return h;}();l={};(function(){var I,v,F,Ca,ba,Da,ya,aa,na;function h(E,v){var w;v.writeByte(E.tagClass<<6|E.constructed<<5|E.tag);w=E.payloadLen;if(128>w)v.writeByte(w);else{for(var F=w,z=0;F;)++z,F>>=8;v.writeByte(128|z);for(F=0;F<z;++F)v.writeByte(w>>8*(z-F-1)&255);}if(E.child)for(E.tag==I.BIT_STRING&&v.writeByte(0),w=E._child;w;){if(!h(w,v))return!1;w=w.next;}else switch(E.tag){case I.INTEGER:E.backingStore[E.dataIdx]>>7&&v.writeByte(0);v.copyBytes(E.backingStore,E.dataIdx,E.dataLen);break;case I.BIT_STRING:v.writeByte(0);v.copyBytes(E.backingStore,E.dataIdx,E.dataLen);break;case I.OCTET_STRING:v.copyBytes(E.backingStore,E.dataIdx,E.dataLen);break;case I.OBJECT_IDENTIFIER:v.copyBytes(E.backingStore,E.dataIdx,E.dataLen);}return!0;}function r(h){var v,E;v=h.readByte();E=v&127;if(E==v)return E;if(3<E||0===E)return-1;for(var w=v=0;w<E;++w)v=v<<8|h.readByte();return v;}function C(h,w,F){var E,z,H,T,B,ha,K;E=h.backingStore;z=new n(E,w);w+=F;F=h;if(8<ba++)return ma;for(;z.getPosition()<w;){z.getPosition();B=z.readByte();if(31==(B&31)){for(T=0;B&128;)T<<=8,T|=B&127;B=T;}H=B;T=H&31;if(0>T||30<T)return ma;B=r(z);if(0>B||B>z.getRemaining())return ma;F.constructed=H&32;F.tagClass=(H&192)>>6;F.tag=T;F.dataLen=B;F.dataIdx=z.getPosition();T=z;ha=H;H=B;if(ha&32)T=!0;else if(ha<I.BIT_STRING||ha>I.OCTET_STRING)T=!1;else{K=new n(T);ha==I.BIT_STRING&&K.skip(1);K.readByte()>>6&1?T=!1:(ha=r(K),T=K.getPosition()-T.getPosition()+ha==H);}T&&(T=z.getPosition(),H=B,F.tag==I.BIT_STRING&&(F.dataIdx++,F.dataLen--,T++,H--),F.child=new v(E,F),C(F.child,T,H));F.tag==I.INTEGER&&(T=z.getPosition(),0==z.peekByte(T)&&z.peekByte(T+1)>>7&&(F.dataIdx++,F.dataLen--));z.skip(B);z.getPosition()<w&&(F.next=new v(E,F.parent),F=F.next);}ba--;return h;}function J(h,v,w){if(9!=w)return!1;for(w=0;9>w;++w)if(h[v++]!=Da[w])return!1;return!0;}function V(h){var v;if(!(h&&h.child&&h.child.next&&h.child.child&&h.child.next.child))return!1;v=h.child.child;return J(v.backingStore,v.dataIdx,v.dataLen)&&2==h.nChildren&&2==h.child.nChildren&&2==h.child.next.child.nChildren?!0:!1;}function Ta(h){var v;if(!(h&&h.child&&h.child.next&&h.child.next.child&&h.child.next.next&&h.child.next.next.child))return!1;v=h.child.next.child;return J(v.backingStore,v.dataIdx,v.dataLen)&&3==h.nChildren&&2==h.child.next.nChildren&&9==h.child.next.next.child.nChildren?!0:!1;}function Ha(h){var v,E;v=F.createSequenceNode();E=new Ca(v);E.addChild(F.createSequenceNode());E.addChild(F.createOidNode(Da));E.addSibling(F.createNullNode());E.addToParent(v,F.createBitStringNode(null));E.addChild(F.createSequenceNode());E.addChild(F.createIntegerNode(h.n));E.addSibling(F.createIntegerNode(h.e));return v;}function Ja(h){var v;h=h.child.next.child.child;v=h.data;h=h.next;return new ya(v,h.data,null,null);}function K(h){var v,E;v=F.createSequenceNode();E=new Ca(v);E.addChild(F.createIntegerNode(new Uint8Array([0])));E.addSibling(F.createSequenceNode());E.addChild(F.createOidNode(Da));E.addSibling(F.createNullNode());E.addToParent(v,F.createOctetStringNode(null));E.addChild(F.createSequenceNode());E.addChild(F.createIntegerNode(new Uint8Array([0])));E.addSibling(F.createIntegerNode(h.n));E.addSibling(F.createIntegerNode(h.e));E.addSibling(F.createIntegerNode(h.d));E.addSibling(F.createIntegerNode(h.p));E.addSibling(F.createIntegerNode(h.q));E.addSibling(F.createIntegerNode(h.dp));E.addSibling(F.createIntegerNode(h.dq));E.addSibling(F.createIntegerNode(h.qi));return v;}function H(h){var v;v=[];h=h.child.next.next.child.child.next;for(var E=0;8>E;E++)v.push(h.data),h=h.next;return new aa(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]);}function w(h,v,w,F){if(!(h instanceof ya||h instanceof aa))return ma;if(w)for(var E=0;E<w.length;++E)if(-1==na.indexOf(w[E]))return ma;v={kty:"RSA",alg:v,key_ops:w||[],ext:F==ma?!1:F,n:pa(h.n,!0),e:pa(h.e,!0)};h instanceof aa&&(v.d=pa(h.d,!0),v.p=pa(h.p,!0),v.q=pa(h.q,!0),v.dp=pa(h.dp,!0),v.dq=pa(h.dq,!0),v.qi=pa(h.qi,!0));return v;}function z(h){var v,w,E,F,z,H,I,B,ba,K;if(!h.kty||"RSA"!=h.kty||!h.n||!h.e)return ma;v="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(h.alg&&-1==v.indexOf(h.alg))return ma;v=[];h.use?"enc"==h.use?v=["encrypt","decrypt","wrap","unwrap"]:"sig"==h.use&&(v=["sign","verify"]):v=h.key_ops;w=h.ext;E=za(h.n,!0);F=za(h.e,!0);if(h.d){z=za(h.d,!0);H=za(h.p,!0);I=za(h.q,!0);B=za(h.dp,!0);ba=za(h.dq,!0);K=za(h.qi,!0);return new aa(E,F,z,H,I,B,ba,K,h.alg,v,w);}return new ya(E,F,w,v);}function B(h,v,w,F){this.der=h;this.type=v;this.keyOps=w;this.extractable=F;}I={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};v=function(h,v,w,F,z,H){this._data=h;this._parent=v||ma;this._constructed=w||!1;this._tagClass=0;this._tag=F||0;this._dataIdx=z||0;this._dataLen=H||0;};v.prototype={_child:ma,_next:ma,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(h){this._constructed=0!=h?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(h){this._tagClass=h;},get tag(){return this._tag;},set tag(h){this._tag=h;},get dataIdx(){return this._dataIdx;},set dataIdx(h){this._dataIdx=h;},get dataLen(){return this._dataLen;},set dataLen(h){this._dataLen=h;},get child(){return this._child;},set child(h){this._child=h;this._child.parent=this;},get next(){return this._next;},set next(h){this._next=h;},get parent(){return this._parent;},set parent(h){this._parent=h;},get payloadLen(){var h;h=0;if(this._child){for(var v=this._child;v;)h+=v.length,v=v.next;this._tag==I.BIT_STRING&&h++;}else switch(this._tag){case I.INTEGER:h=this._dataLen;this._data[this._dataIdx]>>7&&h++;break;case I.BIT_STRING:h=this._dataLen+1;break;case I.OCTET_STRING:h=this._dataLen;break;case I.NULL:h=0;break;case I.OBJECT_IDENTIFIER:J(this._data,this._dataIdx,this._dataLen)&&(h=9);}return h;},get length(){var h,v;h=this.payloadLen;if(127<h)for(v=h;v;)v>>=8,++h;return h+2;},get der(){var v,w;v=this.length;if(!v)return ma;v=new Uint8Array(v);w=new n(v);return h(this,w)?v:ma;},get nChildren(){for(var h=0,v=this._child;v;)h++,v=v.next;return h;}};F={createSequenceNode:function(){return new v(null,null,!0,I.SEQUENCE,null,null);},createOidNode:function(h){return new v(h,null,!1,I.OBJECT_IDENTIFIER,0,h?h.length:0);},createNullNode:function(){return new v(null,null,!1,I.NULL,null,null);},createBitStringNode:function(h){return new v(h,null,!1,I.BIT_STRING,0,h?h.length:0);},createIntegerNode:function(h){return new v(h,null,!1,I.INTEGER,0,h?h.length:0);},createOctetStringNode:function(h){return new v(h,null,!1,I.OCTET_STRING,0,h?h.length:0);}};Ca=function(h){this._currentNode=this._rootNode=h;};Ca.prototype={addChild:function(h){this.addTo(this._currentNode,h);},addSibling:function(h){this.addTo(this._currentNode.parent,h);},addTo:function(h,v){this._currentNode=v;this._currentNode.parent=h;if(h.child){for(var w=h.child;w.next;)w=w.next;w.next=v;}else h.child=v;},addToParent:function(h,v){this.findNode(h)&&this.addTo(h,v);},findNode:function(h){for(var v=this._currentNode;v;){if(h==v)return!0;v=v.parent;}return!1;}};ba=0;Da=new Uint8Array([42,134,72,134,247,13,1,1,1]);ya=function(h,v,w,F){this.n=h;this.e=v;this.ext=w;this.keyOps=F;};aa=function(h,v,w,F,z,H,I,B,ha,ba,K){this.n=h;this.e=v;this.d=w;this.p=F;this.q=z;this.dp=H;this.dq=I;this.qi=B;this.alg=ha;this.keyOps=ba;this.ext=K;};na="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");B.prototype.getDer=function(){return this.der;};B.prototype.getType=function(){return this.type;};B.prototype.getKeyOps=function(){return this.keyOps;};B.prototype.getExtractable=function(){return this.extractable;};l.parse=function(h){ba=0;return C(new v(h),0,h.length);};l.show=function(h,v){};l.isRsaSpki=V;l.isRsaPkcs8=Ta;l.NodeFactory=F;l.Builder=Ca;l.tagVal=I;l.RsaPublicKey=ya;l.RsaPrivateKey=aa;l.buildRsaSpki=Ha;l.parseRsaSpki=function(h){h=l.parse(h);return V?Ja(h):ma;};l.buildRsaPkcs8=K;l.parseRsaPkcs8=function(h){h=l.parse(h);return Ta(h)?H(h):ma;};l.buildRsaJwk=w;l.parseRsaJwk=z;l.RsaDer=B;l.rsaDerToJwk=function(h,v,F,z){h=l.parse(h);if(!h)return ma;if(V(h))h=Ja(h);else if(Ta(h))h=H(h);else return ma;return w(h,v,F,z);};l.jwkToRsaDer=function(h){var v,w;h=z(h);if(!h)return ma;if(h instanceof ya)v="spki",w=Ha(h).der;else if(h instanceof aa)v="pkcs8",w=K(h).der;else return ma;return new B(w,v,h.keyOps,h.ext);};l.webCryptoAlgorithmToJwkAlg=function(h){return"RSAES-PKCS1-v1_5"==h.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==h.name?"SHA-256"==h.hash.name?"RS256":"SHA-384"==h.hash.name?"RS384":"SHA-512"==h.hash.name?"RS512":ma:ma;};l.webCryptoUsageToJwkKeyOps=function(h){return h.map(function(h){return"wrapKey"==h?"wrap":"unwrapKey"==h?"unwrap":h;});};}());h.ASN1=l;}(J));(function(){for(var h={},l={},n={"=":0,".":0},r={"=":0,".":0},C=/\s+/g,J=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Ba=64;Ba--;)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=4096*Ba,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=Ba;for(Ba=64;Ba--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba];)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=4096*Ba,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=Ba;pa=function(h,l){for(var n="",V=0,K=h.length,H=K-2,w,z=l?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=l?"":"=";V<H;)w=65536*h[V++]+256*h[V++]+h[V++],n+=z[w>>>18]+z[w>>>12&63]+z[w>>>6&63]+z[w&63];V==H?(w=65536*h[V++]+256*h[V++],n+=z[w>>>18]+z[w>>>12&63]+z[w>>>6&63]+B):V==K-1&&(w=65536*h[V++],n+=z[w>>>18]+z[w>>>12&63]+B+B);return n;};za=function(V,Ta){var Ha;V=V.replace(C,"");if(Ta){Ha=V.length%4;if(Ha)for(var Ha=4-Ha,Ja=0;Ja<Ha;++Ja)V+="=";}Ha=V.length;if(0!=Ha%4||!J.test(V))throw Error("bad base64: "+V);for(var K=Ha/4*3-("="==V[Ha-1]?1:0)-("="==V[Ha-2]?1:0),H=new Uint8Array(K),w=0,z=0;w<Ha;)Ja=h[V[w++]]+l[V[w++]]+n[V[w++]]+r[V[w++]],H[z++]=Ja>>>16,z<K&&(H[z++]=Ja>>>8&255,z<K&&(H[z++]=Ja&255));return H;};}());ab={};(function(){var J,Ba,V,Ha;function h(l){if(!(this instanceof h))return new h(l);for(var K=0,H=Ba.length;K<H;K++)this[Ba[K]]="";this.bufferCheckPosition=ab.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=l||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=V.BEGIN;this.stack=new J();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;n(this,"onready");}function n(h,K,H){if(h[K])h[K](H);}function l(h,K){var H,w;H=h.opt;w=h.textNode;H.trim&&(w=w.trim());H.normalize&&(w=w.replace(/\s+/g," "));h.textNode=w;h.textNode&&n(h,K?K:"onvalue",h.textNode);h.textNode="";}function r(h,K){l(h);K+="\nLine: "+h.line+"\nColumn: "+h.column+"\nChar: "+h.c;K=Error(K);h.error=K;n(h,"onerror",K);return h;}function C(Ja){Ja.state!==V.VALUE&&r(Ja,"Unexpected end");l(Ja);Ja.c="";Ja.closed=!0;n(Ja,"onend");h.call(Ja,Ja.opt);return Ja;}J=Array;ab.parser=function(n){return new h(n);};ab.CParser=h;ab.MAX_BUFFER_LENGTH=65536;ab.DEBUG=!1;ab.INFO=!1;ab.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Ba=["textNode","numberNode"];ab.EVENTS.filter(function(h){return"error"!==h&&"end"!==h;});V=0;ab.STATE={BEGIN:V++,VALUE:V++,OPEN_OBJECT:V++,CLOSE_OBJECT:V++,OPEN_ARRAY:V++,CLOSE_ARRAY:V++,TEXT_ESCAPE:V++,STRING:V++,BACKSLASH:V++,END:V++,OPEN_KEY:V++,CLOSE_KEY:V++,TRUE:V++,TRUE2:V++,TRUE3:V++,FALSE:V++,FALSE2:V++,FALSE3:V++,FALSE4:V++,NULL:V++,NULL2:V++,NULL3:V++,NUMBER_DECIMAL_POINT:V++,NUMBER_DIGIT:V++};for(var Ta in ab.STATE)ab.STATE[ab.STATE[Ta]]=Ta;V=ab.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(h){return h.__proto__;});Ha=/[\\"\n]/g;h.prototype={end:function(){C(this);},write:function(h){var w,z,B;if(this.error)throw this.error;if(this.closed)return r(this,"Cannot write after close. Assign an onready handler.");if(null===h)return C(this);for(var K=h[0],H;K;){H=K;this.c=K=h.charAt(this.index++);H!==K?this.p=H:H=this.p;if(!K)break;this.position++;"\n"===K?(this.line++,this.column=0):this.column++;switch(this.state){case V.BEGIN:"{"===K?this.state=V.OPEN_OBJECT:"["===K?this.state=V.OPEN_ARRAY:"\r"!==K&&"\n"!==K&&" "!==K&&"\t"!==K&&r(this,"Non-whitespace before {[.");continue;case V.OPEN_KEY:case V.OPEN_OBJECT:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;if(this.state===V.OPEN_KEY)this.stack.push(V.CLOSE_KEY);else if("}"===K){n(this,"onopenobject");n(this,"oncloseobject");this.state=this.stack.pop()||V.VALUE;continue;}else this.stack.push(V.CLOSE_OBJECT);'"'===K?this.state=V.STRING:r(this,'Malformed object key should start with "');continue;case V.CLOSE_KEY:case V.CLOSE_OBJECT:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;":"===K?(this.state===V.CLOSE_OBJECT?(this.stack.push(V.CLOSE_OBJECT),l(this,"onopenobject")):l(this,"onkey"),this.state=V.VALUE):"}"===K?(l(this),n(this,"oncloseobject",void 0),this.state=this.stack.pop()||V.VALUE):","===K?(this.state===V.CLOSE_OBJECT&&this.stack.push(V.CLOSE_OBJECT),l(this),this.state=V.OPEN_KEY):r(this,"Bad object");continue;case V.OPEN_ARRAY:case V.VALUE:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;if(this.state===V.OPEN_ARRAY)if(n(this,"onopenarray"),this.state=V.VALUE,"]"===K){n(this,"onclosearray");this.state=this.stack.pop()||V.VALUE;continue;}else this.stack.push(V.CLOSE_ARRAY);'"'===K?this.state=V.STRING:"{"===K?this.state=V.OPEN_OBJECT:"["===K?this.state=V.OPEN_ARRAY:"t"===K?this.state=V.TRUE:"f"===K?this.state=V.FALSE:"n"===K?this.state=V.NULL:"-"===K?this.numberNode+=K:"0"===K?(this.numberNode+=K,this.state=V.NUMBER_DIGIT):-1!=="123456789".indexOf(K)?(this.numberNode+=K,this.state=V.NUMBER_DIGIT):r(this,"Bad value");continue;case V.CLOSE_ARRAY:if(","===K)this.stack.push(V.CLOSE_ARRAY),l(this,"onvalue"),this.state=V.VALUE;else if("]"===K)l(this),n(this,"onclosearray",void 0),this.state=this.stack.pop()||V.VALUE;else if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;else r(this,"Bad array");continue;case V.STRING:H=this.index-1;w=this.slashed,z=this.unicodeI;a:for(;;){if(ab.DEBUG)for(;0<z;)if(this.unicodeS+=K,K=h.charAt(this.index++),4===z?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),z=0,H=this.index-1):z++,!K)break a;if('"'===K&&!w){this.state=this.stack.pop()||V.VALUE;(this.textNode+=h.substring(H,this.index-1))||n(this,"onvalue","");break;}if("\\"===K&&!w&&(w=!0,this.textNode+=h.substring(H,this.index-1),K=h.charAt(this.index++),!K))break;if(w)if(w=!1,"n"===K?this.textNode+="\n":"r"===K?this.textNode+="\r":"t"===K?this.textNode+="\t":"f"===K?this.textNode+="\f":"b"===K?this.textNode+="\b":"u"===K?(z=1,this.unicodeS=""):this.textNode+=K,K=h.charAt(this.index++),H=this.index-1,K)continue;else break;Ha.lastIndex=this.index;B=Ha.exec(h);if(null===B){this.index=h.length+1;this.textNode+=h.substring(H,this.index-1);break;}this.index=B.index+1;K=h.charAt(B.index);if(!K){this.textNode+=h.substring(H,this.index-1);break;}}this.slashed=w;this.unicodeI=z;continue;case V.TRUE:if(""===K)continue;"r"===K?this.state=V.TRUE2:r(this,"Invalid true started with t"+K);continue;case V.TRUE2:if(""===K)continue;"u"===K?this.state=V.TRUE3:r(this,"Invalid true started with tr"+K);continue;case V.TRUE3:if(""===K)continue;"e"===K?(n(this,"onvalue",!0),this.state=this.stack.pop()||V.VALUE):r(this,"Invalid true started with tru"+K);continue;case V.FALSE:if(""===K)continue;"a"===K?this.state=V.FALSE2:r(this,"Invalid false started with f"+K);continue;case V.FALSE2:if(""===K)continue;"l"===K?this.state=V.FALSE3:r(this,"Invalid false started with fa"+K);continue;case V.FALSE3:if(""===K)continue;"s"===K?this.state=V.FALSE4:r(this,"Invalid false started with fal"+K);continue;case V.FALSE4:if(""===K)continue;"e"===K?(n(this,"onvalue",!1),this.state=this.stack.pop()||V.VALUE):r(this,"Invalid false started with fals"+K);continue;case V.NULL:if(""===K)continue;"u"===K?this.state=V.NULL2:r(this,"Invalid null started with n"+K);continue;case V.NULL2:if(""===K)continue;"l"===K?this.state=V.NULL3:r(this,"Invalid null started with nu"+K);continue;case V.NULL3:if(""===K)continue;"l"===K?(n(this,"onvalue",null),this.state=this.stack.pop()||V.VALUE):r(this,"Invalid null started with nul"+K);continue;case V.NUMBER_DECIMAL_POINT:"."===K?(this.numberNode+=K,this.state=V.NUMBER_DIGIT):r(this,"Leading zero not followed by .");continue;case V.NUMBER_DIGIT:-1!=="0123456789".indexOf(K)?this.numberNode+=K:"."===K?(-1!==this.numberNode.indexOf(".")&&r(this,"Invalid number has two dots"),this.numberNode+=K):"e"===K||"E"===K?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||r(this,"Invalid number has two exponential"),this.numberNode+=K):"+"===K||"-"===K?("e"!==H&&"E"!==H&&r(this,"Invalid symbol in number"),this.numberNode+=K):(this.numberNode&&n(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||V.VALUE);continue;default:r(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){h=Math.max(ab.MAX_BUFFER_LENGTH,10);H=K=0;for(w=Ba.length;H<w;H++){z=this[Ba[H]].length;if(z>h)switch(Ba[H]){case"text":break;default:r(this,"Max buffer length exceeded: "+Ba[H]);}K=Math.max(K,z);}this.bufferCheckPosition=ab.MAX_BUFFER_LENGTH-K+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var r;function h(h,n){n||(n=h.length);return h.reduce(function(h,l,V){return V<n?h+String.fromCharCode(l):h;},"");}for(var n={},l=0;256>l;++l){r=h([l]);n[r]=l;}for(var C=Object.keys(n).length,J=[],l=0;256>l;++l)J[l]=[l];Gd=function(l,V){var v,F;function r(h,v){var F;for(;0<v;){if(z>=w.length)return!1;if(v>B){F=h;F=F>>>v-B;w[z]|=F&255;v-=B;B=8;++z;}else v<=B&&(F=h,F<<=B-v,F&=255,F>>>=8-B,w[z]|=F&255,B-=v,v=0,0==B&&(B=8,++z));}return!0;}for(var Ha in n)V[Ha]=n[Ha];for(var Ja=C,K=[],H=8,w=new Uint8Array(l.length),z=0,B=8,I=0;I<l.length;++I){v=l[I];K.push(v);Ha=h(K);F=V[Ha];if(!F){K=h(K,K.length-1);if(!r(V[K],H))return null;0!=Ja>>H&&++H;V[Ha]=Ja++;K=[v];}}return 0<K.length&&(Ha=h(K),F=V[Ha],!r(F,H))?null:w.subarray(0,8>B?z+1:z);};Hd=function(h){var I,v,B,r;for(var l=J.slice(),n=0,r=0,Ja=8,K=new Uint8Array(Math.ceil(1.5*h.length)),H=0,w,z=[];n<h.length&&!(8*(h.length-n)-r<Ja);){for(var B=w=0;B<Ja;){I=Math.min(Ja-B,8-r);v=h[n];v=v<<r;v=v&255;v=v>>>8-I;B=B+I;r=r+I;8==r&&(r=0,++n);w|=(v&255)<<Ja-B;}B=l[w];0==z.length?++Ja:(B?z.push(B[0]):z.push(z[0]),l[l.length]=z,z=[],l.length==1<<Ja&&++Ja,B||(B=l[w]));w=H+B.length;w>=K.length&&(I=new Uint8Array(Math.ceil(1.5*w)),I.set(K),K=I);K.set(B,H);H=w;z=z.concat(B);}return K.subarray(0,H);};}());(function(){var h,n,r;Ka="utf-8";La=9007199254740992;h=Mb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Mb);Id=function(n){for(var l=[h.GZIP,h.LZW],r=0;r<l.length&&0<n.length;++r)for(var C=l[r],V=0;V<n.length;++V)if(n[V]==C)return C;return null;};n=vc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vc);Jd=function(h){return n.AES_CBC_PKCS5Padding==h?n.AES_CBC_PKCS5Padding:n.RSA_ECB_PKCS1Padding==h?n.RSA_ECB_PKCS1Padding:n[h];};r=Kd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Kd);Wc=function(h){return r[h];};l={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(l);}());oa={isObjectLiteral:function(h){return null!==h&&"object"===typeof h&&h.constructor===Object;},extendDeep:function(){var h,n,l,r,C,J,Ba,V;h=arguments[0];n=1;l=arguments.length;r=!1;"boolean"===typeof h&&(r=h,h=arguments[1],n=2);for(;n<l;n++)if(null!=(C=arguments[n]))for(J in C)r&&J in h||(V=C[J],h!==V&&V!==ma&&(Ba=h[J],h[J]=null!==Ba&&null!==V&&"object"===typeof Ba&&"object"===typeof V?oa.extendDeep(r,{},Ba,V):V));return h;}};(function(){var Ba,V;function h(h,n){return function(){var l,K;l=h.base;h.base=n;K=h.apply(this,arguments);h.base=l;return K;};}function n(n,l,r){var K,H,w,z;r=r||V;z=!!r.extendAll;for(K in l)H=l.__lookupGetter__(K),w=l.__lookupSetter__(K),H||w?(H&&n.__defineGetter__(K,H),w&&n.__defineSetter__(K,w)):(H=l[K],w=n[K],"function"===typeof H&&"function"===typeof w&&H!==w?(H.base!==Function.prototype.base&&(H=h(H,w)),H.base=w):(z||r[K])&&oa.isObjectLiteral(H)&&oa.isObjectLiteral(w)&&(H=oa.extendDeep({},w,H)),n[K]=H);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function K(){var H;H=h.call(arguments,0);K.base.apply(this,n.concat(H));}});}function r(h,l){var V;V=new this(Ba);n(V,h,l);return J(V);}function C(h,l){n(this.prototype,h,l);return this;}function J(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==Ba&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=r;n.bind=l;n.mixin=C;return n;}Ba={};V={actions:!0};Function.prototype.base=function(){};oa.Class={create:J,mixin:n,extend:function(h,n){var l;l=J();l.prototype=new h();return l.extend(n);}};oa.mixin=function(){oa.log&&oa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){var Ba,V,Ta;function h(h,n){return function(){var l,H;l=h.base;h.base=n;H=h.apply(this,arguments);h.base=l;return H;};}function n(n,l,K){var H,w,z,B;K=K||V;B=!!K.extendAll;for(H in l)w=l.__lookupGetter__(H),z=l.__lookupSetter__(H),w||z?(w&&n.__defineGetter__(H,w),z&&n.__defineSetter__(H,z)):(w=l[H],z=n[H],"function"===typeof w&&"function"===typeof z&&w!==z?(w.base!==Ta&&(w=h(w,z)),w.base=z):(B||K[H])&&oa.isObjectLiteral(w)&&oa.isObjectLiteral(z)&&(w=oa.extendDeep({},z,w)),n[H]=w);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function H(){var w;w=h.call(arguments,0);H.base.apply(this,n.concat(w));}});}function r(h,l){var K;K=new this(Ba);n(K,h,l);return J(K);}function C(h,l){n(this.prototype,h,l);return this;}function J(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==Ba&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=r;n.bind=l;n.mixin=C;return n;}Ba={};V={actions:!0};Ta=function(){};Function.prototype.base=Ta;oa.Class={create:J,mixin:n,extend:function(h,n){var l;l=J();l.prototype=new h();return l.extend(n);}};oa.mixin=function(){oa.log&&oa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){function h(h){return h==La?1:h+1;}function n(n){if(0===Object.keys(n._waiters).length)return 0;for(var l=h(n._nextWaiter);!n._waiters[l];)l=h(l);return l;}gc=oa.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var l;if(this._waiters[h]){l=this._waiters[h];delete this._waiters[h];h==this._nextWaiter&&(this._nextWaiter=n(this));l.call(this,ma);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(l,C){var J,Q;J=this;Q=h(this._lastWaiter);this._lastWaiter=Q;r(C,function(){var h,V;if(0<this._queue.length){h=this._queue.shift();setTimeout(function(){C.result(h);},0);}else{-1!=l&&(V=setTimeout(function(){delete J._waiters[Q];Q==J._nextWaiter&&(J._nextWaiter=n(J));C.timeout();},l));this._waiters[Q]=function(h){clearTimeout(V);setTimeout(function(){C.result(h);},0);};this._nextWaiter||(this._nextWaiter=Q);}},J);return Q;},add:function(h){var l;if(this._nextWaiter){l=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=n(this);l.call(this,h);}else this._queue.push(h);}});}());(function(){var h;h=0-La;Ld=oa.Class.create({nextBoolean:function(){var h;h=new Uint8Array(1);Cb.getRandomValues(h);return h[0]&1?!0:!1;},nextInt:function(h){var n;if(null!==h&&h!==ma){if("number"!==typeof h)throw new TypeError("n must be of type number");if(1>h)throw new RangeError("n must be greater than zero");--h;n=new Uint8Array(4);Cb.getRandomValues(n);return Math.floor(((n[3]&127)<<24|n[2]<<16|n[1]<<8|n[0])/2147483648*(h-0+1)+0);}h=new Uint8Array(4);Cb.getRandomValues(h);n=(h[3]&127)<<24|h[2]<<16|h[1]<<8|h[0];return h[3]&128?-n:n;},nextLong:function(){var l,n;for(var n=h;n==h;){n=new Uint8Array(7);Cb.getRandomValues(n);l=16777216*((n[6]&31)<<24|n[5]<<16|n[4]<<8|n[3])+(n[2]<<16|n[1]<<8|n[0]);n=n[6]&128?-l-1:l;}return n;},nextBytes:function(h){Cb.getRandomValues(h);}});}());(function(){function h(h){return h==La?1:h+1;}function n(n){if(0===Object.keys(n._waitingReaders).length)return 0;for(var l=h(n._nextReader);!n._waitingReaders[l];)l=h(l);return l;}function l(n){if(0===Object.keys(n._waitingWriters).length)return 0;for(var l=h(n._nextWriter);!n._waitingWriters[l];)l=h(l);return l;}Xc=oa.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var r;if(this._waitingReaders[h]){r=this._waitingReaders[h];delete this._waitingReaders[h];h==this._nextReader&&(this._nextReader=n(this));r.call(this,!0);}this._waitingWriters[h]&&(r=this._waitingWriters[h],delete this._waitingWriters[h],h==this._nextWriter&&(this._nextWriter=l(this)),r.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(l,C){var J,Q;J=this;Q=h(this._lastNumber);this._lastNumber=Q;r(C,function(){var h;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[Q]=!0,Q;-1!=l&&(h=setTimeout(function(){delete J._waitingReaders[Q];Q==J._nextReader&&(J._nextReader=n(J));C.timeout();},l));this._waitingReaders[Q]=function(n){clearTimeout(h);n?setTimeout(function(){C.result(ma);},0):(J._readers[Q]=!0,setTimeout(function(){C.result(Q);},0));};this._nextReader||(this._nextReader=Q);},J);return Q;},writeLock:function(n,C){var J,Q;J=this;Q=h(this._lastNumber);this._lastNumber=Q;r(C,function(){var h;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=Q;-1!=n&&(h=setTimeout(function(){delete J._waitingWriters[Q];Q==J._nextWriter&&(J._nextWriter=l(J));C.timeout();},n));this._waitingWriters[Q]=function(n){clearTimeout(h);n?setTimeout(function(){C.result(ma);},0):(J._writer=Q,setTimeout(function(){C.result(Q);},0));};this._nextWriter||(this._nextWriter=Q);},J);return Q;},unlock:function(n){if(n==this._writer)this._writer=null;else{if(!this._readers[n])throw new da("There is no reader or writer with ticket number "+n+".");delete this._readers[n];}if(this._nextWriter)0<Object.keys(this._readers).length||(n=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=l(this),n.call(this,!1));else{for(var r=this._nextReader;0<Object.keys(this._waitingReaders).length;r=h(r))this._waitingReaders[r]&&(n=this._waitingReaders[r],delete this._waitingReaders[r],n.call(this,!1));this._nextReader=0;}}});}());oa.Class.mixin(h,{JSON_PARSE_ERROR:new h(0,l.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new h(1,l.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new h(2,l.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new h(3,l.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new h(4,l.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new h(5,l.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new h(6,l.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new h(7,l.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new h(8,l.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new h(9,l.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new h(10,l.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new h(11,l.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new h(12,l.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new h(13,l.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new h(14,l.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new h(15,l.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new h(16,l.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new h(17,l.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new h(18,l.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new h(19,l.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new h(20,l.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new h(21,l.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new h(22,l.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new h(23,l.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new h(24,l.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new h(25,l.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new h(26,l.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new h(27,l.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new h(28,l.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new h(29,l.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new h(30,l.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new h(31,l.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new h(32,l.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new h(33,l.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new h(34,l.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new h(35,l.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new h(36,l.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new h(37,l.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new h(38,l.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new h(39,l.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new h(40,l.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new h(41,l.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new h(42,l.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new h(43,l.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new h(44,l.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new h(45,l.FAIL,"Error exporting key."),DIGEST_ERROR:new h(46,l.FAIL,"Error in digest."),UNSUPPORTED_KEY:new h(47,l.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new h(48,l.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new h(49,l.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new h(50,l.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new h(51,l.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new h(52,l.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new h(53,l.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new h(54,l.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new h(55,l.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new h(56,l.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new h(57,l.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new h(58,l.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new h(59,l.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new h(60,l.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new h(61,l.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new h(62,l.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new h(1E3,l.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new h(1001,l.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new h(1002,l.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new h(1003,l.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(1004,l.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(1005,l.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new h(1006,l.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new h(1007,l.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new h(1008,l.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new h(1009,l.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new h(1010,l.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new h(1011,l.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new h(1012,l.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new h(1013,l.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new h(1014,l.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new h(2E3,l.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new h(2001,l.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new h(2002,l.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new h(2003,l.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new h(2004,l.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new h(2005,l.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2006,l.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2007,l.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new h(2008,l.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new h(2009,l.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new h(2010,l.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new h(2011,l.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new h(2012,l.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new h(2013,l.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new h(2014,l.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new h(2015,l.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new h(2016,l.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new h(2017,l.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new h(2018,l.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new h(2019,l.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new h(2020,l.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new h(3E3,l.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new h(3001,l.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new h(3002,l.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new h(3003,l.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new h(3004,l.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3005,l.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3006,l.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new h(3007,l.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new h(3008,l.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new h(3009,l.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new h(4E3,l.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new h(4001,l.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new h(4002,l.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new h(4003,l.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new h(4004,l.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new h(4005,l.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new h(4006,l.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new h(4007,l.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new h(4008,l.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new h(4009,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new h(4010,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new h(4011,l.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new h(4012,l.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new h(4013,l.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new h(4014,l.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new h(4015,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new h(4016,l.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new h(4017,l.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new h(4018,l.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new h(4019,l.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new h(4020,l.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new h(4021,l.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new h(4022,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new h(4023,l.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new h(4024,l.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new h(4025,l.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new h(4026,l.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new h(5E3,l.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new h(5001,l.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new h(5002,l.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new h(5003,l.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new h(5004,l.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new h(5005,l.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new h(5006,l.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new h(5007,l.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new h(5008,l.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new h(5009,l.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new h(5010,l.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new h(5011,l.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new h(5012,l.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new h(5013,l.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new h(5014,l.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new h(5015,l.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new h(5016,l.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new h(5017,l.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new h(5018,l.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new h(5019,l.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new h(5020,l.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new h(5021,l.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new h(5022,l.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new h(5023,l.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new h(5024,l.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new h(5025,l.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new h(5026,l.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new h(5027,l.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new h(5028,l.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new h(5029,l.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new h(5030,l.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new h(5031,l.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new h(5032,l.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new h(5033,l.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new h(5034,l.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new h(5035,l.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new h(5036,l.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new h(5037,l.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new h(5038,l.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new h(5039,l.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new h(5040,l.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new h(6E3,l.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new h(6001,l.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new h(6002,l.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new h(6003,l.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new h(6004,l.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new h(6005,l.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new h(6006,l.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new h(6007,l.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new h(6008,l.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new h(6009,l.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new h(6010,l.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new h(6011,l.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new h(6012,l.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new h(6013,l.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new h(6014,l.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new h(6015,l.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new h(6016,l.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new h(6017,l.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new h(6018,l.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(6019,l.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new h(6020,l.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new h(6021,l.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new h(6022,l.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new h(6023,l.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new h(6024,l.FAIL,"Invalid header data."),PAYLOAD_INVALID:new h(6025,l.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new h(6026,l.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new h(6027,l.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new h(6028,l.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new h(6029,l.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new h(6030,l.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new h(6031,l.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new h(6032,l.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new h(6033,l.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new h(6034,l.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new h(6035,l.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new h(6036,l.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new h(6037,l.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new h(7E3,l.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new h(7001,l.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new h(7002,l.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new h(7003,l.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new h(7004,l.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new h(7005,l.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new h(7006,l.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new h(7007,l.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new h(7008,l.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new h(7009,l.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new h(7010,l.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new h(7011,l.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new h(7012,l.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new h(7013,l.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new h(7014,l.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new h(7015,l.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new h(7016,l.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new h(8E3,l.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new h(8001,l.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new h(8002,l.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new h(8003,l.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new h(8004,l.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new h(8005,l.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new h(8006,l.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new h(8007,l.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new h(8008,l.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new h(8009,l.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new h(8010,l.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new h(8011,l.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new h(8012,l.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new h(9E3,l.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new h(9001,l.FAIL,"Error communicating with MSL entity."),NONE:new h(9999,l.FAIL,"Special unit test error.")});Object.freeze(h);(function(){C=oa.Class.create(Error());C.mixin({init:function(h,n,l){var J,Q,da;function r(){return Q?Q:this.cause&&this.cause instanceof C?this.cause.messageId:ma;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);J=h.message;n&&(J+=" ["+n+"]");da=this.stack;Object.defineProperties(this,{message:{value:J,writable:!1,configurable:!0},error:{value:h,writable:!1,configurable:!0},cause:{value:l,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:r,set:function(h){if(0>h||h>La)throw new RangeError("Message ID "+h+" is outside the valid range.");r()||(Q=h);},configurable:!0},stack:{get:function(){var h;h=this.toString();da&&(h+="\n"+da);l&&l.stack&&(h+="\nCaused by "+l.stack);return h;},configurable:!0}});},setEntity:function(h){!h||this.masterToken||this.entityAuthenticationData||(h instanceof gb?this.masterToken=h:h instanceof Nb&&(this.entityAuthenticationData=h));return this;},setUser:function(h){!h||this.userIdToken||this.userAuthenticationData||(h instanceof Xb?this.userIdToken=h:h instanceof Eb&&(this.userAuthenticationData=h));return this;},setMessageId:function(h){this.messageId=h;return this;},toString:function(){return this.name+": "+this.message;}});}());Q=C.extend({init:function Jb(h,n,l){Jb.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ga=C.extend({init:function ob(h,n,l){ob.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});ub=C.extend({init:function Ma(h,n,l){Ma.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jb=oa.Class.create(Error());jb.mixin({init:function(h,n,l){var r;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},requestCause:{value:l,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();r&&(h+="\n"+r);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Ya=oa.Class.create(Error());Ya.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){da=oa.Class.create(Error());da.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){bb=oa.Class.create(Error());bb.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Pa=C.extend({init:function sc(h,n,l){sc.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Ob=C.extend({init:function Rc(h,n){Rc.base.call(this,h);Object.defineProperties(this,{masterToken:{value:n,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ga=C.extend({init:function Ba(h,n,l){Ba.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Ea=C.extend({init:function V(h,n,l){V.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var K;function h(h){return"undefined"===typeof h?!1:h;}function n(h){return h&&h.length?(db===K.V2014_02&&(h=h.map(function(h){return"wrap"==h?"wrapKey":"unwrap"==h?"unwrapKey":h;})),h):db===K.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function l(h,w,n,l,I){return Promise.resolve().then(function(){return Qa.importKey(h,w,n,l,I);})["catch"](function(v){var F;if("spki"!==h&&"pkcs8"!==h)throw v;v=ASN1.webCryptoAlgorithmToJwkAlg(n);F=ASN1.webCryptoUsageToJwkKeyOps(I);v=ASN1.rsaDerToJwk(w,v,F,l);if(!v)throw Error("Could not make valid JWK from DER input");v=JSON.stringify(v);return Qa.importKey("jwk",Qc(v),n,l,I);});}function r(h,w){return Promise.resolve().then(function(){return Qa.exportKey(h,w);})["catch"](function(n){if("spki"!==h&&"pkcs8"!==h)throw n;return Qa.exportKey("jwk",w).then(function(h){h=JSON.parse(Pc(new Uint8Array(h)));h=ASN1.jwkToRsaDer(h);if(!h)throw Error("Could not make valid DER from JWK input");return h.getDer().buffer;});});}K=wc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wc);db=K.LATEST;Ia={encrypt:function(h,w,n){switch(db){case K.LEGACY:return new Promise(function(z,l){var v;v=Qa.encrypt(h,w,n);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Qa.encrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(h,w,n){switch(db){case K.LEGACY:return new Promise(function(z,l){var v;v=Qa.decrypt(h,w,n);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Qa.decrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(h,w,n){switch(db){case K.LEGACY:return new Promise(function(z,l){var v;v=Qa.sign(h,w,n);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Qa.sign(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(h,w,n,l){switch(db){case K.LEGACY:return new Promise(function(z,v){var F;F=Qa.verify(h,w,n,l);F.oncomplete=function(h){z(h.target.result);};F.onerror=function(h){v(h);};});case K.V2014_01:case K.V2014_02:return Qa.verify(h,w,n,l);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(h,w){switch(db){case K.LEGACY:return new Promise(function(n,l){var z;z=Qa.digest(h,w);z.oncomplete=function(h){n(h.target.result);};z.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Qa.digest(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(l,w,z){var H,I;H=h(w);I=n(z);switch(db){case K.LEGACY:return new Promise(function(h,w){var v;v=Qa.generateKey(l,H,I);v.oncomplete=function(v){h(v.target.result);};v.onerror=function(h){w(h);};});case K.V2014_01:case K.V2014_02:return Qa.generateKey(l,H,I);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(l,w,z,B,I){var v,F;v=h(B);F=n(I);switch(db){case K.LEGACY:return new Promise(function(h,n){var I;I=Qa.deriveKey(l,w,z,v,F);I.oncomplete=function(v){h(v.target.result);};I.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return Qa.deriveKey(l,w,z,v,F);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(H,w,z,B,I){var v,F;v=h(B);F=n(I);switch(db){case K.LEGACY:return new Promise(function(h,n){var l;l=Qa.importKey(H,w,z,v,F);l.oncomplete=function(v){h(v.target.result);};l.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return l(H,w,z,v,F);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(h,w){switch(db){case K.LEGACY:return new Promise(function(n,l){var z;z=Qa.exportKey(h,w);z.oncomplete=function(h){n(h.target.result);};z.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return r(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(h,w,n,l){switch(db){case K.LEGACY:return new Promise(function(h,v){var F;F=Qa.wrapKey(w,n,l);F.oncomplete=function(v){h(v.target.result);};F.onerror=function(h){v(h);};});case K.V2014_01:case K.V2014_02:return Qa.wrapKey(h,w,n,l).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(l,w,z,B,I,v,F){switch(db){case K.LEGACY:return new Promise(function(h,v){var n;n=Qa.unwrapKey(w,I,z);n.oncomplete=function(v){h(v.target.result);};n.onerror=function(h){v(h);};});case K.V2014_01:case K.V2014_02:return Qa.unwrapKey(l,w,z,B,I,h(v),n(F));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};uc&&uc.getKeyByName&&(Ia.getKeyByName=function(h){switch(db){case K.LEGACY:return new Promise(function(w,n){var z;z=uc.getKeyByName(h);z.oncomplete=function(h){w(h.target.result);};z.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return uc.getKeyByName(h);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});J.netflix=J.netflix||{};J.netflix.crypto=Ia;}());vb={name:"AES-KW"};pb={name:"AES-CBC"};qb={name:"HMAC",hash:{name:"SHA-256"}};xc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Yc={name:"RSAES-PKCS1-v1_5"};Md={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Fb=["encrypt","decrypt"];Gb=["wrap","unwrap"];Pb=["sign","verify"];(function(){Zc=oa.Class.create({init:function(l,r,C){var K;function V(h){n(r,function(){var w;w=h?pa(h):ma;Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},keyData:{value:h,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},K);}K=this;n(r,function(){if(!l||"object"!=typeof l)throw new Q(h.INVALID_SYMMETRIC_KEY);!C&&l.extractable?Ia.exportKey("raw",l).then(function(h){V(new Uint8Array(h));},function(n){r.error(new Q(h.KEY_EXPORT_ERROR,"raw"));}):V(C);},K);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Vb=function(h,n){new Zc(h,n);};wb=function(l,r,C,J){n(J,function(){try{l="string"==typeof l?za(l):l;}catch(K){throw new Q(h.INVALID_SYMMETRIC_KEY,"keydata "+l,K);}Ia.importKey("raw",l,r,!0,C).then(function(h){new Zc(h,J,l);},function(n){J.error(new Q(h.INVALID_SYMMETRIC_KEY));});});};}());(function(){yc=oa.Class.create({init:function(l,r,C){var K;function V(h){n(r,function(){Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},K);}K=this;n(r,function(){if(!l||"object"!=typeof l||"public"!=l.type)throw new TypeError("Only original public crypto keys are supported.");!C&&l.extractable?Ia.exportKey("spki",l).then(function(h){V(new Uint8Array(h));},function(n){r.error(new Q(h.KEY_EXPORT_ERROR,"spki"));}):V(C);});},getEncoded:function(){return this.encoded;}});Lb=function(h,n){new yc(h,n);};$c=function(l,r,C,J){n(J,function(){try{l="string"==typeof l?za(l):l;}catch(K){throw new Q(h.INVALID_PUBLIC_KEY,"spki "+l,K);}Ia.importKey("spki",l,r,!0,C).then(function(h){new yc(h,J,l);},function(n){J.error(new Q(h.INVALID_PUBLIC_KEY));});});};}());(function(){Nd=oa.Class.create({init:function(l,r,C){var K;function V(h){n(r,function(){Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},K);}K=this;n(r,function(){if(!l||"object"!=typeof l||"private"!=l.type)throw new TypeError("Only original private crypto keys are supported.");!C&&l.extractable?Ia.exportKey("pkcs8",l).then(function(h){V(new Uint8Array(h));},function(n){r.error(new Q(h.KEY_EXPORT_ERROR,"pkcs8"));}):V(C);});},getEncoded:function(){return this.encoded;}});Wb=function(h,n){new Nd(h,n);};}());(function(){var l;l=dd={V1:1,V2:2};ad=oa.Class.create({init:function(h,r,C,K){n(K,function(){var n,w,z,B;n=l.V1;w=h;z=null;for(B in vc)if(vc[B]==h){n=l.V2;w=null;z=h;break;}Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:z,writable:!1,configurable:!1},iv:{value:r,writable:!1,configurable:!1},ciphertext:{value:C,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var h;h={};switch(this.version){case l.V1:h.keyid=this.keyId;this.iv&&(h.iv=pa(this.iv));h.ciphertext=pa(this.ciphertext);h.sha256="AA==";break;case l.V2:h.version=this.version;h.cipherspec=this.cipherSpec;this.iv&&(h.iv=pa(this.iv));h.ciphertext=pa(this.ciphertext);break;default:throw new da("Ciphertext envelope version "+this.version+" encoding unsupported.");}return h;}});bd=function(h,n,l,K){new ad(h,n,l,K);};cd=function(r,C,V){n(V,function(){var n,H,w,z,B,I,v;n=r.keyid;H=r.cipherspec;w=r.iv;z=r.ciphertext;B=r.sha256;if(!C)if((C=r.version)&&"number"===typeof C&&C===C){I=!1;for(v in l)if(l[v]==C){I=!0;break;}if(!I)throw new Q(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}else C=l.V1;switch(C){case l.V1:if("string"!==typeof n||w&&"string"!==typeof w||"string"!==typeof z||"string"!==typeof B)throw new ga(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));break;case l.V2:v=r.version;if(v!=l.V2)throw new Q(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));if("string"!==typeof H||w&&"string"!==typeof w||"string"!==typeof z)throw new ga(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));H=Jd(H);if(!H)throw new Q(h.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(r));n=H;break;default:throw new Q(h.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}try{w&&(w=za(w));z=za(z);}catch(F){throw new Q(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(r),F);}new ad(n,w,z,V);});};}());(function(){var l;l=gd={V1:1,V2:2};xb=oa.Class.create({init:function(h,n,r){var K;switch(h){case l.V1:K=r;break;case l.V2:K={};K.version=h;K.algorithm=n;K.signature=pa(r);K=Sa(JSON.stringify(K),Ka);break;default:throw new da("Signature envelope version "+h+" encoding unsupported.");}Object.defineProperties(this,{version:{value:h,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:n,writable:!1,configurable:!1},signature:{value:r,writable:!1,configurable:!1},bytes:{value:K,writable:!1,configurable:!1}});}});ed=function(){var h,r,C,K;2==arguments.length?(h=l.V1,r=arguments[0],C=null,K=arguments[1]):3==arguments.length&&(h=l.V2,C=arguments[0],r=arguments[1],K=arguments[2]);n(K,function(){return new xb(h,C,r);});};fd=function(r,C,V){n(V,function(){var n,H,w,z,B,I,v;if(C)switch(C){case l.V1:return new xb(l.V1,null,r);case l.V2:try{n=Va(r,Ka);H=JSON.parse(n);w=parseInt(H.version);z=H.algorithm;B=H.signature;if(!w||"number"!==typeof w||w!=w||"string"!==typeof z||"string"!==typeof B)throw new ga(h.JSON_PARSE_ERROR,"signature envelope "+pa(r));if(l.V2!=w)throw new Q(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(r));I=Wc(z);if(!I)throw new Q(h.UNIDENTIFIED_ALGORITHM,"signature envelope "+pa(r));v=za(B);if(!v)throw new Q(h.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(r));return new xb(l.V2,I,v);}catch(F){if(F instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"signature envelope "+pa(r),F);throw F;}default:throw new Q(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(r));}try{n=Va(r,Ka);H=JSON.parse(n);}catch(F){H=null;}if(H&&H.version){if(n=H.version,"number"!==typeof n||n!==n)n=l.V1;}else n=l.V1;switch(n){case l.V1:return new xb(n,null,r);case l.V2:I=H.algorithm;B=H.signature;if("string"!==typeof I||"string"!==typeof B)return new xb(l.V1,null,r);I=Wc(I);if(!I)return new xb(l.V1,null,r);try{v=za(B);}catch(F){return new xb(l.V1,null,r);}return new xb(n,I,v);default:throw new Q(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+r);}});};}());Yb=oa.Class.create({encrypt:function(h,n){},decrypt:function(h,n){},wrap:function(h,n){},unwrap:function(h,n,l,r){},sign:function(h,n){},verify:function(h,n,l){}});(function(){var l;l=zb={RSA_OAEP:xc.name,A128KW:vb.name};sb="A128GCM";yb=oa.Class.create({init:function(h,n,r,K,H){switch(n){case l.RSA_OAEP:H=H&&(H.rawKey||H);K=K&&(K.rawKey||K);break;case l.A128KW:H=K=K&&(K.rawKey||K);break;default:throw new da("Unsupported algorithm: "+n);}Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_algo:{value:n,writable:!1,enumerable:!1,configurable:!1},_enc:{value:r,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:H,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:K,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new Q(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new Q(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,r){n(r,function(){Ia.wrapKey("jwe+jwk",l.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(h){r.result(h);},function(n){r.error(new Q(h.WRAP_ERROR));});},this);},unwrap:function(l,r,C,K){function H(l){n(K,function(){switch(l.type){case"secret":Vb(l,K);break;case"public":Lb(l,K);break;case"private":Wb(l,K);break;default:throw new Q(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(K,function(){Ia.unwrapKey("jwe+jwk",l,this._unwrapKey,this._unwrapKey.algorithm,r,!1,C).then(function(h){H(h);},function(){K.error(new Q(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new Q(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,r){r.error(new Q(h.VERIFY_NOT_SUPPORTED));}});}());Zb=Yb.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.result(h);},unwrap:function(h,n,l,r){r.result(h);},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!0);}});(function(){var l;l=Ac={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zc=Yb.extend({init:function Ha(h,n,H,w,z){Ha.base.call(this);H&&(H=H.rawKey);w&&(w=w.rawKey);Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:H,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:z==l.ENCRYPT_DECRYPT_PKCS1?Yc:z==l.ENCRYPT_DECRYPT_OAEP?xc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:z==l.WRAP_UNWRAP_PKCS1?Yc:z==l.WRAP_UNWRAP_OAEP?xc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:z==l.SIGN_VERIFY?Md:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var K;K=this;n(r,function(){if("nullOp"==this.transform)return l;if(!this.publicKey)throw new Q(h.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==l.length)return l;Ia.encrypt(K.transform,K.publicKey,l).then(function(n){bd(K.id,null,n,{result:function(n){var l;try{l=JSON.stringify(n);r.result(Sa(l,Ka));}catch(B){r.error(new Q(h.ENCRYPT_ERROR,null,B));}},error:function(n){n instanceof C||(n=new Q(h.ENCRYPT_ERROR,null,n));r.error(n);}});},function(n){r.error(new Q(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var K;K=this;n(r,function(){var n,w;if("nullOp"==this.transform)return l;if(!this.privateKey)throw new Q(h.DECRYPT_NOT_SUPPORTED,"no private key");if(0==l.length)return l;try{w=Va(l,Ka);n=JSON.parse(w);}catch(z){if(z instanceof SyntaxError)throw new Q(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,z);throw new Q(h.DECRYPT_ERROR,null,z);}cd(n,dd.V1,{result:function(n){var l;try{if(n.keyId!=K.id)throw new Q(h.ENVELOPE_KEY_ID_MISMATCH);l=r.result;Ia.decrypt(K.transform,K.privateKey,n.ciphertext).then(l,function(n){r.error(new Q(h.DECRYPT_ERROR));});}catch(I){I instanceof C?r.error(I):r.error(new Q(h.DECRYPT_ERROR,null,I));}},error:function(n){n instanceof ga&&(n=new Q(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof C||(n=new Q(h.DECRYPT_ERROR,null,n));r.error(n);}});},this);},wrap:function(l,r){n(r,function(){var n;if("nullOp"==this.wrapTransform||!this.publicKey)throw new Q(h.WRAP_NOT_SUPPORTED,"no public key");n=r.result;Ia.wrapKey("jwk",l.rawKey,this.publicKey,this.wrapTransform).then(n,function(n){r.error(new Q(h.WRAP_ERROR));});},this);},unwrap:function(l,r,K,H){function w(l){n(H,function(){switch(l.type){case"secret":Vb(l,H);break;case"public":Lb(l,H);break;case"private":Wb(l,H);break;default:throw new Q(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(H,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new Q(h.UNWRAP_NOT_SUPPORTED,"no private key");Ia.unwrapKey("jwk",l,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},r,!1,K).then(w,function(n){H.error(new Q(h.UNWRAP_ERROR));});},this);},sign:function(l,r){n(r,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new Q(h.SIGN_NOT_SUPPORTED,"no private key");Ia.sign(this.algo,this.privateKey,l).then(function(h){ed(h,{result:function(h){r.result(h.bytes);},error:r.error});},function(n){r.error(new Q(h.SIGNATURE_ERROR));});},this);},verify:function(l,r,K){var H;H=this;n(K,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new Q(h.VERIFY_NOT_SUPPORTED,"no public key");fd(r,gd.V1,{result:function(w){n(K,function(){var n;n=K.result;Ia.verify(this.algo,this.publicKey,w.signature,l).then(n,function(n){K.error(new Q(h.SIGNATURE_ERROR));});},H);},error:K.error});},this);}});}());(function(){Bc=Yb.extend({init:function Ta(h,n,l,H,w){Ta.base.call(this);l=l&&l.rawKey;H=H&&H.rawKey;w=w&&w.rawKey;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},id:{value:n,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:l,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:H,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var J;J=this;n(r,function(){var n;if(!this.encryptionKey)throw new Q(h.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;n=new Uint8Array(16);this.ctx.getRandom().nextBytes(n);Ia.encrypt({name:pb.name,iv:n},J.encryptionKey,l).then(function(l){l=new Uint8Array(l);bd(J.id,n,l,{result:function(n){var l;try{l=JSON.stringify(n);r.result(Sa(l,Ka));}catch(B){r.error(new Q(h.ENCRYPT_ERROR,null,B));}},error:function(n){n instanceof C||(n=new Q(h.ENCRYPT_ERROR,null,n));r.error(n);}});},function(n){r.error(new Q(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var J;J=this;n(r,function(){var n,H;if(!this.encryptionKey)throw new Q(h.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;try{H=Va(l,Ka);n=JSON.parse(H);}catch(w){if(w instanceof SyntaxError)throw new Q(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new Q(h.DECRYPT_ERROR,null,w);}cd(n,dd.V1,{result:function(n){try{if(n.keyId!=J.id)throw new Q(h.ENVELOPE_KEY_ID_MISMATCH);Ia.decrypt({name:pb.name,iv:n.iv},J.encryptionKey,n.ciphertext).then(function(h){h=new Uint8Array(h);r.result(h);},function(){r.error(new Q(h.DECRYPT_ERROR));});}catch(z){z instanceof C?r.error(z):r.error(new Q(h.DECRYPT_ERROR,null,z));}},error:function(n){n instanceof ga&&(n=new Q(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof C||(n=new Q(h.DECRYPT_ERROR,null,n));r.error(n);}});},this);},wrap:function(l,r){n(r,function(){if(!this.wrapKey)throw new Q(h.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ia.wrapKey("raw",l.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(h){r.result(h);},function(n){r.error(new Q(h.WRAP_ERROR));});},this);},unwrap:function(l,r,C,K){function H(l){n(K,function(){switch(l.type){case"secret":Vb(l,K);break;case"public":Lb(l,K);break;case"private":Wb(l,K);break;default:throw new Q(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(K,function(){if(!this.wrapKey)throw new Q(h.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ia.unwrapKey("raw",l,this.wrapKey,this.wrapKey.algorithm,r,!1,C).then(function(h){H(h);},function(n){K.error(new Q(h.UNWRAP_ERROR));});},this);},sign:function(l,r){var C;C=this;n(r,function(){if(!this.hmacKey)throw new Q(h.SIGN_NOT_SUPPORTED,"no HMAC key.");Ia.sign(qb,this.hmacKey,l).then(function(h){n(r,function(){var n;n=new Uint8Array(h);ed(n,{result:function(h){r.result(h.bytes);},error:r.error});},C);},function(){r.error(new Q(h.HMAC_ERROR));});},this);},verify:function(l,r,C){var K;K=this;n(C,function(){if(!this.hmacKey)throw new Q(h.VERIFY_NOT_SUPPORTED,"no HMAC key.");fd(r,gd.V1,{result:function(H){n(C,function(){Ia.verify(qb,this.hmacKey,H.signature,l).then(function(h){C.result(h);},function(n){C.error(new Q(h.HMAC_ERROR));});},K);},error:C.error});},this);}});}());hb=Bc.extend({init:function Ta(n,l,r,H,w){if(r||H||w)Ta.base.call(this,n,r+"_"+l.sequenceNumber,H,w,null);else{if(!l.isDecrypted())throw new Ob(h.MASTERTOKEN_UNTRUSTED,l);Ta.base.call(this,n,l.identity+"_"+l.sequenceNumber,l.encryptionKey,l.hmacKey,null);}}});Se=Yb.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.error(new da("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(h,n,l,r){r.error(new da("Unwrap is unsupported by the MSL token crypto context."));},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!1);}});Oa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Oa);(function(){Nb=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Nb?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});Od=function(n,l){var r,K,H;r=l.scheme;K=l.authdata;if(!r||!K)throw new ga(h.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(l));if(!Oa[r])throw new ub(h.UNIDENTIFIED_ENTITYAUTH_SCHEME,r);H=n.getEntityAuthenticationFactory(r);if(!H)throw new ub(h.ENTITYAUTH_FACTORY_NOT_FOUND,r);return H.createData(n,K);};}());Cc=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,n){},getCryptoContext:function(h,n){}});(function(){lb=Nb.extend({init:function Ha(h){Ha.base.call(this,Oa.MGK);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function Ja(h){return this===h?!0:h instanceof lb?Ja.base.call(this,this,h)&&this.identity==h.identity:!1;}});Pd=function(n){var l;l=n.identity;if(!l)throw new ga(h.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(n));return new lb(l);};}());Te=Cc.extend({init:function Ha(h){Ha.base.call(this,Oa.MGK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Pd(n);},getCryptoContext:function(n,l){if(!(l instanceof lb))throw new da("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.identity!=this.localIdentity)throw new ub(h.ENTITY_NOT_FOUND,"mgk "+l.identity).setEntity(l);return new Zb();}});(function(){rb=Nb.extend({init:function Ja(h){Ja.base.call(this,Oa.PSK);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function K(h){return this===h?!0:h instanceof rb?K.base.call(this,this,h)&&this.identity==h.identity:!1;}});Qd=function(n){var l;l=n.identity;if(!l)throw new ga(h.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(n));return new rb(l);};}());Rd=Cc.extend({init:function Ja(h){Ja.base.call(this,Oa.PSK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Qd(n);},getCryptoContext:function(n,l){if(!(l instanceof rb))throw new da("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.getIdentity()!=this.localIdentity)throw new ub(h.ENTITY_NOT_FOUND,"psk "+l.identity).setEntity(l);return new Zb();}});(function(){Dc=Nb.extend({init:function K(h,n){K.base.call(this,Oa.RSA);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1},publicKeyId:{value:n,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;h.pubkeyid=this.publicKeyId;return h;},equals:function H(h){return this===h?!0:h instanceof Dc?H.base.call(this,this,h)&&this.identity==h.identity&&this.publicKeyId==h.publicKeyId:!1;}});Sd=function(n){var l,z;l=n.identity;z=n.pubkeyid;if(!l||"string"!==typeof l||!z||"string"!==typeof z)throw new ga(h.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(n));return new Dc(l,z);};}());Ue=Cc.extend({init:function K(h){K.base.call(this,Oa.RSA);Object.defineProperties(this,{store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Sd(n);},getCryptoContext:function(n,l){var w,z,B;if(!(l instanceof Dc))throw new da("Incorrect authentication data type "+l+".");w=l.identity;z=l.publicKeyId;B=this.store.getPublicKey(z);if(!B)throw new ub(h.RSA_PUBLICKEY_NOT_FOUND,z).setEntity(l);return new zc(n,w,null,B,Ac.SIGN_VERIFY);}});(function(){fc=Nb.extend({init:function H(h){H.base.call(this,Oa.NONE);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function w(h){return this===h?!0:h instanceof fc?w.base.call(this,this,h)&&this.identity==h.identity:!1;}});Td=function(n){var l;l=n.identity;if(!l)throw new ga(h.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(n));return new fc(l);};}());Re=Cc.extend({init:function H(){H.base.call(this,Oa.NONE);},createData:function(h,n){return Td(n);},getCryptoContext:function(h,n){if(!(n instanceof fc))throw new da("Incorrect authentication data type "+JSON.stringify(n)+".");return new Zb();}});Ve=oa.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(h,n){if(!(n instanceof yc))throw new da("Incorrect key data type "+n+".");this.rsaKeys[h]=n;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(h){delete this.rsaKeys[h];},getPublicKey:function(h){return this.rsaKeys[h];}});hd=oa.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){}});Ec=oa.Class.create({abort:function(){},close:function(h,n){},write:function(h,n,l,B,I){},flush:function(h,n){}});We=oa.Class.create({init:function(h){Object.defineProperties(this,{_data:{value:h,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Ya("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(h,n,l){r(l,function(){var n;if(this._closed)throw new Ya("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==h&&(h=this._data.length-this._currentPosition);n=this._data.subarray(this._currentPosition,this._currentPosition+h);this._currentPosition+=n.length;return n;},this);}});Xe=oa.Class.create({init:function(){var h;h={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},abort:function(){},close:function(h,n){this._closed=!0;n.result(!0);},write:function(h,n,l,B,I){r(I,function(){var v;if(this._closed)throw new Ya("Stream is already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=h.subarray(n,l);this._buffered.push(v);return v.length;},this);},flush:function(h,n){var l,w;for(;0<this._buffered.length;){l=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length+l.length);w.set(this._result);w.set(l,this._result.length);this._result=w;}else this._result=new Uint8Array(l);}n.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Ye=oa.Class.create({getResponse:function(h,n,l){}});(function(){var h,n;h=Ec.extend({init:function(h,n){var l;l={_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Xe(),writable:!1,enumerable:!1,configurable:!1},_response:{value:ma,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:ma,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new gc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(h){this._timeout=h;},getResponse:function(h,n){var l;l=this;this._responseQueue.poll(h,{result:function(h){r(n,function(){h&&this._responseQueue.add(h);return h;},l);},timeout:function(){r(n,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();n.timeout();},l);},error:function(h){r(n,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw h;},l);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(h,n){var l;l=this;r(n,function(){var h;if(this._response)return!0;h=this._buffer.toByteArray();0<h.length&&(this._abortToken=this._httpLocation.getResponse({body:h},this._timeout,{result:function(h){l._response={response:h};l._responseQueue.add(l._response);},timeout:function(){l._response={isTimeout:!0};l._responseQueue.add(l._response);},error:function(h){l._response={isError:!0,error:h};l._responseQueue.add(l._response);}}));return!0;},this);},write:function(h,n,l,v,F){r(F,function(){if(this._response)throw new Ya("HttpOutputStream already closed.");this._buffer.write(h,n,l,v,F);},this);},flush:function(h,n){r(n,function(){if(this._response)return!0;this._buffer.flush(h,n);},this);}});n=hd.extend({init:function(h){Object.defineProperties(this,{_out:{value:h,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:ma,writable:!0,enumerable:!1,configurable:!1},_exception:{value:ma,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:ma,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(h,n,l){var F;function v(v){r(l,function(){if(!v)return new Uint8Array(0);this._out.getResponse(n,{result:function(v){r(l,function(){var w;if(v.isTimeout)this._timedout=!0,l.timeout();else{if(v.isError)throw this._exception=v.error||new Ya("Unknown HTTP exception."),this._exception;if(!v.response)throw this._exception=new Ya("Missing HTTP response."),this._exception;v.response.json!==ma&&(this._json=v.response.json,this.getJSON=function(){return F._json;});w=v.response.content||Qc("string"===typeof v.response.body?v.response.body:JSON.stringify(this._json));this._buffer=new We(w);this._buffer.read(h,n,l);}},F);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},F);}F=this;r(l,function(){if(this._exception)throw this._exception;if(this._timedout)l.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(h,n,l):this._out.close(n,{result:function(h){v(h);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},F);}});Dd=oa.Class.create({init:function(h,n){Object.defineProperties(this,{_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(h){this._timeout=h;},openConnection:function(){var l;l=new h(this._httpLocation,this._timeout);return{input:new n(l),output:l};}});}());(function(){var h,n;h=Ec.extend({init:function(){var h;h={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setTimeout:function(){},getResponse:function(h,n){n.result({success:!1,content:null,errorHttpCode:ma,errorSubCode:ma});},abort:function(){},close:function(h,n){n.result(!0);},write:function(h,n,l,v,F){var w,z;try{if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=h.subarray(n,l);z=new Uint8Array(this._buffer.length+w.length);z.set(this._buffer);z.set(w,this._buffer.length);this._buffer=z;F.result(w.length);}catch(Da){F.error(Da);}},flush:function(h,n){n.result(!0);},request:function(){return this._buffer;}});n=hd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){l.result(new Uint8Array(16));}});Ed=oa.Class.create({init:function(){var l;l={output:{value:new h(),writable:!1,enumerable:!1,configurable:!1},input:{value:new n(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Pc(this.output.request());}});}());Ud=function(h,n,l){function w(h){var n,l;h=new Ze(Va(h,"utf-8"));n=[];for(l=h.nextValue();l!==ma;)n.push(l),l=h.nextValue();return n;}(function(h,n,F){h.read(-1,n,{result:function(h){h&&h.length?F(null,h):F(null,null);},timeout:function(){l.timeout();},error:function(h){F(h,null);}});}(h,n,function(n,v){n?l.error(n):v?h.getJSON!==ma&&"function"===typeof h.getJSON?l.result(h.getJSON()):l.result(w(v)):l.result(null);}));};kb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kb);(function(){hc=oa.Class.create({init:function(h){Object.defineProperties(this,{keyExchangeScheme:{value:h,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof hc?this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Vd=function(l,w,z){n(z,function(){var n,r,v;n=w.scheme;r=w.keydata;if(!n||!r||"object"!==typeof r)throw new ga(h.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(w));if(!kb[n])throw new Pa(h.UNIDENTIFIED_KEYX_SCHEME,n);v=l.getKeyExchangeFactory(n);if(!v)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,n);v.createRequestData(l,r,z);});};}());(function(){ic=oa.Class.create({init:function(h,n){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},keyExchangeScheme:{value:n,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.mastertoken=this.masterToken;h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof ic?this.masterToken.equals(h.masterToken)&&this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Wd=function(l,w,z){n(z,function(){var r,I,v;r=w.mastertoken;I=w.scheme;v=w.keydata;if(!I||!r||"object"!==typeof r||!v||"object"!==typeof v)throw new ga(h.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(w));if(!kb[I])throw new Pa(h.UNIDENTIFIED_KEYX_SCHEME,I);Qb(l,r,{result:function(F){n(z,function(){var n;n=l.getKeyExchangeFactory(I);if(!n)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,I);return n.createResponseData(l,F,v);});},error:function(h){z.error(h);}});});};}());(function(){var l;l=oa.Class.create({init:function(h,n){Object.defineProperties(this,{keyResponseData:{value:h,writable:!1,configurable:!1},cryptoContext:{value:n,writable:!1,configurable:!1}});}});mb=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createRequestData:function(h,n,l){},createResponseData:function(h,n,l){},generateResponse:function(h,n,l,r){},getCryptoContext:function(h,n,l,r,v){},generateSessionKeys:function(l,z){n(z,function(){var n,w;n=new Uint8Array(16);w=new Uint8Array(32);l.getRandom().nextBytes(n);l.getRandom().nextBytes(w);wb(n,pb,Fb,{result:function(n){wb(w,qb,Pb,{result:function(h){z.result({encryptionKey:n,hmacKey:h});},error:function(n){z.error(new Q(h.SESSION_KEY_CREATION_FAILURE,null,n));}});},error:function(n){z.error(new Q(h.SESSION_KEY_CREATION_FAILURE,null,n));}});});},importSessionKeys:function(h,n,l){wb(h,pb,Fb,{result:function(h){wb(n,qb,Pb,{result:function(n){l.result({encryptionKey:h,hmacKey:n});},error:function(h){l.error(h);}});},error:function(h){l.error(h);}});}});mb.KeyExchangeData=l;}());(function(){var w,z,r;function l(l,v,F,z,r){n(r,function(){var ba,I;switch(v){case w.PSK:ba=new rb(z),I=l.getEntityAuthenticationFactory(Oa.PSK);if(!I)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);ba=I.getCryptoContext(l,ba);return new yb(l,zb.A128KW,sb,ma);case w.MGK:ba=new lb(z);I=l.getEntityAuthenticationFactory(Oa.MGK);if(!I)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);ba=I.getCryptoContext(l,ba);return new yb(l,zb.A128KW,sb,ma);case w.WRAP:ba=l.getMslCryptoContext();ba.unwrap(F,vb,Gb,{result:function(h){n(r,function(){return new yb(l,zb.A128KW,sb,h);});},error:r.error});break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=id=hc.extend({init:function v(h,n){v.base.call(this,kb.JWE_LADDER);switch(h){case w.WRAP:if(!n)throw new da("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=pa(this.wrapdata));return h;},equals:function F(h){return h===this?!0:h instanceof id?F.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.wrapdata,h.wrapdata):!1;},uniqueKey:function Ca(){var h;h=Ca.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+fb(this.wrapdata));return h;}});r=Yd=ic.extend({init:function ba(h,n,l,w,z){ba.base.call(this,h,kb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=pa(this.wrapKey);h.wrapdata=pa(this.wrapdata);h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function Da(h){return this===h?!0:h instanceof Yd?Da.base.call(this,h)&&$a(this.wrapKey,h.wrapKey)&&$a(this.wrapdata,h.wrapdata)&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this)+":"+fb(this.wrapKey)+":"+fb(this.wrapdata)+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});Xd=mb.extend({init:function aa(h){aa.base.call(this,kb.JWE_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,E){n(E,function(){var n,l,E;n=r.mechanism;l=r.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[n])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{E=za(l);}catch(ca){throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==E||0==E.length)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:E=null;}return new z(n,E);});},createResponseData:function(n,l,w){var z,E,aa,B,na,H,C;n=w.wrapkey;z=w.wrapdata;E=w.encryptionkey;aa=w.hmackey;if(!(n&&"string"===typeof n&&z&&"string"===typeof z&&E&&"string"===typeof E&&aa)||"string"!==typeof aa)throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=za(n);na=za(z);}catch(ha){throw new Q(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),ha);}try{H=za(E);}catch(ha){throw new Q(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),ha);}try{C=za(aa);}catch(ha){throw new Q(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),ha);}return new r(l,B,na,H,C);},generateResponse:function(w,B,E,T){var Na,ta;function aa(h,l,z){Na.generateSessionKeys(w,{result:function(w){n(T,function(){na(h,l,z,w.encryptionKey,w.hmacKey);},Na);},error:function(h){n(T,function(){h instanceof C&&h.setEntity(ta);throw h;});}});}function na(h,z,E,r,qa){n(T,function(){l(w,B.mechanism,B.wrapdata,h,{result:function(h){h.wrap(z,{result:function(g){H(z,E,r,qa,g);},error:function(g){n(T,function(){g instanceof C&&g.setEntity(ta);throw g;});}});},error:function(h){n(T,function(){h instanceof C&&h.setEntity(ta);throw h;});}});},Na);}function H(h,l,z,E,r){n(T,function(){var ha;ha=new yb(w,zb.A128KW,sb,h);ha.wrap(z,{result:function(g){ha.wrap(E,{result:function(d){ua(l,r,z,g,E,d);},error:function(d){n(T,function(){d instanceof C&&d.setEntity(ta);throw d;});}});},error:function(g){n(T,function(){g instanceof C&&g.setEntity(ta);throw g;});}});},Na);}function ua(h,l,z,B,qa,aa){n(T,function(){var g;g=w.getTokenFactory();ta?g.renewMasterToken(w,ta,z,qa,{result:function(d){n(T,function(){var a,b;a=new hb(w,d);b=new r(d,l,h,B,aa);return new mb.KeyExchangeData(b,a,T);},Na);},error:function(d){n(T,function(){d instanceof C&&d.setEntity(ta);throw d;});}}):g.createMasterToken(w,E,z,qa,{result:function(d){n(T,function(){var a,b;a=new hb(w,d);b=new r(d,l,h,B,aa);return new mb.KeyExchangeData(b,a,T);},Na);},error:T.error});},Na);}Na=this;n(T,function(){var l,r;if(!(B instanceof z))throw new da("Key request data "+JSON.stringify(B)+" was not created by this factory.");l=E;if(E instanceof gb){if(!E.isVerified())throw new Ob(h.MASTERTOKEN_UNTRUSTED,E);ta=E;l=E.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);wb(r,vb,Gb,{result:function(h){n(T,function(){w.getMslCryptoContext().wrap(h,{result:function(n){aa(l,h,n);},error:function(h){n(T,function(){h instanceof C&&h.setEntity(ta);throw h;},Na);}});},Na);},error:function(l){n(T,function(){throw new Q(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ta);},Na);}});},Na);},getCryptoContext:function(l,B,E,T,Aa){var na;function aa(h,w,z,E,r){n(Aa,function(){var ha;ha=new yb(l,zb.A128KW,sb,r);ha.unwrap(w.encryptionKey,pb,Fb,{result:function(r){ha.unwrap(w.hmacKey,qb,Pb,{result:function(h){n(Aa,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(z);return new hb(l,w.masterToken,E,r,h);},na);},error:function(l){n(Aa,function(){l instanceof C&&l.setEntity(h);throw l;});}});},error:function(l){n(Aa,function(){l instanceof C&&l.setEntity(h);throw l;});}});},na);}na=this;n(Aa,function(){var T,fa;if(!(B instanceof z))throw new da("Key request data "+JSON.stringify(B)+" was not created by this factory.");if(!(E instanceof r))throw new da("Key response data "+JSON.stringify(E)+" was not created by this factory.");T=B.mechanism;fa=B.wrapdata;l.getEntityAuthenticationData(null,{result:function(z){n(Aa,function(){var r,B,na;r=z.getIdentity();switch(T){case w.PSK:B=new rb(r);na=l.getEntityAuthenticationFactory(Oa.PSK);if(!na)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,T).setEntity(z);B=na.getCryptoContext(l,B);B=new yb(l,zb.A128KW,sb,ma);break;case w.MGK:B=new lb(r);na=l.getEntityAuthenticationFactory(Oa.MGK);if(!na)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,T).setEntity(z);B=na.getCryptoContext(l,B);B=new yb(l,zb.A128KW,sb,B.wrapKey);break;case w.WRAP:B=this.repository.getCryptoContext(fa);if(!B)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,pa(fa)).setEntity(z);break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,T).setEntity(z);}B.unwrap(E.wrapKey,vb,Gb,{result:function(h){aa(z,E,fa,r,h);},error:function(h){n(Aa,function(){h instanceof C&&h.setEntity(z);throw h;});}});},na);},error:Aa.error});},na);}});}());(function(){var w,z,r,I;function l(l,F,z,r,B){n(B,function(){var v,ba;switch(F){case w.PSK:v=new rb(r),ba=l.getEntityAuthenticationFactory(Oa.PSK);if(!ba)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,F);v=ba.getCryptoContext(l,v);return new I(ma);case w.MGK:v=new lb(r);ba=l.getEntityAuthenticationFactory(Oa.MGK);if(!ba)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,F);v=ba.getCryptoContext(l,v);return new I(ma);case w.WRAP:v=l.getMslCryptoContext();v.unwrap(z,vb,Gb,{result:function(h){n(B,function(){return new I(h);});},error:B.error});break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,F);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=Fc=hc.extend({init:function F(h,n){F.base.call(this,kb.JWK_LADDER);switch(h){case w.WRAP:if(!n)throw new da("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=pa(this.wrapdata));return h;},equals:function Ca(h){return h===this?!0:h instanceof Fc?Ca.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.wrapdata,h.wrapdata):!1;},uniqueKey:function ba(){var h;h=ba.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+fb(this.wrapdata));return h;}});r=Zd=ic.extend({init:function Da(h,n,l,w,z){Da.base.call(this,h,kb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=pa(this.wrapKey);h.wrapdata=pa(this.wrapdata);h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function ya(h){return this===h?!0:h instanceof Zd?ya.base.call(this,h)&&$a(this.wrapKey,h.wrapKey)&&$a(this.wrapdata,h.wrapdata)&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function aa(){return aa.base.call(this)+":"+fb(this.wrapKey)+":"+fb(this.wrapdata)+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});I=Yb.extend({init:function(h){h&&h.rawKey&&(h=h.rawKey);Object.defineProperties(this,{_wrapKey:{value:h,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new Q(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new Q(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,w){n(w,function(){Ia.wrapKey("jwk",l.rawKey,this._wrapKey,vb).then(function(h){w.result(h);},function(n){w.error(new Q(h.WRAP_ERROR));});},this);},unwrap:function(l,w,z,r){function E(l){n(r,function(){switch(l.type){case"secret":Vb(l,r);break;case"public":Lb(l,r);break;case"private":Wb(l,r);break;default:throw new Q(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(r,function(){Ia.unwrapKey("jwk",l,this._wrapKey,vb,w,!1,z).then(function(h){E(h);},function(n){r.error(new Q(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new Q(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,w){w.error(new Q(h.VERIFY_NOT_SUPPORTED));}});kd=mb.extend({init:function na(h){na.base.call(this,kb.JWK_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,I){n(I,function(){var n,l,E;n=r.mechanism;l=r.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[n])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{E=za(l);}catch(ua){throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==E||0==E.length)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:E=null;}return new z(n,E);});},createResponseData:function(n,l,w){var z,E,I,B,T,na,ha;n=w.wrapkey;z=w.wrapdata;E=w.encryptionkey;I=w.hmackey;if(!(n&&"string"===typeof n&&z&&"string"===typeof z&&E&&"string"===typeof E&&I)||"string"!==typeof I)throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=za(n);T=za(z);}catch(tb){throw new Q(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),tb);}try{na=za(E);}catch(tb){throw new Q(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),tb);}try{ha=za(I);}catch(tb){throw new Q(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),tb);}return new r(l,B,T,na,ha);},generateResponse:function(w,E,B,H){var ta,ha;function T(h,l,z){ta.generateSessionKeys(w,{result:function(w){n(H,function(){na(h,l,z,w.encryptionKey,w.hmacKey);},ta);},error:function(h){n(H,function(){h instanceof C&&h.setEntity(ha);throw h;});}});}function na(h,z,r,B,I){n(H,function(){l(w,E.mechanism,E.wrapdata,h,{result:function(g){g.wrap(z,{result:function(d){Aa(z,r,B,I,d);},error:function(d){n(H,function(){d instanceof C&&d.setEntity(ha);throw d;});}});},error:function(g){n(H,function(){g instanceof C&&g.setEntity(ha);throw g;});}});},ta);}function Aa(h,l,w,z,r){n(H,function(){var g;g=new I(h);g.wrap(w,{result:function(d){g.wrap(z,{result:function(a){Na(l,r,w,d,z,a);},error:function(a){n(H,function(){a instanceof C&&a.setEntity(ha);throw a;});}});},error:function(d){n(H,function(){d instanceof C&&d.setEntity(ha);throw d;});}});},ta);}function Na(h,l,z,E,I,g){n(H,function(){var d;d=w.getTokenFactory();ha?d.renewMasterToken(w,ha,z,I,{result:function(a){n(H,function(){var b,f;b=new hb(w,a);f=new r(a,l,h,E,g);return new mb.KeyExchangeData(f,b,H);},ta);},error:function(a){n(H,function(){a instanceof C&&a.setEntity(ha);throw a;});}}):d.createMasterToken(w,B,z,I,{result:function(a){n(H,function(){var b,f;b=new hb(w,a);f=new r(a,l,h,E,g);return new mb.KeyExchangeData(f,b,H);},ta);},error:H.error});},ta);}ta=this;n(H,function(){var l,r;if(!(E instanceof z))throw new da("Key request data "+JSON.stringify(E)+" was not created by this factory.");l=B;if(B instanceof gb){if(!B.isVerified())throw new Ob(h.MASTERTOKEN_UNTRUSTED,B);ha=B;l=B.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);wb(r,vb,Gb,{result:function(h){n(H,function(){w.getMslCryptoContext().wrap(h,{result:function(n){T(l,h,n);},error:function(h){n(H,function(){h instanceof C&&h.setEntity(ha);throw h;},ta);}});},ta);},error:function(l){n(H,function(){throw new Q(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ha);},ta);}});},ta);},getCryptoContext:function(l,E,B,H,fa){var na;function T(h,w,z,r,E){n(fa,function(){var ha;ha=new I(E);ha.unwrap(w.encryptionKey,pb,Fb,{result:function(E){ha.unwrap(w.hmacKey,qb,Pb,{result:function(h){n(fa,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(z);return new hb(l,w.masterToken,r,E,h);},na);},error:function(l){n(fa,function(){l instanceof C&&l.setEntity(h);throw l;});}});},error:function(l){n(fa,function(){l instanceof C&&l.setEntity(h);throw l;});}});},na);}na=this;n(fa,function(){var H,Aa;if(!(E instanceof z))throw new da("Key request data "+JSON.stringify(E)+" was not created by this factory.");if(!(B instanceof r))throw new da("Key response data "+JSON.stringify(B)+" was not created by this factory.");H=E.mechanism;Aa=E.wrapdata;l.getEntityAuthenticationData(null,{result:function(z){n(fa,function(){var r,E,ha;r=z.getIdentity();switch(H){case w.PSK:E=new rb(r);ha=l.getEntityAuthenticationFactory(Oa.PSK);if(!ha)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(z);E=ha.getCryptoContext(l,E);E=new I(E.wrapKey);break;case w.MGK:E=new lb(r);ha=l.getEntityAuthenticationFactory(Oa.MGK);if(!ha)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(z);E=ha.getCryptoContext(l,E);E=new I(E.wrapKey);break;case w.WRAP:E=this.repository.getCryptoContext(Aa);if(!E)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,pa(Aa)).setEntity(z);break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(z);}E.unwrap(B.wrapKey,vb,Gb,{result:function(h){T(z,B,Aa,r,h);},error:function(h){n(fa,function(){h instanceof C&&h.setEntity(z);throw h;});}});},na);},error:fa.error});},na);}});}());$e=oa.Class.create({addCryptoContext:function(h,l){},getCryptoContext:function(h){},removeCryptoContext:function(h){}});(function(){var w,z,r,I;function l(l,n,z,r,B){switch(z){case w.JWE_RSA:case w.JWEJS_RSA:return new yb(l,zb.RSA_OAEP,sb,r,B);case w.JWK_RSA:return new zc(l,n,r,B,Ac.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new zc(l,n,r,B,Ac.WRAP_UNWRAP_PKCS1);default:throw new Q(h.UNSUPPORTED_KEYX_MECHANISM,z);}}w=Gc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};z=Vc=hc.extend({init:function F(h,l,n,w){F.base.call(this,kb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:h,writable:!1,configurable:!1},mechanism:{value:l,writable:!1,configurable:!1},publicKey:{value:n,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.mechanism=this.mechanism;h.publickey=pa(this.publicKey.getEncoded());return h;},equals:function Ca(h){var l;if(h===this)return!0;if(!(h instanceof Vc))return!1;l=this.privateKey===h.privateKey||this.privateKey&&h.privateKey&&$a(this.privateKey.getEncoded(),h.privateKey.getEncoded());return Ca.base.call(this,h)&&this.keyPairId==h.keyPairId&&this.mechanism==h.mechanism&&$a(this.publicKey.getEncoded(),h.publicKey.getEncoded())&&l;},uniqueKey:function ba(){var h,l;h=this.publicKey.getEncoded();l=this.privateKey&&this.privateKey.getEncoded();h=ba.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+fb(h);l&&(h+=":"+fb(l));return h;}});r=function(l,r){n(r,function(){var n,B,I,E;n=l.keypairid;B=l.mechanism;I=l.publickey;if(!n||"string"!==typeof n||!B||!I||"string"!==typeof I)throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(l));if(!w[B])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,B);try{E=za(I);switch(B){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:$c(E,xc,Gb,{result:function(h){r.result(new z(n,B,h,null));},error:function(h){r.error(h);}});break;case w.JWK_RSAES:$c(E,Yc,Gb,{result:function(h){r.result(new z(n,B,h,null));},error:function(h){r.error(h);}});break;default:throw new Q(h.UNSUPPORTED_KEYX_MECHANISM,B);}}catch(T){if(!(T instanceof C))throw new Q(h.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(l),T);throw T;}});};I=$d=ic.extend({init:function Da(h,l,n,w){Da.base.call(this,h,kb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:l,writable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function ya(h){return this===h?!0:h instanceof $d?ya.base.call(this,h)&&this.keyPairId==h.keyPairId&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function aa(){return aa.base.call(this)+":"+this.keyPairId+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});Fd=mb.extend({init:function na(){na.base.call(this,kb.ASYMMETRIC_WRAPPED);},createRequestData:function(h,l,n){r(l,n);},createResponseData:function(l,n,w){var z,r,E,B;l=w.keypairid;z=w.encryptionkey;r=w.hmackey;if(!l||"string"!==typeof l||!z||"string"!==typeof z||!r||"string"!==typeof r)throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{E=za(z);}catch(Na){throw new Q(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),Na);}try{B=za(r);}catch(Na){throw new Q(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),Na);}return new I(n,l,E,B);},generateResponse:function(h,w,r,B){var T;function E(z,E){n(B,function(){var ha;ha=l(h,w.keyPairId,w.mechanism,null,w.publicKey);ha.wrap(z,{result:function(h){n(B,function(){ha.wrap(E,{result:function(l){H(z,h,E,l);},error:function(h){n(B,function(){h instanceof C&&r instanceof gb&&h.setEntity(r);throw h;},T);}});},T);},error:function(h){n(B,function(){h instanceof C&&r instanceof gb&&h.setEntity(r);throw h;},T);}});},T);}function H(l,z,E,H){n(B,function(){var ha;ha=h.getTokenFactory();r instanceof gb?ha.renewMasterToken(h,r,l,E,{result:function(l){n(B,function(){var n,r;n=new hb(h,l);r=new I(l,w.keyPairId,z,H);return new mb.KeyExchangeData(r,n,B);},T);},error:function(h){n(B,function(){h instanceof C&&h.setEntity(r);throw h;},T);}}):ha.createMasterToken(h,r,l,E,{result:function(l){n(B,function(){var n,r;n=new hb(h,l);r=new I(l,w.keyPairId,z,H);return new mb.KeyExchangeData(r,n,B);},T);},error:B.error});},T);}T=this;n(B,function(){if(!(w instanceof z))throw new da("Key request data "+JSON.stringify(w)+" was not created by this factory.");this.generateSessionKeys(h,{result:function(h){E(h.encryptionKey,h.hmacKey);},error:function(h){n(B,function(){h instanceof C&&r instanceof gb&&h.setEntity(r);throw h;},T);}});},T);},getCryptoContext:function(w,r,B,H,fa){var E;E=this;n(fa,function(){var T,na,ca;if(!(r instanceof z))throw new da("Key request data "+JSON.stringify(r)+" was not created by this factory.");if(!(B instanceof I))throw new da("Key response data "+JSON.stringify(B)+" was not created by this factory.");T=r.keyPairId;na=B.keyPairId;if(T!=na)throw new Pa(h.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+T+"; response "+na).setEntity(H);na=r.privateKey;if(!na)throw new Pa(h.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(H);ca=l(w,T,r.mechanism,na,null);ca.unwrap(B.encryptionKey,pb,Fb,{result:function(h){ca.unwrap(B.hmacKey,qb,Pb,{result:function(l){w.getEntityAuthenticationData(null,{result:function(z){n(fa,function(){var n;n=z.getIdentity();return new hb(w,B.masterToken,n,h,l);},E);},error:function(h){n(fa,function(){h instanceof C&&h.setEntity(H);throw h;},E);}});},error:function(h){n(fa,function(){h instanceof C&&h.setEntity(H);throw h;},E);}});},error:function(h){n(fa,function(){h instanceof C&&h.setEntity(H);throw h;},E);}});},E);}});}());Ze=oa.Class.create({init:function(h){var l,n,r,I,v,F,H,ba;l=ab.parser();n=[];r=[];H=0;ba=!1;l.onerror=function(h){ba||(ba=!0,l.end());};l.onopenobject=function(h){var l;if(I)I[F]={},r.push(I),I=I[F];else if(v){l={};r.push(v);v.push(l);I=l;v=ma;}else I={};F=h;};l.oncloseobject=function(){var h;h=r.pop();h?"object"===typeof h?I=h:(I=ma,v=h):(n.push(I),H=l.index,I=ma);};l.onopenarray=function(){var h;if(I)I[F]=[],r.push(I),v=I[F],I=ma;else if(v){h=[];r.push(v);v.push(h);v=h;}else v=[];};l.onclosearray=function(){var h;h=r.pop();h?"object"===typeof h?(I=h,v=ma):v=h:(n.push(v),H=l.index,v=ma);};l.onkey=function(h){F=h;};l.onvalue=function(h){I?I[F]=h:v?v.push(h):(n.push(h),H=l.index);};l.write(h).close();Object.defineProperties(this,{_values:{value:n,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:H,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?ma:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var l,w,r,B,I;l=ld="entityauthdata";w=be="mastertoken";r=ce="headerdata";B=de="errordata";I=md="signature";ae=function(v,F,z,ba){n(ba,function(){var n,H,aa,na,E,T;n=F[l];H=F[w];aa=F[I];if(n&&"object"!==typeof n||H&&"object"!==typeof H||"string"!==typeof aa)throw new ga(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));try{na=za(aa);}catch(Aa){throw new Ga(h.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(F),Aa);}E=null;n&&(E=Od(v,n));T=F[r];if(T!=ma&&null!=T){if("string"!==typeof T)throw new ga(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));H?Qb(v,H,{result:function(h){nd(v,T,E,h,na,z,ba);},error:function(h){ba.error(h);}}):nd(v,T,E,null,na,z,ba);}else if(n=F[B],n!=ma&&null!=n){if("string"!==typeof n)throw new ga(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));ee(v,n,E,na,ba);}else throw new ga(h.JSON_PARSE_ERROR,JSON.stringify(F));});};}());(function(){function r(h,l){this.errordata=h;this.signature=l;}Kb=oa.Class.create({init:function(l,r,B,I,v,F,H,ba,Da,ya){var w;w=this;n(ya,function(){var z,E;0>F&&(F=-1);if(0>I||I>La)throw new da("Message ID "+I+" is out of range.");if(!r)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);if(Da)return Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:B,writable:!1,configurable:!1},messageId:{value:I,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:F,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:ba,writable:!1,configurable:!1},errordata:{value:Da.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Da.signature,writable:!1,enumerable:!1,configurable:!1}}),this;z={};B&&(z.recipient=B);z.messageid=I;z.errorcode=v;0<F&&(z.internalcode=F);H&&(z.errormsg=H);ba&&(z.usermsg=ba);try{E=l.getEntityAuthenticationFactory(r.scheme).getCryptoContext(l,r);}catch(T){throw T instanceof C&&(T.setEntity(r),T.setMessageId(I)),T;}z=Sa(JSON.stringify(z),Ka);E.encrypt(z,{result:function(h){n(ya,function(){E.sign(h,{result:function(l){n(ya,function(){Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:B,writable:!1,configurable:!1},messageId:{value:I,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:F,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:ba,writable:!1,configurable:!1},errordata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(ya,function(){h instanceof C&&(h.setEntity(r),h.setMessageId(I));throw h;},w);}});},w);},error:function(h){n(ya,function(){h instanceof C&&(h.setEntity(r),h.setMessageId(I));throw h;},w);}});},w);},toJSON:function(){var h;h={};h[ld]=this.entityAuthenticationData;h[de]=pa(this.errordata);h[md]=pa(this.signature);return h;}});fe=function(h,l,n,r,v,F,H,ba,Da){new Kb(h,l,n,r,v,F,H,ba,null,Da);};ee=function(w,z,B,I,v){n(v,function(){var F,H,ba;if(!B)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);try{H=B.scheme;ba=w.getEntityAuthenticationFactory(H);if(!ba)throw new ub(h.ENTITYAUTH_FACTORY_NOT_FOUND,H);F=ba.getCryptoContext(w,B);}catch(Da){throw Da instanceof C&&Da.setEntity(B),Da;}try{z=za(z);}catch(Da){throw new Ga(h.HEADER_DATA_INVALID,z,Da).setEntity(B);}if(!z||0==z.length)throw new Ga(h.HEADER_DATA_MISSING,z).setEntity(B);F.verify(z,I,{result:function(H){n(v,function(){if(!H)throw new Q(h.MESSAGE_VERIFICATION_FAILED).setEntity(B);F.decrypt(z,{result:function(F){n(v,function(){var n,H,E,ba,Da,fa,ca,Ca;n=Va(F,Ka);try{H=JSON.parse(n);}catch(ta){if(ta instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"errordata "+n,ta).setEntity(B);throw ta;}E=H.recipient!==ma?H.recipient:null;ba=parseInt(H.messageid);Da=parseInt(H.errorcode);fa=parseInt(H.internalcode);ca=H.errormsg;Ca=H.usermsg;if(E&&"string"!==typeof E||!ba||ba!=ba||!Da||Da!=Da||H.internalcode&&fa!=fa||ca&&"string"!==typeof ca||Ca&&"string"!==typeof Ca)throw new ga(h.JSON_PARSE_ERROR,"errordata "+n).setEntity(B);if(0>ba||ba>La)throw new Ga(h.MESSAGE_ID_OUT_OF_RANGE,"errordata "+n).setEntity(B);H=!1;for(var C in l)if(l[C]==Da){H=!0;break;}H||(Da=l.FAIL);if(fa){if(0>fa)throw new Ga(h.INTERNAL_CODE_NEGATIVE,"errordata "+n).setEntity(B).setMessageId(ba);}else fa=-1;n=new r(z,I);new Kb(w,B,E,ba,Da,fa,ca,Ca,n,v);});},error:function(h){n(v,function(){h instanceof C&&h.setEntity(B);throw h;});}});});},error:function(h){n(v,function(){h instanceof C&&h.setEntity(B);throw h;});}});});};}());af=oa.Class.create({getUserMessage:function(h,l){}});(function(){od=function(h,l){var n,w;if(!h||!l)return null;n=h.compressionAlgorithms.filter(function(h){for(var n=0;n<l.compressionAlgorithms.length;++n)if(h==l.compressionAlgorithms[n])return!0;return!1;});w=h.languages.filter(function(h){for(var n=0;n<l.languages.length;++n)if(h==l.languages[n])return!0;return!1;});return new jc(n,w);};jc=oa.Class.create({init:function(h,l){h||(h=[]);l||(l=[]);h.sort();Object.defineProperties(this,{compressionAlgorithms:{value:h,writable:!1,enumerable:!0,configurable:!1},languages:{value:l,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var h;h={};h.compressionalgos=this.compressionAlgorithms;h.languages=this.languages;return h;},equals:function(h){return this===h?!0:h instanceof jc?yd(this.compressionAlgorithms,h.compressionAlgorithms)&&yd(this.languages,h.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});ge=function(l){var n,r,I;n=l.compressionalgos;r=l.languages;if(n&&!(n instanceof Array)||r&&!(r instanceof Array))throw new ga(h.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(l));l=[];for(var B=0;n&&B<n.length;++B){I=n[B];Mb[I]&&l.push(I);}return new jc(l,r);};}());(function(){var ya,aa;function l(h,l,n,v,w){this.customer=h;this.sender=l;this.messageCryptoContext=n;this.headerdata=v;this.signature=w;}function w(h,l,n,v,w,r,F,z,B,ha,I,ba,H,qa,aa,g,d,a,b,f){return{cryptoContext:{value:l,writable:!1,configurable:!1},customer:{value:n,writable:!1,configurable:!1},entityAuthenticationData:{value:v,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:r,writable:!1,configurable:!1},messageId:{value:F,writable:!1,configurable:!1},nonReplayableId:{value:g,writable:!1,configurable:!1},keyRequestData:{value:z,writable:!1,configurable:!1},keyResponseData:{value:B,writable:!1,configurable:!1},userAuthenticationData:{value:ha,writable:!1,configurable:!1},userIdToken:{value:I,writable:!1,configurable:!1},serviceTokens:{value:ba,writable:!1,configurable:!1},peerMasterToken:{value:H,writable:!1,configurable:!1},peerUserIdToken:{value:qa,writable:!1,configurable:!1},peerServiceTokens:{value:aa,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:d,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}};}function r(l,n,v){var w;if(v){if(n=l.getMslStore().getCryptoContext(v))return n;if(!v.isVerified()||!v.isDecrypted())throw new Ob(h.MASTERTOKEN_UNTRUSTED,v);return new hb(l,v);}v=n.scheme;w=l.getEntityAuthenticationFactory(v);if(!w)throw new ub(h.ENTITYAUTH_FACTORY_NOT_FOUND,v);return w.getCryptoContext(l,n);}function B(l,v,w,r,F){n(F,function(){v.verify(w,r,{result:function(l){n(F,function(){if(!l)throw new Q(h.MESSAGE_VERIFICATION_FAILED);v.decrypt(w,{result:function(h){n(F,function(){return Va(h,Ka);});},error:function(h){F.error(h);}});});},error:function(h){F.error(h);}});});}function I(h,l,v){n(v,function(){if(l)Wd(h,l,v);else return null;});}function v(h,l,v,w){n(w,function(){if(l)Rb(h,l,v,w);else return null;});}function F(h,l,v,w){n(w,function(){if(v)ke(h,l,v,w);else return null;});}function Ca(l,v,w,r,F,z,B){var I;function E(v,B,ba){var ha,H;if(B>=v.length){ha=[];for(H in I)ha.push(I[H]);ba.result(ha);}else{ha=v[B];if("object"!==typeof ha)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+z);Hc(l,ha,w,r,F,{result:function(h){n(ba,function(){I[h.uniqueKey()]=h;E(v,B+1,ba);});},error:function(h){ba.error(h);}});}}I={};n(B,function(){if(v){if(!(v instanceof Array))throw new ga(h.JSON_PARSE_ERROR,"headerdata "+z);E(v,0,B);}else return[];});}function ba(l,v,w,r,F,z){function E(l,v,w){n(w,function(){var n;n=v.peermastertoken;if(n&&"object"!==typeof n)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+F);if(!n)return null;Qb(l,n,w);});}function B(l,v,w,r){n(r,function(){var n;n=v.peeruseridtoken;if(n&&"object"!==typeof n)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+F);if(!n)return null;Rb(l,n,w,r);});}n(z,function(){if(!l.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};E(l,v,{result:function(h){n(z,function(){var E;E=w?w.masterToken:h;B(l,v,E,{result:function(w){n(z,function(){Ca(l,v.peerservicetokens,E,w,r,F,{result:function(l){n(z,function(){return{peerMasterToken:h,peerUserIdToken:w,peerServiceTokens:l};});},error:function(h){n(z,function(){h instanceof C&&(h.setEntity(E),h.setUser(w));throw h;});}});});},error:function(h){n(z,function(){h instanceof C&&h.setEntity(E);throw h;});}});});},error:z.error});});}function Da(l,v,w,r){var z;function F(h,v){n(r,function(){if(v>=h.length)return z;Vd(l,h[v],{result:function(l){n(r,function(){z.push(l);F(h,v+1);});},error:function(h){r.error(h);}});});}z=[];n(r,function(){var l;l=v.keyrequestdata;if(!l)return z;if(!(l instanceof Array))throw new ga(h.JSON_PARSE_ERROR,"headerdata "+w);F(l,0);});}ya=ie=oa.Class.create({init:function(h,l,n,v,w,r,F,z,B){Object.defineProperties(this,{messageId:{value:h,writable:!1,configurable:!1},nonReplayableId:{value:l,writable:!1,configurable:!1},renewable:{value:n,writable:!1,configurable:!1},capabilities:{value:v,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:r,writable:!1,configurable:!1},userAuthData:{value:F,writable:!1,configurable:!1},userIdToken:{value:z,writable:!1,configurable:!1},serviceTokens:{value:B,writable:!1,configurable:!1}});}});aa=je=oa.Class.create({init:function(h,l,n){Object.defineProperties(this,{peerMasterToken:{value:h,writable:!1,configurable:!1},peerUserIdToken:{value:l,writable:!1,configurable:!1},peerServiceTokens:{value:n,writable:!1,configurable:!1}});}});kc=oa.Class.create({init:function(h,l,v,F,z,B,I){var ba;function E(E){n(I,function(){var ha,H,aa,qa,fa,g,d,a,b,f,u,m,c,k,p,q,t;l=v?null:l;ha=F.nonReplayableId;H=F.renewable;aa=F.capabilities;qa=F.messageId;fa=F.keyRequestData?F.keyRequestData:[];g=F.keyResponseData;d=F.userAuthData;a=F.userIdToken;b=F.serviceTokens?F.serviceTokens:[];h.isPeerToPeer()?(f=z.peerMasterToken,u=z.peerUserIdToken,m=z.peerServiceTokens?z.peerServiceTokens:[]):(u=f=null,m=[]);if(0>qa||qa>La)throw new da("Message ID "+qa+" is out of range.");if(!l&&!v)throw new da("Message entity authentication data or master token must be provided.");g?h.isPeerToPeer()?(c=v,k=g.masterToken):(c=g.masterToken,k=f):(c=v,k=f);if(a&&(!c||!a.isBoundTo(c)))throw new da("User ID token must be bound to a master token.");if(u&&(!k||!u.isBoundTo(k)))throw new da("Peer user ID token must be bound to a peer master token.");b.forEach(function(b){if(b.isMasterTokenBound()&&(!c||!b.isBoundTo(c)))throw new da("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound()&&(!a||!b.isBoundTo(a)))throw new da("User ID token bound service tokens must be bound to the provided user ID token.");},this);m.forEach(function(a){if(a.isMasterTokenBound()&&(!k||!a.isBoundTo(k)))throw new da("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!u||!a.isBoundTo(u)))throw new da("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(B){p=B.customer;q=B.messageCryptoContext;t=w(h,q,p,l,v,E,qa,fa,g,d,a,b,f,u,m,ha,H,aa,B.headerdata,B.signature);Object.defineProperties(this,t);return this;}p=a?a.customer:null;t={};E&&(t.sender=E);t.messageid=qa;"number"===typeof ha&&(t.nonreplayableid=ha);t.renewable=H;aa&&(t.capabilities=aa);0<fa.length&&(t.keyrequestdata=fa);g&&(t.keyresponsedata=g);d&&(t.userauthdata=d);a&&(t.useridtoken=a);0<b.length&&(t.servicetokens=b);f&&(t.peermastertoken=f);u&&(t.peeruseridtoken=u);0<m.length&&(t.peerservicetokens=m);try{q=r(h,l,v);}catch(A){throw A instanceof C&&(A.setEntity(v),A.setEntity(l),A.setUser(a),A.setUser(d),A.setMessageId(qa)),A;}t=Sa(JSON.stringify(t),Ka);q.encrypt(t,{result:function(c){n(I,function(){q.sign(c,{result:function(k){n(I,function(){var t;t=w(h,q,p,l,v,E,qa,fa,g,d,a,b,f,u,m,ha,H,aa,c,k);Object.defineProperties(this,t);return this;},ba);},error:function(c){n(I,function(){c instanceof C&&(c.setEntity(v),c.setEntity(l),c.setUser(a),c.setUser(d),c.setMessageId(qa));throw c;},ba);}});},ba);},error:function(c){n(I,function(){c instanceof C&&(c.setEntity(v),c.setEntity(l),c.setUser(a),c.setUser(d),c.setMessageId(qa));throw c;},ba);}});},ba);}ba=this;n(I,function(){B?E(B.sender):v?h.getEntityAuthenticationData(null,{result:function(h){h=h.getIdentity();E(h);},error:I.error}):E(null);},ba);},isEncrypting:function(){return this.masterToken||Sc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var h;h={};this.masterToken?h[be]=this.masterToken:h[ld]=this.entityAuthenticationData;h[ce]=pa(this.headerdata);h[md]=pa(this.signature);return h;}});he=function(h,l,n,v,w,F){new kc(h,l,n,v,w,null,F);};nd=function(w,z,H,Aa,fa,ca,ua){n(ua,function(){var E,T;H=Aa?null:H;if(!H&&!Aa)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);E=z;try{z=za(E);}catch(ha){throw new Ga(h.HEADER_DATA_INVALID,E,ha);}if(!z||0==z.length)throw new Ga(h.HEADER_DATA_MISSING,E);try{T=r(w,H,Aa);}catch(ha){throw ha instanceof C&&(ha.setEntity(Aa),ha.setEntity(H)),ha;}B(w,T,z,fa,{result:function(r){n(ua,function(){var B,E,ha,qa,na;try{B=JSON.parse(r);}catch(g){if(g instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r,g).setEntity(Aa).setEntity(H);throw g;}E=parseInt(B.messageid);if(!E||E!=E)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(Aa).setEntity(H);if(0>E||E>La)throw new Ga(h.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+r).setEntity(Aa).setEntity(H);ha=Aa?B.sender:null;if(Aa&&(!ha||"string"!==typeof ha))throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(Aa).setEntity(H).setMessageId(E);qa=B.keyresponsedata;if(qa&&"object"!==typeof qa)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(Aa).setEntity(H).setMessageId(E);na=ua;ua={result:function(g){na.result(g);},error:function(g){g instanceof C&&(g.setEntity(Aa),g.setEntity(H),g.setMessageId(E));na.error(g);}};I(w,qa,{result:function(g){n(ua,function(){var d,a;d=!w.isPeerToPeer()&&g?g.masterToken:Aa;a=B.useridtoken;if(a&&"object"!==typeof a)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r);v(w,a,d,{result:function(a){n(ua,function(){var b;b=B.userauthdata;if(b&&"object"!==typeof b)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r);F(w,d,b,{result:function(b){n(ua,function(){var f,c,k;if(b){c=b.scheme;k=w.getUserAuthenticationFactory(c);if(!k)throw new Ea(h.USERAUTH_FACTORY_NOT_FOUND,c).setUser(a).setUser(b);c=Aa?Aa.identity:H.getIdentity();f=k.authenticate(w,c,b,a);}else f=a?a.customer:null;Ca(w,B.servicetokens,d,a,ca,r,{result:function(c){n(ua,function(){var k,p,d,m;k=B.nonreplayableid!==ma?parseInt(B.nonreplayableid):null;p=B.renewable;if(k!=k||"boolean"!==typeof p)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r);if(0>k||k>La)throw new Ga(h.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+r);d=null;m=B.capabilities;if(m){if("object"!==typeof m)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r);d=ge(m);}Da(w,B,r,{result:function(q){ba(w,B,g,ca,r,{result:function(t){n(ua,function(){var A,m,u,y;A=t.peerMasterToken;m=t.peerUserIdToken;u=t.peerServiceTokens;y=new ya(E,k,p,d,q,g,b,a,c);A=new aa(A,m,u);m=new l(f,ha,T,z,fa);new kc(w,H,Aa,y,A,m,ua);});},error:ua.error});},error:function(c){n(ua,function(){c instanceof C&&(c.setUser(a),c.setUser(b));throw c;});}});});},error:function(c){n(ua,function(){c instanceof C&&(c.setEntity(d),c.setUser(a),c.setUser(b));throw c;});}});});},error:ua.error});});},error:ua.error});});},error:ua.error});});},error:ua.error});});};}());(function(){function l(h,l){this.payload=h;this.signature=l;}pd=oa.Class.create({init:function(h,l,r,I,v,F,H,ba){var w;w=this;n(ba,function(){var z,B;if(0>h||h>La)throw new da("Sequence number "+h+" is outside the valid range.");if(0>l||l>La)throw new da("Message ID "+l+" is outside the valid range.");if(H)return Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:I,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:H.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:H.signature,writable:!1,enumerable:!1,configurable:!1}}),this;I?(z=qd(I,v),z||(I=null,z=v)):(I=null,z=v);B={};B.sequencenumber=h;B.messageid=l;r&&(B.endofmsg=r);I&&(B.compressionalgo=I);B.data=pa(z);z=Sa(JSON.stringify(B),Ka);F.encrypt(z,{result:function(z){n(ba,function(){F.sign(z,{result:function(F){n(ba,function(){Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:I,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:z,writable:!1,enumerable:!1,configurable:!1},signature:{value:F,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){ba.error(h);}});},w);},error:function(h){ba.error(h);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var h;h={};h.payload=pa(this.payload);h.signature=pa(this.signature);return h;}});le=function(h,l,n,r,v,F,H){new pd(h,l,n,r,v,F,null,H);};me=function(w,r,B){n(B,function(){var z,v,F,H;z=w.payload;v=w.signature;if(!z||"string"!==typeof z||"string"!==typeof v)throw new ga(h.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(w));try{F=za(z);}catch(ba){throw new Ga(h.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(w),ba);}try{H=za(v);}catch(ba){throw new Ga(h.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(w),ba);}r.verify(F,H,{result:function(v){n(B,function(){if(!v)throw new Q(h.PAYLOAD_VERIFICATION_FAILED);r.decrypt(F,{result:function(v){n(B,function(){var n,w,z,E,I,ba,fa;n=Va(v,Ka);try{w=JSON.parse(n);}catch(ca){if(ca instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"payload chunk payload "+n,ca);throw ca;}z=parseInt(w.sequencenumber);E=parseInt(w.messageid);I=w.endofmsg;ba=w.compressionalgo;w=w.data;if(!z||z!=z||!E||E!=E||I&&"boolean"!==typeof I||ba&&"string"!==typeof ba||"string"!==typeof w)throw new ga(h.JSON_PARSE_ERROR,"payload chunk payload "+n);if(0>z||z>La)throw new C(h.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+n);if(0>E||E>La)throw new C(h.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+n);I||(I=!1);if(ba&&!Mb[ba])throw new Ga(h.UNIDENTIFIED_COMPRESSION,ba);try{fa=za(w);}catch(ca){throw new Ga(h.PAYLOAD_DATA_CORRUPT,w,ca);}if(fa&&0!=fa.length)n=ba?Ic(ba,fa):fa;else{if(0<w.length)throw new Ga(h.PAYLOAD_DATA_CORRUPT,w);if(I)n=new Uint8Array(0);else throw new Ga(h.PAYLOAD_DATA_MISSING,w);}fa=new l(F,H);new pd(z,E,I,ba,n,r,fa,B);});},error:function(h){B.error(h);}});});},error:function(h){B.error(h);}});});};}());(function(){var B,I;function l(l,w,r,z,B){var F,I,E,ba,H;function v(){n(B,function(){var r,z;I>=w.length&&(I=0,++F);if(F>=E.length){if(ba)throw ba;throw new Pa(h.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}r=E[F];z=w[I];r.scheme!=z.keyExchangeScheme?(++I,v()):r.generateResponse(l,z,H,{result:function(h){B.result(h);},error:function(h){n(B,function(){if(!(h instanceof C))throw h;ba=h;++I;v();});}});});}F=0;I=0;E=l.getKeyExchangeFactories();H=r?r:z;v();}function w(h,w,r,z,B){n(B,function(){var v;v=w.keyRequestData;if(w.isRenewable()&&0<v.length)z?z.isRenewable()||z.isExpired()?l(h,v,z,null,B):h.getTokenFactory().isNewestMasterToken(h,z,{result:function(w){n(B,function(){if(w)return null;l(h,v,z,null,B);});},error:B.error}):l(h,v,null,r.getIdentity(),B);else return null;});}function r(l,w,r,z){n(z,function(){var n,v,F,B;n=w.userIdToken;v=w.userAuthenticationData;F=w.messageId;if(n&&n.isVerified()){if(n.isRenewable()&&w.isRenewable()||n.isExpired()||!n.isBoundTo(r)){v=l.getTokenFactory();v.renewUserIdToken(l,n,r,z);return;}}else if(w.isRenewable()&&r&&v){n=w.customer;if(!n){n=v.scheme;B=l.getUserAuthenticationFactory(n);if(!B)throw new Ea(h.USERAUTH_FACTORY_NOT_FOUND,n).setEntity(r).setUser(v).setMessageId(F);n=B.authenticate(l,r.identity,v,null);}v=l.getTokenFactory();v.createUserIdToken(l,n,r,z);return;}return n;});}B=new Uint8Array(0);I=Sb=function(h){if(0>h||h>La)throw new da("Message ID "+h+" is outside the valid range.");return h==La?0:h+1;};$b=function(h){if(0>h||h>La)throw new da("Message ID "+h+" is outside the valid range.");return 0==h?La:h-1;};Tb=function(h,l,w,r,z){n(z,function(){var v;if(r==ma||null==r){v=h.getRandom();do r=v.nextLong();while(0>r||r>La);}else if(0>r||r>La)throw new da("Message ID "+r+" is outside the valid range.");h.getEntityAuthenticationData(null,{result:function(v){n(z,function(){var n;n=h.getMessageCapabilities();return new Jc(h,r,n,v,l,w,null,null,null,null,null);});},error:function(h){z.error(h);}});});};ne=function(h,l,z){n(z,function(){var F,B,H,Ca,E,T;function v(h){n(z,function(){h instanceof C&&(h.setEntity(F),h.setEntity(B),h.setUser(H),h.setUser(Ca),h.setMessageId(E));throw h;});}F=l.masterToken;B=l.entityAuthenticationData;H=l.userIdToken;Ca=l.userAuthenticationData;E=l.messageId;T=I(E);w(h,l,B,F,{result:function(w){n(z,function(){var B;B=w?w.keyResponseData.masterToken:B=F;h.getEntityAuthenticationData(null,{result:function(E){n(z,function(){r(h,l,B,{result:function(v){n(z,function(){var n,r,z;H=v;n=od(l.messageCapabilities,h.getMessageCapabilities());r=l.keyResponseData;z=l.serviceTokens;return h.isPeerToPeer()?new Jc(h,T,n,E,r?r.masterToken:l.peerMasterToken,l.peerUserIdToken,l.peerServiceTokens,F,H,z,w):new Jc(h,T,n,E,r?r.masterToken:F,H,z,null,null,null,w);});},error:v});});},error:v});});},error:v});});};oe=function(h,l,w,r,z){n(z,function(){h.getEntityAuthenticationData(null,{result:function(v){n(z,function(){var n,F;if(l!=ma&&null!=l)n=I(l);else{F=h.getRandom();do n=F.nextInt();while(0>n||n>La);}fe(h,v,n,w.responseCode,w.internalCode,w.message,r,z);});},error:function(h){z.error(h);}});});};Jc=oa.Class.create({init:function(h,l,n,w,r,z,B,I,E,H,C){var v,F,ba,aa,T;if(!h.isPeerToPeer()&&(I||E))throw new da("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");v=C&&!h.isPeerToPeer()?C.keyResponseData.masterToken:r;F={};h.getMslStore().getServiceTokens(v,z).forEach(function(h){F[h.name]=h;},this);B&&B.forEach(function(h){F[h.name]=h;},this);T={};h.isPeerToPeer()&&(ba=I,aa=E,B=C?C.keyResponseData.masterToken:I,h.getMslStore().getServiceTokens(B,E).forEach(function(h){T[h.name]=h;},this),H&&H.forEach(function(h){T[h.name]=h;},this));Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:r,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:l,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:C,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:z,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:ba,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:aa,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:T,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Sc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Sc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||zd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||zd(this._entityAuthData.scheme);},getHeader:function(l){n(l,function(){var n,v,w,r,z;n=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);r=[];for(z in this._keyRequestData)r.push(this._keyRequestData[z]);if(this._nonReplayable){if(!this._masterToken)throw new Ga(h.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);z=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else z=null;n=new ie(this._messageId,z,this._renewable,this._capabilities,r,n,this._userAuthData,this._userIdToken,v);v=[];for(w in this._peerServiceTokens)v.push(this._peerServiceTokens[w]);w=new je(this._peerMasterToken,this._peerUserIdToken,v);he(this._ctx,this._entityAuthData,this._masterToken,n,w,l);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(h){this._nonReplayable=h;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(h){this._renewable=h;return this;},setAuthTokens:function(h,l){var n,v,w;if(l&&!l.isBoundTo(h))throw new da("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new da("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{n=this._ctx.getMslStore().getServiceTokens(h,l);}catch(ya){if(ya instanceof C)throw new da("Invalid master token and user ID token combination despite checking above.",ya);throw ya;}v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);v.forEach(function(n){(n.isUserIdTokenBound()&&!n.isBoundTo(l)||n.isMasterTokenBound()&&!n.isBoundTo(h))&&delete this._serviceTokens[n.name];},this);n.forEach(function(h){this._serviceTokens[h.name]=h;},this);this._masterToken=h;this._userIdToken=l;},setUserAuthenticationData:function(h){this._userAuthData=h;return this;},setCustomer:function(h,l){var v;v=this;n(l,function(){var w;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new da("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new da("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,h,w,{result:function(h){n(l,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=h:(this._userIdToken=h,this._userAuthData=null);return!0;},v);},error:function(h){l.error(h);}});},v);},addKeyRequestData:function(h){this._keyRequestData[h.uniqueKey()]=h;return this;},removeKeyRequestData:function(h){delete this._keyRequestData[h.uniqueKey()];return this;},addServiceToken:function(l){var n;n=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(l.isMasterTokenBound()&&!l.isBoundTo(n))throw new Ga(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(n)).setEntity(n);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._userIdToken))throw new Ga(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(n).setUser(this._userIdToken);this._serviceTokens[l.name]=l;return this;},addServiceTokenIfAbsent:function(h){this._serviceTokens[h.name]||this.addServiceToken(h);return this;},excludeServiceToken:function(h){delete this._serviceTokens[h];return this;},deleteServiceToken:function(h,l){var v;v=this;n(l,function(){var w,r;w=this._serviceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._masterToken:null;w=w.isUserIdTokenBound()?this._userIdToken:null;Ab(this._ctx,h,B,r,w,!1,null,new Zb(),{result:function(h){n(l,function(){return this.addServiceToken(h);},v);},error:function(h){h instanceof C&&(h=new da("Failed to create and add empty service token to message.",h));l.error(h);}});},v);},getServiceTokens:function(){var h,l;h=[];for(l in this._serviceTokens)h.push(this._serviceTokens[l]);return h;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(l,n){var v;if(!this._ctx.isPeerToPeer())throw new da("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(n&&!l)throw new da("Peer master token cannot be null when setting peer user ID token.");if(n&&!n.isBoundTo(l))throw new Ga(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+n+"; mt "+l).setEntity(l).setUser(n);try{v=this._ctx.getMslStore().getServiceTokens(l,n);}catch(ba){if(ba instanceof C)throw new da("Invalid peer master token and user ID token combination despite proper check.",ba);throw ba;}Object.keys(this._peerServiceTokens).forEach(function(h){var v;v=this._peerServiceTokens[h];v.isUserIdTokenBound()&&!v.isBoundTo(n)?delete this._peerServiceTokens[h]:v.isMasterTokenBound()&&!v.isBoundTo(l)&&delete this._peerServiceTokens[h];},this);v.forEach(function(h){var l;l=h.name;this._peerServiceTokens[l]||(this._peerServiceTokens[l]=h);},this);this._peerUserIdToken=n;this._peerMasterToken=l;return this;},addPeerServiceToken:function(l){if(!this._ctx.isPeerToPeer())throw new da("Cannot set peer service tokens when not in peer-to-peer mode.");if(l.isMasterTokenBound()&&!l.isBoundTo(this._peerMasterToken))throw new Ga(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._peerUserIdToken))throw new Ga(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[l.name]=l;return this;},addPeerServiceTokenIfAbsent:function(h){this._peerServiceTokens[h.name]||this.addPeerServiceToken(h);return this;},excludePeerServiceToken:function(h){delete this._peerServiceTokens[h];return this;},deletePeerServiceToken:function(h,l){var v;v=this;n(l,function(){var w,r;w=this._peerServiceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._peerMasterToken:null;w=w.isUserIdTokenBound()?this._peerUserIdToken:null;Ab(this._ctx,h,B,r,w,!1,null,new Zb(),{result:function(h){n(l,function(){return this.addPeerServiceToken(h);},v);},error:function(h){h instanceof C&&(h=new da("Failed to create and add empty peer service token to message.",h));l.error(h);}});},v);},getPeerServiceTokens:function(){var h,l;h=[];for(l in this._peerServiceTokens)h.push(this._peerServiceTokens[l]);return h;}});}());(function(){function h(h,l){return l[h]?l[h]:l[""];}function l(h){var l;l=h.builder.getKeyExchangeData();return l&&!h.ctx.isPeerToPeer()?l.keyResponseData.masterToken:h.builder.getMasterToken();}pe=oa.Class.create({init:function(h,l,n){h={ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:l.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:n,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},isPrimaryMasterTokenAvailable:function(){return l(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(h){try{return this.builder.addServiceToken(h),!0;}catch(B){if(B instanceof Ga)return!1;throw B;}},addPeerServiceToken:function(h){try{return this.builder.addPeerServiceToken(h),!0;}catch(B){if(B instanceof Ga)return!1;throw B;}},addUnboundPrimaryServiceToken:function(l,w,r,v,F){var z;z=this;n(F,function(){var B;B=h(l,this.cryptoContexts);if(!B)return!1;Ab(this.ctx,l,w,null,null,r,v,B,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(ya){if(ya instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite being unbound.",ya);throw ya;}return!0;},z);},error:function(h){F.error(h);}});},z);},addUnboundPeerServiceToken:function(l,w,r,v,F){var z;z=this;n(F,function(){var B;B=h(l,this.cryptoContexts);if(!B)return!1;Ab(this.ctx,l,w,null,null,r,v,B,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(ya){if(ya instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite being unbound.",ya);throw ya;}return!0;},z);},error:function(h){F.error(h);}});},z);},addMasterBoundPrimaryServiceToken:function(w,r,I,v,F){var z;z=this;n(F,function(){var B,H;B=l(this);if(!B)return!1;H=h(w,this.cryptoContexts);if(!H)return!1;Ab(this.ctx,w,r,B,null,I,v,H,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(aa){if(aa instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token.",aa);throw aa;}return!0;},z);},error:function(h){F.error(h);}});},z);},addMasterBoundPeerServiceToken:function(l,w,r,v,F){var z;z=this;n(F,function(){var B,I;B=this.builder.getPeerMasterToken();if(!B)return!1;I=h(l,this.cryptoContexts);if(!I)return!1;Ab(this.ctx,l,w,B,null,r,v,I,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(aa){if(aa instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token.",aa);throw aa;}return!0;},z);},error:function(h){F.error(h);}});},z);},addUserBoundPrimaryServiceToken:function(w,r,I,v,F){var z;z=this;n(F,function(){var B,H,C;B=l(this);if(!B)return!1;H=this.builder.getUserIdToken();if(!H)return!1;C=h(w,this.cryptoContexts);if(!C)return!1;Ab(this.ctx,w,r,B,H,I,v,C,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(na){if(na instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",na);throw na;}return!0;},z);},error:function(h){F.error(h);}});},z);},addUserBoundPeerServiceToken:function(l,w,r,v,F){var z;z=this;n(F,function(){var B,I,H;B=this.builder.getPeerMasterToken();if(!B)return!1;I=this.builder.getPeerUserIdToken();if(!I)return!1;H=h(l,this.cryptoContexts);if(!H)return!1;Ab(this.ctx,l,w,B,I,r,v,H,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(na){if(na instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",na);throw na;}return!0;},z);},error:function(h){F.error(h);}});},z);},excludePrimaryServiceToken:function(h){for(var l=this.builder.getServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludeServiceToken(h),!0;return!1;},excludePeerServiceToken:function(h){for(var l=this.builder.getPeerServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludePeerServiceToken(h),!0;return!1;},deletePrimaryServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deleteServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);},deletePeerServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getPeerServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deletePeerServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);}});}());(function(){function l(l,r,B,I){n(I,function(){var w,z,H,Da,J,aa;function v(){n(I,function(){var r;if(aa>=B.length){if(J)throw J;throw new Pa(h.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(B));}r=B[aa];H!=r.keyExchangeScheme?(++aa,v()):Da.getCryptoContext(l,r,z,w,{result:I.result,error:function(h){n(I,function(){if(!(h instanceof C))throw h;J=h;++aa;v();});}});});}w=r.masterToken;z=r.keyResponseData;if(!z)return null;H=z.keyExchangeScheme;Da=l.getKeyExchangeFactory(H);if(!Da)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,H);aa=0;v();});}qe=hd.extend({init:function(n,z,B,I,v,F,H){var w;w=this;r(H,function(){var T;function r(){w._ready=!0;w._readyQueue.add(!0);}function H(h,l){var n;try{n=l.masterToken;h.getTokenFactory().isMasterTokenRevoked(h,n,{result:function(v){v?(w._errored=new Ob(v,n).setUser(l.userIdToken).setUser(l.userAuthenticationData).setMessageId(l.messageId),r()):ba(h,l);},error:function(h){h instanceof C&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}});}catch(ua){ua instanceof C&&(ua.setEntity(l.masterToken),ua.setUser(l.userIdToken),ua.setUser(l.userAuthenticationData),ua.setMessageId(l.messageId));w._errored=ua;r();}}function ba(h,l){var n,v;try{n=l.masterToken;v=l.userIdToken;v?h.getTokenFactory().isUserIdTokenRevoked(h,n,v,{result:function(z){z?(w._errored=new MslUserIdTokenException(z,v).setEntity(n).setUser(v).setMessageId(l.messageId),r()):na(h,l);},error:function(h){h instanceof C&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}}):na(h,l);}catch(Na){Na instanceof C&&(Na.setEntity(l.masterToken),Na.setUser(l.userIdToken),Na.setUser(l.userAuthenticationData),Na.setMessageId(l.messageId));w._errored=Na;r();}}function na(l,n){var v;try{v=n.masterToken;v.isExpired()?n.isRenewable()&&0!=n.keyRequestData.length?l.getTokenFactory().isMasterTokenRenewable(l,v,{result:function(h){h?(w._errored=new Ga(h,"Master token is expired and not renewable.").setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):E(l,n);},error:function(h){h instanceof C&&(h.setEntity(n.masterToken),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;r();}}):(w._errored=new Ga(h.MESSAGE_EXPIRED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):E(l,n);}catch(ua){ua instanceof C&&(ua.setEntity(n.masterToken),ua.setUser(n.userIdToken),ua.setUser(n.userAuthenticationData),ua.setMessageId(n.messageId));w._errored=ua;r();}}function E(l,n){var v,z;try{v=n.masterToken;z=n.nonReplayableId;"number"===typeof z?v?l.getTokenFactory().acceptNonReplayableId(l,v,z,{result:function(l){l||(w._errored=new Ga(h.MESSAGE_REPLAYED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId));r();},error:function(h){h instanceof C&&(h.setEntity(v),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;r();}}):(w._errored=new Ga(h.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(n)).setEntity(n.entityAuthenticationData).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):r();}catch(Na){Na instanceof C&&(Na.setEntity(n.masterToken),Na.setEntity(n.entityAuthenticationData),Na.setUser(n.userIdToken),Na.setUser(n.userAuthenticationData),Na.setMessageId(n.messageId));w._errored=Na;r();}}T={_source:{value:z,writable:!1,enumerable:!1,configurable:!1},_parser:{value:ma,writable:!0,enumerable:!1,configurable:!1},_charset:{value:B,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:F,writable:!1,enumerable:!1,configurable:!1},_header:{value:ma,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ma,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:ma,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);Ud(w._source,F,{result:function(z){w._json=z;w._jsonIndex=0;null===w._json?(w._errored=new ga(h.MESSAGE_DATA_MISSING),r()):ae(n,w._json[w._jsonIndex++],v,{result:function(h){var v;w._header=h;if(w._header instanceof Kb)w._keyxCryptoContext=null,w._cryptoContext=null,r();else{v=w._header;l(n,v,I,{result:function(h){var l;try{w._keyxCryptoContext=h;n.isPeerToPeer()||!w._keyxCryptoContext?w._cryptoContext=v.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{l=v.masterToken;l&&(n.isPeerToPeer()||l.isVerified())?H(n,v):E(n,v);}catch(ta){ta instanceof C&&(ta.setEntity(v.masterToken),ta.setUser(v.userIdToken),ta.setUser(v.userAuthenticationData),ta.setMessageId(v.messageId));w._errored=ta;r();}}catch(ta){ta instanceof C&&(ta.setEntity(v.masterToken),ta.setEntity(v.entityAuthenticationData),ta.setUser(v.userIdToken),ta.setUser(v.userAuthenticationData),ta.setMessageId(v.messageId));w._errored=ta;r();}},error:function(h){h instanceof C&&(h.setEntity(v.masterToken),h.setEntity(v.entityAuthenticationData),h.setUser(v.userIdToken),h.setUser(v.userAuthenticationData),h.setMessageId(v.messageId));w._errored=h;r();}});}},error:function(h){w._errored=h;r();}});},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},nextData:function(l,n){var w;w=this;r(n,function(){var v;function l(h){r(h,function(){var n;if(this._jsonIndex<this._json.length)return n=this._json[this._jsonIndex++];Ud(this._source,this._timeout,{result:function(n){n&&n.length&&0<n.length?(n.forEach(function(h){this._json.push(h);}),l(h)):(this._eom=!0,h.result(null));},timeout:function(){h.timeout();},error:function(l){h.error(l);}});},w);}v=this.getMessageHeader();if(!v)throw new da("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;l({result:function(l){r(n,function(){if(!l)return null;if("object"!==typeof l)throw new ga(h.MESSAGE_FORMAT_ERROR);me(l,this._cryptoContext,{result:function(l){r(n,function(){var n,w,r,z;n=v.masterToken;w=v.entityAuthenticationData;r=v.userIdToken;z=v.getUserAuthenticationData;if(l.messageId!=v.messageId)throw new Ga(h.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+l.messageId+" header mid "+v.messageId).setEntity(n).setEntity(w).setUser(r).setUser(z);if(l.sequenceNumber!=this._payloadSequenceNumber)throw new Ga(h.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+l.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(n).setEntity(w).setUser(r).setUser(z);++this._payloadSequenceNumber;l.isEndOfMessage()&&(this._eom=!0);n=l.data;this._payloads.push(n);this._payloadIndex=-1;return n;},w);},error:function(l){l instanceof SyntaxError&&(l=new ga(h.JSON_PARSE_ERROR,"payloadchunk",l));n.error(l);}});},w);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},w);},isReady:function(h,l){var w;function n(){r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;return!0;}},w);}w=this;r(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){r(l,function(){if(h===ma)return!1;n();},w);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorHeader:function(){return this._header instanceof Kb?this._header:null;},getIdentity:function(){var h,l;h=this.getMessageHeader();if(h){l=h.masterToken;return l?l.identity:h.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var h;h=this.getMessageHeader();return h?h.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(h){this._closeSource=h;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(h,l,n){var v;function w(){r(n,function(){var z,B,H,I;function w(n){r(n,function(){var z,F,T;if(B&&I>=B.length)return B.subarray(0,I);z=-1;if(this._currentPayload){F=this._currentPayload.length-this._payloadOffset;if(!B){T=F;if(-1!=this._payloadIndex)for(var aa=this._payloadIndex;aa<this._payloads.length;++aa)T+=this._payloads[aa].length;0<T&&(B=new Uint8Array(T));}F=Math.min(F,B?B.length-I:0);0<F&&(z=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+F),B.set(z,H),z=F,H+=F,this._payloadOffset+=F);}-1!=z?(I+=z,w(n)):this.nextData(l,{result:function(l){r(n,function(){if(this._aborted)return B?B.subarray(0,I):new Uint8Array(0);this._currentPayload=l;this._payloadOffset=0;if(this._currentPayload)w(n);else return 0==I&&0!=h?null:B?B.subarray(0,I):new Uint8Array(0);},v);},timeout:function(){n.timeout(B?B.subarray(0,I):new Uint8Array(0));},error:function(h){r(n,function(){h instanceof C&&(h=new Ya("Error reading the payload chunk.",h));if(0<I)return v._readException=h,B.subarray(0,I);throw h;},v);}});},v);}if(this._aborted)return new Uint8Array(0);if(this._timedout)n.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){z=this._readException;this._readException=null;throw z;}B=-1!=h?new Uint8Array(h):ma;H=0;I=0;w(n);}},v);}v=this;r(n,function(){if(-1>h)throw new RangeError("read requested with illegal length "+h);this._ready?w():this._readyQueue.poll(l,{result:function(h){h===ma?n.result(!1):w();},timeout:function(){n.timeout(new Uint8Array(0));},error:function(h){n.error(h);}});},v);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});re=function(h,l,n,r,v,F,H){new qe(h,l,n,r,v,F,H);};}());(function(){se=Ec.extend({init:function(h,l,n,B,I,v,F){var w;w=this;r(F,function(){var z,F,H;function r(){w._ready=!0;w._readyQueue.add(!0);}z=od(h.getMessageCapabilities(),B.messageCapabilities);F=null;z&&(F=Id(z.compressionAlgorithms));z={_destination:{value:l,writable:!1,enumerable:!1,configurable:!1},_charset:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:z,writable:!1,enumerable:!1,configurable:!1},_header:{value:B,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:F,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:I,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,z);H=Sa(JSON.stringify(B),n);l.write(H,0,H.length,v,{result:function(h){try{w._aborted?r():h<H.length?(w._timedout=!0,r()):l.flush(v,{result:function(h){w._aborted||(w._timedout=!h);r();},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});}catch(E){w._errored=E;r();}},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},setCompressionAlgorithm:function(h,l,n){var z;function w(){z.flush(l,{result:function(l){r(n,function(){if(!l)throw new Ya("flush() aborted");this._compressionAlgo=h;return!0;},z);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});}z=this;r(n,function(){if(!this.getMessageHeader())throw new da("Cannot write payload data for an error message.");if(this._compressionAlgo==h)return!0;if(h){if(!this._capabilities)return!1;for(var l=this._capabilities.compressionAlgorithms,n=0;n<l.length;++n)if(l[n]==h){w();return;}return!1;}w();},z);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorMessage:function(){return this._header instanceof Kb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(h,l){var n;n=this;r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(h,{result:function(h){r(l,function(){h&&(this._currentPayload=null);return h;},n);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},n);},flush:function(h,l){var w;function n(){r(l,function(){var n,v,J;if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;n=this.getMessageHeader();if(!n)return!0;v=0;this._currentPayload&&this._currentPayload.forEach(function(h){v+=h.length;});for(var z=new Uint8Array(v),B=0,H=0;this._currentPayload&&H<this._currentPayload.length;++H){J=this._currentPayload[H];z.set(J,B);B+=J.length;}le(this._payloadSequenceNumber,n.messageId,this._closed,this._compressionAlgo,z,this._cryptoContext,{result:function(n){r(l,function(){var v;this._payloads.push(n);v=Sa(JSON.stringify(n),this._charset);this._destination.write(v,0,v.length,h,{result:function(v){r(l,function(){if(this._aborted)return!1;v<n.length?l.timeout():this._destination.flush(h,{result:function(h){r(l,function(){if(this._aborted)return!1;if(h)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;l.timeout();},w);},timeout:function(){l.timeout();},error:function(h){h instanceof C&&(h=new Ya("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},timeout:function(h){l.timeout();},error:function(h){h instanceof C&&(h=new Ya("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},error:function(h){h instanceof C&&(h=new Ya("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});}},w);}w=this;r(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){h===ma?l.result(!1):n();},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},write:function(h,l,n,B,I){r(I,function(){var v;if(this._aborted)return!1;if(this._timedout)I.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Ya("Message output stream already closed.");if(0>l)throw new RangeError("Offset cannot be negative.");if(0>n)throw new RangeError("Length cannot be negative.");if(l+n>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new da("Cannot write payload data for an error message.");v=h.subarray(l,l+n);this._currentPayload.push(v);return v.length;}},this);}});Kc=function(h,l,n,r,I,v,F){new se(h,l,n,r,I,v,F);};}());bf=oa.Class.create({sentHeader:function(h){},receivedHeader:function(h){}});Object.freeze({USERDATA_REAUTH:l.USERDATA_REAUTH,SSOTOKEN_REJECTED:l.SSOTOKEN_REJECTED});te=oa.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(h,l,n,r){},getCustomer:function(){},getKeyRequestData:function(h){},updateServiceTokens:function(h,l,n){},write:function(h,l,n){},getDebugContext:function(){}});oa.Class.create({getInputStream:function(h){},getOutputStream:function(h){}});(function(){var J,ba,Da,ya,aa,na,E,T,Aa,fa,ca,ua;function H(h){return function(){h.abort();};}function w(h,l){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},ticket:{value:l,writable:!1,configurable:!1}});}function z(h,l){Object.defineProperties(this,{builder:{value:h,writable:!1,configurable:!1},msgCtx:{value:l,writable:!1,configurable:!1}});}function B(h,l,n){Object.defineProperties(this,{requestHeader:{value:h,writable:!1,configurable:!1},payloads:{value:l,writable:!1,configurable:!1},handshake:{value:n,writable:!1,configurable:!1}});}function I(h,l){Object.defineProperties(this,{requestHeader:{value:l.requestHeader,writable:!1,configurable:!1},payloads:{value:l.payloads,writable:!1,configurable:!1},handshake:{value:l.handshake,writable:!1,configurable:!1},response:{value:h,writable:!1,configurable:!1}});}function v(h){for(;h;){if(h instanceof bb)return!0;h=h instanceof C?h.cause:ma;}return!1;}function F(h,l,n,v,w,z,F,B,g){oe(l,v,w,z,{result:function(d){n&&n.sentHeader(d);Kc(l,F,Ka,d,null,null,B,{result:function(a){h.setAbort(function(){a.abort();});a.close(B,{result:function(a){r(g,function(){if(!a)throw new bb("sendError aborted.");return a;});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){},error:function(a){g.error(a);}});},error:function(d){g.error(d);}});}J=Ec.extend({close:function(h,l){l.result(!0);},write:function(h,l,v,w,r){n(r,function(){return Math.min(h.length-l,v);});},flush:function(h,l){l.result(!0);}});ba=af.extend({getUserMessage:function(h,l){return null;}});Da=te.extend({init:function(h){Object.defineProperties(this,{_appCtx:{value:h,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(h,l,n,v){this._appCtx.getUserAuthData(h,l,n,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(h){this._appCtx.getKeyRequestData(h);},updateServiceTokens:function(h,l,n){this._appCtx.updateServiceTokens(h,l,n);},write:function(h,l,n){this._appCtx.write(h,l,n);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ya=Da.extend({init:function ta(h,l){ta.base.call(this,l);Object.defineProperties(this,{_payloads:{value:h,writable:!1,enumerable:!1,configurable:!1}});},write:function(h,l,n){var w;function v(z,F){var g;if(z==w._payloads.length)n.result(!0);else{g=w._payloads[z];h.setCompressionAlgorithm(g.compressionAlgo,l,{result:function(d){h.write(g.data,0,g.data.length,l,{result:function(a){r(n,function(){g.isEndOfMessage()?v(z+1,F):h.flush(l,{result:function(a){n.result(a);},timeout:function(){n.timeout();},error:function(a){n.error(a);}});},w);},timeout:function(a){n.timeout(a);},error:function(a){n.error(a);}});},timeout:function(){},error:function(d){n.error(d);}});}}w=this;v(0);}});aa=Da.extend({init:function ha(h){ha.base.call(this,h);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(h,l,n){n.result(!0);}});na={};ca=oa.Class.create({init:function(h){h||(h=new ba());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:h,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(h){this._filterFactory=h;},getNewestMasterToken:function(h,l,n,v){var z;z=this;r(v,function(){var F,g,d,a,b;F=l.getMslStore();g=F.getMasterToken();if(!g)return null;d=g.uniqueKey();a=this._masterTokenLocks[d];a||(a=new Xc(),this._masterTokenLocks[d]=a);b=a.readLock(n,{result:function(b){r(v,function(){var f;if(b===ma)throw new bb("getNewestMasterToken aborted.");f=F.getMasterToken();if(g.equals(f))return new w(g,b);a.unlock(b);a.writeLock(n,{result:function(b){r(v,function(){if(b===ma)throw new bb("getNewestMasterToken aborted.");delete this._masterTokenLocks[d];a.unlock(b);return this.getNewestMasterToken(h,l,n,v);},z);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},z);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});h.setAbort(function(){b&&(a.cancel(b),b=ma);});},z);},deleteMasterToken:function(h,l){var n;if(l){n=this;setTimeout(function(){var v,w;v=l.uniqueKey();w=n._masterTokenLocks[v];w||(w=new Xc(),n._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(r){h.getMslStore().removeCryptoContext(l);delete n._masterTokenLocks[v];w.unlock(r);},timeout:function(){throw new da("Unexpected timeout received.");},error:function(h){throw h;}});},0);}},releaseMasterToken:function(h){var l;if(h&&h.masterToken){l=h.masterToken.uniqueKey();l=this._masterTokenLocks[l];if(!l)throw new da("Master token read/write lock does not exist when it should.");l.unlock(h.ticket);}},updateOutgoingCryptoContexts:function(h,l,n){var v;v=h.getMslStore();!h.isPeerToPeer()&&n&&(v.setCryptoContext(n.keyResponseData.masterToken,n.cryptoContext),this.deleteMasterToken(h,l.masterToken));},updateIncomingCryptoContexts:function(h,l,n){var v,w;v=n.getMessageHeader();if(v){w=h.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,n.getKeyExchangeCryptoContext()),this.deleteMasterToken(h,l.masterToken);}},storeServiceTokens:function(h,l,n,v){var g,d;h=h.getMslStore();for(var w=[],r=0;r<v.length;++r){g=v[r];if(!g.isBoundTo(l)||!l.isVerified()){d=g.data;d&&0==d.length?h.removeServiceTokens(g.name,g.isMasterTokenBound()?l:null,g.isUserIdTokenBound()?n:null):w.push(g);}}0<w.length&&h.addServiceTokens(w);},buildRequest:function(h,l,v,w,r){var z;z=this;this.getNewestMasterToken(h,l,w,{result:function(g){n(r,function(){var d,a,b;d=g&&g.masterToken;if(d){a=v.getUserId();b=l.getMslStore();a=(a=a?b.getUserIdToken(a):null)&&a.isBoundTo(d)?a:null;}else a=null;Tb(l,d,a,null,{result:function(a){n(r,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:g};});},error:function(a){n(r,function(){this.releaseMasterToken(g);a instanceof C&&(a=new da("User ID token not bound to master token despite internal check.",a));throw a;},z);}});},z);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},buildResponse:function(h,l,n,v,w,z){var g;g=this;ne(l,v,{result:function(d){r(z,function(){d.setNonReplayable(n.isNonReplayable());if(!l.isPeerToPeer()&&!v.keyResponseData)return{builder:d,tokenTicket:null};this.getNewestMasterToken(h,l,w,{result:function(a){r(z,function(){var b,f,u;b=a&&a.masterToken;if(b){f=n.getUserId();u=l.getMslStore();f=(f=f?u.getUserIdToken(f):null)&&f.isBoundTo(b)?f:null;}else f=null;d.setAuthTokens(b,f);return{builder:d,tokenTicket:a};},g);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},g);},error:function(d){z.error(d);}});},buildErrorResponse:function(h,n,v,w,F,B,g){var b;function d(a,d){r(g,function(){var f,c;f=Sb(F.messageId);c=new ya(d,v);Tb(n,null,null,f,{result:function(f){r(g,function(){n.isPeerToPeer()&&f.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);f.setNonReplayable(c.isNonReplayable());return{errorResult:new z(f,c),tokenTicket:null};},b);},error:function(a){g.error(a);}});},b);}function a(a,d){b.getNewestMasterToken(h,n,B,{result:function(f){r(g,function(){var c,k,p;c=f&&f.masterToken;k=Sb(F.messageId);p=new ya(d,v);Tb(n,c,null,k,{result:function(c){r(g,function(){n.isPeerToPeer()&&c.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);c.setNonReplayable(p.isNonReplayable());return{errorResult:new z(c,p),tokenTicket:f};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}b=this;r(g,function(){var f,u,m,c;f=w.requestHeader;u=w.payloads;m=F.errorCode;switch(m){case l.ENTITYDATA_REAUTH:case l.ENTITY_REAUTH:n.getEntityAuthenticationData(m,{result:function(a){r(g,function(){if(!a)return null;d(f,u);},b);},error:function(a){g.error(a);}});break;case l.USERDATA_REAUTH:case l.SSOTOKEN_REJECTED:v.getUserAuthData(m,!1,!0,{result:function(c){r(g,function(){if(!c)return null;a(f,u);},b);},error:function(a){g.error(a);}});break;case l.USER_REAUTH:a(f,u);break;case l.KEYX_REQUIRED:m=Sb(F.messageId),c=new ya(u,v);Tb(n,null,null,m,{result:function(a){r(g,function(){n.isPeerToPeer()&&a.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(c.isNonReplayable());return{errorResult:new z(a,c),tokenTicket:null};},b);},error:function(a){g.error(a);}});break;case l.EXPIRED:this.getNewestMasterToken(h,n,B,{result:function(a){r(g,function(){var c,k,t,d;c=a&&a.masterToken;k=f.userIdToken;t=Sb(F.messageId);d=new ya(u,v);Tb(n,c,k,t,{result:function(k){r(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(c)&&k.setRenewable(!0);k.setNonReplayable(d.isNonReplayable());return{errorResult:new z(k,d),tokenTicket:a};},b);},error:function(a){g.error(a);}},b);},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;case l.REPLAYED:this.getNewestMasterToken(h,n,B,{result:function(a){r(g,function(){var c,k,t,d;c=a&&a.masterToken;k=f.userIdToken;t=Sb(F.messageId);d=new ya(u,v);Tb(n,c,k,t,{result:function(k){r(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(c)?(k.setRenewable(!0),k.setNonReplayable(!1)):k.setNonReplayable(d.isNonReplayable());return{errorResult:new z(k,d),tokenTicket:a};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;default:return null;}},b);},cleanupContext:function(h,n,v){switch(v.errorCode){case l.ENTITY_REAUTH:this.deleteMasterToken(h,n.masterToken);break;case l.USER_REAUTH:v=n.userIdToken,n.masterToken&&v&&h.getMslStore().removeUserIdToken(v);}},send:function(h,l,n,v,w,z,g){var m;function d(c,b,f){r(g,function(){var k;k=w.getPeerUserIdToken();!l.isPeerToPeer()&&!b||l.isPeerToPeer()&&!k?(k=n.getCustomer())?w.setCustomer(k,{result:function(k){r(g,function(){b=w.getUserIdToken();a(c,b,f);},m);},error:function(a){g.error(a);}}):a(c,b,f):a(c,b,f);},m);}function a(a,f,p){r(g,function(){var c,k;c=!p&&(!n.isEncrypted()||w.willEncryptPayloads())&&(!n.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!n.isNonReplayable()||w.isNonReplayable()&&a);c||w.setNonReplayable(!1);k=[];w.isRenewable()&&(!a||a.isRenewable()||n.isNonReplayable())?n.getKeyRequestData({result:function(p){r(g,function(){var t;for(var q=0;q<p.length;++q){t=p[q];k.push(t);w.addKeyRequestData(t);}b(a,f,c,k);},m);},error:function(a){g.error(a);}}):b(a,f,c,k);},m);}function b(a,b,p,q){r(g,function(){var c;c=new pe(l,n,w);n.updateServiceTokens(c,!p,{result:function(c){w.getHeader({result:function(c){r(g,function(){var k,q;k=n.getDebugContext();k&&k.sentHeader(c);k=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(l,c,k);this.storeServiceTokens(l,a,b,c.serviceTokens);k=!l.isPeerToPeer()&&k?k.cryptoContext:c.cryptoContext;if(h.isAborted())throw new bb("send aborted.");q=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Kc(l,q,Ka,c,k,z,{result:function(a){h.setAbort(function(){a.abort();});f(a,c,p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},error:function(a){g.error(a);}});},m);}function f(a,b,f){var c,k;if(f)n.write(a,z,{result:function(c){r(g,function(){if(h.isAborted())throw new bb("MessageOutputStream write aborted.");u(a,b,f);},m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});else{c=new J();k=new Zb();Kc(l,c,Ka,b,k,z,{result:function(c){n.write(c,z,{result:function(k){r(g,function(){if(h.isAborted())throw new bb("MessageOutputStream proxy write aborted.");c.close(z,{result:function(k){r(g,function(){var p;if(!k)throw new bb("MessageOutputStream proxy close aborted.");p=c.getPayloads();u(a,b,f,p);},m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}}function u(a,b,f,q){a.close(z,{result:function(c){r(g,function(){if(!c)throw new bb("MessageOutputStream close aborted.");q||(q=a.getPayloads());return new B(b,q,!f);},m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}m=this;r(g,function(){var a,b,f,q;a=w.getMasterToken();b=w.getUserIdToken();f=!1;if(n.getUserId()){q=!b;n.getUserAuthData(null,w.isRenewable(),q,{result:function(c){r(g,function(){c&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(c):f=!0);d(a,b,f);},m);},error:function(a){g.error(a);}});}else d(a,b,f);},m);},receive:function(n,v,w,z,F,B,g){var d;d=this;r(g,function(){var a,b,f;if(n.isAborted())throw new bb("receive aborted.");a=[];F&&(a=F.keyRequestData.filter(function(){return!0;}));b=w.getCryptoContexts();f=this._filterFactory?this._filterFactory.getInputStream(z):z;re(v,f,Ka,a,b,B,{result:function(a){n.setAbort(function(){a.abort();});a.isReady(B,{result:function(b){r(g,function(){var c,f,p,q;if(!b)throw new bb("MessageInputStream aborted.");c=a.getMessageHeader();f=a.getErrorHeader();p=w.getDebugContext();p&&p.receivedHeader(c?c:f);if(F&&(p=f?f.errorCode:null,c||p!=l.FAIL&&p!=l.TRANSIENT_FAILURE&&p!=l.ENTITY_REAUTH&&p!=l.ENTITYDATA_REAUTH)){p=c?c.messageId:f.messageId;q=Sb(F.messageId);if(p!=q)throw new Ga(h.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+q+"; received "+p);}v.getEntityAuthenticationData(null,{result:function(b){r(g,function(){var k,p,q,t;k=b.getIdentity();if(c){p=c.entityAuthenticationData;q=c.masterToken;p=q?c.sender:p.getIdentity();if(q&&q.isDecrypted()&&q.identity!=p||k==p)throw new Ga(h.UNEXPECTED_MESSAGE_SENDER,p);F&&this.updateIncomingCryptoContexts(v,F,a);k=c.keyResponseData;v.isPeerToPeer()?(k=k?k.masterToken:c.peerMasterToken,q=c.peerUserIdToken,p=c.peerServiceTokens):(k=k?k.masterToken:c.masterToken,q=c.userIdToken,p=c.serviceTokens);t=w.getUserId();t&&q&&!q.isVerified()&&v.getMslStore().addUserIdToken(t,q);this.storeServiceTokens(v,k,q,p);}else if(p=f.entityAuthenticationData.getIdentity(),k==p)throw new Ga(h.UNEXPECTED_MESSAGE_SENDER,p);return a;},d);},error:g.error});},d);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},d);},sendReceive:function(h,l,n,v,w,z,g,d,a){var f;function b(b,m){r(a,function(){z.setRenewable(m);this.send(h,l,n,w,z,g,{result:function(c){r(a,function(){var k;k=c.requestHeader.keyRequestData;d||c.handshake||!k.isEmpty()?this.receive(h,l,n,v,c.requestHeader,g,{result:function(k){r(a,function(){m&&this.releaseRenewalLock(l,b,k);return new I(k,c);},f);},timeout:function(){r(a,function(){m&&this.releaseRenewalLock(l,b,null);a.timeout();},f);},error:function(c){r(a,function(){m&&this.releaseRenewalLock(l,b,null);throw c;},f);}}):r(a,function(){m&&this.releaseRenewalLock(l,b,null);return new I(null,c);},f);},f);},timeout:function(){r(a,function(){m&&this.releaseRenewalLock(l,b,null);a.timeout();},f);},error:function(c){r(a,function(){m&&this.releaseRenewalLock(l,b,null);throw c;},f);}});},f);}f=this;r(a,function(){var f;f=new gc();this.acquireRenewalLock(h,l,n,f,z,g,{result:function(a){b(f,a);},timeout:function(){a.timeout();},error:function(b){b instanceof bb?a.result(null):a.error(b);}});},f);},acquireRenewalLock:function(h,l,n,v,w,z,g){var b;function d(f,u,m){r(g,function(){var p,q;if(h.isAborted())throw new bb("acquireRenewalLock aborted.");for(var c=null,k=0;k<this._renewingContexts.length;++k){p=this._renewingContexts[k];if(p.ctx===l){c=p.queue;break;}}if(!c)return this._renewingContexts.push({ctx:l,queue:v}),!0;q=c.poll(z,{result:function(k){r(g,function(){var b;if(k===ma)throw new bb("acquireRenewalLock aborted.");c.add(k);if(k===na||k.isExpired())d(k,u,m);else{if(m&&!u||u&&!u.isBoundTo(k)){b=l.getMslStore().getUserIdToken(m);u=b&&b.isBoundTo(k)?b:null;}w.setAuthTokens(k,u);w.isRenewable()&&k.equals(f)?d(k,u,m):n.isRequestingTokens()&&!u?d(k,u,m):a(k,u);}},b);},timeout:function(){},error:function(a){}});h.setAbort(function(){q&&(c.cancel(q),q=ma);});},b);}function a(a,d){r(g,function(){var f;if(h.isAborted())throw new bb("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!d&&n.getUserId()||d&&d.isRenewable()){for(var b=null,c=0;c<this._renewingContexts.length;++c){f=this._renewingContexts[c];if(f.ctx===l){b=f.queue;break;}}if(!b)return this._renewingContexts.push({ctx:l,queue:v}),!0;}return!1;},b);}b=this;r(g,function(){var b,u,m;b=w.getMasterToken();u=w.getUserIdToken();m=n.getUserId();n.isEncrypted()&&!w.willEncryptPayloads()||n.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!b&&n.isNonReplayable()||b&&b.isExpired()||!(u||!m||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||n.isRequestingTokens()&&(!b||m&&!u)?d(b,u,m):a(b,u);},b);},releaseRenewalLock:function(h,l,n){var g;for(var v,w,r=0;r<this._renewingContexts.length;++r){g=this._renewingContexts[r];if(g.ctx===h){v=r;w=g.queue;break;}}if(w!==l)throw new da("Attempt to release renewal lock that is not owned by this queue.");n?(n=n.messageHeader)?(w=n.keyResponseData)?l.add(w.masterToken):(h=h.isPeerToPeer()?n.peerMasterToken:n.masterToken)?l.add(h):l.add(na):l.add(na):l.add(na);this._renewingContexts.splice(v,1);}});ue=oa.Class.create({init:function(){var h;h={_impl:{value:new ca(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setFilterFactory:function(h){this._impl.setFilterFactory(h);},shutdown:function(){this._shutdown=!0;},receive:function(h,l,n,v,w,r){var g;if(this._shutdown)throw new C("MslControl is shutdown.");g=new E(this._impl,h,l,n,v,w);setTimeout(function(){g.call(r);},0);return H(g);},respond:function(h,l,n,v,w,r,g){var d;if(this._shutdown)throw new C("MslControl is shutdown.");d=new T(this._impl,h,l,n,v,w,r);setTimeout(function(){d.call(g);},0);return H(d);},error:function(h,l,n,v,w,r,g){var d;if(this._shutdown)throw new C("MslControl is shutdown.");d=new Aa(this._impl,h,l,n,v,w,r);setTimeout(function(){d.call(g);},0);return H(d);},request:function(h,l){var n,v,w,r,g,d;if(this._shutdown)throw new C("MslControl is shutdown.");if(5==arguments.length){if(n=arguments[2],w=v=null,r=arguments[3],g=arguments[4],h.isPeerToPeer()){g.error(new da("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(n=null,v=arguments[2],w=arguments[3],r=arguments[4],g=arguments[5],!h.isPeerToPeer())){g.error(new da("This method cannot be used in trusted network mode."));return;}d=new fa(this._impl,h,l,n,v,w,null,0,r);setTimeout(function(){d.call(g);},0);return H(d);}});E=oa.Class.create({init:function(h,l,n,v,w,r){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ma,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var B;function n(n){r(l,function(){var g;g=n.messageHeader;if(!g)return n;this.setAbort(function(){n.abort();});n.mark(Number.MAX_VALUE);n.read(1,B._timeout,{result:function(d){r(l,function(){if(d&&0==d.length)return null;if(d)return n.reset(),n;w(n);},B);},timeout:function(){l.timeout();},error:function(d){r(l,function(){var a,b,f;if(v(d))return null;a=g?g.messageId:null;d instanceof Ya?(b=h.MSL_COMMS_FAILURE,f=d):(b=h.INTERNAL_EXCEPTION,f=new da("Error peeking into the message payloads."));F(this,this._ctx,this._msgCtx.getDebugContext(),a,b,null,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new jb("Error peeking into the message payloads.",a,d);},B);}});},B);}});},B);}function w(n){r(l,function(){n.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,n.messageHeader,this._timeout,{result:function(g){r(l,function(){var d,a,b,f,u;d=g.builder;a=g.tokenTicket;b=n.messageHeader;f=new aa(this._msgCtx);if(!this._ctx.isPeerToPeer()||b.isEncrypting()||b.keyResponseData)z(b,d,f,a);else{u=new fa(this._ctrl,this._ctx,f,null,this._input,this._output,g,1,this._timeout);this.setAbort(function(){u.abort();});u.call(l);}},B);},timeout:function(){l.timeout();},error:function(g){r(l,function(){var d,a,b,f;if(v(g))return null;g instanceof C?(d=g.messageId,a=g.error,b=n.messageHeader.messageCapabilities,b=this._ctrl.messageRegistry.getUserMessage(a,b?b.languages:null),f=g):(d=requestHeader?requestHeader.messageId:null,a=h.INTERNAL_EXCEPTION,b=null,f=new da("Error creating an automatic handshake response.",g));F(this,this._ctx,this._msgCtx.getDebugContext(),d,a,b,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new jb("Error creating an automatic handshake response.",a,g);},B);}});},B);}});},B);}function z(n,g,d,a){r(l,function(){g.setRenewable(!1);this._ctrl.send(this._ctx,d,this._output,g,this._timeout,{result:function(b){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},B);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);l.timeout();},B);},error:function(b){r(l,function(){var f,d,m,c;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(v(b))return null;b instanceof C?(f=b.messageId,d=b.error,m=n?n.messageCapabilities:null,m=this._ctrl.messageRegistry.getUserMessage(d,m?m.languages:null),c=b):b instanceof Ya?(f=n?n.messageId:null,d=h.MSL_COMMS_FAILURE,m=null,c=b):(f=n?n.messageId:null,d=h.INTERNAL_EXCEPTION,m=null,c=new da("Error sending an automatic handshake response.",b));F(this,this._ctx,this._msgCtx.getDebugContext(),f,d,m,this._output,this._timeout,{result:function(a){l.error(c);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new jb("Error sending an automatic handshake response.",a,b);},B);}});},B);}});},B);}B=this;r(l,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(h){n(h);},timeout:function(){l.timeout();},error:function(n){r(l,function(){var g,d,a,b;if(v(n))return null;n instanceof C?(g=n.messageId,d=n.error,a=this._ctrl.messageRegistry.getUserMessage(d,null),b=n):(g=null,d=h.INTERNAL_EXCEPTION,a=null,b=new da("Error receiving the message header.",n));F(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new jb("Error receiving the message header.",a,n);},B);}});},B);}});},B);}});T=oa.Class.create({init:function(h,l,n,v,w,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ma,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},trustedNetworkExecute:function(l,n,w){var z;z=this;r(w,function(){var B,E;if(12<n+1)return!1;if(B=this._msgCtx.isIntegrityProtected()&&!l.willIntegrityProtectHeader()?h.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!l.willEncryptPayloads()?h.RESPONSE_REQUIRES_ENCRYPTION:null){E=$b(l.getMessageId());F(this,this._ctx,this._msgCtx.getDebugContext(),E,B,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new jb("Response requires encryption or integrity protection but cannot be protected: "+B,g,null);},z);}});}else!this._msgCtx.getCustomer()||l.getMasterToken()||l.getKeyExchangeData()?(l.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,l,this._timeout,{result:function(g){w.result(!0);},timeout:function(){w.timeout();},error:function(g){w.error(g);}})):(E=$b(l.getMessageId()),F(this,this._ctx,this._msgCtx.getDebugContext(),E,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new jb("Response wishes to attach a user ID token but there is no master token.",g,null);},z);}}));},z);},peerToPeerExecute:function(l,n,w,z){var E;function B(g){r(z,function(){var d;d=g.response;d.close();d=d.getErrorHeader();this._ctrl.cleanupContext(this._ctx,g.requestHeader,d);this._ctrl.buildErrorResponse(this,this._ctx,l,g,d,{result:function(a){r(z,function(){var b,f;if(!a)return!1;b=a.errorResult;f=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){r(z,function(){this._ctrl.releaseMasterToken(f);return a;},E);},timeout:function(){r(z,function(){this._ctrl.releaseMasterToken(f);z.timeout();},E);},error:function(a){r(z,function(){this._ctrl.releaseMasterToken(f);throw a;},E);}});},E);}});},E);}E=this;r(z,function(){var g;if(12<w+2)return!1;if(null!=l.getCustomer()&&null==n.getPeerMasterToken()&&null==n.getKeyExchangeData()){g=$b(n.getMessageId());F(this,this._ctx,l.getDebugContext(),g,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){z.result(!1);},timeout:function(){z.timeout();},error:function(d){r(z,function(){if(v(d))return!1;throw new jb("Response wishes to attach a user ID token but there is no master token.",d,null);},E);}});}else this._ctrl.sendReceive(this._ctx,l,this._input,this._output,n,this._timeout,!1,{result:function(d){r(z,function(){var f,u,m;function a(){f.read(32768,E._timeout,{result:function(c){r(z,function(){c?a():b();},E);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});}function b(){r(z,function(){var a;a=new ya(d.payloads,l);this._ctrl.buildResponse(this,this._ctx,a,u,this._timeout,{result:function(c){r(z,function(){var b;b=c.tokenTicket;this.peerToPeerExecute(a,c.builder,w,{result:function(a){r(z,function(){this._ctrl.releaseMasterToken(b);return a;},E);},timeout:function(){r(z,function(){this._ctrl.releaseMasterToken(b);z.timeout();},E);},error:function(a){r(z,function(){this._ctrl.releaseMasterToken(b);throw a;},E);}});},E);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},E);}f=d.response;w+=2;if(!f)return!0;u=f.getMessageHeader();if(u){m=d.payloads;m=0<m.length&&0<m[0].data.length;if(d.handshake&&m)a();else return!0;}else B(d);},E);},timeout:function(){z.timeout();},error:function(d){z.error(d);}});},E);},call:function(l){var n;n=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){r(l,function(){var z,B;z=w.builder;B=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,z,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);return h;},n);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);l.timeout();},n);},error:function(w){r(l,function(){var g,d,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);if(v(w))return!1;g=$b(z.getMessageId());w instanceof C?(d=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(d,a?a.languages:null),b=w):w instanceof Ya?(d=h.MSL_COMMS_FAILURE,a=null,b=w):(d=h.INTERNAL_EXCEPTION,a=null,b=new da("Error sending the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new jb("Error sending the response.",a,null);},n);}});},n);}}):this.trustedNetworkExecute(z,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);return h;},n);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);l.timeout();},n);},error:function(w){r(l,function(){var g,d,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);if(v(w))return!1;g=$b(z.getMessageId());w instanceof C?(d=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(d,a?a.languages:null),b=w):w instanceof Ya?(d=h.MSL_COMMS_FAILURE,a=null,b=w):(d=h.INTERNAL_EXCEPTION,a=null,b=new da("Error sending the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new jb("Error sending the response.",a,null);},n);}});},n);}});},n);},timeout:function(){l.timeout();},error:function(w){r(l,function(){var z,B,E,g;if(v(w))return!1;w instanceof C?(z=w.messageId,B=w.error,E=this._request.messageCapabilities,E=this._ctrl.messageRegistry.getUserMessage(B,E?E.languages:null),g=w):(z=null,B=h.INTERNAL_EXCEPTION,E=null,g=new da("Error building the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),z,B,E,this._output,this._timeout,{result:function(d){l.error(g);},timeout:function(){l.timeout();},error:function(d){r(l,function(){if(v(d))return null;throw new jb("Error building the response.",d,w);},n);}});},n);}});}});Aa=oa.Class.create({init:function(h,l,n,w,v,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ma,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var n;n=this;r(l,function(){var w,z;if(this._appError==ENTITY_REJECTED)w=this._request.masterToken?h.MASTERTOKEN_REJECTED_BY_APP:h.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)w=this._request.userIdToken?h.USERIDTOKEN_REJECTED_BY_APP:h.USER_REJECTED_BY_APP;else throw new da("Unhandled application error "+this._appError+".");z=this._request.messageCapabilities;z=this._ctrl.messageRegistry.getUserMessage(w,z?z.languages:null);F(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,z,this._output,this._timeout,{result:function(h){l.result(h);},timeout:l.timeout,error:function(h){r(l,function(){if(v(h))return!1;if(h instanceof C)throw h;throw new da("Error building the error response.",h);},n);}});},n);}});ua={result:function(){},timeout:function(){},error:function(){}};fa=oa.Class.create({init:function(h,l,n,w,v,r,g,d,a){var b;g?(b=g.builder,g=g.tokenTicket):g=b=null;Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!0,enumerable:!1,configurable:!1},_output:{value:r,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:b,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:g,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ma,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},execute:function(h,l,n,w,v){var d;function z(a){function b(b){r(v,function(){var f;f=a.response;return b?b:f;},d);}r(v,function(){var f,u;f=a.response;f.close();u=f.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,u);this._ctrl.buildErrorResponse(this,this._ctx,h,a,u,n,{result:function(a){r(v,function(){var c,k,p,q;if(!a)return f;c=a.errorResult;k=a.tokenTicket;p=c.builder;c=c.msgCtx;if(this._ctx.isPeerToPeer())this.execute(c,p,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);b(a);},d);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},d);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);v.error(a);},d);}});else{this._openedStreams&&(this._input.close(),this._output.close(n,ua));q=new fa(this._ctrl,this._ctx,c,this._remoteEntity,null,null,{builder:p,tokenTicket:k},w,this._timeout);this.setAbort(function(){q.abort();});q.call({result:function(a){b(a);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);}function g(a){r(v,function(){var u,m,c,k,p;function b(){u.read(32768,d._timeout,{result:function(a){a?b():f();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function f(){r(v,function(){var c;c=new ya(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,m,n,{result:function(a){r(v,function(){var b;b=a.tokenTicket;this.execute(c,a.builder,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);return a;},d);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(b);v.timeout();},d);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);throw a;},d);}});},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);}u=a.response;m=u.getMessageHeader();c=a.payloads;c=0<c.length&&0<c[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!c)return u;this._openedStreams&&(this._input.close(),this._output.close(n,ua));k=new ya(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,m,n,{result:function(a){r(v,function(){var c;c=new fa(this._ctrl,this._ctx,k,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){c.abort();});c.call(v);},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}else if(a.handshake&&c)b();else if(0<m.keyRequestData.length){p=new aa(h);this._ctrl.buildResponse(this,this._ctx,p,m,n,{result:function(a){r(v,function(){var c,b;c=a.builder;b=a.tokenTicket;u.mark();u.read(1,this._timeout,{result:function(a){r(v,function(){function f(){u.read(32768,d._timeout,{result:function(a){a?f():k();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function k(){d.execute(p,c,d._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);return a;},d);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(b);v.timeout();},d);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);throw a;},d);}});}if(a)if(u.reset(),12>=w+1)c.setRenewable(!1),this._ctrl.send(this,this._ctx,p,this._output,c,this._timeout,{result:function(a){r(v,function(){this.releaseMasterToken(b);return u;},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});else return this.releaseMasterToken(b),u;else f();},d);},timeout:function(){r(v,function(){this.releaseMasterToken(b);v.timeout();},d);},error:function(a){r(v,function(){this.releaseMasterToken(b);throw a;},d);}});},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},d);}d=this;r(v,function(){if(12<w+2)return null;this._ctrl.sendReceive(this,this._ctx,h,this._input,this._output,l,n,!0,{result:function(a){r(v,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?g(a):z(a);},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);},call:function(h){var n;function l(l,w,z){r(h,function(){this.execute(this._msgCtx,l,z,this._msgCount,{result:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&this._output.close(z,ua);g&&g.closeSource(this._openedStreams);return g;},n);},timeout:function(){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(z,ua),this._input.close());h.timeout();},n);},error:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(z,ua),this._input.close());if(v(g))return null;throw g;},n);}});},n);}n=this;r(h,function(){var w,z,F;w=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);z=Date.now();F=this._remoteEntity.openConnection();this._output=F.output;this._input=F.input;-1!=w&&(w=this._timeout-(Date.now()-z));this._openedStreams=!0;}catch(g){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,ua);this._input&&this._input.close();if(v(g))return null;throw g;}this._builder?l(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(g){r(h,function(){l(g.builder,g.tokenTicket,w);},n);},timeout:function(){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());h.timeout();},n);},error:function(g){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());if(v(g))return null;throw g;},n);}});},n);}});}());(function(){rd=oa.Class.create({init:function(h){Object.defineProperties(this,{id:{value:h,writable:!1,configurable:!1}});},toJSON:function(){var h;h={};h.id=this.id;return h;},equals:function(h){return this===h?!0:h instanceof rd?this.id==h.id:!1;},uniqueKey:function(){return this.id;}});ve=function(l){var n;n=l.id;if(!n)throw new ga(h.JSON_PARSE_ERROR,JSON.stringify(l));return new rd(n);};}());oa.Class.create({isNewestMasterToken:function(h,l,n){},isMasterTokenRevoked:function(h,l){},acceptNonReplayableId:function(h,l,n,r){},createMasterToken:function(h,l,n,r,I){},isMasterTokenRenewable:function(h,l,n){},renewMasterToken:function(h,l,n,r,I){},isUserIdTokenRevoked:function(h,l,n,r){},createUserIdToken:function(h,l,n,r){},renewUserIdToken:function(h,l,n,r){}});(function(){function l(h,l,n,r){this.sessiondata=h;this.tokendata=l;this.signature=n;this.verified=r;}gb=oa.Class.create({init:function(h,l,r,I,v,F,H,C,J,ya,aa){var w;w=this;n(aa,function(){var z,B,ba,fa,ca;if(r.getTime()<l.getTime())throw new da("Cannot construct a master token that expires before its renewal window opens.");if(0>I||I>La)throw new da("Sequence number "+I+" is outside the valid range.");if(0>v||v>La)throw new da("Serial number "+v+" is outside the valid range.");z=Math.floor(l.getTime()/1E3);B=Math.floor(r.getTime()/1E3);if(ya)ba=ya.sessiondata;else{fa={};F&&(fa.issuerdata=F);fa.identity=H;fa.encryptionkey=pa(C.toByteArray());fa.hmackey=pa(J.toByteArray());ba=Sa(JSON.stringify(fa),Ka);}if(ya)return Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:I,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:C,writable:!1,configurable:!1},hmacKey:{value:J,writable:!1,configurable:!1},sessiondata:{value:ba,writable:!1,enumerable:!1,configurable:!1},verified:{value:ya.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ya.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ya.signature,writable:!1,enumerable:!1,configurable:!1}}),this;ca=h.getMslCryptoContext();ca.encrypt(ba,{result:function(l){n(aa,function(){var r,E;r={};r.renewalwindow=z;r.expiration=B;r.sequencenumber=I;r.serialnumber=v;r.sessiondata=pa(l);E=Sa(JSON.stringify(r),Ka);ca.sign(E,{result:function(l){n(aa,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:I,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:v,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:C,writable:!1,configurable:!1},hmacKey:{value:J,writable:!1,configurable:!1},sessiondata:{value:ba,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:E,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){aa.error(h);}});},w);},error:function(h){aa.error(h);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(h){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(h){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(h){var l;if(this.sequenceNumber==h.sequenceNumber)return this.expiration>h.expiration;if(this.sequenceNumber>h.sequenceNumber){l=this.sequenceNumber-La+127;return h.sequenceNumber>=l;}l=h.sequenceNumber-La+127;return this.sequenceNumber<l;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof gb?this.serialNumber==h.serialNumber&&this.sequenceNumber==h.sequenceNumber&&this.expiration.getTime()==h.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Qb=function(w,r,B){n(B,function(){var z,v,F,H,ba;z=w.getMslCryptoContext();v=r.tokendata;F=r.signature;if("string"!==typeof v||"string"!==typeof F)throw new ga(h.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(r));try{H=za(v);}catch(Da){throw new C(h.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(r),Da);}if(!H||0==H.length)throw new ga(h.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(r));try{ba=za(F);}catch(Da){throw new C(h.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(r),Da);}z.verify(H,ba,{result:function(v){n(B,function(){var r,F,I,E,T,J,fa,ca,ua,Ca;J=Va(H,Ka);try{fa=JSON.parse(J);r=parseInt(fa.renewalwindow);F=parseInt(fa.expiration);I=parseInt(fa.sequencenumber);E=parseInt(fa.serialnumber);T=fa.sessiondata;}catch(ta){if(ta instanceof SyntaxError)throw new ga(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+J,ta);throw ta;}if(!r||r!=r||!F||F!=F||"number"!==typeof I||I!=I||"number"!==typeof E||E!=E||"string"!==typeof T)throw new ga(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+J);if(F<r)throw new C(h.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+J);if(0>I||I>La)throw new C(h.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+J);if(0>E||E>La)throw new C(h.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+J);ca=new Date(1E3*r);ua=new Date(1E3*F);try{Ca=za(T);}catch(ta){throw new C(h.MASTERTOKEN_SESSIONDATA_INVALID,T,ta);}if(!Ca||0==Ca.length)throw new C(h.MASTERTOKEN_SESSIONDATA_MISSING,T);v?z.decrypt(Ca,{result:function(r){n(B,function(){var z,F,C,T,aa,J;aa=Va(r,Ka);try{J=JSON.parse(aa);z=J.issuerdata;F=J.identity;C=J.encryptionkey;T=J.hmackey;}catch(g){if(g instanceof SyntaxError)throw new ga(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+aa,g);throw g;}if(z&&"object"!==typeof z||!F||"string"!==typeof C||"string"!==typeof T)throw new ga(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+aa);wb(C,pb,Fb,{result:function(g){wb(T,qb,Pb,{result:function(d){n(B,function(){var a;a=new l(r,H,ba,v);new gb(w,ca,ua,I,E,z,F,g,d,a,B);});},error:function(d){B.error(new Q(h.MASTERTOKEN_KEY_CREATION_ERROR,d));}});},error:function(g){B.error(new Q(h.MASTERTOKEN_KEY_CREATION_ERROR,g));}});});},error:function(h){B.error(h);}}):(r=new l(null,H,ba,v),new gb(w,ca,ua,I,E,null,null,null,null,r,B));});},error:function(h){B.error(h);}});});};}());(function(){function l(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Xb=oa.Class.create({init:function(h,l,r,I,v,F,H,ba,J){var w;w=this;n(J,function(){var z,B,E,T,Aa,fa,ca;if(r.getTime()<l.getTime())throw new da("Cannot construct a user ID token that expires before its renewal window opens.");if(!I)throw new da("Cannot construct a user ID token without a master token.");if(0>v||v>La)throw new da("Serial number "+v+" is outside the valid range.");z=Math.floor(l.getTime()/1E3);B=Math.floor(r.getTime()/1E3);E=I.serialNumber;if(ba){T=ba.tokendata;Aa=ba.signature;fa=ba.verified;E=I.serialNumber;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:fa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:T,writable:!1,enumerable:!1,configurable:!1},signature:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});return this;}T={};F&&(T.issuerdata=F);T.identity=H;T=Sa(JSON.stringify(T),Ka);ca=h.getMslCryptoContext();ca.encrypt(T,{result:function(l){n(J,function(){var r,T;r={};r.renewalwindow=z;r.expiration=B;r.mtserialnumber=E;r.serialnumber=v;r.userdata=pa(l);T=Sa(JSON.stringify(r),Ka);ca.sign(T,{result:function(l){n(J,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:I.serialNumber,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:T,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(J,function(){h instanceof C&&h.setEntity(I);throw h;},w);}});},w);},error:function(h){n(J,function(){h instanceof C&&h.setEntity(I);throw h;},w);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(h){return h&&h.serialNumber==this.mtSerialNumber;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Xb?this.serialNumber==h.serialNumber&&this.mtSerialNumber==h.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Rb=function(w,r,B,I){n(I,function(){var v,z,H,ba,J;v=w.getMslCryptoContext();z=r.tokendata;H=r.signature;if("string"!==typeof z||"string"!==typeof H)throw new ga(h.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(r)).setEntity(B);try{ba=za(z);}catch(ya){throw new C(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),ya).setEntity(B);}if(!ba||0==ba.length)throw new ga(h.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(r)).setEntity(B);try{J=za(H);}catch(ya){throw new C(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),ya).setEntity(B);}v.verify(ba,J,{result:function(r){n(I,function(){var z,F,E,H,Aa,fa,ca,ua,Ca,Da;fa=Va(ba,Ka);try{ca=JSON.parse(fa);z=parseInt(ca.renewalwindow);F=parseInt(ca.expiration);E=parseInt(ca.mtserialnumber);H=parseInt(ca.serialnumber);Aa=ca.userdata;}catch(ha){if(ha instanceof SyntaxError)throw new ga(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+fa,ha).setEntity(B);throw ha;}if(!z||z!=z||!F||F!=F||"number"!==typeof E||E!=E||"number"!==typeof H||H!=H||"string"!==typeof Aa)throw new ga(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+fa).setEntity(B);if(F<z)throw new C(h.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+fa).setEntity(B);if(0>E||E>La)throw new C(h.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+fa).setEntity(B);if(0>H||H>La)throw new C(h.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+fa).setEntity(B);ua=new Date(1E3*z);Ca=new Date(1E3*F);if(!B||E!=B.serialNumber)throw new C(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+E+"; mt "+JSON.stringify(B)).setEntity(B);try{Da=za(Aa);}catch(ha){throw new C(h.USERIDTOKEN_USERDATA_INVALID,Aa,ha).setEntity(B);}if(!Da||0==Da.length)throw new C(h.USERIDTOKEN_USERDATA_MISSING,Aa).setEntity(B);r?v.decrypt(Da,{result:function(v){n(I,function(){var n,z,F,E,T;F=Va(v,Ka);try{E=JSON.parse(F);n=E.issuerdata;z=E.identity;}catch(g){if(g instanceof SyntaxError)throw new ga(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+F).setEntity(B);throw g;}if(n&&"object"!==typeof n||"object"!==typeof z)throw new ga(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+F).setEntity(B);try{T=ve(z);}catch(g){throw new C(h.USERIDTOKEN_IDENTITY_INVALID,"userdata "+F,g).setEntity(B);}z=new l(ba,J,r);new Xb(w,ua,Ca,B,H,n,T,z,I);});},error:function(h){n(I,function(){h instanceof C&&h.setEntity(B);throw h;});}}):(z=new l(ba,J,r),new Xb(w,ua,Ca,B,H,null,null,z,I));});},error:function(h){n(I,function(){h instanceof C&&h.setEntity(B);throw h;});}});});};}());(function(){function l(l,n){var w,v,r;w=l.tokendata;if("string"!==typeof w)throw new ga(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));try{v=za(w);}catch(Ca){throw new C(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(l),Ca);}if(!v||0==v.length)throw new ga(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(l));try{r=JSON.parse(Va(v,Ka)).name;}catch(Ca){if(Ca instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l),Ca);throw Ca;}if(!r)throw new ga(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));return n[r]?n[r]:n[""];}function w(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Ib=oa.Class.create({init:function(h,l,w,v,r,H,ba,J,Q,aa){var z;z=this;n(aa,function(){var F,B,I,fa,ca;if(v&&r&&!r.isBoundTo(v))throw new da("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");F=v?v.serialNumber:-1;B=r?r.serialNumber:-1;if(Q)return ca=Q.tokendata,Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:Q.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:Q.signature,writable:!1,enumerable:!1,configurable:!1}}),this;ba?(I=qd(ba,w),I.length<w.length||(ba=null,I=w)):(ba=null,I=w);fa={};fa.name=l;-1!=F&&(fa.mtserialnumber=F);-1!=B&&(fa.uitserialnumber=B);fa.encrypted=H;ba&&(fa.compressionalgo=ba);if(H&&0<I.length)J.encrypt(I,{result:function(E){n(aa,function(){var I;fa.servicedata=pa(E);I=Sa(JSON.stringify(fa),Ka);J.sign(I,{result:function(v){n(aa,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:I,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(h){n(aa,function(){h instanceof C&&(h.setEntity(v),h.setUser(r));throw h;});}});},z);},error:function(h){n(aa,function(){h instanceof C&&(h.setEntity(v),h.setUser(r));throw h;});}});else{fa.servicedata=pa(I);ca=Sa(JSON.stringify(fa),Ka);J.sign(ca,{result:function(v){n(aa,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(h){n(aa,function(){h instanceof C&&(h.setEntity(v),h.setUser(r));throw h;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(h){return h?h instanceof gb?h.serialNumber==this.mtSerialNumber:h instanceof Xb?h.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Ib?this.name==h.name&&this.mtSerialNumber==h.mtSerialNumber&&this.uitSerialNumber==h.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Ab=function(h,l,n,v,w,r,H,C,J){new Ib(h,l,n,v,w,r,H,C,null,J);};Hc=function(r,B,I,v,F,H){n(H,function(){var z,J,Q,aa,na,E,T,Aa,fa,ca,ua,Ca,ta;!F||F instanceof Yb||(F=l(B,F));z=B.tokendata;J=B.signature;if("string"!==typeof z||"string"!==typeof J)throw new ga(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(B)).setEntity(I).setEntity(v);try{Q=za(z);}catch(ha){throw new C(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(B),ha).setEntity(I).setEntity(v);}if(!Q||0==Q.length)throw new ga(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(B)).setEntity(I).setEntity(v);try{aa=za(J);}catch(ha){throw new C(h.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(B),ha).setEntity(I).setEntity(v);}ua=Va(Q,Ka);try{Ca=JSON.parse(ua);na=Ca.name;E=Ca.mtserialnumber?parseInt(Ca.mtserialnumber):-1;T=Ca.uitserialnumber?parseInt(Ca.uitserialnumber):-1;Aa=Ca.encrypted;fa=Ca.compressionalgo;ca=Ca.servicedata;}catch(ha){if(ha instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"servicetokendata "+ua,ha).setEntity(I).setEntity(v);throw ha;}if(!na||"number"!==typeof E||E!=E||"number"!==typeof T||T!=T||"boolean"!==typeof Aa||fa&&"string"!==typeof fa||"string"!==typeof ca)throw new ga(h.JSON_PARSE_ERROR,"servicetokendata "+ua).setEntity(I).setEntity(v);if(Ca.mtserialnumber&&0>E||E>La)throw new C(h.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(I).setEntity(v);if(Ca.uitserialnumber&&0>T||T>La)throw new C(h.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(I).setEntity(v);if(-1!=E&&(!I||E!=I.serialNumber))throw new C(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+E+"; mt "+I).setEntity(I).setEntity(v);if(-1!=T&&(!v||T!=v.serialNumber))throw new C(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+T+"; uit "+v).setEntity(I).setEntity(v);Aa=!0===Aa;if(fa){if(!Mb[fa])throw new C(h.UNIDENTIFIED_COMPRESSION,fa);ta=fa;}else ta=null;F?F.verify(Q,aa,{result:function(l){n(H,function(){var z,B;if(l){try{z=za(ca);}catch(jd){throw new C(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua,jd).setEntity(I).setEntity(v);}if(!z||0!=ca.length&&0==z.length)throw new C(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua).setEntity(I).setEntity(v);if(Aa&&0<z.length)F.decrypt(z,{result:function(h){n(H,function(){var n,z;n=ta?Ic(ta,h):h;z=new w(Q,aa,l);new Ib(r,na,n,-1!=E?I:null,-1!=T?v:null,Aa,ta,F,z,H);});},error:function(h){n(H,function(){h instanceof C&&(h.setEntity(I),h.setUser(v));throw h;});}});else{z=ta?Ic(ta,z):z;B=new w(Q,aa,l);new Ib(r,na,z,-1!=E?I:null,-1!=T?v:null,Aa,ta,F,B,H);}}else z=""==ca?new Uint8Array(0):null,B=new w(Q,aa,l),new Ib(r,na,z,-1!=E?I:null,-1!=T?v:null,Aa,ta,F,B,H);});},error:function(h){n(H,function(){h instanceof C&&(h.setEntity(I),h.setUser(v));throw h;});}}):(z=""==ca?new Uint8Array(0):null,J=new w(Q,aa,!1),new Ib(r,na,z,-1!=E?I:null,-1!=T?v:null,Aa,ta,F,J,H));});};}());cb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(cb);(function(){Eb=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Eb?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});ke=function(l,w,r,B){n(B,function(){var n,v,z;n=r.scheme;v=r.authdata;if(!n||!v)throw new ga(h.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(r));if(!cb[n])throw new Ea(h.UNIDENTIFIED_USERAUTH_SCHEME,n);z=l.getUserAuthenticationFactory(n);if(!z)throw new Ea(h.USERAUTH_FACTORY_NOT_FOUND,n);z.createData(l,w,v,B);});};}());lc=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,l,n,r){},authenticate:function(h,l,n,r){}});(function(){Ub=Eb.extend({init:function w(h,l){w.base.call(this,cb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:h,writable:!1,configurable:!1},secureNetflixId:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.netflixid=this.netflixId;this.secureNetflixId&&(h.securenetflixid=this.secureNetflixId);return h;},equals:function z(h){return this===h?!0:h instanceof Ub?z.base.call(this,h)&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId:!1;}});we=function(l){var n,r;n=l.netflixid;r=l.securenetflixid;if(!n)throw new ga(h.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(l));return new Ub(n,r);};}());cf=lc.extend({init:function w(){w.base.call(this,cb.NETFLIXID);},createData:function(h,l,r,I){n(I,function(){return we(r);});},authenticate:function(l,n,r,I){if(!(r instanceof Ub))throw new da("Incorrect authentication data type "+r+".");l=r.secureNetflixId;if(!r.netflixId||!l)throw new Ea(h.NETFLIXID_COOKIES_BLANK).setUser(r);throw new Ea(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){mc=Eb.extend({init:function z(h,l){z.base.call(this,cb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:h,writable:!1,configurable:!1},password:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.email=this.email;h.password=this.password;return h;},equals:function B(h){return this===h?!0:h instanceof mc?B.base.call(this,this,h)&&this.email==h.email&&this.password==h.password:!1;}});xe=function(l){var n,v;n=l.email;v=l.password;if(!n||!v)throw new ga(h.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(l));return new mc(n,v);};}());df=lc.extend({init:function z(){z.base.call(this,cb.EMAIL_PASSWORD);},createData:function(h,l,r,v){n(v,function(){return xe(r);});},authenticate:function(l,n,r,v){if(!(r instanceof mc))throw new da("Incorrect authentication data type "+r+".");l=r.password;if(!r.email||!l)throw new Ea(h.EMAILPASSWORD_BLANK).setUser(r);throw new Ea(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){var v,F,J,ba,Da,ya,aa,na;function l(h,l){return"<"+h+">"+l+"</"+h+">";}function r(h){return h.replace(/[<>&"']/g,function(h){return Da[h];});}function I(h){return encodeURIComponent(h).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}v=Lc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};F=oa.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});J=sd=F.extend({init:function(l,v,r,z,F,B,I){var J;function E(z){n(I,function(){var n,B;try{B={};B.useridtoken=l;B.action=v;B.nonce=r;B.pin=pa(z);n=Sa(JSON.stringify(B),Ka);}catch(Hb){throw new ga(h.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Hb);}F.sign(n,{result:function(h){C(n,h);},error:I.error});},J);}function C(h,F){n(I,function(){Object.defineProperties(this,{_userIdToken:{value:l,writable:!1,enumerable:!1,configurable:!1},_action:{value:v,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:r,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:h,writable:!1,enumerable:!1,configurable:!1},_signature:{value:F,writable:!1,enumerable:!1,configurable:!1}});return this;},J);}J=this;n(I,function(){B?C(B.encoding,B.signature):F.encrypt(Sa(z,Ka),{result:function(h){E(h);},error:I.error});},J);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof J?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin&&this._userIdToken.equals(h._userIdToken):!1;}});sd.ACTION="userauth";ba=function(l,v,r,z,F){function B(z){n(F,function(){var B,I,J,T,aa,ba;B=Va(r,Ka);try{ba=JSON.parse(B);I=ba.useridtoken;J=ba.action;T=ba.nonce;aa=ba.pin;}catch(g){if(g instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+B,g);throw g;}if(!(I&&"object"===typeof I&&J&&"string"===typeof J&&T&&"number"===typeof T&&aa)||"string"!==typeof aa)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+B);Rb(l,I,v,{result:function(g){n(F,function(){if(!g.isDecrypted())throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+B);E(z,g,J,T,aa);});},error:function(g){n(F,function(){if(g instanceof C)throw new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+B,g);throw g;});}});});}function E(h,l,v,B,E){n(F,function(){var I;I=za(E);h.decrypt(I,{result:function(h){n(F,function(){var g;g=Va(h,Ka);new J(l,v,B,g,null,{encoding:r,signature:z},F);});},error:F.error});});}n(F,function(){var E,I;try{I=l.getMslStore().getCryptoContext(v);E=I?I:new hb(l,v);}catch(tb){if(tb instanceof Ob)throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+pa(r));throw tb;}E.verify(r,z,{result:function(l){n(F,function(){if(!l)throw new Q(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(r));B(E);});},error:F.error});});};Da={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};ya=nc=F.extend({init:function(h,n,v,z){var F,B;F=l("action",r(h));B=l("nonce",n.toString());v=l("pin",v);F=l("registerdata",F+B+v);F=Sa(F,"utf-8");Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:n,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:F,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof ya?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});nc.ACTION="regpairrequest";aa=td=F.extend({init:function(h,v,z,F,B,C){var aa;function E(z){n(C,function(){var n,B,E,aa,g;n=pa(z);B=l("action",r(h));E=l("nonce",v.toString());aa=l("pin",n);B=l("registerdata",B+E+aa);g=Sa(B,"utf-8");n="action="+I(h)+"&nonce="+I(v.toString())+"&pin="+I(n);F.sign(Sa(n,"utf-8"),{result:function(d){J(g,d);},error:C.error});},aa);}function J(l,r){n(C,function(){Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:v,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:l,writable:!1,enumerable:!1,configurable:!1},_signature:{value:r,writable:!1,enumerable:!1,configurable:!1}});return this;},aa);}aa=this;n(C,function(){B?J(B.encoding,B.signature):F.encrypt(Sa(z,"utf-8"),{result:function(h){E(h);},error:C.error});},aa);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof aa?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});td.ACTION=nc.ACTION;na=function(l,v,r,z,F){n(F,function(){var B,E,C,J,ba,T,fa;B=l.getMslStore().getCryptoContext(v);E=B?B:new hb(l,v);B=Va(r,"utf-8");C=new DOMParser().parseFromString(B,"application/xml");B=C.getElementsByTagName("action");J=C.getElementsByTagName("nonce");C=C.getElementsByTagName("pin");ba=B&&1==B.length&&B[0].firstChild?B[0].firstChild.nodeValue:null;T=J&&1==J.length&&J[0].firstChild?parseInt(J[0].firstChild.nodeValue):null;fa=C&&1==C.length&&C[0].firstChild?C[0].firstChild.nodeValue:null;if(!ba||!T||!fa)throw new ga(h.XML_PARSE_ERROR,"MDX authdata "+pa(r));B="action="+I(ba)+"&nonce="+I(T.toString())+"&pin="+I(fa);E.verify(Sa(B,"utf-8"),z,{result:function(l){n(F,function(){var v;if(!l)throw new Q(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(r));v=za(fa);E.decrypt(v,{result:function(g){n(F,function(){var d;d=Va(g,"utf-8");new aa(ba,T,d,null,{encoding:r,signature:z},F);});},error:F.error});});},error:F.error});});};ac=Eb.extend({init:function T(h,l,n,r,z,F){var B,I,C,aa,ba,fa;T.base.call(this,cb.MDX);B=null;I=null;C=null;if("string"===typeof n)h=v.MSL_LEGACY,C=n;else if(n instanceof Uint8Array)h=v.NTBA,I=n;else if(n instanceof gb)h=v.MSL,B=n;else throw new TypeError("Controller token "+n+" is not a master token, encrypted CTicket, or MSL token construct.");aa=n=null;ba=null;if(F){fa=F.controllerAuthData;n=fa.getAction();aa=fa.getPin();F=F.userIdToken;fa instanceof J?ba=fa.getUserIdToken().customer:F&&(ba=F.customer);}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},action:{value:n,writable:!1,configurable:!1},targetPin:{value:l,writable:!1,configurable:!1},controllerPin:{value:aa,writable:!1,configurable:!1},customer:{value:ba,writable:!1,configurable:!1},_masterToken:{value:B,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:I,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:C,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:r,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var h,l;h={};switch(this.mechanism){case v.MSL:l=JSON.parse(JSON.stringify(this._masterToken));h.mastertoken=l;break;case v.NTBA:l=Va(this._encryptedCTicket,"utf-8");h.cticket=l;break;case v.MSL_LEGACY:h.cticket=this._mslTokens;break;default:throw new da("Unsupported MDX mechanism.");}h.pin=this.targetPin;h.mdxauthdata=pa(this._controllerEncoding);h.signature=pa(this._signature);return h;},equals:function Aa(h){return this===h?!0:h instanceof ac?Aa.base.call(this,h)&&(this._masterToken==h._masterToken||this._masterToken&&this._masterToken.equals(h._masterToken))&&(this._encryptedCTicket==h._encryptedCTicket||this._encryptedCTicket&&$a(this._encryptedCTicket,h._encryptedCTicket))&&this._mslTokens==h._mslTokens&&$a(this._controllerEncoding,h._controllerEncoding)&&$a(this._signature,h._signature):!1;}});ye=function(l,v,r){function z(z,F,B,I){Qb(l,F,{result:function(F){n(r,function(){if(!F.isDecrypted())throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());ba(l,F,B,I,{result:function(h){n(r,function(){var g,d;g=h.getEncoding();d=h.getSignature();return new ac(l,z,F,g,d,{controllerAuthData:h,userIdToken:null});});},error:r.error});});},error:function(l){n(r,function(){if(l instanceof C)throw new Ea(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),l);throw l;});}});}function F(l,v,z,F){n(r,function(){throw new Ea(h.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function B(z,F,B,I){function J(g,d){n(d,function(){var a,b;try{a=za(g);}catch(f){throw new Ea(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),f);}if(!a||0==a.length)throw new Ea(h.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{b=JSON.parse(Va(a,"utf-8"));Qb(l,b,{result:function(a){n(d,function(){if(!a.isDecrypted())throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());return a;});},error:function(a){n(d,function(){if(a instanceof C)throw new Ea(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),a);throw a;});}});}catch(f){if(f instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),f);throw f;}});}function aa(g,d,a){n(a,function(){var b,f;try{b=za(g);}catch(u){throw new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),u);}if(!b||0==b.length)throw new Ea(h.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{f=JSON.parse(Va(b,"utf-8"));Rb(l,f,d,{result:function(b){n(a,function(){if(!b.isDecrypted())throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v));return b;});},error:function(b){n(a,function(){if(b instanceof C)throw new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),b);throw b;});}});}catch(u){if(u instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),u);throw u;}});}n(r,function(){var g;g=F.split(",");if(3!=g.length||"1"!=g[0])throw new Ea(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));J(g[1],{result:function(d){aa(g[2],d,{result:function(a){na(l,d,B,I,{result:function(b){n(r,function(){return new ac(l,z,F,B,I,{controllerAuthData:b,userIdToken:a});});},error:function(a){n(r,function(){if(a instanceof Ob)throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v),a);throw a;});}});},error:r.error});},error:r.error});});}n(r,function(){var l,n,r,I,C;l=v.pin;n=v.mdxauthdata;r=v.signature;if(!l||"string"!==typeof l||!n||"string"!==typeof n||!r||"string"!==typeof r)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));try{I=za(n);C=za(r);}catch(Hb){throw new Ea(h.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(v),Hb);}if(v.mastertoken){n=v.mastertoken;if(!n||"object"!==typeof n)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));z(l,n,I,C);}else if(v.cticket){n=v.cticket;if(!n||"string"!==typeof n)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));-1==n.indexOf(",")?F(l,n,I,C):B(l,n,I,C);}else throw new Ea(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));});};}());(function(){var l,n,r;l=sd.ACTION;n=nc.ACTION;r=td.ACTION;ze=lc.extend({init:function F(){F.base.call(this,cb.MDX);},createData:function(h,l,n,r){ye(h,n,r);},authenticate:function(z,B,I,C){if(!(I instanceof ac))throw new da("Incorrect authentication data type "+I.getClass().getName()+".");z=I.action;switch(I.mechanism){case Lc.MSL:if(l!=z)throw new Ea(h.MDX_USERAUTH_ACTION_INVALID).setUser(I);break;case Lc.NTBA:if(n!=z)throw new Ea(h.MDX_USERAUTH_ACTION_INVALID).setUser(I);break;case Lc.MSL_LEGACY:if(r!=z)throw new Ea(h.MDX_USERAUTH_ACTION_INVALID).setUser(I);}z=I.controllerPin;B=I.targetPin;if(!z||!B)throw new Ea(h.MDX_PIN_BLANK).setUser(I);if(z!=B)throw new Ea(h.MDX_PIN_MISMATCH).setUser(I);z=I.customer;if(!z)throw new Ea(h.MDX_USER_UNKNOWN).setUser(I);if(C&&(C=C.customer,!z.equals(C)))throw new Ea(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+z+"; uit customer "+C).setUser(I);return z;}});}());(function(){var l,n,r;l={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};n=Be=oa.Class.create({init:function(h,l){Object.defineProperties(this,{email:{value:h,writable:!1,enumerable:!0,configurable:!1},password:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});r=Ce=oa.Class.create({init:function(h,l){Object.defineProperties(this,{netflixId:{value:h,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});oc=Eb.extend({init:function F(h,l,z,B){var I,C,E,J;F.base.call(this,cb.SSO);I=null;C=null;E=null;J=null;z instanceof n?(I=z.email,C=z.password):z instanceof r&&(E=z.netflixId,J=z.secureNetflixId);Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},token:{value:l,writable:!1,configurable:!1},email:{value:I,writable:!1,configurable:!1},password:{value:C,writable:!1,configurable:!1},netflixId:{value:E,writable:!1,configurable:!1},secureNetflixId:{value:J,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof B?null:B,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.mechanism=this.mechanism;h.token=pa(this.token);this.email&&this.password?(h.email=this.email,h.password=this.password):this.netflixId&&this.secureNetflixId&&(h.netflixid=this.netflixId,h.securenetflixid=this.secureNetflixId);this.profileGuid&&(h.profileguid=this.profileGuid);return h;},equals:function Ca(h){return this===h?!0:h instanceof oc?Ca.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.token,h.token)&&this.email==h.email&&this.password==h.password&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId&&this.profileGuid==h.profileGuid:!1;}});Ae=function(z){var B,I,C,J,na,E,T,Q,fa;B=z.mechanism;I=z.token;if(!B||!I||"string"!==typeof I)throw new ga(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(z));if(!l[B])throw new Ea(h.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(z));C=z.email;J=z.password;na=z.netflixid;E=z.securenetflixid;T=z.profileguid;if(C&&!J||!C&&J||na&&!E||!na&&E||C&&na)throw new ga(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(z));try{Q=za(I);}catch(ca){throw new Ea(h.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(z),ca);}C&&J?fa=new n(C,J):na&&E&&(fa=new r(na,E));return new oc(B,Q,fa,T);};}());ef=lc.extend({init:function B(){B.base.call(this,cb.SSO);},createData:function(h,l,v,r){n(r,function(){return Ae(v);});},authenticate:function(l,n,v,r){var F,B;if(!(v instanceof oc))throw new da("Incorrect authentication data type "+v+".");l=v.token;n=v.email;r=v.password;F=v.netflixId;B=v.secureNetflixId;if(!l||0==l.length)throw new Ea(h.SSOTOKEN_BLANK);if(!(null===n&&null===r||n&&r))throw new Ea(h.EMAILPASSWORD_BLANK);if(!(null===F&&null===B||F&&B))throw new Ea(h.NETFLIXID_COOKIES_BLANK).setUser(v);throw new Ea(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(v);}});(function(){pc=Eb.extend({init:function I(h,l){I.base.call(this,cb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:h,writable:!1,configurable:!1},profileGuid:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));h.profileguid=this.profileGuid;return h;},equals:function v(h){return this==h?!0:h instanceof pc?v.base.call(this,h)&&this.userIdToken.equals(h.userIdToken)&&this.profileGuid==h.profileGuid:!1;}});De=function(l,r,C,J){n(J,function(){var v,F;if(!r)throw new Ea(h.USERAUTH_MASTERTOKEN_MISSING);v=C.useridtoken;F=C.profileguid;if("object"!==typeof v||"string"!==typeof F)throw new ga(h.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(C));Rb(l,v,r,{result:function(l){n(J,function(){if(!l.isDecrypted())throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(C));return new pc(l,F);});},error:function(l){J.error(new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(C),l));}});});};}());ff=lc.extend({init:function I(h){I.base.call(this,cb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,l,n,r){De(h,l,n,r);},authenticate:function(l,n,r,C){if(!(r instanceof pc))throw new da("Incorrect authentication data type "+r+".");n=r.userIdToken;l=r.profileGuid;if(!l)throw new Ea(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(r);n=n.user;if(!n)throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(r);l=this._store.switchUsers(n,l);if(!l)throw new Ea(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(r);if(C&&(C=C.user,!l.equals(C)))throw new Ea(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+l+"; uit user "+C).setUserAuthenticationData(r);return l;}});Object.freeze({ENTITY_REAUTH:l.ENTITY_REAUTH,ENTITYDATA_REAUTH:l.ENTITYDATA_REAUTH});gf=oa.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(h,l){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(h){},getUserAuthenticationFactory:function(h){},getTokenFactory:function(){},getKeyExchangeFactory:function(h){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ee=oa.Class.create({setCryptoContext:function(h,l){},getMasterToken:function(){},getNonReplayableId:function(h){},getCryptoContext:function(h){},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(h,l){},removeServiceTokens:function(h,l,n){},clearServiceTokens:function(){}});(function(){var l;l=Mb;qd=function(n,r){var v;v={};switch(n){case l.LZW:return Gd(r,v);case l.GZIP:return gzip$compress(r);default:throw new C(h.UNSUPPORTED_COMPRESSION,n);}};Ic=function(n,r,I){switch(n){case l.LZW:return Hd(r);case l.GZIP:return gzip$uncompress(r);default:throw new C(h.UNSUPPORTED_COMPRESSION,n.name());}};}());Ee.extend({setCryptoContext:function(h,l){},getMasterToken:function(){return null;},getNonReplayableId:function(h){return 1;},getCryptoContext:function(h){return null;},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){return null;},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(l,n){if(n){if(!l)throw new C(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new C(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}return[];},removeServiceTokens:function(l,n,r){if(r&&n&&!r.isBoundTo(n))throw new C(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.masterTokenSerialNumber+"; mt "+n.serialNumber);},clearServiceTokens:function(){}});(function(){Fe=Ee.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(h,l){var n;if(l){n=h.uniqueKey();this.masterTokens[n]=h;this.cryptoContexts[n]=l;}else this.removeCryptoContext(h);},getMasterToken:function(){var h,l,n;h=null;for(l in this.masterTokens){n=this.masterTokens[l];if(!h||n.isNewerThan(h))h=n;}return h;},getNonReplayableId:function(h){var l;h=h.serialNumber;l=this.nonReplayableIds[h]!==ma?this.nonReplayableIds[h]:0;if(0>l||l>La)throw new da("Non-replayable ID "+l+" is outside the valid range.");l=l==La?0:l+1;return this.nonReplayableIds[h]=l;},getCryptoContext:function(h){return this.cryptoContexts[h.uniqueKey()];},removeCryptoContext:function(h){var l,n;l=h.uniqueKey();if(this.masterTokens[l]){delete this.masterTokens[l];delete this.cryptoContexts[l];l=h.serialNumber;for(n in this.masterTokens)if(this.masterTokens[n].serialNumber==l)return;delete this.nonReplayableIds[l];Object.keys(this.userIdTokens).forEach(function(l){l=this.userIdTokens[l];l.isBoundTo(h)&&this.removeUserIdToken(l);},this);try{this.removeServiceTokens(null,h,null);}catch(ba){if(ba instanceof C)throw new da("Unexpected exception while removing master token bound service tokens.",ba);throw ba;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);},addUserIdToken:function(l,n){var r,v;r=!1;for(v in this.masterTokens)if(n.isBoundTo(this.masterTokens[v])){r=!0;break;}if(!r)throw new C(h.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+n.mtSerialNumber);this.userIdTokens[l]=n;},getUserIdToken:function(h){return this.userIdTokens[h];},removeUserIdToken:function(h){var l,n,r;l=null;for(n in this.masterTokens){r=this.masterTokens[n];if(h.isBoundTo(r)){l=r;break;}}Object.keys(this.userIdTokens).forEach(function(n){if(this.userIdTokens[n].equals(h)){delete this.userIdTokens[n];try{this.removeServiceTokens(null,l,h);}catch(ya){if(ya instanceof C)throw new da("Unexpected exception while removing user ID token bound service tokens.",ya);throw ya;}}},this);},clearUserIdTokens:function(){var l;for(var h in this.userIdTokens){l=this.userIdTokens[h];try{this.removeServiceTokens(null,null,l);}catch(Ca){if(Ca instanceof C)throw new da("Unexpected exception while removing user ID token bound service tokens.",Ca);throw Ca;}delete this.userIdTokens[h];}},addServiceTokens:function(l){l.forEach(function(l){var n,r,v;if(l.isUnbound())this.unboundServiceTokens[l.uniqueKey()]=l;else{if(l.isMasterTokenBound()){n=!1;for(r in this.masterTokens)if(l.isBoundTo(this.masterTokens[r])){n=!0;break;}if(!n)throw new C(h.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+l.mtSerialNumber);}if(l.isUserIdTokenBound()){n=!1;for(v in this.userIdTokens)if(l.isBoundTo(this.userIdTokens[v])){n=!0;break;}if(!n)throw new C(h.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+l.uitSerialNumber);}l.isMasterTokenBound()&&((v=this.mtServiceTokens[l.mtSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.mtServiceTokens[l.mtSerialNumber]=v);l.isUserIdTokenBound()&&((v=this.uitServiceTokens[l.uitSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.uitServiceTokens[l.uitSerialNumber]=v);}},this);},getServiceTokens:function(l,n){var r,v,F,J;if(n){if(!l)throw new C(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new C(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}r={};for(v in this.unboundServiceTokens){F=this.unboundServiceTokens[v];r[F.uniqueKey()]=F;}if(l&&(F=this.mtServiceTokens[l.serialNumber]))for(v in F){J=F[v];J.isUserIdTokenBound()||(r[v]=J);}if(n&&(F=this.uitServiceTokens[n.serialNumber]))for(v in F)J=F[v],J.isBoundTo(l)&&(r[v]=J);F=[];for(v in r)F.push(r[v]);return F;},removeServiceTokens:function(l,n,r){var F,J,na;if(r&&n&&!r.isBoundTo(n))throw new C(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+n.serialNumber);if(l&&!n&&!r){Object.keys(this.unboundServiceTokens).forEach(function(h){this.unboundServiceTokens[h].name==l&&delete this.unboundServiceTokens[h];},this);for(var v in this.mtServiceTokens){F=this.mtServiceTokens[v];J=Object.keys(F);J.forEach(function(h){F[h].name==l&&delete F[h];},this);this.mtServiceTokens[v]=F;}for(var aa in this.uitServiceTokens)F=this.uitServiceTokens[aa],v=Object.keys(F),v.forEach(function(h){F[h].name==l&&delete F[h];},this),this.uitServiceTokens[aa]=F;}if(n&&!r){if(F=this.mtServiceTokens[n.serialNumber])J=Object.keys(F),J.forEach(function(h){var n;n=F[h];l&&n.name!=l||delete F[h];},this),this.mtServiceTokens[n.serialNumber]=F;for(aa in this.uitServiceTokens){na=this.uitServiceTokens[aa];v=Object.keys(na);v.forEach(function(h){var r;r=na[h];l&&r.name!=l||r.isBoundTo(n)&&delete na[h];},this);this.uitServiceTokens[aa]=na;}}r&&(F=this.uitServiceTokens[r.serialNumber])&&(v=Object.keys(F),v.forEach(function(h){var r;r=F[h];l&&r.name!=l||n&&!r.isBoundTo(n)||delete F[h];},this),this.uitServiceTokens[r.serialNumber]=F);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);}});}());Qe=$e.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(h,l){var n;if(l&&h&&h.length){n=pa(h);this._contextMap[n]=l;}},getCryptoContext:function(h){return h&&h.length?(h=pa(h),this._contextMap[h]||null):null;},removeCryptoContext:function(h){h&&h.length&&(h=pa(h),delete this._contextMap[h]);}});Ge=Te.extend({init:function F(h,l,n,r){F.base.call(this,h);Object.defineProperties(this,{_kde:{value:l,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof lb))throw new da("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new ub(h.ENTITY_NOT_FOUND,"mgk "+n.identity);return new Bc(l,this.localIdentity,this._kde,this._kdh,this._kdw);}});hf=Rd.extend({init:function Ca(h,l,n,r){Ca.base.call(this,h);Object.defineProperties(this,{_kpe:{value:l,writable:!1,enumerable:!1,configurable:!1},_kph:{value:n,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof rb))throw new da("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new ub(h.ENTITY_NOT_FOUND,"psk "+n.identity);return new Bc(l,this.localIdentity,this._kpe,this._kph,this._kpw);}});kf=Fe.extend({init:function ba(h,l,n,r,E,C){ba.base.call(this);this._log=h;this._esn=l;this._keyRequestData=n;this._createKeyRequestData=r;this._systemKeyName=E;this._systemKeyWrapFormat=C;},setCryptoContext:function Da(h,l,n){var r;r=this;r._log.trace("Adding MasterToken",{SequenceNumber:h.sequenceNumber,SerialNumber:h.serialNumber,Expiration:h.expiration.getTime()});Da.base.call(this,h,l);!n&&(h=r._createKeyRequestData)&&(r._log.trace("Generating new keyx request data"),h().then(function(h){r._keyRequestData=h;},function(h){r._log.error("Unable to generate new keyx request data",""+h);}));},addUserIdToken:function ya(h,l){this._log.trace("Adding UserIdToken",{UserId:h,SerialNumber:l.serialNumber,MTSerialNumber:l.mtSerialNumber,Expiration:l.expiration.getTime()});ya.base.call(this,h,l);},addServiceTokens:function aa(h){aa.base.call(this,h.filter(function(h){return!jf[h.name];}));},getUserIdTokenKeys:function(){var h,l;h=[];for(l in this.userIdTokens)h.push(l);return h;},rekeyUserIdToken:function(h,l){this.userIdTokens[h]&&(this.userIdTokens[l]=this.userIdTokens[h],delete this.userIdTokens[h]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(h){var l;l=this;n(h,function(){var r;r=l.getMasterToken();r?l.getKeysForStore(r,{result:function(E){n(h,function(){var h,n,C;h=l.userIdTokens;n=Object.keys(h).map(function(n){var E;E=h[n];return{userId:n,userIdTokenJSON:h[n].toJSON(),serviceTokenJSONList:l.getServiceTokens(r,E).map(Ne)};});E.esn=l._esn;E.masterTokenJSON=r.toJSON();E.userList=n;C=l._keyRequestData.storeData;C&&Object.keys(C).forEach(function(h){E[h]=C[h];});return E;});},timeout:h.timeout,error:h.error}):h.result(null);});},getKeysForStore:function(l,r){var E;E=this;n(r,function(){var n;n=E.getCryptoContext(l);n={encryptionKey:n.encryptionKey,hmacKey:n.hmacKey};if(n.encryptionKey&&n.hmacKey)if(E._systemKeyWrapFormat)E.wrapKeysWithSystemKey(n,r);else return n;else throw new C(h.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(l,r){var E;E=this;Ad(this._systemKeyName,{result:function(J){n(r,function(){var n,aa,T,Q;n=l.encryptionKey;aa=l.hmacKey;T=n[bc];Q=aa[bc];if(T&&Q)return{wrappedEncryptionKey:T,wrappedHmacKey:Q};Promise.resolve().then(function(){return Promise.all([Ia.wrapKey(E._systemKeyWrapFormat,n,J,J.algorithm),Ia.wrapKey(E._systemKeyWrapFormat,aa,J,J.algorithm)]);}).then(function(h){T=pa(h[0]);n[bc]=T;Q=pa(h[1]);aa[bc]=Q;r.result({wrappedEncryptionKey:T,wrappedHmacKey:Q});})["catch"](function(l){r.error(new C(h.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},unwrapKeysWithSystemKey:function(l,r){var E;E=this;Ad(this._systemKeyName,{result:function(J){n(r,function(){var n,aa;n=za(l.wrappedEncryptionKey);aa=za(l.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ia.unwrapKey(E._systemKeyWrapFormat,n,J,J.algorithm,pb,!1,Fb),Ia.unwrapKey(E._systemKeyWrapFormat,aa,J,J.algorithm,qb,!1,Pb)]);}).then(function(h){var n;n=h[0];h=h[1];n[bc]=l.wrappedEncryptionKey;h[bc]=l.wrappedHmacKey;r.result({encryptionKey:n,hmacKey:h});})["catch"](function(l){r.error(new C(h.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},loadStoreState:function(h,l,n,r){var J,aa;function E(h,r){var E;try{E=n.userList.slice();}catch(tb){}E?function Db(){var n;n=E.shift();n?Rb(l,n.userIdTokenJSON,h,{result:function(l){try{J.addUserIdToken(n.userId,l);C(h,l,n.serviceTokenJSONList,{result:Db,timeout:Db,error:Db});}catch(Hb){Db();}},timeout:Db,error:Db}):r.result();}():r.result();}function C(h,n,r,E){var C,aa;try{C=r.slice();}catch(qa){}if(C){aa=J.getCryptoContext(h);(function Hb(){var g;g=C.shift();g?Hc(l,g,h,n,aa,{result:function(d){J.addServiceTokens([d]);Hb();},timeout:function(){Hb();},error:function(){Hb();}}):E.result();}());}else E.result();}J=this;aa=J._log;n.esn!=J._esn?(aa.error("Esn mismatch, starting fresh"),r.error()):function(r){var T,Q,fa,ca;function E(){var n;if(!T&&Q&&fa&&ca){T=!0;n=new hb(l,Q,h.esn,{rawKey:fa},{rawKey:ca});J.setCryptoContext(Q,n,!0);r.result(Q);}}function C(h,g){aa.error(h,g&&""+g);T||(T=!0,r.error());}n.masterTokenJSON?(Qb(l,n.masterTokenJSON,{result:function(h){Q=h;E();},timeout:function(){C("Timeout parsing MasterToken");},error:function(h){C("Error parsing MasterToken",h);}}),J._systemKeyWrapFormat?J.unwrapKeysWithSystemKey(n,{result:function(h){fa=h.encryptionKey;ca=h.hmacKey;E();},timeout:function(){C("Timeout unwrapping keys");},error:function(h){C("Error unwrapping keys",h);}}):Promise.resolve().then(function(){return Ia.encrypt({name:pb.name,iv:new Uint8Array(16)},n.encryptionKey,new Uint8Array(1));}).then(function(h){fa=n.encryptionKey;})["catch"](function(h){C("Error loading encryptionKey");}).then(function(){return Ia.sign(qb,n.hmacKey,new Uint8Array(1));}).then(function(h){ca=n.hmacKey;E();})["catch"](function(h){C("Error loading hmacKey");})):C("Persisted store is corrupt");}({result:function(h){E(h,r);},timeout:r.timeout,error:r.error});}});jf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};bc="$netflix$msl$wrapsys";lf=gf.extend({init:function(h,l,n,r,C,J){var E,aa;E=new jc([Mb.LZW]);aa=new Ve();aa.addPublicKey(l,n);r[Oa.RSA]=new Ue(aa);l={};l[cb.EMAIL_PASSWORD]=new df();l[cb.NETFLIXID]=new cf();l[cb.MDX]=new ze();l[cb.SSO]=new ef();l[cb.SWITCH_PROFILE]=new ff();h={_mslCryptoContext:{value:new Se(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:E,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:C,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:r,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:l,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:J,writable:!1,enumerable:!1,configurable:!1},_store:{value:h,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},getTime:function(){return Date.now();},getRandom:function(){return new Ld();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(h,l){l.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(h){return this._entityAuthFactories[h];},getUserAuthenticationFactory:function(h){return this._userAuthFactories[h];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(h){return this._keyExchangeFactories.filter(function(l){return l.scheme==h;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Cd=te.extend({init:function(h,l,n,r){this._log=h;this._mslContext=l;this._mslRequest=n;this._keyRequestData=r;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(h,l,r,C){var E,J;E=this._mslRequest;J=this._mslContext;n(C,function(){var l,n;if(h||!E.shouldSendUserAuthData)return null;if(E.token){E.email?l=new Be(E.email,E.password):E.netflixId&&(l=new Ce(E.netflixId,E.secureNetflixId));n="undefined"===typeof E.profileGuid?null:E.profileGuid;return new oc(E.mechanism,Sa(E.token),l,n);}return E.email?new mc(E.email,E.password):E.netflixId?new Ub(E.netflixId,E.secureNetflixId):E.mdxControllerToken?(l=new nc("regpairrequest",E.mdxNonce,E.mdxEncryptedPinB64,E.mdxSignature).getEncoding(),new ac(J,E.mdxPin,E.mdxControllerToken,l,E.mdxSignature)):E.useNetflixUserAuthData?new Ub():E.profileGuid?(l=E.userId,l=J.getMslStore().userIdTokens[l],new pc(l,E.profileGuid)):r&&E.sendUserAuthIfRequired?new Ub():null;});},getCustomer:function(){return null;},getKeyRequestData:function(h){h.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(h,l,n){var r,E,C,J,aa,Q;r=this._log;E=(this._mslRequest.serviceTokens||[]).slice();C=this._mslContext;l=C.getMslStore();J=h.builder.getMasterToken();aa=this.getUserId();Q=l.getUserIdToken(aa);(function ha(){var l;l=E.shift();if(l)try{l instanceof Ib?(h.addPrimaryServiceToken(l),ha()):Hc(C,l,J,Q,null,{result:function(l){try{h.addPrimaryServiceToken(l);}catch(jd){r.warn("Exception adding service token",""+jd);}ha();},timeout:function(){r.warn("Timeout parsing service token");ha();},error:function(h){r.warn("Error parsing service token",""+h);ha();}});}catch(Db){r.warn("Exception processing service token",""+Db);ha();}else n.result(!0);}());},write:function(h,l,n){var r;r=Sa(this._mslRequest.body);h.write(r,0,r.length,l,{result:function(E){E!=r.length?n.error(new Ya("Not all data was written to output.")):h.flush(l,{result:function(){n.result(!0);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},getDebugContext:function(){this._dc||(this._dc=new mf(this._log,this._mslRequest));return this._dc;}});mf=bf.extend({init:function(h,l){this._log=h;this._mslRequest=l;},sentHeader:function(h){this._log.trace("Sent MSL header",Bd(this._mslRequest,h),h.serviceTokens&&h.serviceTokens.map(Oe).join("\n"));},receivedHeader:function(h){var l,n;l=Bd(this._mslRequest,h);n=h.errorCode;n?this._log.warn("Received MSL error header",l,{errorCode:n,errorMessage:h.errorMessage,internalCode:h.internalCode}):this._log.trace("Received MSL header",l);}});He={PSK:function(h){return Tc(h,Oa.PSK,hf,rb,kd,Fc);},MGK:function(h){return Tc(h,Oa.MGK,Ge,lb,kd,Fc);},MGK_WITH_FALLBACK:function(l){var n,r;switch(l.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":n="PSK";break;default:n="MGK";}r=He[n];if(!r)throw new C(h.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+n);return r(l);},MGK_JWE:function(h){return Tc(h,Oa.MGK,Ge,lb,Xd,id);},JWK_RSA:function(h){return Uc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gc.JWK_RSA);},JWK_RSAES:function(h){return Uc(h,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gc.JWK_RSAES);},JWEJS_RSA:function(h){return Uc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gc.JWEJS_RSA);}};J.netflix=J.netflix||{};J.netflix.msl={createMslClient:function(l,n){var r,J,Q,aa,ca;r=l.log;ca=l.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Qa&&Qa.generateKey&&Qa.importKey&&Qa.unwrapKey))throw new C(h.INTERNAL_EXCEPTION,"No WebCrypto");db=Qa.generateKey({name:"AES-CBC",length:128},!0,Fb).then?wc.V2014_02:wc.LEGACY;ca("mslisik");return Ia.importKey("spki",l.serverIdentityKeyData,Md,!1,["verify"]);}).then(function(l){return new Promise(function(n,r){Lb(l,{result:n,error:function(){r(new C(h.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(n){J=n;if(n=He[l.authenticationType])return ca("mslcc"),n(l);throw new C(h.INTERNAL_EXCEPTION,"Invalid authenticationType: "+l.authenticationType);}).then(function(h){var n;Q=new kf(r,l.esn,h.keyRequestData,h.createKeyRequestData,l.authenticationKeyNames.s,l.systemKeyWrapFormat);aa=new lf(Q,l.serverIdentityId,J,h.entityAuthFactories,h.entityAuthData,h.keyExchangeFactories);n=l.storeState;if(n)return ca("mslss"),r.info("Loading store state"),new Promise(function(h,r){Q.loadStoreState(l,aa,n,{result:h,timeout:h,error:h});});r.info("No store state, starting fresh");}).then(function(){var h;h=new ue();ca("msldone");n.result(new Pe(r,h,aa,Q,l.ErrorSubCodes));})["catch"](function(h){n.error(h);});},IHttpLocation:Ye,MslIoException:Ya};(function(){var za,qa,Ea;function h(){h=function(){};qa.Symbol||(qa.Symbol=l);}function l(g){return"jscomp_symbol_"+(g||"")+Ea++;}function n(){var g;h();g=qa.Symbol.iterator;g||(g=qa.Symbol.iterator=qa.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&za(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return r(this);}});n=function(){};}function r(g){var d;d=0;return C(function(){return d<g.length?{done:!1,value:g[d++]}:{done:!0};});}function C(g){n();g={next:g};g[qa.Symbol.iterator]=function(){return this;};return g;}function Q(g){var d;n();h();n();d=g[Symbol.iterator];return d?d.call(g):r(g);}function ca(g,d){var f;function a(){}a.prototype=d.prototype;g.prototype=new a();g.prototype.constructor=g;for(var b in d)if(Object.defineProperties){f=Object.getOwnPropertyDescriptor(d,b);f&&Object.defineProperty(g,b,f);}else g[b]=d[b];}function da(g){if(!(g instanceof Array)){g=Q(g);for(var d,a=[];!(d=g.next()).done;)a.push(d.value);g=a;}return g;}function ga(g,d){var a,f;if(d){a=qa;g=g.split(".");for(var b=0;b<g.length-1;b++){f=g[b];f in a||(a[f]={});a=a[f];}g=g[g.length-1];b=a[g];d=d(b);d!=b&&null!=d&&za(a,g,{configurable:!0,writable:!0,value:d});}}function ma(g,d){return Object.prototype.hasOwnProperty.call(g,d);}function ha(g,d){var a,b;n();g instanceof String&&(g+="");a=0;b={next:function(){var f;if(a<g.length){f=a++;return{value:d(f,g[f]),done:!1};}b.next=function(){return{done:!0,value:void 0};};return b.next();}};b[Symbol.iterator]=function(){return b;};return b;}function oa(g,d,a){if(null==g)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return g+"";}function pa(g,d,a){var u;g instanceof String&&(g=String(g));for(var b=g.length,f=0;f<b;f++){u=g[f];if(d.call(a,u,f,g))return{Ji:f,KW:u};}return{Ji:-1,KW:void 0};}za="function"==typeof Object.defineProperties?Object.defineProperty:function(g,d,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[d]=a.value);};qa="undefined"!=typeof J&&J===this?this:"undefined"!=typeof global&&null!=global?global:this;Ea=0;ga("Object.setPrototypeOf",function(g){return g?g:"object"!=typeof"".__proto__?null:function(d,a){d.__proto__=a;if(d.__proto__!==a)throw new TypeError(d+" is not extensible");return d;};});ga("Object.assign",function(g){return g?g:function(d,a){var f;for(var b=1;b<arguments.length;b++){f=arguments[b];if(f)for(var u in f)ma(f,u)&&(d[u]=f[u]);}return d;};});ga("Object.getOwnPropertySymbols",function(g){return g?g:function(){return[];};});ga("Promise",function(g){var b,f;function d(a){var b;this.NL=0;this.faa=void 0;this.CK=[];b=this.i3();try{a(b.resolve,b.reject);}catch(c){b.reject(c);}}function a(){this.yu=null;}if(g)return g;a.prototype.Fna=function(a){null==this.yu&&(this.yu=[],this.RZa());this.yu.push(a);};a.prototype.RZa=function(){var a;a=this;this.Gna(function(){a.p8a();});};b=qa.setTimeout;a.prototype.Gna=function(a){b(a,0);};a.prototype.p8a=function(){var a,c;for(;this.yu&&this.yu.length;){a=this.yu;this.yu=[];for(var b=0;b<a.length;++b){c=a[b];delete a[b];try{c();}catch(k){this.UZa(k);}}}this.yu=null;};a.prototype.UZa=function(a){this.Gna(function(){throw a;});};d.prototype.i3=function(){var b,c;function a(a){return function(f){c||(c=!0,a.call(b,f));};}b=this;c=!1;return{resolve:a(this.Aob),reject:a(this.S$)};};d.prototype.Aob=function(a){var b;if(a===this)this.S$(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.yqb(a);else{a:switch(typeof a){case"object":b=null!=a;break a;case"function":b=!0;break a;default:b=!1;}b?this.zob(a):this.csa(a);}};d.prototype.zob=function(a){var b;b=void 0;try{b=a.then;}catch(c){this.S$(c);return;}"function"==typeof b?this.zqb(b,a):this.csa(a);};d.prototype.S$=function(a){this.TBa(2,a);};d.prototype.csa=function(a){this.TBa(1,a);};d.prototype.TBa=function(a,b){if(0!=this.NL)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.NL);this.NL=a;this.faa=b;this.q8a();};d.prototype.q8a=function(){if(null!=this.CK){for(var a=this.CK,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.CK=null;}};f=new a();d.prototype.yqb=function(a){var b;b=this.i3();a.xQ(b.resolve,b.reject);};d.prototype.zqb=function(a,b){var c;c=this.i3();try{a.call(b,c.resolve,c.reject);}catch(k){c.reject(k);}};d.prototype.then=function(a,b){var f,p,q;function c(a,c){return"function"==typeof a?function(c){try{f(a(c));}catch(L){p(L);}}:c;}q=new d(function(a,c){f=a;p=c;});this.xQ(c(a,f),c(b,p));return q;};d.prototype["catch"]=function(a){return this.then(void 0,a);};d.prototype.xQ=function(a,b){var k;function c(){switch(k.NL){case 1:a(k.faa);break;case 2:b(k.faa);break;default:throw Error("Unexpected state: "+k.NL);}}k=this;null==this.CK?f.Fna(c):this.CK.push(function(){f.Fna(c);});};d.resolve=function(a){return a instanceof d?a:new d(function(b){b(a);});};d.reject=function(a){return new d(function(b,c){c(a);});};d.race=function(a){return new d(function(b,c){for(var f=Q(a),p=f.next();!p.done;p=f.next())d.resolve(p.value).xQ(b,c);});};d.all=function(a){var b,c;b=Q(a);c=b.next();return c.done?d.resolve([]):new d(function(a,f){var p,A;function k(c){return function(b){p[c]=b;A--;0==A&&a(p);};}p=[];A=0;do p.push(void 0),A++,d.resolve(c.value).xQ(k(p.length-1),f),c=b.next();while(!c.done);});};d.$jscomp$new$AsyncExecutor=function(){return new a();};return d;});ga("Array.prototype.keys",function(g){return g?g:function(){return ha(this,function(d){return d;});};});ga("Math.tanh",function(g){return g?g:function(d){var a;d=Number(d);if(0===d)return d;a=Math.exp(-2*Math.abs(d));a=(1-a)/(1+a);return 0>d?-a:a;};});ga("WeakMap",function(g){var f,u;function d(a){this.CJ=(u+=Math.random()+1).toString();if(a){h();n();a=Q(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1]);}}function a(a){ma(a,f)||za(a,f,{value:{}});}function b(b){var c;c=Object[b];c&&(Object[b]=function(b){a(b);return c(b);});}if(function(){var a,c,b;if(!g||!Object.seal)return!1;try{a=Object.seal({});c=Object.seal({});b=new g([[a,2],[c,3]]);if(2!=b.get(a)||3!=b.get(c))return!1;b["delete"](a);b.set(c,4);return!b.has(a)&&4==b.get(c);}catch(p){return!1;}}())return g;f="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");u=0;d.prototype.set=function(b,c){a(b);if(!ma(b,f))throw Error("WeakMap key fail: "+b);b[f][this.CJ]=c;return this;};d.prototype.get=function(a){return ma(a,f)?a[f][this.CJ]:void 0;};d.prototype.has=function(a){return ma(a,f)&&ma(a[f],this.CJ);};d.prototype["delete"]=function(a){return ma(a,f)&&ma(a[f],this.CJ)?delete a[f][this.CJ]:!1;};return d;});ga("Map",function(g){var u,m;function d(){var a;a={};return a.ei=a.next=a.head=a;}function a(a,b){var c;c=a.Es;return C(function(){if(c){for(;c.head!=a.Es;)c=c.ei;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null;}return{done:!0,value:void 0};});}function b(a,b){var c,f,k;c=b&&typeof b;"object"==c||"function"==c?u.has(b)?c=u.get(b):(c=""+ ++m,u.set(b,c)):c="p_"+b;f=a.ms[c];if(f&&ma(a.ms,c))for(a=0;a<f.length;a++){k=f[a];if(b!==b&&k.key!==k.key||b===k.key)return{id:c,list:f,index:a,ce:k};}return{id:c,list:f,index:-1,ce:void 0};}function f(a){this.ms={};this.Es=d();this.size=0;if(a){a=Q(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1]);}}if(function(){var a,b,f,q;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(Q([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;f=b.entries();q=f.next();if(q.done||q.value[0]!=a||"s"!=q.value[1])return!1;q=f.next();return q.done||4!=q.value[0].x||"t"!=q.value[1]||!f.next().done?!1:!0;}catch(t){return!1;}}())return g;h();n();u=new WeakMap();f.prototype.set=function(a,f){var c;c=b(this,a);c.list||(c.list=this.ms[c.id]=[]);c.ce?c.ce.value=f:(c.ce={next:this.Es,ei:this.Es.ei,head:this.Es,key:a,value:f},c.list.push(c.ce),this.Es.ei.next=c.ce,this.Es.ei=c.ce,this.size++);return this;};f.prototype["delete"]=function(a){a=b(this,a);return a.ce&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.ms[a.id],a.ce.ei.next=a.ce.next,a.ce.next.ei=a.ce.ei,a.ce.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.ms={};this.Es=this.Es.ei=d();this.size=0;};f.prototype.has=function(a){return!!b(this,a).ce;};f.prototype.get=function(a){return(a=b(this,a).ce)&&a.value;};f.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};f.prototype.keys=function(){return a(this,function(a){return a.key;});};f.prototype.values=function(){return a(this,function(a){return a.value;});};f.prototype.forEach=function(a,b){for(var c=this.entries(),f;!(f=c.next()).done;)f=f.value,a.call(b,f[1],f[0],this);};f.prototype[Symbol.iterator]=f.prototype.entries;m=0;return f;});ga("Set",function(g){function d(a){this.fq=new Map();if(a){a=Q(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.fq.size;}if(function(){var a,b,f,d;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(Q([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;f=b.entries();d=f.next();if(d.done||d.value[0]!=a||d.value[1]!=a)return!1;d=f.next();return d.done||d.value[0]==a||4!=d.value[0].x||d.value[1]!=d.value[0]?!1:f.next().done;}catch(m){return!1;}}())return g;h();n();d.prototype.add=function(a){this.fq.set(a,a);this.size=this.fq.size;return this;};d.prototype["delete"]=function(a){a=this.fq["delete"](a);this.size=this.fq.size;return a;};d.prototype.clear=function(){this.fq.clear();this.size=0;};d.prototype.has=function(a){return this.fq.has(a);};d.prototype.entries=function(){return this.fq.entries();};d.prototype.values=function(){return this.fq.values();};d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(a,b){var f;f=this;this.fq.forEach(function(d){return a.call(b,d,d,f);});};return d;});ga("String.prototype.includes",function(g){return g?g:function(d,a){return-1!==oa(this,d,"includes").indexOf(d,a||0);};});ga("Number.isNaN",function(g){return g?g:function(d){return"number"===typeof d&&isNaN(d);};});ga("Array.prototype.find",function(g){return g?g:function(d,a){return pa(this,d,a).KW;};});ga("Array.prototype.entries",function(g){return g?g:function(){return ha(this,function(d,a){return[d,a];});};});ga("String.prototype.repeat",function(g){return g?g:function(d){var a;a=oa(this,null,"repeat");if(0>d||1342177279<d)throw new RangeError("Invalid count value");d|=0;for(var b="";d;)if(d&1&&(b+=a),d>>>=1)a+=a;return b;};});ga("String.prototype.endsWith",function(g){return g?g:function(d,a){var b;b=oa(this,d,"endsWith");d+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var f=d.length;0<f&&0<a;)if(b[--a]!=d[--f])return!1;return 0>=f;};});ga("Array.prototype.findIndex",function(g){return g?g:function(d,a){return pa(this,d,a).Ji;};});ga("String.prototype.startsWith",function(g){return g?g:function(d,a){var b,f,u;b=oa(this,d,"startsWith");d+="";f=b.length;u=d.length;a=Math.max(0,Math.min(a|0,b.length));for(var m=0;m<u&&a<f;)if(b[a++]!=d[m++])return!1;return m>=u;};});ga("Array.prototype.values",function(g){return g?g:function(){return ha(this,function(d,a){return a;});};});ga("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ga("Array.prototype.fill",function(g){return g?g:function(d,a,b){var f;f=this.length||0;0>a&&(a=Math.max(0,f+a));if(null==b||b>f)b=f;b=Number(b);0>b&&(b=Math.max(0,f+b));for(a=Number(a||0);a<b;a++)this[a]=d;return this;};});(function(g){var a;function d(b){var f;if(a[b])return a[b].T;f=a[b]={Ji:b,Zeb:!1,T:{}};g[b].call(f.T,f,f.T,d);f.Zeb=!0;return f.T;}a={};d.THb=g;d.EEb=a;d.d=function(a,f,u){d.mjb(a,f)||Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:u});};d.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};d.n=function(a){var b;b=a&&a.zja?function(){return a["default"];}:function(){return a;};d.d(b,"a",b);return b;};d.mjb=function(a,f){return Object.prototype.hasOwnProperty.call(a,f);};d.p="";return d(d.FJb=1054);}([function(g,d,a){function b(){b=Object.assign||function(a){for(var c,b=1,f=arguments.length;b<f;b++){c=arguments[b];for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(a[k]=c[k]);}return a;};return b.apply(this,arguments);}function f(a,c){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c;}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);};return f(a,c);}function u(a,c){function b(){this.constructor=a;}f(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());}function m(a,c){var b,f,k;b={};for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&0>c.indexOf(f)&&(b[f]=a[f]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){k=0;for(f=Object.getOwnPropertySymbols(a);k<f.length;k++)0>c.indexOf(f[k])&&Object.prototype.propertyIsEnumerable.call(a,f[k])&&(b[f[k]]=a[f[k]]);}return b;}function c(a,c,b,f){var k,p,q;k=arguments.length;p=3>k?c:null===f?f=Object.getOwnPropertyDescriptor(c,b):f;if("object"===typeof Reflect&&"function"===typeof Reflect.Pu)p=Reflect.Pu(a,c,b,f);else for(var t=a.length-1;0<=t;t--)if(q=a[t])p=(3>k?q(p):3<k?q(c,b,p):q(c,b))||p;return 3<k&&p&&Object.defineProperty(c,b,p),p;}function k(a,c){return function(b,f){c(b,f,a);};}function p(a,c){if("object"===typeof Reflect&&"function"===typeof Reflect.kd)return Reflect.kd(a,c);}function q(a,c,b,f){return new(b||(b=Promise))(function(k,p){function q(a){try{d(f.next(a));}catch(ka){p(ka);}}function t(a){try{d(f["throw"](a));}catch(ka){p(ka);}}function d(a){a.done?k(a.value):new b(function(c){c(a.value);}).then(q,t);}d((f=f.apply(a,c||[])).next());});}function t(a,c){var k,p,q,t,d;function b(a){return function(c){return f([a,c]);};}function f(b){if(p)throw new TypeError("Generator is already executing.");for(;k;)try{if(p=1,q&&(t=b[0]&2?q["return"]:b[0]?q["throw"]||((t=q["return"])&&t.call(q),0):q.next)&&!(t=t.call(q,b[1])).done)return t;if(q=0,t)b=[b[0]&2,t.value];switch(b[0]){case 0:case 1:t=b;break;case 4:return k.label++,{value:b[1],done:!1};case 5:k.label++;q=b[1];b=[0];continue;case 7:b=k.lz.pop();k.hA.pop();continue;default:if(!(t=k.hA,t=0<t.length&&t[t.length-1])&&(6===b[0]||2===b[0])){k=0;continue;}if(3===b[0]&&(!t||b[1]>t[0]&&b[1]<t[3]))k.label=b[1];else if(6===b[0]&&k.label<t[1])k.label=t[1],t=b;else if(t&&k.label<t[2])k.label=t[2],k.lz.push(b);else{t[2]&&k.lz.pop();k.hA.pop();continue;}}b=c.call(a,k);}catch(ka){b=[6,ka];q=0;}finally{p=t=0;}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0};}k={label:0,NV:function(){if(t[0]&1)throw t[1];return t[1];},hA:[],lz:[]};h();h();n();return d={next:b(0),"throw":b(1),"return":b(2)},"function"===typeof Symbol&&(d[Symbol.iterator]=function(){return this;}),d;}function A(a,c){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b]);}function y(a){var c,b;h();h();n();c="function"===typeof Symbol&&a[Symbol.iterator];b=0;return c?c.call(a):{next:function(){a&&b>=a.length&&(a=void 0);return{value:a&&a[b++],done:!a};}};}function L(a,c){var b,f,k,p;h();h();n();b="function"===typeof Symbol&&a[Symbol.iterator];if(!b)return a;a=b.call(a);k=[];try{for(;(void 0===c||0<c--)&&!(f=a.next()).done;)k.push(f.value);}catch(va){p={error:va};}finally{try{f&&!f.done&&(b=a["return"])&&b.call(a);}finally{if(p)throw p.error;}}return k;}function x(){for(var a=[],c=0;c<arguments.length;c++)a=a.concat(L(arguments[c]));return a;}function G(){for(var a=0,c=0,b=arguments.length;c<b;c++)a+=arguments[c].length;for(var a=Array(a),f=0,c=0;c<b;c++)for(var k=arguments[c],p=0,q=k.length;p<q;p++,f++)a[f]=k[p];return a;}function N(a){return this instanceof N?(this.KW=a,this):new N(a);}function R(a,c,b){var d,A,m;function f(a){d[a]&&(A[a]=function(c){return new Promise(function(b,f){1<m.push([a,c,b,f])||k(a,c);});});}function k(a,c){var b;try{b=d[a](c);b.value instanceof N?Promise.resolve(b.value.KW).then(p,q):t(m[0][2],b);}catch(Fa){t(m[0][3],Fa);}}function p(a){k("next",a);}function q(a){k("throw",a);}function t(a,c){(a(c),m.shift(),m.length)&&k(m[0][0],m[0][1]);}h();if(!Symbol.jQ)throw new TypeError("Symbol.asyncIterator is not defined.");d=b.apply(a,c||[]);m=[];h();return A={},f("next"),f("throw"),f("return"),A[Symbol.jQ]=function(){return this;},A;}function S(a){var b,f;function c(c,k){b[c]=a[c]?function(b){return(f=!f)?{value:N(a[c](b)),done:"return"===c}:k?k(b):b;}:k;}h();n();return b={},c("next"),c("throw",function(a){throw a;}),c("return"),b[Symbol.iterator]=function(){return this;},b;}function l(a){var f,k;function c(c){k[c]=a[c]&&function(f){return new Promise(function(k,p){f=a[c](f);b(k,p,f.done,f.value);});};}function b(a,c,b,f){Promise.resolve(f).then(function(c){a({value:c,done:b});},c);}h();if(!Symbol.jQ)throw new TypeError("Symbol.asyncIterator is not defined.");h();f=a[Symbol.jQ];h();n();h();return f?f.call(a):(a="function"===typeof y?y(a):a[Symbol.iterator](),k={},c("next"),c("throw"),c("return"),k[Symbol.jQ]=function(){return this;},k);}function D(a,c){Object.defineProperty?Object.defineProperty(a,"raw",{value:c}):a.raw=c;return a;}function U(a){var c;if(a&&a.zja)return a;c={};if(null!=a)for(var b in a)Object.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c;}function P(a){return a&&a.zja?a:{"default":a};}a.r(d);a.d(d,"__extends",function(){return u;});a.d(d,"__assign",function(){return b;});a.d(d,"__rest",function(){return m;});a.d(d,"__decorate",function(){return c;});a.d(d,"__param",function(){return k;});a.d(d,"__metadata",function(){return p;});a.d(d,"__awaiter",function(){return q;});a.d(d,"__generator",function(){return t;});a.d(d,"__exportStar",function(){return A;});a.d(d,"__values",function(){return y;});a.d(d,"__read",function(){return L;});a.d(d,"__spread",function(){return x;});a.d(d,"__spreadArrays",function(){return G;});a.d(d,"__await",function(){return N;});a.d(d,"__asyncGenerator",function(){return R;});a.d(d,"__asyncDelegator",function(){return S;});a.d(d,"__asyncValues",function(){return l;});a.d(d,"__makeTemplateObject",function(){return D;});a.d(d,"__importStar",function(){return U;});a.d(d,"__importDefault",function(){return P;});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(31);d.Fzb=g;g=a(1051);d.AF=g.AF;g=a(81);d.Qn=g.Qn;d.Eh=g.Eh;d.ir=g.ir;g=a(1035);d.Xca=g.Xca;d.ac=g.ac;g=a(1034);d.N=g.N;g=a(1033);d.FCa=g.FCa;g=a(1032);d.zxa=g.zxa;g=a(473);d.l=g.l;d.LY=g.LY;g=a(1031);d.optional=g.optional;g=a(1030);d.bh=g.bh;g=a(1029);d.az=g.az;g=a(1028);d.fM=g.fM;g=a(1027);d.eza=g.eza;g=a(475);d.UY=g.UY;g=a(103);d.id=g.id;g=a(88);d.Pu=g.Pu;g=a(470);d.pDa=g.pDa;d.GCa=g.GCa;d.Axa=g.Axa;d.uDa=g.uDa;g=a(138);d.jD=g.jD;a=a(1026);d.xxa=a.xxa;},function(g,d){var a,b;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.bj=7001]="UNKNOWN";a[a.cSa=7002]="UNHANDLED_EXCEPTION";a[a.LKa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Zea=7010]="INIT_ASYNCCOMPONENT";a[a.sfa=7011]="INIT_HTTP";a[a.JKa=7014]="INIT_BADMOVIEID";a[a.XKa=7016]="INIT_NETFLIXID_MISSING";a[a.WKa=7017]="INIT_NETFLIXID_INVALID";a[a.ZKa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.tfa=7020]="INIT_PLAYBACK_LOCK";a[a.ufa=7022]="INIT_SESSION_LOCK";a[a.YKa=7029]="INIT_POSTAUTHORIZE";a[a.Zyb=7031]="INIT_HEADER_MEDIA";a[a.Cyb=7032]="HEADER_MISSING";a[a.Byb=7033]="HEADER_FRAGMENTS_MISSING";a[a.$Ka=7034]="INIT_TIMEDTEXT_TRACK";a[a.$yb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.azb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.EEa=7037]="ASE_SESSION_ERROR";a[a.DEa=7038]="ASE_SEEK_THREW";a[a.FEa=7039]="ASE_SKIPPED_THREW";a[a.TKa=7041]="INIT_CORE_OBJECTS1";a[a.UKa=7042]="INIT_CORE_OBJECTS2";a[a.VKa=7043]="INIT_CORE_OBJECTS3";a[a.Wyb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.Qyb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.kfa=7053]="INIT_COMPONENT_STORAGE";a[a.lfa=7054]="INIT_COMPONENT_STORAGELOCK";a[a.Ryb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.Syb=7056]="INIT_COMPONENT_NRDDPI";a[a.Uyb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.gfa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.EY=7059]="INIT_COMPONENT_DEVICE";a[a.Tyb=7062]="INIT_COMPONENT_NTBA";a[a.hfa=7063]="INIT_COMPONENT_MSL";a[a.cfa=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.ffa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Ht=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.Vyb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.$ea=7069]="INIT_COMPONENT_ACCOUNT";a[a.NKa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.PKa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.QKa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.RKa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.SKa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.MKa=7081]="INIT_COMPONENT_NRDP";a[a.OKa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.rfa=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.nfa=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.Yyb=7085]="INIT_CONGESTION_SERVICE";a[a.efa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.mfa=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.bfa=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.afa=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.Xyb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.EA=7091]="INIT_COMPONENT_DRM_CACHE";a[a.KKa=7092]="INIT_COMPONENT_DRM";a[a.ifa=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.dfa=7094]="INIT_COMPONENT_FTL";a[a.jfa=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.ofa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.pfa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.qfa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.PEa=7112]="AUTHORIZE_UNKNOWN";a[a.aMa=7117]="MANIFEST_VERIFY";a[a.wia=7120]="START";a[a.Rw=7121]="LICENSE";a[a.uQa=7122]="SECURESTOP";a[a.zia=7123]="STOP";a[a.ryb=7124]="FPSAPPDATA";a[a.KY=7125]="KEEPALIVE";a[a.cxb=7126]="DEACTIVATE";a[a.BCb=7127]="SYNC_DEACTIVATE_LINKS";a[a.Cvb=7130]="ACTIVATE";a[a.lOa=7131]="PING";a[a.Gga=7133]="NETFLIXID";a[a.eJa=7134]="ENGAGE";a[a.DLa=7135]="LOGIN";a[a.NQa=7136]="SWITCH_PROFILES";a[a.CLa=7137]="LOGBLOB";a[a.WNa=7138]="PAUSE";a[a.dQa=7139]="RESUME";a[a.tia=7140]="SPLICE";a[a.nxb=7141]="DOWNLOAD_EVENT";a[a.xFa=7142]="BIND";a[a.TNa=7143]="PAIR";a[a.yFa=7144]="BIND_DEVICE";a[a.nOa=7202]="PLAY_INIT_EXCEPTION";a[a.Azb=7301]="MEDIA_DOWNLOAD";a[a.cBb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.dBb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.eha=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.tOa=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.fha=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.uOa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.iZ=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.hha=7351]="PLAY_MSE_NOTSUPPORTED";a[a.gha=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.dha=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.jZ=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.lZ=7355]="PLAY_MSE_SOURCEADD";a[a.oOa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.yOa=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.iBb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.bBb=7359]="PLAY_MSE_ADDKEY";a[a.lBb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.xOa=7361]="PLAY_MSE_EVENT_ERROR";a[a.kZ=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.NN=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.wOa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.zOa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.AOa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.BOa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.jBb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.FOa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.EOa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.DOa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.kBb=7379]="PLAY_MSE_SOURCE_EOS";a[a.COa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.hBb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.pOa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.qOa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.rOa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.fBb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.vOa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.eBb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.gBb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.sOa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.iha=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.iJa=7400]="EXTERNAL";a[a.LN=7500]="PAUSE_TIMEOUT";a[a.wN=7502]="INACTIVITY_TIMEOUT";a[a.OEa=7510]="AUTHORIZATION_EXPIRED";a[a.exb=7520]="DECRYPT_AUDIO";a[a.ria=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.vQa=7601]="SECURE_STOP_KEY_ERROR";a[a.fCb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.RBb=7603]="SECURE_STOP_NCCP_ERROR";a[a.SBb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.eCb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.WBb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.wQa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.XBb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.YBb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.DZ=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.TBb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.ZBb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.bCb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.$Bb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.VBb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.dCb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.aCb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.UBb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.cCb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.$Ia=7700]="EME_INVALID_KEYSYSTEM";a[a.mea=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.lea=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.nea=7703]="EME_GENERATEREQUEST_FAILED";a[a.gN=7704]="EME_UPDATE_FAILED";a[a.Exb=7705]="EME_KEYSESSION_ERROR";a[a.Pxb=7706]="EME_NO_KEYMESSAGE";a[a.rea=7707]="EME_REMOVE_FAILED";a[a.bJa=7708]="EME_LOAD_FAILED";a[a.XIa=7709]="EME_CREATE_SESSION_FAILED";a[a.Gxb=7710]="EME_LDL_RENEWAL_ERROR";a[a.oea=7711]="EME_INVALID_INITDATA_DATA";a[a.pea=7712]="EME_INVALID_LICENSE_DATA";a[a.aJa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.Hxb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.qea=7715]="EME_INVALID_SECURESTOP_DATA";a[a.WIa=7716]="EME_CLOSE_FAILED";a[a.mOa=7800]="PLAYDATA_STORE_FAILURE";a[a.aBb=7801]="PLAYDATA_SEND_FAILURE";a[a.vF=7900]="BRANCH_PLAY_FAILURE";a[a.Gw=7901]="BRANCH_QUEUE_FAILURE";a[a.ada=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.pAb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.qAb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.bOa=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.MN=8200]="PLAYGRAPH_ADD_MANIFEST";}(a=d.I||(d.I={})));(function(a){a[a.bj=1001]="UNKNOWN";a[a.eh=1003]="EXCEPTION";a[a.cLa=1004]="INVALID_DI";a[a.IEa=1011]="ASYNCLOAD_EXCEPTION";a[a.JEa=1013]="ASYNCLOAD_TIMEOUT";a[a.Dvb=1015]="ASYNCLOAD_BADCONFIG";a[a.GEa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.HEa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.DA=1101]="HTTP_UNKNOWN";a[a.BY=1102]="HTTP_XHR";a[a.OF=1103]="HTTP_PROTOCOL";a[a.NF=1104]="HTTP_OFFLINE";a[a.PF=1105]="HTTP_TIMEOUT";a[a.Qw=1106]="HTTP_READTIMEOUT";a[a.Gt=1107]="HTTP_ABORT";a[a.xY=1108]="HTTP_PARSE";a[a.Oea=1110]="HTTP_BAD_URL";a[a.CA=1111]="HTTP_PROXY";a[a.dga=1203]="MSE_AUDIO";a[a.ega=1204]="MSE_VIDEO";a[a.qMa=1250]="MSE_MEDIA_ERR_BASE";a[a.Jzb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.Mzb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.Kzb=1253]="MSE_MEDIA_ERR_DECODE";a[a.Nzb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.Lzb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.yA=1260]="EME_MEDIA_KEYERR_BASE";a[a.Nxb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.Ixb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.Mxb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.Lxb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.Kxb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.Jxb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.Oxb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.ZIa=1280]="EME_ERROR_NODRMSESSSION";a[a.YIa=1281]="EME_ERROR_NODRMREQUESTS";a[a.Cxb=1282]="EME_ERROR_INDIV_FAILED";a[a.Dxb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.dJa=1284]="EME_TIMEOUT_MESSAGE";a[a.cJa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.HX=1286]="EME_UNDEFINED_DATA";a[a.DF=1287]="EME_INVALID_STATE";a[a.Fxb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.GX=1289]="EME_EMPTY_DATA";a[a.EF=1290]="EME_TIMEOUT";a[a.eAb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.hAb=1305]="NCCP_PARSEXML";a[a.OOa=1309]="PROCESS_EXCEPTION";a[a.gAb=1311]="NCCP_NETFLIXID_MISSING";a[a.iAb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.bAb=1313]="NCCP_HMAC_MISSING";a[a.aAb=1315]="NCCP_HMAC_MISMATCH";a[a.$zb=1317]="NCCP_HMAC_FAILED";a[a.Zzb=1321]="NCCP_CLIENTTIME_MISSING";a[a.Yzb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.Kea=1331]="GENERIC";a[a.sNa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.tNa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.jAb=1341]="NCCP_TRANSACTION";a[a.cAb=1343]="NCCP_INVALID_DRMTYPE";a[a.dAb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.fAb=1345]="NCCP_MISSING_PAYLOAD";a[a.tBb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.sBb=1347]="PROTOCOL_MISSING_FIELD";a[a.POa=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.np=1402]="STORAGE_NODATA";a[a.lCb=1403]="STORAGE_EXCEPTION";a[a.tCb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.uCb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.Bia=1411]="STORAGE_LOAD_ERROR";a[a.JQa=1412]="STORAGE_LOAD_TIMEOUT";a[a.Cia=1414]="STORAGE_SAVE_ERROR";a[a.MQa=1415]="STORAGE_SAVE_TIMEOUT";a[a.FZ=1417]="STORAGE_DELETE_ERROR";a[a.Aia=1418]="STORAGE_DELETE_TIMEOUT";a[a.sCb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.pCb=1423]="STORAGE_FS_GETDIRECTORY";a[a.rCb=1425]="STORAGE_FS_READENTRIES";a[a.mCb=1427]="STORAGE_FS_FILEREAD";a[a.oCb=1429]="STORAGE_FS_FILEWRITE";a[a.nCb=1431]="STORAGE_FS_FILEREMOVE";a[a.qCb=1432]="STORAGE_FS_PARSEJSON";a[a.LQa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.KQa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.wAb=1501]="NTBA_UNKNOWN";a[a.vAb=1502]="NTBA_EXCEPTION";a[a.rAb=1504]="NTBA_CRYPTO_KEY";a[a.tAb=1506]="NTBA_CRYPTO_OPERATION";a[a.sAb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.uAb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.Jda=1553]="DEVICE_NO_ESN";a[a.vX=1555]="DEVICE_ERROR_GETTING_ESN";a[a.lha=1603]="PLUGIN_LOAD_MISSING";a[a.jha=1605]="PLUGIN_LOAD_ERROR";a[a.mha=1607]="PLUGIN_LOAD_TIMEOUT";a[a.kha=1609]="PLUGIN_LOAD_EXCEPTION";a[a.JOa=1625]="PLUGIN_EXCEPTION";a[a.GOa=1627]="PLUGIN_CALLBACK_ERROR";a[a.HOa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.HJa=1701]="FORMAT_UNKNOWN";a[a.Cea=1713]="FORMAT_XML";a[a.IJa=1715]="FORMAT_XML_CONTENT";a[a.GJa=1721]="FORMAT_BASE64";a[a.kN=1723]="FORMAT_DFXP";a[a.wKa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.Xea=1802]="INDEXDB_NOT_SUPPORTED";a[a.vKa=1803]="INDEXDB_OPEN_ERROR";a[a.Yea=1804]="INDEXDB_OPEN_NULL";a[a.uKa=1805]="INDEXDB_OPEN_BLOCKED";a[a.xKa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.tKa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.xN=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.zMa=1901]="MSL_UNKNOWN";a[a.sMa=1911]="MSL_INIT_NO_MSL";a[a.iga=1913]="MSL_INIT_ERROR";a[a.tMa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.fga=1931]="MSL_ERROR";a[a.yMa=1933]="MSL_REQUEST_TIMEOUT";a[a.xMa=1934]="MSL_READ_TIMEOUT";a[a.rMa=1935]="MSL_ERROR_HEADER";a[a.XF=1936]="MSL_ERROR_ENVELOPE";a[a.gga=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.hga=1957]="MSL_ERROR_REAUTH";a[a.WZ=2103]="WEBCRYPTO_MISSING";a[a.vSa=2105]="WEBCRYPTOKEYS_MISSING";a[a.wSa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.Iwb=2200]="CACHEDDATA_PARSEJSON";a[a.ida=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.Jwb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.vt=2203]="CACHEDDATA_INVALID_FORMAT";a[a.Avb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.Bvb=3001]="ACCOUNT_INVALID";a[a.mxb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.lxb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.jxb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.kxb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.ixb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.vCb=3300]="STORAGE_VA_LOAD_ERROR";a[a.wCb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.zCb=3302]="STORAGE_VA_SAVE_ERROR";a[a.ACb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.xCb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.yCb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.hZ=3077]="PBO_DEVICE_EOL_WARNING";a[a.Yga=3078]="PBO_DEVICE_EOL_FINAL";a[a.iOa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.XNa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.aOa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Zga=5007]="PBO_INCORRECT_PIN";a[a.gOa=5008]="PBO_MOBILE_ONLY";a[a.cOa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.ZNa=5059]="PBO_BLACKLISTED_IP";a[a.YNa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.$Na=5080]="PBO_CHOICE_MAP_ERROR";a[a.hOa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.eOa=5091]="PBO_MALFORMED_REQUEST";a[a.dOa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.fOa=5093]="PBO_MDX_INVALID_CTICKET";a[a.qHa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.rHa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.mIa=5200]="DOWNLOADER_IO_ERROR";a[a.$ca=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.DFa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.Wvb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.eX=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.zFa=5304]="BRANCHING_ASE_FAILURE";a[a.BFa=5305]="BRANCHING_MOMENT_FAILURE";a[a.AFa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.Vvb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.EFa=5308]="BRANCHING_SEEK_THREW";a[a.Uvb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.CFa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.FFa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.GFa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.vEa=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.Bca=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";}(b=d.u||(d.u={})));(function(a){a[a.gwb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.Xvb=5005]="BR_ACCOUNT_ON_HOLD";a[a.awb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.dwb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.$vb=5059]="BR_BLACKLISTED_IP";a[a.Yvb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.ewb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.bwb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.fwb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.cwb=2207]="BR_ENDPOINT_ERROR";a[a.Zvb=2208]="BR_AUTHORIZATION_ERROR";}(d.wJa||(d.wJa={})));d.CY={LFa:"400",gDb:"401",pha:"413"};d.VY={pyb:1,UCb:2,Sxb:3,fDb:4,rzb:5,Rxb:6,TZ:7,hJa:8,JBb:9,iCb:10};(function(a){a[a.UNa=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.VNa=98]="PAIRING_UNKNOWN_ERROR";}(d.SY||(d.SY={})));d.Zxb=function(a){return 7100<=a&&7200>a;};d.uJa=function(b){return b==a.LN||b==a.wN;};d.yJa=function(a){return 1100<=a&&1199>=a;};d.ayb=function(a){return 1300<=a&&1399>=a;};d.$xb=function(a){return 1900<=a&&1999>=a;};d.wea=function(a,b){return 1<=a&&9>=a?b+a:b;};d.zJa=function(a){return d.wea(a,b.qMa);};d.xea=function(a){return d.wea(a,b.yA);};d.Un=function(a){var d,f,c;d={};f=a.errorExternalCode||a.Gc;c=a.errorDetails||a.Sa;d.ErrorSubCode=a.errorSubCode||a.Y||b.bj;f&&(d.ErrorExternalCode=f);c&&(d.ErrorDetails=c);return d;};},function(g,d,a){var u;function b(a){return u.cO.apply(this,arguments)||this;}function f(a){return new u.kp(a,d.ma);}Object.defineProperty(d,"__esModule",{value:!0});u=a(469);ca(b,u.cO);d.ZCb=b;d.fIb=function(a){return new u.kp(a,d.KA);};d.Ulb=function(a){return new u.kp(a*d.Am.Ne,d.KA);};d.Cb=f;d.Eg=function(a){return new u.kp(a,d.Am);};d.e9=function(a){return new u.kp(a,d.zga);};d.cHb=function(a){return new u.kp(a,d.nKa);};d.timestamp=function(a){return f(a);};d.KA=new b(1,"\u03bcs");d.ma=new b(1E3,"ms",d.KA);d.Am=new b(1E3*d.ma.Ne,"s",d.KA);d.zga=new b(60*d.Am.Ne,"min",d.KA);d.nKa=new b(60*d.zga.Ne,"hr",d.KA);d.Ef=f(0);},function(g,d,a){var b,f,u,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(476);g=a(7);f=a(29);u=a(98);m=a(99);c=a(41);k=a(19);p=a(61);d.qm=b.Wc.get(u.kx);d.HW=d.qm.encode.bind(d.qm);d.vM=d.qm.decode.bind(d.qm);d.uh=b.Wc.get(m.Hw);d.oEb=d.uh.encode.bind(d.uh);d.nEb=d.uh.decode.bind(d.uh);d.Rna=d.uh.fJ.bind(d.uh);d.pEb=d.uh.fDa.bind(d.uh);d.oe=b.Wc.get(c.Jj);d.Wr=function(a){a=k.Qd(a)?d.vM(a):a;return d.oe.encode(a);};d.Kk=d.oe.decode.bind(d.oe);d.D_a=function(a){return d.HW(d.Kk(a));};d.rRa=a(516);d.cD=function(){return b.Wc.get(f.CX);};d.xf=b.Wc.get(g.ob);d.log=d.xf.lb("General");d.Kf=function(a,c){return d.xf.lb(a,void 0,c);};d.$f=function(a,c){return d.xf.lb(c,a,void 0);};d.kS=function(a,c,b,k){return d.xf.lb(a,void 0,k,c,b);};d.wZ=function(a,c){return b.Wc.get(p.sl)(a,c,void 0).Sba();};d.V=b.Wc;},function(g){g.T={FJ:function(d){for(var a in d)d.hasOwnProperty(a)&&(this[a]=d[a]);},reset:function(){}};},function(g){var d;d={pa:function(a){return"number"===typeof a;},Xe:function(a){return"object"===typeof a;},Qd:function(a){return"string"===typeof a;},R:function(a){return"undefined"===typeof a;},heb:function(a){return"boolean"===typeof a;},Nb:function(a){return"function"===typeof a;},Qa:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},mkb:function(a){var b,f;f=[];if(!d.Xe(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&f.push([b,a[b]]);return f;}};d.dd=d.forEach=function(a,b,f){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var u=0,m=a.length;u<m;u++)b.call(f,a[u],u,a);else for(u in a)d.has(a,u)&&b.call(f,a[u],u,a);return a;};g.T=d;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Hh||(d.Hh={});g[g.FJa=0]="FATAL";g[g.ERROR=1]="ERROR";g[g.VZ=2]="WARN";g[g.DY=3]="INFO";g[g.Via=4]="TRACE";g[g.tX=5]="DEBUG";d.Ufa="LogFieldBuilderFactorySymbol";d.ob="LoggerFactorySymbol";d.Mw={};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g="undefined"===typeof J?{}:J;d.sk=g.navigator||{};d.Oj=d.sk.userAgent;d.aZ=g.location;d.cr=g.screen;d.br=g.performance;d.Ld=g.document||{};d.lAb=d.Ld.documentElement;d.vu=Array.prototype;d.sort=d.vu.sort;d.map=d.vu.map;d.slice=d.vu.slice;d.every=d.vu.every;d.reduce=d.vu.reduce;d.filter=d.vu.filter;d.forEach=d.vu.forEach;d.pop=d.vu.pop;d.fG=Object.create;d.MNa=Object.keys;d.dN=Date.now;d.nRa=String.fromCharCode;d.Ww=Math.floor;d.LMa=Math.ceil;d.Jh=Math.round;d.xm=Math.max;d.Wn=Math.min;d.ZF=Math.random;d.YF=Math.abs;d.oga=Math.pow;d.MMa=Math.sqrt;d.$Y=g.escape;d.bZ=g.unescape;d.URL=g.URL||g.webkitURL;d.NA=g.MediaSource||g.WebKitMediaSource;d.cG=g.WebKitMediaKeys||g.MSMediaKeys||g.MediaKeys;d.Pt=g.nfCrypto||g.webkitCrypto||g.msCrypto||g.crypto;d.Zm=d.Pt&&(d.Pt.webkitSubtle||d.Pt.subtle);d.ZY=g.nfCryptokeys||g.webkitCryptokeys||g.msCryptokeys||g.cryptokeys;try{d.indexedDB=g.indexedDB;}catch(a){d.lHb=a||"noex";}try{d.localStorage=g.localStorage;}catch(a){d.Vva=a||"noex";}},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.le=function(){};d.eQa=function(){return!0;};d.xc={W:!0};d.Nj=1E3;d.PBb=86400;d.QBb=604800;d.Bzb=1E4;d.Czb=1E7;d.jDb=1.5;d.pzb=.128;d.Tvb=7.8125;d.iwb=128;d.Tw=145152E5;d.cMa=1E5;d.dZ="$netflix$player$order";d.RA=-1;d.eZ=1;d.zHa=["en-US"];d.jwb=8;d.dMa=65535;d.hCb=65536;d.BAb=Number.MAX_VALUE;d.FX="playready";d.gea="widevine";d.Bxb="fps";d.SIa="clearkey";d.Uw='audio/mp4; codecs="mp4a.40.5"';d.gMa='audio/mp4; codecs="mp4a.a6"';d.rl='video/mp4; codecs="avc1.640028"';d.Ezb='video/mp4; codecs="hev1.2.6.L153.B0"';d.Dzb='video/mp4; codecs="dvhe.01000000"';d.QIa="9A04F079-9840-4286-AB92-E65BE0885F95";d.zxb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";d.Axb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";d.xwb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];d.YFa="A2394F52-5A9B-4F14-A244-6C427C648DF4";d.ywb="4E657466-6C69-7846-7261-6D6552617465";d.zwb="8974DBCE-7BE7-4C51-84F9-7148F9882554";d.twb="mp4a";d.WFa="enca";d.qwb="ec-3";d.owb="avc1";d.XFa="encv";d.swb="hvcC";d.rwb="hev1";d.pwb="dvhe";d.uwb="vp09";d.NY=0;d.WF=1;},function(g,d,a){var b,f,u,m;b=a(80);f=a(1002);u=a(240);m=a(1001);g=function(){function a(a){this.vr=!1;a&&(this.Uf=a);}a.prototype.bg=function(c){var b;b=new a();b.source=this;b.K9=c;return b;};a.prototype.subscribe=function(a,c,b){var k;k=this.K9;a=f.Tsb(a,c,b);k?k.call(a,this.source):a.add(this.source||!a.mk?this.Uf(a):this.T0(a));if(a.mk&&(a.mk=!1,a.Wz))throw a.Xz;return a;};a.prototype.T0=function(a){try{return this.Uf(a);}catch(p){a.Wz=!0;a.Xz=p;a.error(p);}};a.prototype.forEach=function(a,c){var k;k=this;c||(b.root.dx&&b.root.dx.config&&b.root.dx.config.Promise?c=b.root.dx.config.Promise:b.root.Promise&&(c=b.root.Promise));if(!c)throw Error("no Promise impl found");return new c(function(c,b){var p;p=k.subscribe(function(c){if(p)try{a(c);}catch(x){b(x);p.unsubscribe();}else a(c);},b,c);});};a.prototype.Uf=function(a){return this.source.subscribe(a);};a.prototype[u.observable]=function(){return this;};a.prototype.ilb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return 0===a.length?this:m.jlb(a)(this);};a.prototype.iM=function(){var a,c;c=this;a||(b.root.dx&&b.root.dx.config&&b.root.dx.config.Promise?a=b.root.dx.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,b){var k;c.subscribe(function(a){return k=a;},function(a){return b(a);},function(){return a(k);});});};a.create=function(c){return new a(c);};return a;}();d.Da=g;},function(g){g.T={Ma:{Lh:0,Ij:1,Qt:2,ad:3,UN:4,TN:5,oi:6,name:"STARTING BUFFERING REBUFFERING PLAYING STOPPING STOPPED PAUSED".split(" ")},hwb:{St:0,kCb:1,name:["STARTUP","STEADY"]},tN:{Lh:0,jCb:1,dSa:2,name:["STARTING","STABLE","UNSTABLE"]},L:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Ih:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Gf:{URL:0,fx:1,Lfa:2,ar:3,name:["URL","SERVER","LOCATION","NETWORK"]},Ad:{HAVE_NOTHING:0,Ft:1,hp:2,JF:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Pe:{Zca:0,EJa:1,qBb:2,NEXT:3,QAb:4,SCb:5,syb:6,eMa:7,St:8,ERROR:9,mZ:10,NOa:11,dX:12,BLa:13,ALa:14,zQa:15,yQa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},Qxb:{ar:0,dxb:1,name:["NETWORK","DECODE"]},xQa:{Gda:"delayedSeamless",Lyb:"hideLongTransition"}};},function(g,d,a){var u,m,c,k,p,q,t,A,y,h,x,G,N,R,S,l,n,U;function b(a){return(a=d.config.Etb[f(a)])?a:{};}function f(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";if(0<=a.indexOf("video-merch-bob-horizontal"))return"video-merch-bob-horizontal";}}Object.defineProperty(d,"__esModule",{value:!0});u=a(9);m=a(28);c=a(4);k=a(51);p=a(14);a(19);q=a(33);t=a(29);A=a(66);y=a(18);a(7);h=a(8);x=a(26);G=a(16);N=a(213);R=a(39);S=a(57);l=a(137);n=a(35);U=a(3);d.S1a=function(a){var nb,E,C,Ua,Nc,Ra,Wa,dc,sa;function b(a,c){y.Uc(a,function(a,k){G.Nb(k)?c[a]=k.call(void 0,c[a]):G.Xe(k)&&(c[a]=c[a]||{},b(k,c[a]));});}function f(a,c,b,k){for(var f=[],q=3;q<arguments.length;++q)f[q-3]=arguments[q];return function(k){G.Tb(k)&&(b=k);p.Ga(G.Nb(a));return a.apply(void 0,[].concat([c,b],da(f)));};}function g(a){a=a.toLowerCase();Ua.hasOwnProperty(a)&&(C[a]=Ua[a],Nc[a]=Ua[a]);return a;}function L(a,b,k){var f;a=a.toLowerCase();if(C.hasOwnProperty(a)){f=C[a];try{f=k?k(f):f;}catch(ib){f=void 0;}if(void 0!==f)return f;p.Ga(!1);c.log.error("Invalid configuration value. Name: "+a);}return b;}function X(a,c,b,k){return L(a,c,function(a){G.Qd(a)&&(a=y.Sd(a));if(G.peb(a,b,k))return a;});}function D(a,c,b,k){return L(a,c,function(a){G.Qd(a)&&(a=y.Sd(a));if(G.uv(a,b,k))return a;});}function P(a,c,b,k){return L(a,c,function(a){G.Qd(a)&&(a=parseFloat(a));if(G.pa(a,b,k))return a;});}function r(a,c,b){return L(a,c,function(a){if(b?b.test(a):G.Qd(a))return a;});}function M(a,c){return L(a,c,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function ja(a,c){return L(a,c,function(a){if(G.Qd(a))return JSON.parse(h.bZ(a));if(G.Xe(a))return a;});}function ka(a,c,b,k,f,p){var q;a=a.toLowerCase();C.hasOwnProperty(a)&&(q=C[a]);if(!G.Tb(q))return c;if(G.Qd(q))if(q[0]!==b)q=k(q);else try{q=JSON.parse(h.bZ(q));}catch(Za){q=void 0;}if(void 0===q)return c;for(a=0;a<f.length;a++)if(!f[a](q))return c;return p?p(q):q;}function ra(a,c,b,k,f){return ka(a,c,"[",function(a){a=a.split("|");for(var c=a.length;c--;)a[c]=y.Sd(a[c]);return a;},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(!G.uv(a[c],b,k))return!1;return!0;},function(a){return void 0===f||a.length>=f;}]);}function xa(a,c){return ka(a,c,"[",function(a){a=G.isArray(a)?a:a.split("|");for(var c=a.length;c--;)try{a[c]=JSON.parse(h.bZ(a[c]));}catch(ib){a=void 0;break;}return a;},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(!G.Tb(a[c])||!G.Xe(a[c]))return!1;return!0;}]);}function la(a,c,b,k){return ka(a,c,"[",function(a){return G.isArray(a)?a:a.split("|");},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(b?!b.test(a[c]):!G.Ly(a[c]))return!1;return!0;},function(a){return void 0===k||a.length>=k;}]);}function Fa(a,c,b){return ka(a,c,"{",function(a){var c,k,f;c={};a=a.split(";");for(var b=a.length;b--;){k=a[b];f=k.indexOf(":");if(0>=f)return;c[k.substring(0,f)]=k.substring(f+1);}return c;},[function(a){return G.Xe(a)&&0<Object.keys(a).length;},function(a){if(b)for(var c in a)if(!b.test(a[c]))return!1;return!0;}],function(a){var b;b={};y.Wa(b,c);y.Wa(b,a);return b;});}function cc(a){var c;c=[];y.Uc(a,function(a,b){var k;try{k="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(b);}catch(ud){k="cantparse";}c.push(a+"="+k);});return c.join("\n");}nb=/^[0-9]+[%]?$/;E=/^[0-9]*$/;Nc={};Ra=c.V.get(k.vm);Wa=c.V.get(l.kG);(function(){var k;function b(a){a.split(",").forEach(function(a){var c;c=a.indexOf("=");0<c&&(C[a.substring(0,c).toLowerCase()]=a.substring(c+1));});}C={};y.Wa(C,q.bha);a&&a.length&&h.forEach.call(a,function(a){G.Qd(a)?b(a):G.Xe(a)&&y.Wa(C,a,{GD:!0});});Ua=y.Wa({},m.V5(),{GD:!0});k=m.Ymb().cadmiumconfig;k&&(c.log.info("Config cookie loaded",k),b(k));if(q.wEa||C.istestaccount)y.Wa(C,Ua),Nc=Ua;"clearkey"!=r("drmType")||C.keysystemid||(C.keysystemid=(J.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());d.config={};dc={g4:f(M,g("enableDDPlus20"),!0),f4:f(M,g("enableDDPlus"),!0),JI:f(M,g("enableDDPlusAtmos"),!1),i4:f(M,g("enableHQAAC"),!1),i7a:f(M,g("enableLSSDH"),!0),e7a:f(M,g("enableHEVC"),!1),vya:f(M,g("overrideEnableHEVC"),!1),d7a:f(M,g("enableHDR"),!1),uya:f(M,g("overrideEnableHDR"),!1),wR:f(M,g("enableAVCHigh"),Wa.wR),HU:f(M,g("overrideEnableAVCHigh"),Wa.HU),s7a:f(M,g("enableVP9"),!1),wya:f(M,g("overrideEnableVP9"),!1),a7a:f(M,g("enableAV1"),!1),M9:f(M,g("overrideEnableAV1"),!1),n7a:f(M,g("enablePRK"),!1),f7a:f(M,g("enableHWDRM"),!1),h7a:f(M,g("enableImageSubs"),!0),GH:f(la,g("audioProfiles"),Wa.GH),PFb:f(M,g("disableHD"),!1),NW:f(D,"videoCapabilityDetectorType",t.Pj.Kw),J1:f(D,"audioCapabilityDetectorType",t.Fw.Kw),jF:f(la,g("videoProfiles"),Wa.jF),OXa:f(la,g("timedTextProfiles"),Wa.mt),mt:function(){return dc.OXa().filter(function(a){return a===A.vk.wX?dc.i7a():a===A.vk.MA?dc.h7a():!0;});},endpoint:f(M,g("endpoint"),!1),JBa:f(M,g("setMediaKeysEarly"),!1),WS:f(M,g("ignoreKeyStatusOutputNotAllowed"),!1),uqa:f(M,g("doNotPerformLdlOnPlaybackCreate"),!1),vqa:f(M,g("doNotPerformLdlOnPlaybackStart"),!1),UDa:f(M,g("useHdcpLevelOnCast"),!1),g7a:f(M,g("enableHdcp"),!1),Cn:f(M,g("prepareCadmium"),!1),vYa:f(M,g("acceptManifestOnPrepareItemParams"),!0),hza:f(ja,"ppmconfig",{maxNumberTitlesScheduled:1}),Glb:f(M,g("playerPredictionModelV2"),!0),WL:f(M,g("supportsLimitedDurationLicense"),!1),m4:f(M,g("enableLdlPrefetch"),!1),xR:f(M,g("enableGetHeadersAndMediaPrefetch"),!1),vI:f(M,g("deleteCachedManifestOnPlayback"),!1),xI:f(M,g("deleteOtherManifestCacheOnCreate"),!1),wI:f(M,g("deleteOtherLdlCacheOnCreate"),!1),dlb:f(D,g("periodicPrepareLogsIntervalMilliseconds"),36E5),emb:f(D,g("prepareManifestCacheMaxCount"),50),cmb:f(D,g("prepareLdlCacheMaxCount"),30),oza:f(D,g("prepareManifestExpiryMilliseconds"),12E5),dmb:f(D,g("prepareLdlExpiryMilliseconds"),78E4),bmb:f(r,g("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Nub:f(ja,"videoApp"),nw:f(ja,"storageRules"),J9a:f(M,"ftlEnabled",!0),S6:f(D,g("imageSubsResolution"),0),Ddb:f(D,g("imageSubsMaxBuffer"),Wa.ehb.fa(n.Rn),0),$H:f(M,g("captureBatteryStatus"),!1),i$a:f(D,g("getBatteryApiTimeoutMilliseconds"),5E3),Rd:f(r,g("keySystemId"),Wa.Rd),Ava:f(la,g("keySystemList"),void 0,void 0),Lhb:f(D,g("hdcpGlobalTimeout1"),1E4),Mhb:f(D,g("hdcpGlobalTimeout2"),1E4),gIb:f(D,g("hdcpQueryTimeout1"),1E3),hIb:f(D,g("hdcpQueryTimeout2"),1E3),Nhb:f(D,g("hdcpQueryTimeout2"),100),Ohb:f(M,g("microsoftHwdrmRequiresHevc"),!1),Ihb:f(M,g("microsoftEnableDeviceInfo"),!1),Jhb:f(M,g("microsoftEnableHardwareInfo"),!1),Khb:f(M,g("microsoftEnableHardwareReset"),!1),jgb:f(M,"logMediaPipelineStatus",!1),gL:f(M,g("renderDomDiagnostics"),!0),bwa:function(){return-1;},DD:f(X,g("logDisplayMaxEntryCount"),Wa.DD,-1),qgb:f(X,g("logToConsoleLevel"),-1),K_a:f(X,g("bladerunnerCmdHistorySize"),10),Pp:function(){return Ra.Pp;},kub:f(M,"upgradeNetflixId",!0),a8:f(M,"logErrorIfEsnNotProvided",!0),q4:f(M,"enforceSinglePlayback",Wa.q4),CR:f(M,"enforceSingleSession",Wa.CR),F2:f(M,"closeOtherPlaybacks",!0),SZa:f(D,"asyncLoadTimeout",15E3,1),Dgb:f(D,"mainThreadMonitorPollRate",0),AIb:f(M,"nrdpAlwaysShowUIOverlay",!1),CIb:f(M,"nrdpValidateSSOTokens",!0),BIb:f(r,"nrdpConfigServiceApiPath","/cbp/cadmiumconfig-default"),XJb:f(M,"showNrdpDebugBadging",!1),PW:function(){return Ra.PW;},nv:function(){return Ra.nv;},gC:function(){return Ra.gC;},iA:function(){return Ra.iA;},bEa:f(D,g("verbosePlaybackInfoDenominator"),0),rV:f(M,"renderTimedText",!0),Qlb:f(M,"preBufferTimedText",!0),G8a:f(M,"fatalOnTimedTextLoadError",!0),XCa:f(Fa,"timedTextStyleDefaults",{}),Pba:f(Fa,"timedTextStyleOverrides",{}),Oba:f(Fa,"timedTextFontFamilyMapping",Wa.Oba||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),YCa:f(D,g("timedTextTimeOverride"),0),YE:f(D,"timedTextSimpleFallbackThreshold",Wa.YE.fa(n.Rn)),r3:f(r,g("customDfxpUrl")),r7a:f(M,g("enableSubtitleTrackerLogging"),!1),Epb:f(M,g("sendSubtitleQoeLogblobOnMidplay"),!1),n2:f(ra,"cdnIdWhiteList",[]),m2:f(ra,"cdnIdBlackList",[]),U4:f(r,g("forceAudioTrack")),Aib:f(M,"muteVolumeOnPlaybackClose",!0),DIb:f(r,"nrdpVolumeControlType","VOLUME_STREAM"),W4:f(r,g("forceTimedTextTrack")),Nwa:f(D,g("maxRetriesTimedTextDownload"),0),WCa:f(D,g("timedTextRetryInterval"),8E3),Frb:f(r,"storageType","idb",/^(none|fs|idb|ls)$/),Yva:f(D,"lockExpiration",1E4),ggb:f(D,"lockRefresh",3E3),L0a:f(M,"captureUnhandledExceptions",!0),Cdb:f(M,"ignoreUnhandledExceptionDuringPlayback",!0),Jtb:f(M,"unhandledExceptionsArePlaybackErrors",!1),yDa:f(r,"unhandledExceptionSource",""),mmb:f(M,"preserveLastFrame",!1),Zhb:f(D,"minBufferingTimeInMilliseconds",4E3),ymb:f(D,"progressBackwardsGraceTimeMilliseconds",4E3),zmb:f(D,"progressBackwardsMinPercent",10),M_a:f(r,g("bookmarkIgnoreBeginning"),"0",nb),N_a:f(r,g("bookmarkIgnoreEnd"),"5%",nb),O_a:f(r,g("bookmarkIgnoreEndForBranching"),"60000",nb),JD:f(D,"maxParallelConnections",3),W$:f(M,"reportThroughputInLogblobs",!0),QD:f(D,"minAudioMediaRequestDuration",16E3),Xhb:f(D,"minAudioMediaRequestDurationBranching",0),UD:f(D,"minVideoMediaRequestDuration",4E3),hib:f(D,"minVideoMediaRequestDurationAL1",0),iib:f(D,"minVideoMediaRequestDurationBranching",0),aU:f(D,"minAudioMediaRequestSizeBytes",0),iU:f(D,"minVideoMediaRequestSizeBytes",0),N6a:f(M,"droppedFrameRateFilterEnabled",!1),O6a:f(D,"droppedFrameRateFilterMaxObservation",60,10,1E3),Q6a:f(function(a,c,b,k,f,p){return ka(a,c,"[",function(a){a=a.split(";");for(var c=a.length;c--;){a[c]=a[c].split("|");for(var b=a[c].length;b--;)a[c][b]=y.Sd(a[c][b]);}return a;},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--&&void 0!==a;){if(!G.isArray(a[c]))return!1;for(var f=a[c].length;f--;)if(!G.uv(a[c][f],b,k))return!1;}return!0;},function(a){if(void 0!==f)for(var c=a.length;c--;)if(f!==a[c].length)return!1;return!0;},function(a){return void 0===p||a.length>=p;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),SFb:f(M,"droppedFrameRateFilterWithoutRebufferEnabled",!0),P6a:f(D,"droppedFrameRateFilterMinHeight",384),R6a:f(ra,"droppedFramesPercentilesList",[]),Phb:f(M,"microsoftScreenSizeFilterEnabled",!1),Dtb:f(M,"uiLabelFilterEnabled",!0),Ctb:f(ja,"uiLabelFilter",{}),B5a:f(D,g("defaultVolume"),100,0,100),pqa:f(M,"disableVideoRightClickMenu",!1),dib:f(D,"minDecoderBufferMilliseconds",1E3,0,u.Tw),L9:f(D,"optimalDecoderBufferMilliseconds",5E3,0,u.Tw),nya:f(D,"optimalDecoderBufferMillisecondsBranching",3E3,0,u.Tw),jU:f(D,"minimumTimeBeforeBranchDecision",3E3,0,u.Tw),MT:f(D,"maxDecoderBufferMilliseconds",Wa.MT.fa(U.ma),0,u.Tw),Vpa:f(D,"decoderTimeoutMilliseconds",1E4,1),k6a:f(M,"disgardMediaOnAppend",!1),sZa:f(M,"appendMediaBeforeInit",!1),Pkb:f(D,"pauseTimeoutLimitMilliseconds",18E5),V6:f(D,"inactivityMonitorInterval",3E4,0),tYa:f(ra,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),NC:f(M,"enableTrickPlay",!1),dZa:f(ra,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),ttb:f(D,"trickPlayHighResolutionBitrateThreshold",1E3),utb:f(D,"trickPlayHighResolutionThresholdMilliseconds",1E4),xtb:f(P,"trickplayBufferFactor",.5),stb:f(D,"trickPlayDownloadRetryCount",1),y8:f(r,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),aCa:f(D,"simplePercentilePredictorPercentile",25),ZBa:f(r,"simplePercentilePredictorCalcToUse","simple",/^(simple|tdigest)$/),$Ba:f(r,"simplePercentilePredictorMethod","simple",/^(simple|minimum)$/),vfa:f(ja,"IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.1,fup:.95,fmind:.2,fmaxd:1,fmintp:.25,fmindp:.75}),o9:f(r,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Tea:f(ja,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),Fwa:f(X,"maxIQRSamples",Infinity),lxa:f(X,"minIQRSamples",5),YDa:f(M,"useResourceTimingAPI",!1),Adb:f(M,"ignoreFirstByte",!0),Chb:f(M,"mediaRequestAsyncLoadStart",!0),zub:f(M,"useXHROnLoadStart",!1),B4:f(ra,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),JQ:f(D,"connectTimeoutMilliseconds",8E3,500),u9:f(D,"noProgressTimeoutMilliseconds",8E3,500),vub:f(M,"useOnLineApi",!1),VCa:f(D,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Cxa:f(D,"netflixRequestExpiryTimeout",0),dvb:f(M,"webkitDecodedFrameCountIncorrectlyReported",!1),mpb:f(D,"seekBackOnAudioTrackChangeMilliseconds",8E3),Nkb:f(M,"pausePlaybackOnAudioSwitch",!0),xba:f(la,g("supportedAudioTrackTypes"),[],void 0,1),Iua:f(D,"initialLogFlushTimeout",5E3),$ya:f(r,"playdataPersistKey",Ra.Pp?"unsentplaydatatest":"unsentplaydata"),Haa:f(M,"sendPersistedPlaydata",!0),Dlb:f(D,"playdataPersistIntervalMilliseconds",4E3),$Ib:f(D,"playdataSendDelayMilliseconds",1E4),MV:f(M,"sendPlaydataBackupOnInit",!0),mgb:f(la,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),Rhb:f(M,"midplayEnabled",!0),gxa:f(D,"midplayIntervalMilliseconds",3E5),Shb:f(ra,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),DI:f(D,"downloadReportDenominator",0),v6a:f(D,"downloadReportInterval",3E5),EI:f(la,"downloadReportTcpInfo",[]),awa:f(D,"logConfigApplyDenominator",0),Yna:f(Fa,g("bookmarkByMovieId"),{}),dJ:f(M,g("forceLimitedDurationLicense"),!1),Cv:f(D,g("licenseRenewalRequestDelay"),0),X9:f(D,g("persistedReleaseDelay"),1E4),NHb:f(M,g("limitedDurationFlagOverride"),void 0),ii:f(M,g("secureStopEnabled"),!1),SJb:f(M,g("secureStopFromPersistedKeySession"),!1),iBa:f(D,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),uaa:f(D,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),kpb:f(D,g("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),lpb:f(D,g("secureStopPersistedKeySessionRetries"),17,1),jpb:f(D,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),gF:f(M,g("useCdmId"),!1),TAa:f(D,"safariPlayPauseWorkaroundDelay",100),kvb:f(D,"workaroundValueForSeekIssue",1200),jvb:f(M,"workaroundSaio",!0),k2:f(M,g("callEndOfStream"),Wa.k2),blb:f(M,"performRewindCheck",!0),I8a:f(M,"fatalOnUnexpectedSeeking",!0),H8a:f(M,"fatalOnUnexpectedSeeked",!0),uqb:f(M,g("setVideoElementSize")),t1a:f(M,g("clearVideoSrc"),!0),fqa:f(D,g("delayPlayPause"),0),v_a:f(M,g("avoidSBRemove"),!1),cp:f(M,g("useTypescriptEme"),!1),HI:f(r,g("drmPersistKey"),"unsentDrmData"),A$:f(M,g("promiseBasedEme"),!1),K0a:f(M,"captureKeyStatusData",!1),qD:f(M,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),gjb:f(M,g("nudgeSourceBuffer"),!1),vaa:f(X,g("seekDelta"),1),QK:f(M,g("preciseSeeking"),!1),Vlb:f(M,g("preciseSeekingOnTwoCoreDevice"),!1),eqa:f(Fa,g("delayErrorHandling")),jDa:f(M,"trackingLogEnabled",!1),kDa:f(function(a,c){var b;b=Fa(a,c,void 0);b&&Object.keys(b).forEach(function(a){var c;c=b[a];"true"===c?b[a]=!0:"false"===c&&(b[a]=!1);});return b;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Wba:f(r,"trackingLogPath","/customerevents/track/debug"),$sb:f(ra,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Qg:f(r,"esn",""),sra:f(r,"fesn",""),h4:f(M,g("enableEmeVerboseLogging"),!1),j7a:f(M,"enableLastChunkLogging",!1),zH:f(r,"appId","",E),sessionId:f(r,"sessionId","",E),p2:f(r,"cdnProxyUrl"),xub:f(M,"usePlayReadyHeaderObject",!1),Rra:f(D,"forceXhrErrorResponseCode",void 0),wh:{vxa:f(r,"mslApiPath","/msl/"),Jqa:f(r,g("edgePath"),"/cbp/cadmium-29"),mJb:f(r,"proxyPath",""),eF:f(r,"uiVersion"),wW:f(r,"uiPlatform"),MEb:function(){return"0";},kE:f(la,"preferredLanguages",u.zHa,/^[a-zA-Z-]{2,5}$/,1),s9a:f(r,g("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),esb:f(M,"supportPreviewContentPin",!0),fsb:f(M,"supportWatermarking",!0),Rqb:f(M,"showAllSubDubTracks",!1),z8a:f(M,g("failOnGuidMismatch"),!1)},fV:{enabled:f(M,"qcEnabled",!1),zn:f(r,"qcPackageId","")},KH:f(r,"authenticationType",Ra.Pp?Wa.h_a:Wa.KH),Nna:f(Fa,"authenticationKeyNames",y.Wa({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),nsb:f(r,"systemKeyWrapFormat"),Idb:f(M,"includeNetflixIdUserAuthData",!0),Oqb:f(M,"shouldSendUserAuthData",!0),Jaa:f(M,"sendUserAuthIfRequired",Wa.Jaa),Jqb:f(M,"shouldClearUserData",!1),wib:f(M,"mslDeleteStore",!1),xib:f(M,"mslPersistStore",!0),o2a:f(M,"correctNetworkForShortTitles",!0),Olb:f(M,"postplayHighInitBitrate",!1),l9a:f(M,"flushHeaderCacheOnAudioTrackChange",!0),F8a:f(M,"fatalOnAseStreamingFailure",!0),ksb:f(M,"supportsUnequalizedDownloadables",!0),Ppa:f(D,g("debugAseDenominator"),100),C1:f(D,"aseAudioBufferSizeBytes",Wa.C1.fa(n.Rn)),E1:f(D,"aseVideoBufferSizeBytes",Wa.E1.fa(n.Rn)),Ls:f(D,"minInitVideoBitrate",560),a9:f(D,"minHCInitVideoBitrate",560),Jv:f(D,"maxInitVideoBitrate",Infinity),rK:f(D,"minInitAudioBitrate",0),qK:f(D,"minHCInitAudioBitrate",0),fK:f(D,"maxInitAudioBitrate",65535),$T:f(D,"minAcceptableVideoBitrate",235),gU:f(D,"minRequiredBuffer",3E4),$h:f(D,"minPrebufSize",7800),N$:f(P,"rebufferingFactor",1),Fo:f(D,"maxBufferingTime",2600),qca:f(M,"useMaxPrebufSize",!0),Uy:f(D,"maxPrebufSize",45E3),J8:f(D,"maxRebufSize",Infinity),aT:f(xa,"initialBitrateSelectionCurve",null),Fua:f(D,"initSelectionLowerBound",560),Gua:f(D,"initSelectionUpperBound",1050),qW:f(D,"throughputPercentForAudio",15),P1:f(D,"bandwidthMargin",10),Q1:f(M,"bandwidthMarginContinuous",!1),R1:f(xa,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Q2:f(D,"conservBandwidthMargin",20),Bba:f(M,"switchConfigBasedOnInSessionTput",!1),eI:f(D,"conservBandwidthMarginTputThreshold",0),R2:f(xa,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),DCa:f(M,"switchAlgoBasedOnHistIQR",!1),uw:f(r,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),I8:f(X,"maxPlayerStateToSwitchConfig",-1),k8:f(r,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),FY:f(P,"IQRThreshold",.5),K6:f(r,"histIQRCalcToUse","simple"),Ks:f(D,"maxTotalBufferLevelPerSession",0),lua:f(D,"highWatermarkLevel",3E4),eDa:f(D,"toStableThreshold",3E4),uW:f(D,"toUnstableThreshold",Wa.uW.fa(U.ma)),iba:f(M,"skipBitrateInUpswitch",!0),xca:f(D,"watermarkLevelForSkipStart",8E3),D6:f(D,"highStreamRetentionWindow",9E4),l8:f(D,"lowStreamTransitionWindow",51E4),F6:f(D,"highStreamRetentionWindowUp",3E5),n8:f(D,"lowStreamTransitionWindowUp",3E5),E6:f(D,"highStreamRetentionWindowDown",6E5),m8:f(D,"lowStreamTransitionWindowDown",0),C6:f(P,"highStreamInfeasibleBitrateFactor",.5),Gv:f(D,"lowestBufForUpswitch",15E3),FT:f(D,"lockPeriodAfterDownswitch",15E3),p8:f(D,"lowWatermarkLevel",25E3),Hv:f(D,"lowestWaterMarkLevel",2E4),r8:f(M,"lowestWaterMarkLevelBufferRelaxed",!1),U8:f(P,"mediaRate",1),L8:f(D,"maxTrailingBufferLen",1E4),H1:f(D,"audioBufferTargetAvailableSize",262144),vca:f(D,"videoBufferTargetAvailableSize",1048576),Pwa:f(D,"maxVideoTrailingBufferSize",8388608),Bwa:f(D,"maxAudioTrailingBufferSize",393216),LR:f(P,"fastUpswitchFactor",3),E4:f(P,"fastDownswitchFactor",1),PT:f(D,"maxMediaBufferAllowed",24E4),iq:f(D,"maxVideoBufferAllowedInBytes",0),fba:f(M,"simulatePartialBlocks",!0),bCa:f(M,"simulateBufferFull",!0),S2:f(M,"considerConnectTime",!1),P2:f(P,"connectTimeMultiplier",1),kwa:f(D,"lowGradeModeEnterThreshold",12E4),lwa:f(D,"lowGradeModeExitThreshold",9E4),Cwa:f(D,"maxDomainFailureWaitDuration",3E4),zwa:f(D,"maxAttemptsOnFailure",18),hra:f(M,"exhaustAllLocationsForFailure",!0),Iwa:f(D,"maxNetworkErrorsDuringBuffering",20),D8:f(D,"maxBufferingTimeAllowedWithNetworkError",6E4),D4:f(D,"fastDomainSelectionBwThreshold",2E3),Kba:f(D,"throughputProbingEnterThreshold",4E4),QCa:f(D,"throughputProbingExitThreshold",34E3),Xva:f(D,"locationProbingTimeout",1E4),ura:f(D,"finalLocationSelectionBwThreshold",1E4),OCa:f(P,"throughputHighConfidenceLevel",.75),PCa:f(P,"throughputLowConfidenceLevel",.4),MC:f(M,"enablePerfBasedLocationSwitch",!1),No:f(M,"probeServerWhenError",!0),v$:f(D,"probeRequestTimeoutMilliseconds",8E3),Rr:f(M,"allowSwitchback",!0),uz:f(D,"probeDetailDenominator",100),NT:f(D,"maxDelayToReportFailure",300),X7:f(D,"locationStatisticsUpdateInterval",6E4),mpa:f(M,"countGapInBuffer",!1),VB:f(M,"allowReissueMediaRequestAfterAbort",!1),q1:f(M,"allowCallToStreamSelector",!0),X1:f(D,"bufferThresholdForAbort",1E4),a$:f(D,"pipelineScheduleTimeoutMs",2),Kv:f(D,"maxPartialBuffersAtBufferingStart",2),b9:f(D,"minPendingBufferLen",6E3),Lv:f(D,"maxPendingBufferLen",12E3),ihb:f(D,"maxPendingBufferLenAL1",3E4),zR:f(M,"enableRequestPacing",!1),K8:f(D,"maxStreamingSkew",4E3),H8:f(D,"maxPendingBufferPercentage",10),Vy:f(D,"maxRequestsInBuffer",60),Kwa:f(D,"maxRequestsInBufferAL1",240),Lwa:f(D,"maxRequestsInBufferBranching",120),OS:f(D,"headerRequestSize",4096),bU:f(D,"minBufferLenForHeaderDownloading",1E4),wV:f(D,"reserveForSkipbackBufferMs",1E4),D9:f(D,"numExtraFragmentsAllowed",2),An:f(M,"pipelineEnabled",!1),eCa:f(D,"socketReceiveBufferSize",0),lQ:f(D,"audioSocketReceiveBufferSize",32768),lF:f(D,"videoSocketReceiveBufferSize",65536),A6:f(D,"headersSocketReceiveBufferSize",32768),zW:f(D,"updatePtsIntervalMs",1E3),Z1:f(D,"bufferTraceDenominator",100),cC:f(D,"bufferLevelNotifyIntervalMs",2E3),BH:f(D,"aseReportDenominator",0),D1:f(D,"aseReportIntervalMs",3E5),Pqa:f(M,"enableAbortTesting",!1),Fma:f(D,"abortRequestFrequency",8),uba:f(D,"streamingStatusIntervalMs",2E3),iE:f(D,"prebufferTimeLimit",24E4),cU:f(D,"minBufferLevelForTrackSwitch",2E3),U9:f(D,"penaltyFactorForLongConnectTime",2),h8:f(D,"longConnectTimeThreshold",200),m1:f(D,"additionalBufferingLongConnectTime",2E3),n1:f(D,"additionalBufferingPerFailure",8E3),dL:f(D,"rebufferCheckDuration",6E4),Sqa:f(M,"enableLookaheadHints",!1),hwa:f(D,"lookaheadFragments",2),Np:f(M,"enableOCSideChannel",!0),KN:f(ja,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),FDa:f(M,"updateDrmRequestOnNetworkFailure",!1),dqa:f(M,"deferAseScheduling",!1),OT:f(D,"maxDiffAudioVideoEndPtsMs",16E3),hF:f(M,"useHeaderCache",!0),ZQ:f(D,"defaultHeaderCacheSize",4),G3:f(D,"defaultHeaderCacheDataPrefetchMs",8E3),x6:f(D,"headerCacheMaxPendingData",6),p9:f(M,"neverWipeHeaderCache",!0),y6:f(D,"headerCachePriorityLimit",5),NI:f(M,"enableUsingHeaderCount",!1),iua:f(M,"headerCacheTruncateHeaderAfterParsing",!0),k9a:f(M,g("flushHeaderCacheBeforePlayback"),!1),n9:f(D,"networkFailureResetWaitMs",2E3),m9:f(D,"networkFailureAbandonMs",6E4),TT:f(D,"maxThrottledNetworkFailures",3),pW:f(D,"throttledNetworkFailureThresholdMs",200),Mr:f(M,"abortUnsentBlocks",!1),M8:f(D,"maxUnsentBlocks",2),b1:f(D,"abortStreamSelectionPeriod",2E3),o8:f(X,"lowThroughputThreshold",400),v4:f(M,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),sxa:f(M,"mp4ParsingInNative",!1),fCa:f(M,"sourceBufferInOrderAppend",!0),En:f(M,"requireAudioStreamToEncompassVideo",!0),fna:f(M,"allowAudioToStreamPastVideo",!0),jf:f(M,"enableManagerDebugTraces",!1),twa:f(D,"managerDebugMessageInterval",1E3),swa:f(D,"managerDebugMessageCount",20),Qxa:f(M,"notifyManifestCacheEom",!1),pQ:f(D,"bufferThresholdToSwitchToSingleConnMs",18E4),Y1:f(D,"bufferThresholdToSwitchToParallelConnMs",12E4),PU:f(D,"periodicHistoryPersistMs",3E5),FV:f(D,"saveVideoBitrateMs",18E4),rna:f(M,"appendMediaRequestOnComplete",!0),QW:f(M,"waitForDrmToAppendMedia",!1),T4:f(M,g("forceAppendHeadersAfterDrm"),!1),cL:f(M,g("reappendRequestsOnSkip"),!0),Dib:f(D,"netIntrStoreWindow",36E3),fib:f(D,"minNetIntrDuration",8E3),C8a:f(D,"fastHistoricBandwidthExpirationTime",10368E3),y_a:f(D,"bandwidthExpirationTime",5184E3),A8a:f(D,"failureExpirationTime",86400),hdb:f(D,"historyTimeOfDayGranularity",4),s8a:f(M,"expandDownloadTime",!1),oib:f(D,"minimumMeasurementTime",500),nib:f(D,"minimumMeasurementBytes",131072),Asb:f(D,"throughputMeasurementTimeout",2E3),Sdb:f(D,"initThroughputMeasureDataSize",262144),Bsb:f(r,"throughputPredictor","ewma"),zsb:f(D,"throughputMeasureWindow",5E3),Dsb:f(D,"throughputWarmupTime",5E3),ysb:f(D,"throughputIQRMeasureWindow",5E3),iLa:f(D,"IQRBucketizerWindow",15E3),T1a:f(D,"connectTimeHalflife",10),Cob:f(D,"responseTimeHalflife",10),gdb:f(D,"historicBandwidthUpdateInterval",2E3),mib:f(D,"minimumBufferToStopProbing",1E4),saa:f(r,"secondThroughputEstimator","none"),fBa:f(X,"secondThroughputMeasureWindowInMs",Infinity),c7a:f(la,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),Q8a:f(ja,"filterDefinitionOverrides",{}),x5a:f(r,"defaultFilter","throughput-ewma"),fpb:f(r,"secondaryFilter","none"),y5a:f(ja,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),vK:f(M,"needMinimumNetworkConfidence",!0),T1:f(M,"biasTowardHistoricalThroughput",!0),ZP:f(M,"addHeaderDataToNetworkMonitor",!1),oba:f(M,"startMonitorOnLoadStart",!1),V$:f(M,"reportFailedRequestsToNetworkMonitor",!1),F8:f(X,"maxFastPlayBufferInMs",Infinity),E8:f(X,"maxFastPlayBitThreshold",Infinity),v1:f(M,"appendFirstHeaderOnComplete",!0),EZa:f(r,"ase_stream_selector","optimized"),d7:f(r,"initBitrateSelectorAlgorithm","default"),b2:f(r,"bufferingSelectorAlgorithm","default"),w3:f(r,"ase_ls_failure_simulation",""),u3:f(M,"ase_dump_fragments",!1),v3:f(D,"ase_location_history",0),x3:f(D,"ase_throughput",0),Rpa:f(M,"ase_simulate_verbose",!1),Llb:f(D,"pollingPeriod",150),Uva:f(D,"loadTimeMs",18E4),xwa:f(D,"marginTimeMs",1E4),Aw:f(M,"useMediaCache",!1),Qu:f(D,"diskCacheSizeLimit",52428800),WT:f(D,"mediaCachePrefetchMs",8E3),Q8:f(Fa,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),hJ:f(M,"generateHardwareDeviceId",!1),u5:f(M,"getDeviceIdFromBindDevice",!1),j1:f(M,"addFailedLogBlobsToQueue",!0),Mqb:f(M,"shouldSaveLogs",!1),d8:f(la,"logTypesToSave","startup startplay endplay debug subtitleqoe playbackaborted".split(" ")),Etb:{"content-sampling":{Fo:f(D,"contentSamplingMaxBufferingTime",3E3),BE:f(r,"contentSamplingSelectStartingVMAFMethod","fallback"),rH:f(M,"contentSamplingActivateSelectStartingVMAF",!0),TD:f(D,"contentSamplingMinStartingVideoVMAF",80)},billboard:{Ls:f(D,"billboardMinInitVideoBitrate",1050),Jv:f(D,"billboardMaxInitVideoBitrate",null),$h:f(D,"billboardMinPrebufSize",null),Uy:f(D,"billboardMaxPrebufSize",null),Fo:f(D,"billboardMaxBufferingTime",null),Kv:f(D,"billboardMaxPartialBuffersAtBufferingStart",null),Hv:f(D,"billboardLowestWaterMarkLevel",6E3),Gv:f(D,"billboardLowestBufForUpswitch",25E3),uw:f(r,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Ls:f(D,"preplayMinInitVideoBitrate",1050),Jv:f(D,"preplayMaxInitVideoBitrate",null),$h:f(D,"preplayMinPrebufSize",null),Uy:f(D,"preplayMaxPrebufSize",null),Fo:f(D,"preplayMaxBufferingTime",null),Kv:f(D,"preplayMaxPartialBuffersAtBufferingStart",null),Hv:f(D,"preplayLowestWaterMarkLevel",6E3),Gv:f(D,"preplayLowestBufForUpswitch",25E3)},embedded:{Ls:f(D,"embeddedMinInitVideoBitrate",1050),Jv:f(D,"embeddedMaxInitVideoBitrate",null),$h:f(D,"embeddedMinPrebufSize",null),Uy:f(D,"embeddedMaxPrebufSize",null),Fo:f(D,"embeddedMaxBufferingTime",null),Kv:f(D,"embeddedMaxPartialBuffersAtBufferingStart",null),Hv:f(D,"embeddedLowestWaterMarkLevel",6E3),Gv:f(D,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Ls:f(D,"videoMerchBobHorizontalMinInitVideoBitrate",null),Jv:f(D,"videoMerchBobHorizontalMaxInitVideoBitrate",null),$h:f(D,"videoMerchBobHorizontalMinPrebufSize",null),Uy:f(D,"videoMerchBobHorizontalMaxPrebufSize",null),Fo:f(D,"videoMerchBobHorizontalMaxBufferingTime",null),Kv:f(D,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Hv:f(D,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Gv:f(D,"videoMerchBobHorizontalLowestBufForUpswitch",null)}},t7a:f(M,"enableVerbosePlaydelayLogging",!1),q7a:f(M,"enableSeamless",!1),J6:f(D,"hindsightDenominator",0),I6:f(D,"hindsightDebugDenominator",0),QS:f(ja,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),MI:f(M,"enableSessionHistoryReport",!1),e4:f(D,"earlyStageEstimatePeriod",1E4),Gva:f(D,"lateStageEstimatePeriod",3E4),QT:f(D,"maxNumSessionHistoryStored",30),hU:f(D,"minSessionHistoryDuration",3E4),LI:f(M,"enableInitThroughputEstimate",!1),y1:f(M,"applyInitThroughputEstimate",!1),Hua:f(ja,"initThroughputPredictor",{bwThreshold:4E3,lrWeights:{}}),gq:f(D,"maxActiveRequestsPerSession",3),LT:f(D,"maxActiveRequestsSABCell100",2),RT:f(D,"maxPendingBufferLenSABCell100",500),S7:f(M,"limitAudioDiscountByMaxAudioBitrate",!0),Gp:f(ja,"browserInfo",{}),f0a:f(D,g("busyGracePeriod"),199),Fpb:f(M,g("sendTransitionLogblob"),!0),dn:f(M,g("editAudioFragments"),!1),rs:f(M,g("editVideoFragments"),!1),W6a:f(M,g("editAudioFragmentsBranching"),!0),Kqa:f(M,g("editVideoFragmentsBranching"),!0),tR:f(M,g("earlyAppendSingleChildBranch"),!0),Jdb:f(M,g("includeSegmentInfoOnLogblobs"),!0),v8a:f(M,"exposeTestData",!1),y3:f(M,"declareBufferingCompleteAtSegmentEnd",!0),Mx:f(M,"applyProfileTimestampOffset",!1),eo:f(M,"applyProfileStreamingOffset",!1),mZa:f(M,g("allowSmallSeekDelta"),!1),arb:f(D,g("smallSeekDeltaThresholdMilliseconds"),N.EZ),b7a:f(M,"enableCDMAttestedDescriptors",!1),$$:f(M,"requireDownloadDataAtBuffering",!1),aaa:f(M,"requireSetupConnectionDuringBuffering",!1),O$:f(M,"recordFirstFragmentOnSubBranchCreate",!1),T_a:f(M,"branchingAudioTrackFrameDropSmallSeekFix",!0),Qra:f(M,"forceL3WidevineCdm",!1),uub:f(M,"useMobileVMAF",!1),V5a:f(r,"desiredVMAFTypeMobile","phone_plus_exp"),W5a:f(r,"desiredVMAFTypeNonMobile","plus_lts"),rH:f(M,"activateSelectStartingVMAF",!1),TD:f(D,"minStartingVideoVMAF",1)};sa=!0;d.bpa=function(a){var k,f;if(0<d.config.awa&&0===x.Ffa%d.config.awa)try{k=c.V.get(R.Mj);f=c.V.get(S.Vn).Ml("config","info",{params:a});k.uc(f);}catch(qc){c.log.error("Failed to log config$apply",qc);}J._cad_global.config=d.config;J._cad_global.platformExtraInfo=q.Xn;p.Ga(a);a&&(C=y.Wa({},a,{GD:!0}),y.Wa(C,Nc,{GD:!0}),b(dc,d.config),C.istestaccount&&c.log.trace("Config applied for",cc(sa?C:a)),sa=!1);};d.bpa(C);};d.$Eb=function(a,c){return G.Qd(a)&&"%"==a[a.length-1]?h.Jh(parseFloat(a)*c/100):a|0;};d.R1a=function(a){return a?(a=y.Wa({},d.config),y.Wa(a,{L9:d.config.nya},{pq:!0})):d.config;};d.aFb=function(a){var c;c=y.Wa({},d.config);return y.Wa(c,b(a),{pq:!0});};d.dpa=function(c){c=b(c);return y.Wa({},a(150)(c),{pq:!0});};d.cpa=function(c,b,k){k=!!k&&(0<=k.indexOf("h264hpl")||0<=k.indexOf("vp9"));c={QD:c?d.config.Xhb:d.config.QD,UD:c?d.config.iib:k?d.config.hib:d.config.UD,VB:c?!1:d.config.VB,Vy:c&&k?Math.max(d.config.Lwa,d.config.Kwa):c?d.config.Lwa:k?d.config.Kwa:d.config.Vy,Lv:k?d.config.ihb:d.config.Lv,dn:d.config.dn||c&&d.config.W6a,rs:d.config.rs||c&&d.config.Kqa,tR:!b};return y.Wa({},a(150)(c),{pq:!0});};d.cFb=b;d.bFb=f;d.ZEb="";},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);return f;}(Error);d.assert=function(a,b){if(!a)throw new f(b||"Assertion failed");};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);a=a(86);d.uFa=function(){d.Ga();};d.AFb=!0;d.Se=g.V.get(a.yt);d.Ga=d.Se.assert.bind(d.Se);d.vFb=d.Se.HZa.bind(d.Se);d.wFb=d.Se.IZa.bind(d.Se);d.P4a=d.Se.NZa.bind(d.Se);d.sI=d.Se.QZa.bind(d.Se);d.zFb=d.Se.OZa.bind(d.Se);d.xFb=d.Se.LZa.bind(d.Se);d.VQ=d.Se.KZa.bind(d.Se);d.rI=d.Se.PZa.bind(d.Se);d.yFb=d.Se.MZa.bind(d.Se);d.uFb=d.Se.FZa.bind(d.Se);d.Opa=d.Se.JZa.bind(d.Se);d.BFb=d.Se.ceb.bind(d.Se);},function(g,d){function a(){}function b(){}function f(){}function u(){}function m(){}Object.defineProperty(d,"__esModule",{value:!0});m.cgb="loadedtracks";m.bgb="loadedmetadata";m.loaded="loaded";m.error="error";m.closed="closed";m.$m="currenttimechanged";m.foa="bufferedtimechanged";m.S6a="durationchanged";m.Tub="videosizechanged";m.Qkb="pausedchanged";m.Jlb="playingchanged";m.Z7a="endedchanged";m.f2="busychanged";m.Kna="audiotracklistchanged";m.IH="audiotrackchanged";m.bA="timedtexttracklistchanged";m.ZE="timedtexttrackchanged";m.mM="trickplayframeschanged";m.Bib="mutedchanged";m.Xub="volumechanged";m.Sqb="showsubtitle";m.Xnb="removesubtitle";m.bvb="watermark";m.t7="isReadyToTransition";m.pD="inactivated";m.tpb="segmentmaploaded";m.upb="segmentpresenting";m.k_a="autoplaywasallowed";m.l_a="autoplaywasblocked";d.qb=m;u.xBa="serverTimeChanged";d.Bfa=u;f.vL="playlistsegmenttransition";d.nG=f;(function(a){a.ZB="aseException";a.$B="aseReport";a.i_a="authorized";a.M1="autoplayWasAllowed";a.jj="autoplayWasBlocked";a.C_a="bandwidthMeterAggregateUpdate";a.ho="bufferUnderrun";a.closed="closed";a.Ie="closing";a.$m="currentTimeChanged";a.Ru="downloadComplete";a.pD="inactivated";a.Iva="licenseAdded";a.$J="licensed";a.bq="locationSelected";a.JT="manifestClosing";a.tn="manifestPresenting";a.YHb="manifestSelected";a.VT="mediaBufferChanged";a.l9="needLicense";a.tU="nextSegmentChosen";a.wj="playbackStart";a.Dn="repositioned";a.Ez="repositioning";a.UAa="safePlayRequested";a.npb="segmentAborted";a.uL="segmentPresenting";a.TJb="segmentComplete";a.ppb="segmentLastPts";a.spb="segmentStarting";a.GE="serverSwitch";a.WBa="shouldUpdateVideoDiagInfo";a.Ri="skipped";a.SE="subtitleError";a.Iba="throttledMediaTimeChanged";a.XE="timedTextRebuffer";a.bA="timedTextTrackListChanged";a.mM="trickPlayFramesChanged";a.oM="tryRecoverFromStall";a.Jq="updateNextSegmentWeights";a.Eub="userInitiatedPause";a.$Da="userInitiatedResume";}(d.S||(d.S={})));b.OA=0;b.LOADING=1;b.$c=2;b.CLOSING=3;b.CLOSED=4;d.jb=b;a.$c=1;a.Ij=2;a.uia=3;d.pf=a;(function(a){a[a.og=1]="WAITING";a[a.ad=2]="PLAYING";a[a.oi=3]="PAUSED";a[a.Wq=4]="ENDED";}(d.ib||(d.ib={})));(function(a){a[a.QF=0]="INITIAL";a[a.ex=1]="SEEK";a[a.WN=2]="TRACK_CHANGED";a[a.WA=3]="SEGMENT_CHANGED";}(d.kg||(d.kg={})));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(139);d.is=g.Jt;d.Tb=function(a){return d.is.Dd(a);};d.Xe=function(a){return d.is.Kx(a);};d.Meb=function(a){return d.is.a1(a);};d.isArray=function(a){return d.is.Sr(a);};d.ova=function(a){return d.is.jna(a);};d.pa=function(a,f,u){return d.is.Vf(a,f,u);};d.peb=function(a,f,u){return d.is.r1(a,f,u);};d.uv=function(a,f,u){return d.is.Cp(a,f,u);};d.fva=function(a){return d.is.qH(a);};d.tHb=function(a){return d.is.oYa(a);};d.wHb=function(a){return d.is.pYa(a);};d.pva=function(a){return d.is.kna(a);};d.Qd=function(a){return d.is.Ci(a);};d.Ly=function(a){return d.is.Gk(a);};d.Sua=function(a){return d.is.oH(a);};d.Nb=function(a){return d.is.pH(a);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ld="ConfigSymbol";},function(g,d,a){var b,f,u,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);f=a(19);u=a(8);m=a(16);d.Uc=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};d.Wa=d.Wa||function(a,b,p){var c,k,A;if(b)if(p){c=p.GD;k=p.prefix;A=p.pq;d.Uc(b,function(b,p){if(!A||f.Tb(p))a[(k||"")+(c?b.toLowerCase():b)]=p;});}else d.Uc(b,function(c,b){a[c]=b;});return a;};d.D0a=function(a,b,f,q){var c;if(a){c=a[b];m.Nb(c)&&(f=c.apply(a,u.slice.call(arguments,3)));}};d.BZa=function(){for(var a=["info","warn","trace","error"],b={},f=a.length;f--;)b[a[f]]=!0;return b;};d.Sd=d.Sd||function(a){return parseInt(a,10);};d.OIb=function(a){return/^true$/i.test(a);};d.Jza=function(a,b){return u.Jh(a+u.ZF()*(b-a));};d.lW=function(a){return JSON.stringify(a,null,"  ");};d.M6=function(){var k,f;function a(a){b.Ga(void 0!==k[a]);return k[a];}k={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(c){return c.replace(f,a);};}();d.trim=function(){var a;a=/^\s+|\s+$/gm;return function(c){return c.replace(a,"");};}();d.v8=function(a){return Array.isArray(a)?a:[a];};d.ud=d.ud||function(a){var c,b,f;if(a){c=a.stack;b=a.number;f=a.message;f||(f=""+a);c?(a=""+c,0!=a.indexOf(f)&&(a=f+"\n"+a)):a=f;b&&(a+="\nnumber:"+b);return a;}};d.Tl=function(a){return m.pa(a)?a.toFixed(0):"";};d.my=function(a){return m.pa(a)?(a/1E3).toFixed(0):"";};d.w9a=function(a){return m.pa(a)?a.toFixed():"";};d.l2a=function(a){for(var c=[],b=0;b<a.length;b++)c[b]=a[b];return c;};},function(g,d,a){var m,c;function b(a){return null!==a&&void 0!==a;}function f(a){return typeof a==d.xRa;}function u(a,f,q){var k,p,d;if(f)if(q){k=q.GD;p=q.prefix;d=q.pq;c.Uc(f,function(c,f){if(!d||b(f))a[(p||"")+(k?c.toLowerCase():c)]=f;});}else c.Uc(f,function(c,b){a[c]=b;});return a;}Object.defineProperty(d,"__esModule",{value:!0});m=a(8);c=a(18);d.le=function(){};d.Nj=1E3;d.fG=Object.create;d.MNa=Object.keys;d.dN=Date.now;d.Ww=Math.floor;d.LMa=Math.ceil;d.Jh=Math.round;d.xm=Math.max;d.Wn=Math.min;d.ZF=Math.random;d.YF=Math.abs;d.oga=Math.pow;d.Vi="$attributes";d.UW="$children";d.VW="$name";d.Qq="$text";d.sEa="$parent";d.rF="$sibling";d.xRa="string";d.WCb="number";d.VCb="function";d.wRa="object";d.Tb=b;d.Xe=function(a){return typeof a==d.wRa;};d.Qd=f;d.Ly=function(a){return f(a)&&a;};d.Sd=function(a){return parseInt(a,10);};d.dr=function(a,c,b){return a>=c?a<=b?a:b:c;};d.Wa=u;d.EL=function(a){return u({},a);};d.G2=function(a){var f;for(var c=0;c<arguments.length;++c);for(var c=0,k=arguments.length;c<k;){f=arguments[c++];if(b(f))return f;}};d.AZa=function(a){for(var c,b=!0,k;b;)for(b=!1,c=a.length;--c;)k=a[c],k.startTime<a[c-1].startTime&&(a[c]=a[c-1],a[c-1]=k,b=!0);};d.Ku=function(a,c){if(a.length==c.length){for(var b=a.length;b--;)if(a[b]!=c[b])return!1;return!0;}return!1;};d.createElement=function(a,b,f,t){var k;k=m.Ld.createElement(a);b&&(k.style.cssText=b);f&&(k.innerHTML=f);t&&c.Uc(t,function(a,c){k.setAttribute(a,c);});return k;};d.iI=function(a){var b;b="";c.Uc(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};d.WR=function(a,c,b){var k;a/c>b?(k=d.Jh(c*b),a=c):(k=a,a=d.Jh(a/b));return{width:k,height:a};};d.M6=function(){var c,b;function a(a){return c[a];}c={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};b=/[&'"<>]/g;return function(c){return c.replace(b,a);};}();d.ud=function(a){var c,b;if(a){c=a.stack;b=a.number;a=""+a;c?(c=""+c,0!=c.indexOf(a)&&(c=a+"\n"+c)):c=a;b&&(c+="\nnumber:"+b);return c;}};d.u={bj:1001,eh:1003,HJa:1701,Cea:1713,IJa:1715,GJa:1721,kN:1723};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fe="AsyncComponentLoaderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ue="IsTypeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cf="UtilitiesSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Oe="ApplicationSymbol";},function(g,d,a){g.T={RJa:a(761),na:a(74).na,iC:a(74).iC,Wm:a(74).Wm,ID:a(74).ID,tL:a(74).tL,fZ:a(760).fZ,rZ:a(208),ASa:a(759)};},function(g,d,a){g.T={EventEmitter:a(766),Ow:a(765)};},function(g,d,a){var f,u,m,c;function b(){return d.mO.Oy.fa(c.ma);}Object.defineProperty(d,"__esModule",{value:!0});g=a(476);f=a(42);u=a(23);m=a(116);c=a(3);d.Vja=g.Wc.get(f.Kj);d.mO=g.Wc.get(u.Oe);d.DUa=g.Wc.get(m.HA);d.Ffa=d.mO.id;d.Wf=function(){return d.mO.Xb().fa(c.ma);};d.EQ=function(){return d.Vja.Ve.fa(c.Am);};d.SEb=function(){return d.mO.Oy.fa(c.Am);};d.v1a=function(){return d.DUa.pC();};d.w1a=b;d.C2=function(){return d.Vja.Ve.fa(c.ma);};d.TEb=function(){return b();};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rX="ConfigurableInputsSymbol";d.cj="ValidatingConfigurableInputsSymbol";d.vA="ConfigNameSymbol";d.zN="InitParamsSymbol";},function(g,d,a){var q,t,A,y,h,x,G;function b(){var a,c;if(a=d.V5.Yla)return a;a=x.aZ.search.substr(1);c=a.indexOf("#");0<=c&&(a=a.substr(0,c));a=f(a);return d.V5.Yla=a;}function f(a){for(var c=/[+]/g,b=(a||"").split("&"),k={},f,p=0;p<b.length;p++)a=y.trim(b[p]),f=a.indexOf("="),0<=f?k[decodeURIComponent(a.substr(0,f).replace(c,"%20")).toLowerCase()]=decodeURIComponent(a.substr(f+1).replace(c,"%20")):k[a.toLowerCase()]=null;return k;}function u(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function m(a){return u(a.constructor);}function c(a){return x.sort.call(a,function(a,c){return a-c;});}function k(a){for(var c=0,b=a.length;b--;)c+=a[b];return c;}function p(){return G.Nb(x.sk.requestMediaKeySystemAccess);}Object.defineProperty(d,"__esModule",{value:!0});q=a(9);t=a(14);A=a(4);y=a(18);h=a(19);x=a(8);G=a(16);d.Uoa=function(a,c){if(a===c)return!0;if(!a||!c)return!1;for(var b in a)if(a.hasOwnProperty(b)&&(!c.hasOwnProperty(b)||a[b]!==c[b]))return!1;return!0;};d.Ku=d.Ku||function(a,c){if(a.length==c.length){for(var b=a.length;b--;)if(a[b]!=c[b])return!1;return!0;}return!1;};d.nJb=function(a){var c;if(a){c=a.length;if(c)return c=y.Jza(0,c-1),a[c];}};d.Z1a=function(a,c){if(a.length!=c.length)return!1;a.sort();c.sort();for(var b=a.length;b--;)if(a[b]!==c[b])return!1;return!0;};d.XYa=function(a,c){function b(){a.removeEventListener("loadedmetadata",b);c.apply(this,arguments);}a.addEventListener("loadedmetadata",b);};d.Ymb=function(){var a,c,b,k,f,p;a=x.Ld.cookie.split("; ");c=a.length;p={};for(b=0;b<c;b++)if(k=y.trim(a[b]))f=k.indexOf("="),0<f&&(p[k.substr(0,f)]=k.substr(f+1));return p;};d.OGb=b;d.V5=Object.assign(b,{Yla:void 0});d.KU=f;d.AK=function(a){var c;c="";y.Uc(a,function(a,b){c&&(c+="&");t.Ga(h.Qd(b)||G.pa(b)||G.Sua(b));c+=encodeURIComponent(a)+"="+encodeURIComponent(b);});return c;};d.getFunctionName=u;d.Dsa=m;d.$xa=function(a){var c;c="";G.isArray(a)||G.ova(a)?c=x.reduce.call(a,function(a,c){return a+(32<=c&&128>c?x.nRa(c):".");},""):h.Qd(a)?c=a:y.Uc(a,function(a,b){c+=(c?", ":"")+"{"+a+": "+(G.Nb(b)?u(b)||"function":b)+"}";});return"["+m(a)+" "+c+"]";};d.fJb=function(a,c){a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c);};d.iI=d.iI||function(a){var c;c="";y.Uc(a,function(a,b){c+=(c?";":"")+a+":"+b;});return c;};d.pHb=function(a,c){var b;b=a[0];if(c<=b[0])return b.slice(1);for(var k=1,f;f=a[k++];){if(c<=f[0]){a=(c-b[0])/(f[0]-b[0]);c=[];for(k=1;k<b.length;k++)c.push((b[k]||0)+a*((f[k]||0)-(b[k]||0)));return c;}b=f;}return b.slice(1);};d.Kvb=function(a,c){var f;for(var b={},k=0;k<c.length;k++){f=c[k];if("string"!=typeof f&&"number"!=typeof f)return!1;b[c[k]]=1;}for(k=0;k<a.length;k++)if(f=a[k],!b[f])return!1;return!0;};d.cFa=function(a,c){0>a.indexOf(c)&&a.push(c);};d.XW=c;d.Mvb=k;d.Sca=function(a,c){var b,k,f,p;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(f=a[b])&&f<=f);)f=void 0;for(;++b<k;)null!=(p=a[b])&&p>f&&(f=p);}else{for(;++b<k&&!(null!=(f=c.call(a,a[b],b))&&f<=f);)f=void 0;for(;++b<k;)null!=(p=c.call(a,a[b],b))&&p>f&&(f=p);}return f;};d.Lvb=function(a,c){var b,k,f,p;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(f=a[b])&&f<=f);)f=void 0;for(;++b<k;)null!=(p=a[b])&&f>p&&(f=p);}else{for(;++b<k&&!(null!=(f=c.call(a,a[b],b))&&f<=f);)f=void 0;for(;++b<k;)null!=(p=c.call(a,a[b],b))&&f>p&&(f=p);}return f;};d.ZD=function(a){return G.Nb(a.then)?a:new Promise(function(c,b){a.oncomplete=function(){c(a.result);};a.onerror=function(){b(a.error);};});};d.nGb=function(a,b){var f,p,q,d,t,A;function k(a){0>f.indexOf(a)&&G.pa(a)&&f.push(a);}a=a.slice();c(a);f=[];if(!b||!b.length)return a;if(!a.length)return[];p=b.length;try{for(;p--;){t=""+b[p];A=h.Sd(t);switch(t[t.length-1]){case"-":for(q=a.length;q--;)if(d=a[q],d<A){k(d);break;}break;case"+":for(q=0;q<a.length;q++)if(d=a[q],d>A){k(d);break;}break;default:0<=a.indexOf(A)&&k(A);}}}catch(ea){}f.length||f.push(a[0]);c(f);return f;};d.WR=d.WR||function(a,c,b){var k;a/c>b?(k=x.Jh(c*b),a=c):(k=a,a=x.Jh(a/b));return{width:k,height:a};};d.YEb=function(a,c,b){for(var f=[],p=0;p<c;p++)f.push(x.oga(a[p]-b,2));return x.MMa(k(f)/f.length);};d.Jl=function(a,c){var b;b=a.length;c=(b-1)*c+1;if(1===c)return a[0];if(c==b)return a[b-1];b=x.Ww(c);return a[b-1]+(c-b)*(a[b]-a[b-1]);};d.pGb=function(a,c){if(!G.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");c=G.isArray(c)?c:[c];for(var b=a.length,k=0;k<b;k++)for(var f=0;f<c.length;f++)if(a[k].type==c[f])return a[k];throw Error("Box not found "+c);};d.wwb=function(a){return a.dv("trak/mdia/minf/stbl/stsd/"+q.WFa+"|"+q.XFa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.M4.schm.Yob;})[0].dv("schi/tenc").yv;};d.vwb=function(a){var b;function c(a,c){var k;k=b[a];b[a]=b[c];b[c]=k;}b=new Uint8Array(a);c(0,3);c(1,2);c(4,5);c(6,7);return b;};d.hva=p;d.r7=function(a){return p()||a.WL;};d.aJb=function(a){return function(c){return c&&c[a];};};G.Nb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,c){var b,k;void 0===a&&(a=0);void 0===c&&(c=this.byteLength);a=Math.floor(a);c=Math.floor(c);0>a&&(a+=this.byteLength);0>c&&(c+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);c=Math.min(Math.max(0,c),this.byteLength);if(0>=c-a)return new ArrayBuffer(0);b=new ArrayBuffer(c-a);k=new Uint8Array(b);a=new Uint8Array(this,a,c-a);k.set(a);return b;});d.x7=function(a){return a&&0==a.toLowerCase().indexOf("https");};d.$$a=function(){var a,c;a=new ArrayBuffer(4);c=new Uint8Array(a);a=new Uint32Array(a);c[0]=161;c[1]=178;c[2]=195;c[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};d.wS=function(){var a,c,b;try{a=/playercore.*js/;c=x.br.getEntries("resource").filter(function(c){return null!==a.exec(c.name);});if(c&&0<c.length){b=x.Jh(c[0].duration);return JSON.stringify(b);}}catch(X){}};d.bJb=function(a,c,b){if(a&&a.length)if(b&&b.j1a)try{a.forEach(function(a,k){var f;f=(k=b.j1a[k])&&k.media;f&&h.Qd(f)?(f=A.Kk(f).buffer,a.media={arrayBuffer:f,length:f.byteLength,stream:c,Wb:k.cdn}):A.log.warn("chunk not in cache",a.cg);});}catch(X){A.log.error("error reading cached chunks",X);}else A.log.warn("chunks not available in cached stream",b.type);else A.log.warn("chunks not available in mediabuffer",b.type);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.pja=1]="Video";}(d.bG||(d.bG={})));(function(a){a[a.Kw=0]="Default";a[a.Yw=1]="Microsoft";}(d.Fw||(d.Fw={})));(function(a){a[a.Kw=0]="Default";a[a.nX=1]="Cast";a[a.pX=2]="Chrome";a[a.Yw=3]="Microsoft";a[a.Fia=4]="Safari";}(d.Pj||(d.Pj={})));(function(a){a[a.pG=0]="SD";a[a.mN=1]="HD";a[a.bO=2]="UHD";a[a.Uq=3]="DV";a[a.Yq=4]="HDR10";a[a.qA=5]="AVCHigh";a[a.Tt=6]="VP9";a[a.Ch=7]="AV1";}(d.od||(d.od={})));(function(a){a[a.ip=0]="Level_1_4";a[a.Sw=1]="Level_2_2";}(d.Gh||(d.Gh={})));d.nDb=function(){};(function(a){a[a.zBb=0]="Platform";a[a.axb=1]="CurrentTitle";}(d.pSa||(d.pSa={})));d.CX="DeviceCapabilitiesSymbol";d.vxb=function(){};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ng="SchedulerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ot="named";d.EN="name";d.sG="unmanaged";d.Rga="optional";d.RF="inject";d.Vw="multi_inject";d.Pia="inversify:tagged";d.Qia="inversify:tagged_props";d.gZ="inversify:paramtypes";d.HHa="design:paramtypes";d.hG="post_construct";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);d.tX=!1;g=function(){function a(a,b,c,k,f){this.Ua=a;this.type=b;this.byteOffset=c;this.byteLength=k;this.parent=f;this.Ec={};this.mz=k;}a.ky=function(a,b){var k,q;function c(a){a&&a.ky&&(a=a.ky(b),a.length&&(k=k.concat(a)));}k=[];a.type===b&&k.push(a);if(a.Ec)for(var f in a.Ec){q=a.Ec[f];Array.isArray(q)&&q.forEach(c);}return k;};a.tH=function(a,b){void 0===a.Ec[b.type]&&(a.Ec[b.type]=[]);a.Ec[b.type].push(b);};a.ly=function(b,f){return a.ky(b,f)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{J:{get:function(){return this.Ua;},enumerable:!0,configurable:!0}});a.prototype.nf=function(){var a;a=this.Ua.ub();this.version=a>>24;this.Je=a&16777215;};a.prototype.tH=function(b){a.tH(this,b);};a.prototype.ky=function(b){return a.ky(this,b);};a.prototype.ly=function(b){return a.ly(this,b);};a.prototype.parse=function(){return!0;};a.prototype.jy=function(){return!0;};a.prototype.$o=function(a){if((a=this.Ec[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.Aj=function(a,f){f=void 0===f?this.Ua.offset:f;b.assert(f>=this.startOffset+8&&f+a<=this.startOffset+this.mz,"Removal range [0x"+f.toString(16)+"-0x"+(f+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.mz).toString(16)+")");this.byteLength-=a;this.Ua.sm(this.byteLength,!1,this.startOffset);this.parent?this.parent.Aj(a,f):this.Ua.Aj(a,f);};a.prototype.hL=function(a,f,c){c=void 0===c?this.Ua.offset:c;b.assert(c>=this.startOffset+8&&c+a<=this.startOffset+this.mz,"Removal range [0x"+c.toString(16)+"-0x"+(c+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.mz).toString(16)+")");this.byteLength+=(f?f.byteLength:0)-a;this.Ua.sm(this.byteLength,!1,this.startOffset);this.parent?this.parent.hL(a,f,c):this.Ua.hL(a,f,c);};a.prototype.Vza=function(a,b,c){if(1<c){for(var k=[];0<c--;)k.push(this.$la(a,b));return k;}return this.$la(a,b);};a.prototype.yq=function(a){var b,c;c=this;void 0===b&&(b={});a.forEach(function(a){var k,f;if("offset"===a.type){k=a.offset;if(0<k%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");c.Ua.offset+=k/8;}else for(k in a){f=a[k];b[k]="string"===typeof f?c.Vza(f):c.Vza(f.type,f.length,f.zZa);}});return b;};a.prototype.$la=function(a,b){var c;c=this.byteLength-this.Ua.offset+this.startOffset;"undefined"===typeof b&&(b=c);switch(a){case"int8":a=this.Ua.ge();break;case"int64":a=this.Ua.gi();break;case"int32":a=this.Ua.ub();break;case"int16":a=this.Ua.Of();break;case"string":a=this.Ua.Xmb(Math.min(b,c));break;default:throw Error("Invalid type: "+a);}return a;};a.Sb=!1;return a;}();d.Fh=g;},function(g,d,a){var c,k,p,q,t,A,y,h,x;function b(a,c){var b,k,f;try{b=p.sk.plugins;k=b.length;for(f=0;f<k;f++)if(c.test(b[f][a]))return b[f];return!1;}catch(D){}}function f(){var a,c;a=b("filename",/widevinecdm/i);if(a){try{c=a.description.match(/version: ([0-9.]+)/);if(c&&c[1])return c[1];}catch(R){}return"true";}return"false";}function u(){var a;a=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.rl,robustness:"HW_SECURE_DECODE"},{contentType:c.rl,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.Uw,robustness:"SW_SECURE_CRYPTO"}]}];try{p.sk.requestMediaKeySystemAccess("com.widevine.alpha",a).then(function(a){var c;c=a.getConfiguration();a=c.videoCapabilities;(c=c.audioCapabilities)&&c.length&&(c=m(c),0<=c.indexOf("SW_SECURE_CRYPTO")&&(d.Xn.cptheaacwv_sw_cryp=!0));a&&a.length?(d.Xn.cpth264wv=!0,c=m(a),0<=c.indexOf("SW_SECURE_DECODE")&&(d.Xn.cpth264wv_sw_dec=!0),0<=c.indexOf("HW_SECURE_DECODE")&&(d.Xn.cpth264wv_hw_dec=!0)):d.Xn.cpth264wv=!1;})["catch"](function(){d.Xn.cpth264wv=!1;});}catch(N){}}function m(a){return a.map(function(a){return a.robustness;});}Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(769),d);c=a(9);g=a(28);k=a(19);p=a(8);q=a(29);t=a(4);a=a(426);d.vHb=/CrOS/.test(p.Oj);d.jia=/CrOS/.test(p.Oj);d.bha={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:q.Pj.pX,preciseSeeking:!0,editAudioFragments:!0,editVideoFragments:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};t.V.get(a.gja).wZa(d.bha);d.YAb=function(){return{};};d.ZAb=b;d.$Ab=f;d.cha=f();a=d.cha;if(!(q=d.cha))a:{try{p.sk.plugins.refresh();q=f();break a;}catch(G){}q=void 0;}t=!!b("name",/Chrome Remote Desktop Viewer/i);A=!!b("name",/Chromoting Viewer/i);a:{try{y=MediaSource.isTypeSupported(c.rl);break a;}catch(G){}y=void 0;}a:{try{h=k.createElement("VIDEO").canPlayType(c.rl);break a;}catch(G){}h=void 0;}a:{try{if(g.hva())u();else{x=k.createElement("VIDEO").canPlayType(c.rl,"com.widevine.alpha");break a;}}catch(G){}x=void 0;}d.Xn={wvp:a,wvp2:q,crdvp:t,cvp:A,itsh264:y,cpth264:h,cpth264wv:x};d.QEb=u;d.PGb=m;},function(g,d,a){var m,c,k;function b(a){return function(c,b){return c.L$(b,a);};}function f(a,c){return a.gV.Pmb[c]||u(a,c);}function u(a,c){a=a.Hs.data[c];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(d,"__esModule",{value:!0});m=a(35);c=a(3);k=a(134);d.config=function(a,c){return function(b,p,q){var d,t;d=void 0!==c?c:p;t=q.get;void 0!==t&&(q.get=function(){var c;if(!this.Beb(p))return this.ybb(p);a:{c=(this.lZa?f:u)(this,d.toString());if(void 0!==c)if(c=a(this.zK,c),c instanceof k.ym)this.Tra(d,c);else break a;c=t.bind(this)();}this.Bob(p,c);return c;});return q;};};d.h7=function(a,c){return a.Rza(c);};d.Yd=function(a,c){return a.I$(c);};d.zw=function(a,c){return a.Na(c);};d.string=function(a,c){return a.L$(c);};d.vba=function(a,c){return a.vd(c,d.string);};d.qHb=function(a,c){return a.vd(c,d.h7);};d.vDa=function(a,c){return a.vd(c,d.zw);};d.Wg=function(a,b){a=a.Na(b);return a instanceof k.ym?a:c.Cb(a);};d.aa=function(a,c){a=a.Na(c);return a instanceof k.ym?a:m.aa(a);};d.url=b(/^\S+$/);d.bGb=function(a){return function(c,b){return c.Qza(b,a);};};d.object=function(){return function(a,c){return a.Sza(c);};};d.hAa=b;d.Ep=function(a,c){return function(b,k){return b.vd(k,a,c);};};},function(g,d,a){var u;function b(a){return u.cO.apply(this,arguments)||this;}function f(a){return new u.kp(a,d.sA);}Object.defineProperty(d,"__esModule",{value:!0});u=a(469);ca(b,u.cO);d.Gwb=b;d.mQ=f;d.aa=function(a){return new u.kp(a,d.Rn);};d.JHb=function(a){return new u.kp(a,d.Jfa);};d.dIb=function(a){return new u.kp(a,d.aNa);};d.sA=new b(1,"b");d.Rn=new b(8*d.sA.Ne,"B",d.sA);d.Jfa=new b(1024*d.Rn.Ne,"KB",d.sA);d.aNa=new b(1024*d.Jfa.Ne,"MB",d.sA);d.Ef=f(0);},function(g,d,a){var u,m,c,k;function b(a,c){var b;b=k.call(this,a,c)||this;b.epa=c;b.debug=a.debug;b.ia=a.xf.lb(b.epa);return b;}function f(a,c){this.epa=c;this.B$={};this.Hs=a.Hs;this.zK=a.zK;this.gV=a.gV;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);u=a(1016);m=a(1);c=a(134);d.vRa="isTestAccount";f.prototype.Tra=function(){};f.prototype.Bob=function(a,c){this.B$[a]=[c,this.Hs.MAa];};f.prototype.Beb=function(a){return u.Vga.of(this.B$[a]).map(function(a){return a[1];}).qya(-1)<this.Hs.MAa;};f.prototype.ybb=function(a){return u.Vga.of(this.B$[a]).map(function(a){return a[0];}).qya(function(){throw Error("Invalid State Error");});};qa.Object.defineProperties(f.prototype,{lZa:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.Hs&&this.Hs.data){a=this.Hs.data[d.vRa];"undefined"!==typeof a&&(b=a.toString());a=this.zK.I$(b);a=a instanceof c.ym?!1:a;}else a=!1;return a;}}});k=f;k=g.__decorate([m.N(),g.__param(0,m.bh()),g.__param(1,m.bh())],k);d.QM=k;ca(b,k);b.prototype.Tra=function(a,c){this.ia.error("Invalid configuration value.",{name:a},c);this.debug.assert(!1);};a=b;a=g.__decorate([g.__param(0,m.bh()),g.__param(1,m.bh())],a);d.xe=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tja="WindowTimersSymbol";d.Kt="JSONSymbol";d.QA="NavigatorSymbol";d.ZMa="MediaSourceSymbol";d.Qfa="LocationSymbol";d.Tda="DateSymbol";d.sZ="PerformanceSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mh={fwa:"logblob",Ja:"manifest",Lf:"license",events:"events",bind:"bind",zya:"pair",ping:"ping"};g=d.mg||(d.mg={});g[g.Zq=20]="High";g[g.TY=10]="Medium";g[g.JA=0]="Low";d.CZ={mg:"reqPriority",nQa:"reqAttempt",oQa:"reqName"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.MY="LogBatcherConfigSymbol";d.Mj="LogBatcherSymbol";d.Rfa="LogBatcherProviderSymbol";},function(g,d){var f;function a(a,b,c,k){var f;Object.getOwnPropertyNames(a).filter(function(a){return(!k||k(a))&&(c||!Object.prototype.hasOwnProperty.call(b,a));}).forEach(function(c){f=Object.getOwnPropertyDescriptor(a,c);void 0!==f&&Object.defineProperty(b,c,f);});}function b(f,d,c){var k,p;k=c?[]:Object.keys(d);p=Object.getPrototypeOf(f);null!==p&&p!==Object.prototype&&b(p,d,c);a(f,d,!0,function(a){return"constructor"!==a&&-1===k.indexOf(a);});}Object.defineProperty(d,"__esModule",{value:!0});f=Object.getOwnPropertyNames(Function);d.mi=function(d,m,c){void 0===c&&(c=!0);d.prototype?(b(d.prototype,m.prototype,c),a(d,m,c,function(a){return-1===f.indexOf(a);})):a(d,m.prototype,c,function(a){return-1===f.indexOf(a);});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jj="Base64EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kj="ClockSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tk="PboCommandContextSymbol";},function(g,d,a){var m,c;function b(a){return a&&a.lf&&a.inRange&&!a.Sg&&!1!==a.Zu;}function f(a,c,b){return!m.pa(a)||a<c?c:a>b?b:a;}function u(a){if(!(this instanceof u))return new u(a);this.wd=m.pa(a)?a:void 0;}m=a(6);c=new(a(5)).Console("ASEJS_STREAM_SELECTOR","media|asejs");g.T={console:c,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",c.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},Ky:b,K4:function(a,c,b){var p,q,d,u;function k(c){var f;f=a[c];if(!f.lf||!f.inRange||f.Sg||b&&!b(f,c))return!1;u=c;return!0;}p=a.length;q=0;d=p;m.isArray(c)&&(q=f(c[0],0,p),d=f(c[1],0,p),c=c[2]);c=f(c,q-1,d);for(p=c-1;p>=q;--p)if(k(p))return u;for(p=c+1;p<d;++p)if(k(p))return u;return-1;},tib:function(a,c){return Math.floor(a/(125*c)*1E3);},g0a:function(a,c){return Math.ceil(a/1E3*c*125);},xHb:function(a,c){return!a.slice(c+1).some(b);},op:u,yna:function(a,c){var b;return a.some(function(a,f,k){b=a;return c(a,f,k);})?b:void 0;},YB:function(a,c){var b;return a.some(function(a,f,k){b=f;return c(a,f,k);})?b:-1;},iC:f};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zb=function(a){return setTimeout(a,0);};},function(g,d,a){var b,f,u,m,c,k;b=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=a(462);g=a(71);u=a(242);m=a(241);c=function(a){function f(b,f,p){var q;a.call(this);this.Xz=null;this.Ye=this.mk=this.Wz=!1;switch(arguments.length){case 0:this.destination=u.empty;break;case 1:if(!b){this.destination=u.empty;break;}if("object"===typeof b){if(b instanceof c||"syncErrorThrowable"in b&&b[m.Mz]){q=b[m.Mz]();this.mk=q.mk;this.destination=q;q.add(this);}else this.mk=!0,this.destination=new k(this,b);break;}default:this.mk=!0,this.destination=new k(this,b,f,p);}}b(f,a);f.prototype[m.Mz]=function(){return this;};f.create=function(a,c,b){a=new f(a,c,b);a.mk=!1;return a;};f.prototype.next=function(a){this.Ye||this.oh(a);};f.prototype.error=function(a){this.Ye||(this.Ye=!0,this.bd(a));};f.prototype.complete=function(){this.Ye||(this.Ye=!0,this.ic());};f.prototype.unsubscribe=function(){this.closed||(this.Ye=!0,a.prototype.unsubscribe.call(this));};f.prototype.oh=function(a){this.destination.next(a);};f.prototype.bd=function(a){this.destination.error(a);this.unsubscribe();};f.prototype.ic=function(){this.destination.complete();this.unsubscribe();};f.prototype.YXa=function(){var a,c;a=this.Lm;c=this.wx;this.wx=this.Lm=null;this.unsubscribe();this.Ye=this.closed=!1;this.Lm=a;this.wx=c;};return f;}(g.uk);d.ri=c;k=function(a){function c(c,b,k,p){var q;a.call(this);this.$G=c;c=this;f.Nb(b)?q=b:b&&(q=b.next,k=b.error,p=b.complete,b!==u.empty&&(c=Object.create(b),f.Nb(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this)));this.ti=c;this.oh=q;this.bd=k;this.ic=p;}b(c,a);c.prototype.next=function(a){var c;if(!this.Ye&&this.oh){c=this.$G;c.mk?this.YZ(c,this.oh,a)&&this.unsubscribe():this.ZZ(this.oh,a);}};c.prototype.error=function(a){var c;if(!this.Ye){c=this.$G;if(this.bd)c.mk?this.YZ(c,this.bd,a):this.ZZ(this.bd,a),this.unsubscribe();else if(c.mk)c.Xz=a,c.Wz=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};c.prototype.complete=function(){var a,c,b;a=this;if(!this.Ye){c=this.$G;if(this.ic){b=function(){return a.ic.call(a.ti);};c.mk?this.YZ(c,b):this.ZZ(b);}this.unsubscribe();}};c.prototype.ZZ=function(a,c){try{a.call(this.ti,c);}catch(y){throw this.unsubscribe(),y;}};c.prototype.YZ=function(a,c,b){try{c.call(this.ti,b);}catch(L){return a.Xz=L,a.Wz=!0;}return!1;};c.prototype.Jr=function(){var a;a=this.$G;this.$G=this.ti=null;a.unsubscribe();};return c;}(c);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kjb=function(a,b){return a-b;};d.cKb=function(a,b){return a.localeCompare(b);};d.Yk=function(a,b){var f;f=Object.getOwnPropertyDescriptor(a,b);f&&Object.defineProperty(a,b,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(g){g.T=function(d,a){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);return a;};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(382),d);d.Egb=function(b){d.platform.FJ(b);return a(767).CMa;};d.EGb=function(){return a(350);};d.qIb=function(){return a(202);};g=a(11);d.qc=g;g=a(661);d.bn=g.bn;g=a(5);d.platform=g;},function(g,d,a){var b,f;b=a(110);f=a(158);g.T=function(a){return function c(k,p){switch(arguments.length){case 0:return c;case 1:return f(k)?c:b(function(c){return a(k,c);});default:return f(k)&&f(p)?c:f(k)?b(function(c){return a(c,p);}):f(p)?b(function(c){return a(k,c);}):a(k,p);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Dt||(d.Dt={});g[g.Wia=0]="Test";g[g.Afa=1]="Int";g[g.gRa=2]="Staging";g[g.VPa=3]="Prod";d.vm="GeneralConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nIa="Cannot apply @injectable decorator multiple times.";d.oIa="Metadata key was used more than once in a parameter:";d.dG="NULL argument";d.Hfa="Key Not Found";d.yEa="Ambiguous match found for serviceIdentifier:";d.iGa="Could not unbind serviceIdentifier:";d.wNa="No matching bindings found for serviceIdentifier:";d.nMa="Missing required @injectable annotation in:";d.oMa="Missing required @inject or @multiInject annotation in:";d.bSa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};d.lGa="Circular dependency found:";d.nAb="Sorry, this feature is not fully implemented yet.";d.aLa="Invalid binding type:";d.xNa="No snapshot available to restore.";d.dLa="Invalid return type in middleware. Middleware must return!";d.bzb="Value provided to function binding must be a function!";d.fLa="The toSelf function can only be applied when a constructor is used as service identifier";d.bLa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";d.zEa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};d.AGa="Invalid Container constructor argument. Container options must be an object.";d.yGa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";d.xGa="Invalid Container option. Auto bind injectable must be a boolean";d.zGa="Invalid Container option. Skip base check must be a boolean";d.BMa="Cannot apply @postConstruct decorator multiple times in the same class";d.KOa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};d.mGa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};d.GQa="Maximum call stack size exceeded";},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(68);b=a(45);f=a(8);d.Ce=new g.Lj();d.Vk=1;d.zy=2;d.q6=3;d.sJ=4;d.p6=5;b.zb(function(){var b,c,k;function a(a,b){if(c)c.on(a,b);else J.addEventListener(a,b);}b=J.jQuery;c=b&&b(J);b=(b=J.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;k=f.Ld.hidden;b?b(function(a){d.Ce.Ib(d.Vk,a);}):a("beforeunload",function(a){d.Ce.Ib(d.Vk,a);});a("keydown",function(a){d.Ce.Ib(d.zy,a);});a("resize",function(){d.Ce.Ib(d.q6);});f.Ld.addEventListener("visibilitychange",function(){k!==f.Ld.hidden&&(k=f.Ld.hidden,d.Ce.Ib(d.sJ));});});(function(){J.addEventListener("error",function(a){d.Ce.Ib(d.p6,a);return!0;});}());},function(g){g.T=function a(b,f){var u;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,f);Object.getOwnPropertyNames(b).forEach(function(a){u=Object.getOwnPropertyDescriptor(b,a);void 0!==u&&Object.defineProperty(f,a,u);});};},function(g,d,a){var f;function b(a,b,c,k,p,q,d,A,y,g,h){this.code=void 0===a?f.I.bj:a;this.Ic=b;this.vg=c;this.ey=k;this.lq=p;this.message=q;this.zC=d;this.data=A;this.en=y;this.Alb=g;this.alert=h;this.W=!1;}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);b.ud=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}return"";};b.prototype.AI=function(a){this.zC=b.ud(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.Ic,extCode:this.vg,edgeCode:this.ey,mslCode:this.lq,message:this.message,details:this.zC,data:this.data,errorDisplayMessage:this.en,playbackServiceError:this.Alb};};b.fS=function(a,d){return new b(a,f.u.eh,void 0,void 0,void 0,void 0,d.message,d.stack);};d.Qc=b;},function(g,d,a){var f,u;function b(a,c){var k;k=d.gr[0];k==c&&(k=d.gr[1]);k?k.close(function(){b(a,c);}):a&&a(f.xc);}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);u=a(14);d.Oha=b;d.Rha=function(a,c){switch(a){case d.Mha:d.Pha.push(c);return;case d.Nha:d.Qha.push(c);return;}u.Ga(!1);};d.gr=[];d.Pha=[];d.Qha=[];d.Mha=1;d.Nha=3;d.mG={index:0,sib:void 0,P4:void 0};d.Lha="network";d.Kha="media";d.tPa="timedtext";d.uPa="playback";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vn="LogMessageFactorySymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);d.GG=function(a){b.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};d.Zja=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};d.GDb=function(a,b){return Math.floor(1E3*a/b);};},function(g,d){function a(a,d){return"number"!==typeof a||"number"!==typeof d?!1:a&&d?Math.abs(a*d/b(a,d)):0;}function b(a,b){var f;a=Math.abs(a);for(b=Math.abs(b);b;){f=b;b=a%b;a=f;}return a;}Object.defineProperty(d,"__esModule",{value:!0});g=function(){function f(a,b){"object"===typeof a?(this.JP=a.yd,this.Ir=a.ga):(this.JP=a,this.Ir=b);}f.IIb=function(a){return new f(1,a);};f.E9a=function(a){return new f(a,1E3);};f.cDa=function(a,b){return Math.floor(1E3*a/b);};f.uxa=function(a,b){return Math.floor(a*b/1E3);};f.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};f.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};f.L9a=function(d,m){var c;if(d.ga===m.ga)return new f(b(d.yd,m.yd),d.ga);c=a(d.ga,m.ga);return f.L9a(d.lm(c),m.lm(c));};Object.defineProperties(f.prototype,{yd:{get:function(){return this.JP;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ga:{get:function(){return this.Ir;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{yf:{get:function(){return 1E3*this.JP/this.Ir;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Eg:{get:function(){return this.JP/this.Ir;},enumerable:!0,configurable:!0}});f.prototype.lm=function(a){a/=this.ga;return new f(Math.floor(this.yd*a),Math.floor(this.ga*a));};f.prototype.add=function(b){var d;if(this.ga===b.ga)return new f(this.yd+b.yd,this.ga);d=a(this.ga,b.ga);return this.lm(d).add(b.lm(d));};f.prototype.ke=function(a){return this.add(new f(-a.yd,a.ga));};f.prototype.k9=function(a){return new f(this.yd*a,this.ga);};f.prototype.GC=function(b){var f;if(this.ga===b.ga)return this.yd/b.yd;f=a(this.ga,b.ga);return this.lm(f).GC(b.lm(f));};f.prototype.acb=function(b){return a(this.ga,b);};f.prototype.mnb=function(){return new f(this.ga,this.yd);};f.prototype.compare=function(b,f){var c;if(this.ga===f.ga)return b(this.yd,f.yd);c=a(this.ga,f.ga);return b(this.lm(c).yd,f.lm(c).yd);};f.prototype.equal=function(a){return this.compare(function(a,c){return a===c;},a);};f.prototype.Mxa=function(a){return this.compare(function(a,c){return a!==c;},a);};f.prototype.lessThan=function(a){return this.compare(function(a,c){return a<c;},a);};f.prototype.greaterThan=function(a){return this.compare(function(a,c){return a>c;},a);};f.prototype.tfb=function(a){return this.compare(function(a,c){return a<=c;},a);};f.prototype.r6=function(a){return this.compare(function(a,c){return a>=c;},a);};f.prototype.toJSON=function(){return{ticks:this.yd,timescale:this.ga};};f.prototype.toString=function(){return this.yd+"/"+this.ga;};f.Ef=new f(0,1);f.DK=new f(1,1E3);return f;}();d.gc=g;},function(g,d,a){var c;function b(){}function f(){}function u(){}function m(){}Object.defineProperty(d,"__esModule",{value:!0});a=a(112);(function(a){a[a.zm=0]="STANDARD";a[a.Lt=1]="LIMITED";a[a.pBb=2]="PREVIEW";}(c||(c={})));m.oda="created";m.xia="started";m.Dia="succeeded";m.Et="failed";m.tA="cancelled";m.UM="cancelled_on_create";m.wF="cancelled_on_start";m.TM="cancelled_not_encrypted";d.ve=m;u.eDb="uirequest";u.oBb="prefetch_start";u.mBb="prefetch_complete";u.nBb="prefetch_delete";u.kOa="periodic_update";(function(a){a[a.oha=0]="PRE_FETCH";a[a.hia=1]="QC";a[a.zm=2]="STANDARD";a[a.Eia=3]="SUPPLEMENTAL";a[a.lIa=4]="DOWNLOAD";}(g=d.Yn||(d.Yn={})));a={manifest:a.we.Wi.Fca,ldl:a.we.Wi.Rw,getHeaders:a.we.Wi.KF,getMedia:a.we.Wi.MEDIA};f.MEa="asl_start";f.KEa="asl_comp";f.Evb="asl_exc";f.LEa="asl_fail";f.IQa="stf_creat";f.BKa="idb_open";f.yKa="idb_block";f.IKa="idb_upgr";f.HKa="idb_succ";f.zKa="idb_error";f.AKa="idb_invalid_state";f.DKa="idb_open_timeout";f.FKa="idb_open_wrkarnd";f.GKa="idb_storelen_exc";f.CKa="idb_open_exc";f.EKa="idb_timeout_invalid_storelen";f.uMa="msl_load_data";f.wMa="msl_load_no_data";f.vMa="msl_load_failed";d.si=f;b.tzb=c;b.kpa=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.ve=m;b.LOa=u;b.Yn=g;b.j2a=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.iG=a;b.si=f;d.Zc=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sl="PlayerErrorFactorySymbol";},function(g,d){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(d,"__esModule",{value:!0});ca(a,Error);d.Bm=a;d.bx="PromiseTimerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lia="StorageValidatorSymbol";d.fp="AppStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tn="EmeConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pca="AccountManagerSymbol";d.Sq="AccountManagerProviderSymbol";},function(g,d){function a(){}function b(){}function f(){}Object.defineProperty(d,"__esModule",{value:!0});f.SX="playready-h264mpl30-dash";f.lN="playready-h264mpl31-dash";f.TX="playready-h264mpl40-dash";f.UJa="playready-h264hpl22-dash";f.PX="playready-h264hpl30-dash";f.QX="playready-h264hpl31-dash";f.RX="playready-h264hpl40-dash";f.qY="hevc-main-L30-dash-cenc";f.rY="hevc-main-L31-dash-cenc";f.sY="hevc-main-L40-dash-cenc";f.tY="hevc-main-L41-dash-cenc";f.uY="hevc-main-L50-dash-cenc";f.vY="hevc-main-L51-dash-cenc";f.cY="hevc-main10-L30-dash-cenc";f.fY="hevc-main10-L31-dash-cenc";f.iY="hevc-main10-L40-dash-cenc";f.lY="hevc-main10-L41-dash-cenc";f.LF="hevc-main10-L50-dash-cenc";f.MF="hevc-main10-L51-dash-cenc";f.dY="hevc-main10-L30-dash-cenc-prk";f.gY="hevc-main10-L31-dash-cenc-prk";f.jY="hevc-main10-L40-dash-cenc-prk";f.mY="hevc-main10-L41-dash-cenc-prk";f.eY="hevc-main10-L30-dash-cenc-prk-do";f.hY="hevc-main10-L31-dash-cenc-prk-do";f.kY="hevc-main10-L40-dash-cenc-prk-do";f.nY="hevc-main10-L41-dash-cenc-prk-do";f.oY="hevc-main10-L50-dash-cenc-prk-do";f.pY="hevc-main10-L51-dash-cenc-prk-do";f.Hyb="hevc-main-L30-L31-dash-cenc-tl";f.Iyb="hevc-main-L31-L40-dash-cenc-tl";f.Jyb="hevc-main-L40-L41-dash-cenc-tl";f.Kyb="hevc-main-L50-L51-dash-cenc-tl";f.Dyb="hevc-main10-L30-L31-dash-cenc-tl";f.Eyb="hevc-main10-L31-L40-dash-cenc-tl";f.Fyb="hevc-main10-L40-L41-dash-cenc-tl";f.Gyb="hevc-main10-L50-L51-dash-cenc-tl";f.ZM="hevc-dv5-main10-L30-dash-cenc-prk";f.$M="hevc-dv5-main10-L31-dash-cenc-prk";f.aN="hevc-dv5-main10-L40-dash-cenc-prk";f.bN="hevc-dv5-main10-L41-dash-cenc-prk";f.cN="hevc-dv5-main10-L50-dash-cenc-prk";f.yX="hevc-dv5-main10-L51-dash-cenc-prk";f.UX="hevc-hdr-main10-L30-dash-cenc";f.VX="hevc-hdr-main10-L31-dash-cenc";f.WX="hevc-hdr-main10-L40-dash-cenc";f.XX="hevc-hdr-main10-L41-dash-cenc";f.YX="hevc-hdr-main10-L50-dash-cenc";f.$X="hevc-hdr-main10-L51-dash-cenc";f.nN="hevc-hdr-main10-L30-dash-cenc-prk";f.oN="hevc-hdr-main10-L31-dash-cenc-prk";f.pN="hevc-hdr-main10-L40-dash-cenc-prk";f.qN="hevc-hdr-main10-L41-dash-cenc-prk";f.ZX="hevc-hdr-main10-L50-dash-cenc-prk";f.aY="hevc-hdr-main10-L51-dash-cenc-prk";f.oja="vp9-profile0-L21-dash-cenc";f.vG="vp9-profile0-L30-dash-cenc";f.wG="vp9-profile0-L31-dash-cenc";f.xG="vp9-profile0-L40-dash-cenc";f.jja="vp9-profile2-L30-dash-cenc-prk";f.kja="vp9-profile2-L31-dash-cenc-prk";f.lja="vp9-profile2-L40-dash-cenc-prk";f.mja="vp9-profile2-L50-dash-cenc-prk";f.nja="vp9-profile2-L51-dash-cenc-prk";f.Gca="av1-main-L20-dash-cbcs-prk";f.Hca="av1-main-L21-dash-cbcs-prk";f.Ica="av1-main-L30-dash-cbcs-prk";f.Jca="av1-main-L31-dash-cbcs-prk";f.Kca="av1-main-L40-dash-cbcs-prk";f.Lca="av1-main-L41-dash-cbcs-prk";f.Mca="av1-main-L50-dash-cbcs-prk";f.Nca="av1-main-L51-dash-cbcs-prk";f.tQa=[f.SX];f.ZJa=[f.lN,f.TX];f.ZRa=[f.qY,f.rY,f.sY,f.tY,f.uY,f.vY];f.aSa=[f.cY,f.fY,f.iY,f.lY,f.LF,f.MF];f.$Ra=[f.dY,f.gY,f.jY,f.mY,f.LF,f.MF];f.cDb=[f.eY,f.hY,f.kY,f.nY,f.oY,f.pY];f.YJa=[f.UX,f.VX,f.WX,f.XX,f.YX,f.$X];f.XJa=[f.nN,f.oN,f.pN,f.qN,f.ZX,f.aY];f.pIa=[f.ZM,f.aN,f.cN,f.$M,f.bN,f.yX];f.oxb=[f.ZM,f.$M,f.aN,f.cN,f.bN];f.Gvb=[f.PX,f.QX,f.RX];f.mDb=[f.vG,f.wG,f.xG];f.Tt=[f.oja,f.vG,f.wG,f.xG,f.jja,f.kja,f.lja,f.mja,f.nja];f.REa=[f.Gca,f.Hca,f.Ica];f.QEa=[f.Jca,f.Kca,f.Lca];f.SEa=[f.Mca,f.Nca];f.Ch=[].concat(f.REa,f.QEa,f.SEa);f.TJa=f.tQa.concat(f.ZJa);f.WJa=f.ZRa;f.VJa=f.aSa;f.XEa=[].concat(f.TJa,f.WJa,f.VJa,f.$Ra,f.YJa,f.XJa,f.pIa,f.Tt,f.Ch);d.da=f;b.rN="heaac-2-dash";b.sN="heaac-2hq-dash";b.XM="ddplus-2.0-dash";b.sX="ddplus-5.1-dash";b.YM="ddplus-atmos-dash";b.bY="playready-heaac-2-dash";b.aKa="heaac-2-dash-enc";b.lHa="ddplus-2.0-dash-enc";b.mHa="ddplus-5.1-dash-enc";b.$Ja="playready-heaac-2-dash-enc";b.XEa=[b.rN,b.sN,b.XM,b.sX,b.YM,b.bY,b.aKa,b.lHa,b.mHa,b.$Ja];d.Xi=b;a.DQa="simplesdh";a.wX="dfxp-ls-sdh";a.MA="nflx-cmisc";a.gCb="simplesdh-enc";a.hxb="dfxp-ls-sdh-enc";a.HN="nflx-cmisc-enc";d.vk=a;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);g=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.Ot?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();d.Metadata=g;},function(g,d,a){var f,u;function b(){var a,c;a=this;this.$n={};this.on=function(c,b,f){a.addListener(c,b,f);};this.addListener=function(c,b,f){a.$n&&(a.$n[c]=a.$n[c]||new u.dia(!0)).add(b,f);};this.removeListener=function(c,b){a.$n&&a.$n[c]&&a.$n[c].removeAll(b);};this.y5=function(c){return a.$n&&a.$n[c]?a.$n[c].j9a():[];};c=this;this.Ib=function(a,b,q){var k;if(c.$n){k=c.y5(a);for(a={Ji:0};a.Ji<k.length;a={Ji:a.Ji},a.Ji++)q?function(a){return function(){var c;c=k[a.Ji];f.zb(function(){c(b);});};}(a)():k[a.Ji].call(this,b);}};}Object.defineProperty(d,"__esModule",{value:!0});f=a(45);u=a(430);b.prototype.FC=function(){this.$n=void 0;};d.Lj=b;},function(g,d,a){var q,t,A,y,h,x,G,N,R,S,l,D,n,P,r,Z;function b(a){var c,b,f,k;c=a.url.split("?");b=c[0];f="sc="+a.$ob;k=a.koa?"random="+(1E17*l.ZF()).toFixed(0):"";b=c[1]?b+("?"+c[1]+"&"+f):b+("?"+f);b=b+(k?"&"+k:"");a.Wb&&!y.x7(b)&&(a=t.config&&t.config.p2)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function f(a){var c,b,f,k;c=a.url.split("?");b=c[0];f="bb_reason="+a.reason;k=a.koa?"random="+(1E17*l.ZF()).toFixed(0):"";b=c[1]?b+("?"+c[1]+"&"+f):b+("?"+f);b=b+(k?"&"+k:"");a.Wb&&!y.x7(b)&&(a=t.config&&t.config.p2)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function u(a,c){var b,f,k,p;b=a.url.split("?");f=b[0];k=m(a);k&&(c.wq=k,(void 0===a.tM?0:a.tM)?(a.headers=a.headers||{},a.headers.Range="bytes="+k):(c.wq=k,f="/"==f[f.length-1]?f+"range/":f+"/range/",f+=k));k=a.koa?"random="+(1E17*l.ZF()).toFixed(0):"";t.config.Np&&a.UV&&(p="sc="+a.UV,k=p+(k?"&"+k:""));f=b[1]?f+("?"+b[1]+(k?"&"+k:"")):f+(k?"?"+k:"");a.Wb&&!y.x7(f)&&(a=t.config&&t.config.p2)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));c.url=f;}function m(a){var c;c=a.offset;if(void 0!==c)return R.VQ(c),void 0!==a.length?(a=a.offset+a.length-1,R.VQ(a),R.Ga(c<=a),c+"-"+a):c+"-";}function c(){return!1!==l.sk.onLine;}function k(a,c,b,f){var k,p;k=f.l$;p=f.headers;a.open(k?"POST":"GET",c,!b);switch(f.responseType){case d.SS:a.responseType="arraybuffer";break;case d.pua:S.D0a(a,"overrideMimeType",void 0,"text/xml");}k&&(c={"Content-Type":x.Qd(k)?"text/plain":"application/x-octet-stream"},p=p?x.Wa(c,p):c);p&&S.Uc(p,function(c,b){a.setRequestHeader(c,b);});f.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");k?a.send(k):a.send();}function p(a,c){switch(c.type){case d.SS:return a.response||new ArrayBuffer(0);case d.pua:return a.responseXML;default:return a.responseText;}}Object.defineProperty(d,"__esModule",{value:!0});q=a(68);t=a(12);A=a(9);y=a(28);h=a(26);x=a(19);G=a(2);N=a(4);R=a(14);S=a(18);l=a(8);D=a(45);n=a(16);P=a(20);r={OZ:1,rDb:2,wFa:3};d.Gd=function(){var g,L,S,l;function a(a){var c;try{c=a.url;n.pva(c)?0===c.indexOf("https")?l.ssl++:0===c.indexOf("http")?l["non-ssl"]++:l.invalid++:l.invalid++;}catch(ra){}}function m(){L.Ib(d.qdb);L.Ib(d.qua);}function y(){L.Ib(d.O6);L.Ib(d.qua);}g=N.Kf("Http");L=new q.Lj();S=0;l={ssl:0,"non-ssl":0,invalid:0};N.V.get(P.Fe).register(G.I.sfa,function(a){t.config.vub&&(J.addEventListener("online",m),J.addEventListener("offline",y),d.N6=c);a(A.xc);});return{addEventListener:L.addListener,removeEventListener:L.removeListener,download:function(c,b){var O,U,r,W,ia,ka,Y,M,ja,ea,wa;function f(){var a;f=x.le;wa&&(clearTimeout(wa),wa=null);L.removeListener(d.O6,y);ja&&(ja.onloadstart=null,ja.onreadystatechange=null,ja.onprogress=null,ja.onerror=null,ja.onload=null,ja=ja.onabort=null);M.W||(M.Y!=G.u.Gt?O.warn("Download failed",U,G.Un(M)):O.trace("Download aborted",U));a=r;r=void 0;for(var c=a.length;c--;)(function(){var b;b=a[c];D.zb(function(){b(M);});}());L.Ib(d.odb,M,!0);}function q(){wa&&(clearTimeout(wa),wa=null);wa=setTimeout(l,ea?Y:ka);}function A(a,c,b,k){var p,q;M.W=!1;M.Y=a;p=h.Wf();q=M.rj;q.eg=q.eg||p;q.kl=q.kl||p;0<c&&(M.Vh=M.Gc=c);b&&(M.Sa=b);k&&(M.Cj=k);a!==G.u.NF&&a!==G.u.Qw&&a!==G.u.PF||!ja||(ja.onabort=null,X());f();}function m(a){var c,b;try{b=a.getResponseHeader("X-Netflix.Retry.Server.Policy");b&&(c=JSON.parse(b));}catch(vd){}return c;}function y(){d.N6()||A(G.u.NF);}function l(){A(ea?G.u.Qw:G.u.PF);}function X(){try{ja&&ja.abort();}catch(ud){}}function P(){A(G.u.Gt);}R.Ga(b);O=c.j&&c.j.log&&N.$f(c.j,"Http")||g;U={Num:S++};r=[b];W={};ka=c.JQ||t.config.JQ;Y=c.u9||t.config.u9;a(c);M=function(){var a,b,k;a=x.le;b=x.le;k=x.le;return{request:c,type:c.responseType,rj:W,abort:X,timeout:l,Gma:function(a){f!==x.le&&(R.Ga(r,"Callback should be added before download starts."),r&&r.unshift(a));},AU:function(a){k(a);},CU:function(c){a(c);},XD:function(a){b(a);},eqb:function(a){k=a;},nqb:function(c){a=c;},bqb:function(a){b=a;}};}();D.zb(function(){var a,b;if(n.pva(c.url))try{if(u(c,M),ia=M.url,R.sI(ia),U.Url=ia,d.N6()){ja=new XMLHttpRequest();a=t.config.zub&&"undefined"!=typeof ja.onloadstart;a&&(ja.onloadstart=function(){var a;a=h.Wf();W.requestTime=a;M.AU({mediaRequest:c,timestamp:a});});ja.onreadystatechange=function(){if(2==ja.readyState){ea=!0;W.eg=h.Wf();ja.onreadystatechange=null;q();for(var a=M,b=ja.getAllResponseHeaders().split("\n"),f=b.length,k,p,d={};f--;)if(k=b[f])p=k.indexOf(": "),1<=p&&p<k.length-1&&(d[k.substr(0,p)]=k.substr(p+2));a.headers=d;M.CU({timestamp:W.eg,connect:!0,mediaRequest:c,start:W.requestTime,rt:[W.eg-W.requestTime]});}};ja.onprogress=function(a){ea=!0;W.Mu=a.loaded;q();a={mediaRequest:c,bytes:a.loaded,tempstamp:h.Wf(),bytesLoaded:a.loaded};M.CU(a);};ja.onload=function(){var a;if(f!==x.le){R.Ga(void 0===W.kl);W.kl=h.Wf();W.eg=W.eg||W.kl;if(200<=ja.status&&299>=ja.status)if(a=p(ja,M),c.di)try{M.content=c.di(a,M);M.W=!0;M.parsed=!0;M.raw=a;}catch(vd){O.warn("Exception parsing response",vd,U);A(G.u.xY,void 0,x.ud(vd));}else M.parsed=!1,M.content=a,M.W=!0;else ja.status==Z?A(G.u.CA,ja.status):A(G.u.OF,ja.status,ja.response,m(ja));f();}};ja.onabort=P;ja.onerror=function(){var a,c;a=ja.status;"undefined"!==typeof t.config.Rra&&(a=t.config.Rra);if(0<a)if(a==Z)A(G.u.CA,a);else{try{c=ja.responseText;}catch(Je){}A(G.u.OF,a,c,m(ja));}else A(G.u.DA);};b=h.Wf();k(ja,ia,!1,c);L.Ib(d.pdb,M,!0);a||(W.requestTime=b,M.AU({mediaRequest:c,timestamp:b}));q();L.addListener(d.O6,y);}else D.zb(A.bind(void 0,G.u.NF));}catch(Za){O.error("Exception starting download",Za,U);A(G.u.BY,void 0,x.ud(Za));}else A(G.u.Oea);});return M;},Kb:l,yIb:function(a){var c;c=new XMLHttpRequest();a=f(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},Uqb:function(a){var c;c=new XMLHttpRequest();a=b(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},tmb:function(a){var c,b,f;c=new XMLHttpRequest();b=a.url;f=a.qmb;c.open("HEAD",b);c.timeout=Math.max(2*f.egb,t.config.v$);c.onreadystatechange=function(){2==c.readyState&&f&&f.al({url:b});};c.ontimeout=c.onerror=function(){f&&f.B9({url:b});};c.send();},cQa:r};}();d.gHb=b;d.dHb=f;d.fHb=u;d.eHb=m;d.N6=A.eQa;d.hHb=c;d.tDb=k;d.sDb=p;d.pdb=1;d.odb=2;d.qdb=3;d.O6=4;d.qua=5;d.oua=1;d.pua=2;d.SS=3;Z=420;J._cad_global.http=d.Gd;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jN="EventSourceSymbol";d.OX="GlobalEventSourceSymbol";d.BF="DebugEventSourceSymbol";},function(g,d,a){var f,u,m,c,k,p;function b(a){return a.reduce(function(a,c){return a.concat(c instanceof p.dO?c.UI:c);},[]);}f=a(101);u=a(463);m=a(462);c=a(1004);k=a(461);p=a(1003);g=function(){function a(a){this.closed=!1;this.OB=this.wx=this.Lm=null;a&&(this.Jr=a);}a.prototype.unsubscribe=function(){var a,q,d,g,h,G;a=!1;if(!this.closed){d=this.Lm;g=this.wx;h=this.Jr;G=this.OB;this.closed=!0;this.OB=this.wx=this.Lm=null;for(var N=-1,R=g?g.length:0;d;)d.remove(this),d=++N<R&&g[N]||null;m.Nb(h)&&(d=c.rDa(h).call(this),d===k.Wu&&(a=!0,q=q||(k.Wu.e instanceof p.dO?b(k.Wu.e.UI):[k.Wu.e])));if(f.isArray(G))for(N=-1,R=G.length;++N<R;)d=G[N],u.Xe(d)&&(d=c.rDa(d.unsubscribe).call(d),d===k.Wu&&(a=!0,q=q||[],d=k.Wu.e,d instanceof p.dO?q=q.concat(b(d.UI)):q.push(d)));if(a)throw new p.dO(q);}};a.prototype.add=function(c){var b;if(!c||c===a.EMPTY)return a.EMPTY;if(c===this)return this;b=c;switch(typeof c){case"function":b=new a(c);case"object":if(b.closed||"function"!==typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;"function"!==typeof b.Eja&&(c=b,b=new a(),b.OB=[c]);break;default:throw Error("unrecognized teardown "+c+" added to Subscription.");}(this.OB||(this.OB=[])).push(b);b.Eja(this);return b;};a.prototype.remove=function(a){var c;c=this.OB;c&&(a=c.indexOf(a),-1!==a&&c.splice(a,1));};a.prototype.Eja=function(a){var c,b;c=this.Lm;b=this.wx;c&&c!==a?b?-1===b.indexOf(a)&&b.push(a):this.wx=[a]:this.Lm=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();d.uk=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lp="PlatformSymbol";},function(g,d,a){var f,u,m,c;function b(a,c,b,f,d,m){this.context=a;this.errorCode=c;this.Fob=b;this.Y$=d;this.X$=m;this.name=f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);u=a(292);m=a(3);c=a(55);b.prototype.send=function(a,c,b,f,d,m,g){var k;k=this;return this.P$a(a,c,b,f,d,m,g).then(function(a){return k.context.m6a.send(a.context,a.request);});};b.prototype.P$a=function(a,c,b,f,d,m,g){var k,p;try{k=u.c0a(this.context.qv.pC(),b,this.context.bl,f,d);p=this.a0a(a,c,m,g);return Promise.resolve({context:p,request:k});}catch(N){return Promise.reject(N);}};b.prototype.a0a=function(a,c,b,f){return{Gd:this.context.Gd,log:a,Ok:this.name,url:this.context.pub(u.d0a(this.context.Jf,this.context.bl,this.name)),profile:c,haa:this.Fob,timeout:m.Eg(59),headers:{"Content-Type":"text/plain"},X$:this.X$,Y$:void 0!==b?b:this.Y$,J_a:f};};b.prototype.jn=function(a){return a instanceof c.Qc?a:u.jn(this.errorCode,a);};b.prototype.Coa=function(a){var c;c=this;a.forEach(function(a){if(c.o7(a))throw a.error;});};b.prototype.o7=function(a){return void 0!==a.error;};a=b;a=g.__decorate([f.N(),g.__param(0,f.bh()),g.__param(1,f.bh()),g.__param(2,f.bh()),g.__param(3,f.bh()),g.__param(4,f.bh()),g.__param(5,f.bh())],a);d.Dh=a;},function(g,d,a){var t;function b(a,b){if(a.length==b.length&&1<a.length){for(var f=a.length,k=0,p=c(a),q=c(b),d=0;d<f;d++)k+=a[d]*b[d];return(k-p*q/f)/f;}return!1;}function f(a){if(!Array.isArray(a)||2>a.length)return!1;a=u(a);return Math.sqrt(a);}function u(a){var b;if(!Array.isArray(a)||2>a.length)return!1;b=m(a);return c(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function m(a){return Array.isArray(a)&&a.length?c(a)/a.length:!1;}function c(a){return Array.isArray(a)?a.reduce(function(a,c){return a+c;},0):!1;}function k(a,c,b){return Math.max(Math.min(a,b),c);}function p(a,c){return"number"===typeof a?a:c;}function q(a){return 1/(1+Math.exp(-a));}t=a(6);g.T={na:function(a,c,b){try{a.na(c,b);}catch(x){a.bd("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",x,"Event:",b);}},Wm:function(){var a,c,b;a=Array.prototype.concat.apply([],arguments);c=a.reduce(function(a,c){return a+c.byteLength;},0);b=new Uint8Array(c);a.reduce(function(a,c){b.set(new Uint8Array(c),a);return a+c.byteLength;},0);return b.buffer;},iC:k,m1a:function(a,c,b,f){return{min:k(p(a.min,c),b,f),max:k(p(a.max,c),b,f),gs:k(a.gs||6E4,0,6E5),yoa:k(a.yoa||0,-3E5,3E5),scale:k(a.scale||6E4,0,3E5),aBa:k(a.aBa||0,-3E5,3E5),gamma:k(a.gamma||1,.1,10)};},Uc:function(a,c){void 0!==a&&t.mkb(a).forEach(function(a){c(a[0],a[1]);});},k8a:function(a,c,b){return a.min+(a.max-a.min)*(1-Math.pow(q(6*(c-(a.gs+(a.yoa||0)*(1-b)))/(a.scale+(a.aBa||0)*(1-b))),a.gamma));},l8a:function(a,c){return a.min+(a.max-a.min)*Math.pow(q(6*(c-a.gs)/a.scale),a.gamma);},TGb:c,c$a:m,lcb:u,RGb:f,yGb:b,xGb:function(a,c){var k;if(a.length==c.length){k=b(a,c);a=f(a);c=f(c);if(0<a&&0<c)return k/(a*c);}return!1;},ID:function(a,c,b){return c.ypa?c.ypa(b):new a.Console("ASEJS","media|asejs",b);},tL:function(a){return a.length?"{"+a+"} ":"";},Vob:function(a,c,b){return{min:a.min*b+(1-b)*c.min,max:a.max*b+(1-b)*c.max,gs:a.gs*b+(1-b)*c.gs,scale:a.scale*b+(1-b)*c.scale,gamma:a.gamma*b+(1-b)*c.gamma};},tanh:Math.tanh||function(a){var c;c=Math.exp(+a);a=Math.exp(-a);return Infinity==c?1:Infinity==a?-1:(c-a)/(c+a);},cba:q};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jg={audio:"audio",video:"video",sW:"timedtext",aca:"trickplay"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ql={start:"start",stop:"stop",TJ:"keepAlive",OI:"engage",splice:"splice"};d.LX="EventPboCommandFactorySymbol";d.Jia="StartEventPboCommandSymbol";d.Kia="StopEventPboCommandSymbol";d.Ifa="KeepAliveEventPboCommandSymbol";d.Hia="SpliceEventPboCommandSymbol";d.vea="EngageEventPboCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.zm=0]="STANDARD";a[a.Lt=1]="LIMITED";}(d.Zi||(d.Zi={})));d.Mva=function(a){return["STANDARD","LIMITED"][a];};},function(g,d,a){var b,f,u,m,c,k,p,q;b=a(80);f=a(452);u=a(451);m=a(463);c=a(10);k=a(165);p=a(986);q=a(240);d.kt=function(a,d,g,h){var t;t=new p.zfa(a,g,h);if(t.closed)return null;if(d instanceof c.Da)if(d.vr)t.next(d.value),t.complete();else return t.mk=!0,d.subscribe(t);else if(f.Qua(d)){a=0;for(g=d.length;a<g&&!t.closed;a++)t.next(d[a]);t.closed||t.complete();}else{if(u.gva(d))return d.then(function(a){t.closed||(t.next(a),t.complete());},function(a){return t.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),t;if(d&&"function"===typeof d[k.iterator]){d=d[k.iterator]();do{a=d.next();if(a.done){t.complete();break;}t.next(a.value);if(t.closed)break;}while(1);}else if(d&&"function"===typeof d[q.observable])if(d=d[q.observable](),"function"!==typeof d.subscribe)t.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return d.subscribe(new p.zfa(a,g,h));else d="You provided "+(m.Xe(d)?"an invalid object":"'"+d+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",t.error(new TypeError(d));}return null;};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);}b(f,a);f.prototype.hz=function(a,c){this.destination.next(c);};f.prototype.y9=function(a){this.destination.error(a);};f.prototype.al=function(){this.destination.complete();};return f;}(a(46).ri);d.fr=g;},function(g,d,a){g=a(250);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;g="undefined"!==typeof J&&J||"undefined"!==typeof g&&g||a;d.root=g;if(!g)throw Error("RxJS could not find any global context (window, self, global)");},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qn={Request:"Request",IZ:"Singleton",$N:"Transient"};d.Eh={yda:"ConstantValue",zda:"Constructor",kea:"DynamicValue",NX:"Factory",Function:"Function",HY:"Instance",uLa:"Invalid",gia:"Provider"};d.ir={vda:"ClassProperty",Ada:"ConstructorArgument",UZ:"Variable"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.ResponseType||(d.ResponseType={});g[g.Text=0]="Text";g[g.uDb=1]="Xml";g[g.nwb=2]="Binary";d.Oyb="HttpClientSymbol";d.Mt="LegacyHttpSymbol";},function(g){var d;d=function(){function a(a){this.If=a;}a.prototype.oqb=function(a){this.If=a;};a.prototype.Ioa=function(){this.If=void 0;};a.prototype.oy=function(a){this.If&&this.If.kz&&this.If.kz(a);};a.prototype.ny=function(a){this.If&&this.If.Uv&&this.If.Uv(a);};a.prototype.$C=function(a){this.If&&this.If.EK&&this.If.EK(a);};a.prototype.$u=function(a){this.If&&this.If.bi&&this.If.bi(a);};a.prototype.bS=function(a){this.If&&this.If.YD&&this.If.YD(a);};a.prototype.aS=function(a,f){this.If&&this.If.DU&&this.If.DU(a,f);};return a;}();d.prototype.kz=d.prototype.oy;d.prototype.Uv=d.prototype.ny;d.prototype.EK=d.prototype.$C;d.prototype.bi=d.prototype.$u;d.prototype.YD=d.prototype.bS;d.prototype.DU=d.prototype.aS;g.T=d;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Dqa=0]="downloading";a[a.B6a=1]="downloaded";a[a.Ph=2]="appended";a[a.buffered=3]="buffered";a[a.xJb=4]="removed";a[a.zKb=5]="unused";}(d.Uca||(d.Uca={})));(function(a){a[a.waiting=1]="waiting";a[a.GIb=2]="ondeck";a[a.Dqa=4]="downloading";a[a.B6a=8]="downloaded";a[a.LJ=6]="inprogress";}(d.Tca||(d.Tca={})));d.Nvb="AseBufferViewSymbol";d.YW="AseBufferAccountingSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ut="ApiInfoSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uda="DebugConfigSymbol";d.yt="DebugSymbol";},function(g,d,a){var f,u;function b(a,c,b,p,q){a=void 0===a?f.I.bj:a;return u.Qc.call(this,a,c,b,void 0,void 0,p,u.Qc.ud(q),q)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);u=a(55);ca(b,u.Qc);d.Ff=b;},function(g,d,a){var u,m;function b(a,b,f,q,d){var c,k,t;c={};k="number"===typeof d;d=void 0!==d&&k?d.toString():f;if(k&&void 0!==f)throw Error(u.bLa);Reflect.w6(a,b)&&(c=Reflect.getMetadata(a,b));f=c[d];if(Array.isArray(f))for(var k=0,p=f;k<p.length;k++){t=p[k];if(t.key===q.key)throw Error(u.oIa+" "+t.key.toString());}else f=[];f.push(q);c[d]=f;Reflect.J3(a,c,b);}function f(a,b){return function(c,f){b(c,f,a);};}Object.defineProperty(d,"__esModule",{value:!0});u=a(52);m=a(31);d.Yz=function(a,f,p,q){b(m.Pia,a,f,q,p);};d.dM=function(a,f,p){b(m.Qia,a.constructor,f,p);};d.Pu=function(a,b,p){"number"===typeof p?Reflect.Pu([f(p,a)],b):"string"===typeof p?Reflect.Pu([a],b,p):Reflect.Pu([a],b);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);d.$Ma=function(a,g){var c;function f(){}c=[];this.ft=function(a){var k;for(var b=[],f=c.length;f--;){k=c[f];k.ft(a)&&b.push(k.ZI);}if(b.length)return b;};d.wga.forEach(function(b){(b=b(a,g))&&c.push(b);});0<c.length&&a.addEventListener(b.S.wj,f);};d.aG=function(a){d.wga.push(a);};d.wga=[];},function(g,d,a){var b,f,u,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(9);u=a(14);g=a(2);m=a(4);c=a(65);k=a(33);a=a(20);m.V.get(a.Fe).register(g.I.$ea,function(a){u.Ga(b.config);k.PY&&u.Ga(J._cad_global.msl.Xg);m.V.get(c.Sq)().then(function(c){d.hj=c;a(f.xc);})["catch"](function(c){a(c);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ax="PboConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lw="DeviceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.XY="6674654e-696c-5078-6966-665374726d21";d.YY="6674654e-696c-4878-6165-6465722e7632";d.Hga="6674654e-696c-5078-6966-66496e646578";d.GN="6674654e-696c-4d78-6f6f-6653697a6573";d.FN="6674654e-696c-5378-6565-6b506f696e74";d.aha="cedb7489-e77b-514c-84f9-7148f9882554";d.$ga="524f39a2-9b5a-144f-a244-6c427c648df4";d.WY="6674654e-696c-4678-7261-6d6552617465";},function(g,d,a){var b,f,u,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(13);f=a(11);u=a(54);m=a(59);g=a(40);c=a(156);k=a(212);a=a(155);p=function(a){function p(c,b){var f;f=a.call(this,c,b)||this;f.wi=b.index;f.pB=b.ab;f.kr=b.wb;f.jYa=b.wc?b.wc:c.wc;f.Wla=b.Qo||0;f.bla=!!b.aq;f.Yf=void 0===b.Y4||void 0===b.X4||b.Y4===b.ab&&b.X4===b.wb?f:new k.uF(f,{ab:b.Y4,wb:b.X4});f.pVa=b.i9;f.FSa=b.qg;f.nr=b.Ta?f.Lxa(b.Ta):void 0;f.qma=b.vw;f.Ph=!1;return f;}b.__extends(p,a);Object.defineProperties(p.prototype,{Gy:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{index:{get:function(){return this.wi;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{wc:{get:function(){return this.jYa;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{ab:{get:function(){return this.pB;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{wb:{get:function(){return this.kr;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Qo:{get:function(){return this.Wla;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{aq:{get:function(){return this.bla;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{i9:{get:function(){return this.pVa;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{qg:{get:function(){return this.FSa;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Ta:{get:function(){return this.nr;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{vw:{get:function(){return this.qma;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Y4:{get:function(){return this.Yf.ab;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{X4:{get:function(){return this.Yf.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{z9a:{get:function(){return this.Yf.Ol;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Wra:{get:function(){return this.Yf.NK;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{av:{get:function(){return this.Yf.Hc;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{cS:{get:function(){return this.Yf.ee;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Vra:{get:function(){return this.Yf.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Ura:{get:function(){return this.Yf.Oc;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{eJ:{get:function(){return this.z9a/this.stream.Ia.yd;},enumerable:!0,configurable:!0}});p.prototype.MBa=function(a){this.Wla=a.lm(this.ga).yd;};p.prototype.z8=function(){this.bla=!0;};p.prototype.CL=function(a){this.qma=a;};p.prototype.Ej=function(a){var c,b;void 0===a&&(a={});c=this.stream.Ia.yd;b=this.nr||{start:0,end:this.eJ};a=this.Lxa(a);this.Yf&&this.Yf!==this||(this.Yf=new k.uF(this,this));a.start>b.start&&(this.pB=this.Yf.ab+a.start*c);a.end<b.end&&(this.kr=this.Yf.ab+a.end*c);this.nr=a;};p.prototype.Fqa=function(){this.nr?this.Ej({start:this.nr.start+1,end:this.nr.end}):this.Ej({start:1});};p.prototype.L6a=function(){this.nr?this.Ej({start:this.nr.start,end:(this.nr.end||0)-1}):this.Ej({start:0,end:-1});};p.prototype.c9a=function(a){var b;if(!(a<this.U||a>=this.ba)&&this.qg&&this.qg.length){a=new m.gc(a+1-this.U,1E3).GC(this.stream.Ia);for(var c=this.qg.length-1;0<=c;--c){b=this.qg[c];if(b.gm<=a)return b;}return{gm:0,Hd:this.av};}};p.prototype.b9a=function(a){var b;if(!(a<this.U||a>=this.ba)&&this.qg&&this.qg.length){a=new m.gc(a+1-this.U,1E3).GC(this.stream.Ia);for(var c=this.qg.length-1;0<=c;--c){b=this.qg[c];if(b.gm<=a)return b;}return{gm:0,Hd:this.av};}};p.prototype.wra=function(a,c){var b,f,k;if(!(a<this.U||a>=this.ba)){b=this.Ia.yd;f=this.Ia.ga;k=Math.floor(this.Ol/b);a=Math.min((c?Math.ceil:Math.floor)((m.gc.uxa(a,f)-this.ab+(c?-1:1)*(f/1E3-1))/b),k);b=m.gc.cDa(this.ab+a*b,f);return a===k?void 0:{gm:a,Hd:b};}};p.prototype.QR=function(a){return this.O===f.L.VIDEO?this.c9a(a):this.wra(a,!1);};p.prototype.$8a=function(a){return this.O===f.L.VIDEO?this.b9a(a):this.wra(a,!0);};p.prototype.p1=function(a){this.Vb+=a.aa;this.kr=a.wb;};p.prototype.toString=function(){return"["+this.za+", "+this.P+"kbit/s, "+("c:"+this.Oc+"-"+this.Te+",")+("p:"+this.Hc+"-"+this.ee+",d:"+this.duration+"]");};p.prototype.toJSON=function(){var a;a=c.Ew.prototype.toJSON.call(this);u({index:this.index,startPts:this.U,endPts:this.ba,contentStartPts:this.Oc,contentEndPts:this.Te,fragmentStartPts:this.av!==this.U?this.av:void 0,fragmentEndPts:this.cS!==this.ba?this.cS:void 0,edit:this.Ta},a);return a;};p.prototype.Era=function(a){var c;if(this.qg)for(var b=0;b<this.qg.length;++b)this.qg[b].gm===a&&(c=this.qg[b].offset);return c;};p.prototype.Lxa=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.eJ)+(a.end||0)};};return p;}(c.Ew);d.pk=p;g.mi(a.OM,p);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.IA="LoggerSinksSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.YA="ThrottleFactorySymbol";},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.format=function(a,b){var f;for(var c=1;c<arguments.length;++c);f=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return"undefined"!=typeof f[c]?f[c]:a;});};b.prototype.Nrb=function(a){for(var b=a.length,c=new Uint16Array(b),f=0;f<b;f++)c[f]=a.charCodeAt(f);return c.buffer;};b.prototype.lW=function(a){return JSON.stringify(a,null,"  ");};f=b;f=g.__decorate([a.N()],f);d.hx=f;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kx="Utf8EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hw="Base16EncoderSymbol";},function(g,d,a){var b,f,u,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(236);u=a(132);m=a(117);a=function(a){function c(c,b){a.call(this);this.Ep=c;(this.ka=b)||1!==c.length||(this.vr=!0,this.value=c[0]);}b(c,a);c.create=function(a,b){return new c(a,b);};c.of=function(){var k;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];m.Jy(b)?a.pop():b=null;k=a.length;return 1<k?new c(a,b):1===k?new f.GZ(a[0],b):new u.GF(b);};c.zb=function(a){var c,b,f;c=a.Ep;b=a.index;f=a.Bf;b>=a.count?f.complete():(f.next(c[b]),f.closed||(a.index=b+1,this.Jb(a)));};c.prototype.Uf=function(a){var b,f,k;b=this.Ep;f=b.length;k=this.ka;if(k)return k.Jb(c.zb,0,{Ep:b,index:0,count:f,Bf:a});for(k=0;k<f&&!a.closed;k++)a.next(b[k]);a.complete();};return c;}(g.Da);d.Cw=a;},function(g,d){d.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(71);d.jLa=g.jLa;g=a(10);d.Da=g.Da;g=a(166);d.aj=g.aj;g=a(458);d.QN=g.QN;g=a(456);d.xda=g.xda;g=a(993);d.Xia=g.Xia;a(989);a(985);a(979);a(977);a(974);a(970);a(967);a(963);a(960);a(958);a(956);a(954);a(951);a(947);a(944);a(943);a(940);a(936);a(933);a(932);a(930);a(928);a(925);a(923);a(922);a(920);a(917);a(914);a(911);a(908);a(907);g=a(242);d.PNa=g.PNa;a=a(71);d.uk=a.uk;},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});a=0;d.id=function(){return a++;};},function(g,d,a){var b,f,u,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(12);g=a(2);u=a(14);m=a(4);c=a(335);k=a(33);p=a(8);a=a(20);q=m.V.get(a.Fe);q.register(g.I.EY,function(a){var t,g;u.Ga(f.config);u.Ga(p.Pt&&p.Pt.getDeviceId||p.ZY||k.Jea);t=m.V.get(c.$da);g=m.Kf("Device");q.Pc("devs");t.create({deviceId:f.config.deviceId,f5:k.Jea,iR:"deviceid",Qg:f.config.Qg,gn:k.Ig.IX,oqa:k.Kda,userAgent:p.Oj,a8:f.config.a8,u5:f.config.u5,a6a:k.Ig.Ida,g_a:f.config.Nna.e,$5a:k.Ig.IHa,hJ:f.config.hJ,Uta:f.config.Nub,yib:f.config.Pp?"mslstoretest":"mslstore"}).then(function(c){d.vh=c;J._cad_global.device=d.vh;g.info("Esn source: "+d.vh.UC);q.Pc("devdone");a(b.xc);})["catch"](function(c){c.W=void 0;a(c);});});},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(16);d.dr=d.dr||function(a,b,d){return a>=b?a<=d?a:d:b;};d.CAb=function(a,b,d,c,k){return(a-b)*(k-c)/(d-b)+c;};d.hh=function(a){if(b.pa(a))return(a/1E3).toFixed(3);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.$q||(d.$q={});g[g.lwb=8]="Backspace";g[g.Tab=9]="Tab";g[g.Wxb=13]="Enter";g[g.HCb=16]="Shift";g[g.$wb=17]="Ctrl";g[g.Ivb=18]="Alt";g[g.wBb=19]="PauseBreak";g[g.Qwb=20]="CapsLock";g[g.byb=27]="Escape";g[g.JCb=32]="Space";g[g.vBb=33]="PageUp";g[g.uBb=34]="PageDown";g[g.Vxb=35]="End";g[g.Myb=36]="Home";g[g.vzb=37]="LeftArrow";g[g.hDb=38]="UpArrow";g[g.MBb=39]="RightArrow";g[g.yxb=40]="DownArrow";g[g.lzb=45]="Insert";g[g.rxb=46]="Delete";g[g.xDb=48]="Zero";g[g.TAb=49]="One";g[g.aDb=50]="Two";g[g.XCb=51]="Three";g[g.wyb=52]="Four";g[g.uyb=53]="Five";g[g.ICb=54]="Six";g[g.GCb=55]="Seven";g[g.Uxb=56]="Eight";g[g.yAb=57]="Nine";g[g.yvb=65]="A";g[g.Pvb=66]="B";g[g.Hwb=67]="C";g[g.kHa=68]="D";g[g.E=69]="E";g[g.cyb=70]="F";g[g.xyb=71]="G";g[g.Ayb=72]="H";g[g.qKa=73]="I";g[g.mzb=74]="J";g[g.JY=75]="K";g[g.yLa=76]="L";g[g.zzb=77]="M";g[g.rNa=78]="N";g[g.NAb=79]="O";g[g.VAb=80]="P";g[g.Q=81]="Q";g[g.GBb=82]="R";g[g.rQa=83]="S";g[g.uRa=84]="T";g[g.bDb=85]="U";g[g.iDb=86]="V";g[g.oDb=87]="W";g[g.XZ=88]="X";g[g.vDb=89]="Y";g[g.wDb=90]="Z";g[g.wzb=91]="LeftWindowKey";g[g.NBb=92]="RightWindowKey";g[g.ECb=93]="SelectKey";g[g.DAb=96]="Numpad0";g[g.EAb=97]="Numpad1";g[g.FAb=98]="Numpad2";g[g.GAb=99]="Numpad3";g[g.HAb=100]="Numpad4";g[g.IAb=101]="Numpad5";g[g.JAb=102]="Numpad6";g[g.KAb=103]="Numpad7";g[g.LAb=104]="Numpad8";g[g.MAb=105]="Numpad9";g[g.Xzb=106]="Multiply";g[g.Hvb=107]="Add";g[g.QCb=109]="Subtract";g[g.qxb=110]="DecimalPoint";g[g.xxb=111]="Divide";g[g.dyb=112]="F1";g[g.hyb=113]="F2";g[g.iyb=114]="F3";g[g.jyb=115]="F4";g[g.kyb=116]="F5";g[g.lyb=117]="F6";g[g.myb=118]="F7";g[g.nyb=119]="F8";g[g.oyb=120]="F9";g[g.eyb=121]="F10";g[g.fyb=122]="F11";g[g.gyb=123]="F12";g[g.AAb=144]="NumLock";g[g.CCb=145]="ScrollLock";g[g.FCb=186]="SemiColon";g[g.Yxb=187]="Equals";g[g.Wwb=188]="Comma";g[g.pxb=189]="Dash";g[g.yBb=190]="Period";g[g.vyb=191]="ForwardSlash";g[g.YCb=192]="Tilde";g[g.UAb=219]="OpenBracket";g[g.kwb=220]="BackSlash";g[g.Uwb=221]="CloseBracket";g[g.FBb=222]="Quote";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$A="VideoPreparerSymbol";},function(g,d,a){var c,k;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function f(a){return c.Qd(a);}function u(a){return c.pa(a);}function m(a){return!b(a)&&!f(a)&&!u(a)&&!Array.isArray(a)&&c.Xe(a);}c=a(6);k={Jw:0,VN:1,zNa:2,OBJECT:3,bj:4};g.T={m6:function(a){return b(a)?k.Jw:f(a)?k.VN:u(a)?k.zNa:m(a)?k.OBJECT:k.bj;},iT:b,Qd:f,pa:u,Xe:m,wm:k};},function(g){var d;d={FJ:function(a){for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);}};g.T=d;},function(g,d,a){var b;b=a(158);g.T=function(a){return function m(c){return 0===arguments.length||b(c)?m:a.apply(this,arguments);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.LA="MslSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){function b(){}function f(){}function d(){}d.gGa="cache_start";d.hGa="cache_success";d.dGa="cache_abort";d.fGa="cache_fail";d.eGa="cache_evict";d.jOa="pb_request";d.HQa="start_playback";a.Nw=d;f.Fca="auth";f.Rw="ldl";f.KF="hdr";f.MEDIA="media";a.Wi=f;b.SM="cached";b.LOADING="loading";b.hJa="expired";a.KM=b;}(d.we||(d.we={})));d.aia="PrefetchEventsFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.XA="SourceBufferTypeProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jx="TimingApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Oia="SystemRandomSymbol";d.oG="RandomGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.HA="IdProviderSymbol";},function(g,d){d.Jy=function(a){return a&&"function"===typeof a.Jb;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xw="MediaKeySystemAccessServicesSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fea="DrmServicesSymbol";d.fN="DrmServicesProviderSymbol";},function(g,d,a){var f,u,m,c,k,p,q,t,A,y,h,x,G,N,R,S,l;function b(a){var d;d=this;this.createPlayer=function(a,b){var f,k;b=void 0===b?{}:b;b="number"===typeof b?{ah:b}:b;f=b.manifest;if(f&&f.runtime)f.clientGenesis=f.clientGenesis||h.C2(),f=c.V.get(y.RY).decode(f);else if(f){k=c.V.get(R.jG)();k.$P(f.links);f.wf=k;}a=c.V.get(G.xZ).s4a(a);return c.V.get(x.yZ).create(a,b,f).eEa;};this.createPlaylistPlayer=function(a,b,f){var k;k=c.V.get(N.Xha);return c.V.get(x.yZ).create(k.jtb(a),b,f).eEa;};this.closeAllPlayers=function(a){m.Oha(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;d.iQ.aK(function(k){k.W?(u.config.MV?d.zpb().then(function(){f.qPa();})["catch"](function(a){c.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(d,b.CH);a(Object.assign({success:!0},b.CH));}):a({success:!1,error:c.wZ(k.errorCode||p.I.Zea,k)});});};this.applyConfig=function(a){d.IDa(a);u.bpa(a);};this.prepare=function(a,b){var f;a=d.q$.jqa(a)||[];f=new Set();a=a.filter(function(a){var c;c=f.has(a.M);f.add(a.M);return!c;});if(u.config.Cn&&d.Jc())try{d.Jc().cw(a,b);}catch(ea){c.log.warn("Prepare call failed",ea);}};this.predownload=function(a,b){if((a=d.q$.jqa(a))&&u.config.Aw&&d.Jc())try{d.Jc().Xlb(a,b);}catch(Z){c.log.warn("Predownload call failed",Z);}};this.lookupPredownloaded=function(){return u.config.Aw&&d.Jc()?d.Jc().Ry():Promise.resolve([]);};this.ppmUpdate=function(a){J._cad_global.playerPredictionModel?((a=d.q$.U5a(a))&&J._cad_global.playerPredictionModel.update(a),J._cad_global.prefetchEvents&&J._cad_global.prefetchEvents.update(a)):c.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){var b;try{b=c.cD().VL();a(b);}catch(Z){a(!1);}};this.supportsUltraHd=function(a){c.cD().XL().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){var b;try{b=c.cD().SL();a(b);}catch(Z){a(!1);}};this.supportsDolbyVision=function(a){var b;try{b=c.cD().TL();a(b);}catch(Z){a(!1);}};this.close=function(){};this.deviceThroughput=function(){var a;a=c.V.get(t.JN).e3();return a?Promise.resolve(a.Uk()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=c.V.get(t.JN).e3();return a?Promise.resolve(a.$ab()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return u.config.q7a;};this.q$=c.V.get(k.tZ);this.iQ=c.V.get(l.Fe);this.Jc=c.V.get(S.$A);this.IDa(a);u.S1a([a]);c.cD().XL();}Object.defineProperty(d,"__esModule",{value:!0});f=a(181);u=a(12);m=a(56);c=a(4);k=a(183);p=a(2);q=a(27);t=a(190);A=a(146);y=a(160);h=a(26);x=a(262);G=a(172);N=a(257);R=a(123);S=a(107);l=a(20);b.prototype.IDa=function(a){c.V.get(q.zN).Ghb(a);};b.prototype.zpb=function(){return c.V.get(A.ON)()["catch"](function(a){c.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){c.log.error("Unable to send deferred playdata",a);});};b.CH={};d.eO=b;},function(g,d,a){var f,u,m;function b(a,b,f,d,t){b=m.Dh.call(this,a,b,d,u.Mh.events,t,u.Mh.events+"/"+f)||this;b.context=a;b.m8a=f;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);u=a(38);m=a(73);a(149);ca(b,m.Dh);b.prototype.We=function(a,b,f){var c,k;c=this;k=this.rQ(f);return this.send(a,b,f.href,k).then(function(){return f;})["catch"](function(a){throw c.jn(a);});};b.prototype.hn=function(a,b,f,d){var c,k;c=this;k=this.rQ(d);return this.send(a,b,f.J5("events").href,k).then(function(a){f.$P(a.result.links);return d;})["catch"](function(a){throw c.jn(a);});};b.prototype.rQ=function(a){return{event:this.m8a,xid:a.oa,position:a.position||0,clientTime:a.bI,sessionStartTime:a.AL,mediaId:a.Wy,trackId:a.eb,sessionId:a.sessionId,appId:a.zH,playTimes:this.e0a(a.KK),sessionParams:a.hm,mdxControllerEsn:a.O8};};b.prototype.d2=function(a){return{downloadableId:a.Tc,duration:a.duration};};b.prototype.e0a=function(a){return{total:a.total,audio:a.audio.map(this.d2),video:a.video.map(this.d2),text:a.text.map(this.d2)};};a=b;a=g.__decorate([f.N(),g.__param(0,f.bh()),g.__param(1,f.bh()),g.__param(2,f.bh()),g.__param(3,f.bh()),g.__param(4,f.bh())],a);d.Pn=a;},function(g,d,a){var b,f,u,m,c,k,p,q,t,A,y,h,x,G;Object.defineProperty(d,"__esModule",{value:!0});b=a(49);f=a(295);u=a(569);m=a(140);c=a(12);k=a(9);p=a(145);q=a(280);t=a(26);g=a(2);A=a(4);y=a(190);h=a(8);x=a(141);G=a(20);A.V.get(G.Fe).register(g.I.afa,function(g){var L,G,N,l,n,P,r;L=A.V.get(y.JN).e3();G=A.V.get(p.cea).xA;N=A.V.get(f.uga).qk;l={};l.pz=A.kS("ASE");l.DZa=A.kS("JS-ASE",void 0,"Platform");l.Kf=A.kS;l.storage=x.storage;l.oo=x.oo;l.abb=h.dN;l.getTime=t.Wf;l.AD={};l.qk=N;l.hr=u.hr;l.xA=G;l.MediaSource=q.XMa;l.SourceBuffer=m.sga;l.GGb=function(){};G=new Promise(function(a){x.storage.load("nh",function(c){l.AD.nh=c.W?c.data:void 0;a();});});N=new Promise(function(a){x.storage.load("lh",function(c){l.AD.lh=c.W?c.data:void 0;a();});});n=new Promise(function(a){x.storage.load("gh",function(c){l.AD.gh=c.W?c.data:void 0;a();});});P=new Promise(function(a){x.storage.load("sth",function(c){l.AD.sth=c.W?c.data:void 0;a();});});r=new Promise(function(a){x.storage.load("vb",function(c){l.AD.vb=c.W?c.data:void 0;a();});});Promise.all([G,N,r,P,n]).then(function(){var f;f=a(567)(l);d.Mb=a(279);d.Mb.declare(b.bn);d.Mb.declare({Aw:["useMediaCache",!1],Qu:["diskCacheSizeLimit",0],qFb:["dailyDiskCacheWriteLimit",0],WT:["mediaCachePrefetchMs",8E3],Q8:["mediaCachePartitionConfig",{}]});d.Mb.set(a(150)(c.config),!0,A.kS("ASE"));f=b.Egb(f);d.Jk=new f(d.Mb,L);d.Jk.Ac(c.config.C1,c.config.E1,{pz:l.pz},c.config.wV);g(k.xc);})["catch"](function(a){l.pz.error("Exception loading location history from local storage",a);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xha="PboLinksManagerSymbol";d.jG="PboLinksManagerFactorySymbol";},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(18);f=a(14);d.Vi="$attributes";d.UW="$children";d.VW="$name";d.Qq="$text";d.sEa="$parent";d.rF="$sibling";d.SIb=/^\s*\<\?xml.*\?\>/i;d.L$a=function(a,b,c){for(var f=2;f<arguments.length;++f);for(f=1;(b=arguments[f++])&&(a=a[b]););return a;};d.PIb=function(a,m){var c;a?c=b.Sd(a[d.Qq]):void 0!==m&&(c=m);f.VQ(c);return c;};d.Ikb=function(a){var b;a&&(b=a[d.Qq]);f.P4a(b);return b;};d.XHb=function(a,b){var c;c={};c[d.Vi]=a;c[d.Qq]=b;return c;};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(206);g=function(){function a(a,b,c){this.tag=a;this.view=b;this.J=c;this.startOffset=c.offset;}a.Oza=function(f,d){var c,k;c=f.ge();k=f.$mb();f=new(b.yC[c]||a)(c,f.H$a(k),f);f.parse(d);return f;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.J.offset=this.startOffset+this.length;this.J.bz=0;return!0;};a.prototype.xra=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.yC)for(var c=0;c<this.yC.length;c++)b=b.concat(this.yC[c].xra(a));return b;};a.prototype.ly=function(a){for(a=this.xra(a);0<a.length;)return a[0];};a.prototype.Zla=function(){for(this.yC=[];this.J.offset<this.startOffset+this.length;)this.yC.push(a.Oza(this.J,this));};return a;}();d.BX=g;g.prototype.skip=g.prototype.parse;},function(g){var b,f;function d(){var d,g;if(DataView.prototype&&DataView.prototype.xy&&!f){try{d=new ArrayBuffer(4);g=new DataView(d);g.kD(0,4,1);}catch(c){return;}try{d=new ArrayBuffer(4);g=new DataView(d);g.kD(1,2,2);}catch(c){DataView.prototype.kD=a(DataView.prototype.kD,DataView.prototype.getUint8,Uint8Array);DataView.prototype.ES=a(DataView.prototype.ES,DataView.prototype.getUint16,Uint16Array);DataView.prototype.xy=a(DataView.prototype.xy,DataView.prototype.getUint32,Uint32Array);DataView.prototype.F5=a(DataView.prototype.F5,DataView.prototype.getInt8,Int8Array);DataView.prototype.D5=a(DataView.prototype.D5,DataView.prototype.getInt16,Int16Array);DataView.prototype.E5=a(DataView.prototype.E5,DataView.prototype.getInt32,Int32Array);}b.hcb=function(a,b,f,d,t){return a.kD(b,f,d||1,t);};b.gcb=function(a,b,f,d,t){return a.ES(b,f,d||2,t);};b.Jta=function(a,b,f,d,t){return a.xy(b,f,d||4,t);};b.CGb=function(a,b,f,d,t){return a.F5(b,f,d||1,t);};b.AGb=function(a,b,f,d,t){return a.D5(b,f,d||2,t);};b.BGb=function(a,b,f,d,t){return a.E5(b,f,d||4,t);};f=!0;}}function a(a,b,c){return function(f,p,d,t){var k;d=d||c.BYTES_PER_ELEMENT;if(f+p*d>this.byteLength){k=new c(p);k.set(a.call(this,f,p-1,d,t));k[p-1]=b.call(this,f+(p-1*d),t);return k;}return a.call(this,f,p,d,t);};}b={kD:function(a,b,c,f,p){var k;k=new Uint8Array(c);f=f||1;for(var d=0;d<c;++d,b+=f)k[d]=a.getUint8(b,p);return k;},ES:function(a,b,c,f,d){var k;k=new Uint16Array(c);f=f||2;for(var p=0;p<c;++p,b+=f)k[p]=a.getUint16(b,d);return k;},xy:function(a,b,c,f,d){var k;k=new Uint32Array(c);f=f||4;for(var p=0;p<c;++p,b+=f)k[p]=a.getUint32(b,d);return k;},F5:function(a,b,c,f,d){var k;k=new Int8Array(c);f=f||1;for(var p=0;p<c;++p,b+=f)k[p]=a.getInt8(b,d);return k;},D5:function(a,b,c,f,d){var k;k=new Int16Array(c);f=f||2;for(var p=0;p<c;++p,b+=f)k[p]=a.getInt16(b,d);return k;},E5:function(a,b,c,f,d){var k;k=new Int32Array(c);f=f||4;for(var p=0;p<c;++p,b+=f)k[p]=a.getInt32(b,d);return k;},kGb:d};f=!1;b.N$a=function(){return f;};d();g.T=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(800);a=a(797);d.Hhb=g;d.Ss=a;},function(g,d,a){var f,u,m,c;function b(a,b,d){var k;k=m.WM.call(this,a,b,f.bG.pja)||this;k.config=a;k.V8=b;k.is=d;k.type=f.Pj.Kw;k.mF=c.Kd.zpa();return k;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);u=a(66);m=a(412);g=a(97);c=a(129);new g.hx();ca(b,m.WM);b.prototype.Eq=function(){return Promise.resolve(!1);};b.prototype.eD=function(){return Promise.resolve("");};b.prototype.VL=function(){return!1;};b.prototype.TL=function(){return!1;};b.prototype.XL=function(){return Promise.resolve(!1);};b.prototype.SL=function(){return!1;};b.prototype.oS=function(a){return this.mF[a];};b.prototype.i1=function(a){return a;};b.prototype.vwa=function(a){switch(a){case f.Gh.ip:return"1.4";case f.Gh.Sw:return"2.2";}};b.prototype.$x=function(){var a;a={};a[u.da.SX]="avc1.4D401E";a[u.da.lN]="avc1.4D401F";a[u.da.TX]="avc1.4D4028";a[u.da.qY]="hev1.1.6.L90.B0";a[u.da.rY]="hev1.1.6.L93.B0";a[u.da.sY]="hev1.1.6.L120.B0";a[u.da.tY]="hev1.1.6.L123.B0";a[u.da.uY]="hev1.1.6.L150.B0";a[u.da.vY]="hev1.1.6.L153.B0";a[u.da.cY]="hev1.2.6.L90.B0";a[u.da.fY]="hev1.2.6.L93.B0";a[u.da.iY]="hev1.2.6.L120.B0";a[u.da.lY]="hev1.2.6.L123.B0";a[u.da.LF]="hev1.2.6.L150.B0";a[u.da.MF]="hev1.2.6.L153.B0";a[u.da.dY]="hev1.2.6.L90.B0";a[u.da.gY]="hev1.2.6.L93.B0";a[u.da.jY]="hev1.2.6.L120.B0";a[u.da.mY]="hev1.2.6.L123.B0";a[u.da.UX]="hev1.2.6.L90.B0";a[u.da.VX]="hev1.2.6.L93.B0";a[u.da.WX]="hev1.2.6.L120.B0";a[u.da.XX]="hev1.2.6.L123.B0";a[u.da.YX]="hev1.2.6.L150.B0";a[u.da.$X]="hev1.2.6.L153.B0";a[u.da.nN]="hev1.2.6.L90.B0";a[u.da.oN]="hev1.2.6.L93.B0";a[u.da.pN]="hev1.2.6.L120.B0";a[u.da.qN]="hev1.2.6.L123.B0";a[u.da.ZM]=c.Kd.xX;a[u.da.$M]=c.Kd.Oda;a[u.da.aN]=c.Kd.Pda;a[u.da.bN]=c.Kd.Qda;a[u.da.cN]=c.Kd.Rda;a[u.da.yX]=c.Kd.Sda;a[u.da.UJa]="avc1.640016";a[u.da.PX]="avc1.64001E";a[u.da.QX]="avc1.64001F";a[u.da.RX]="avc1.640028";a[u.da.oja]=c.Kd.uG;a[u.da.vG]=c.Kd.uG;a[u.da.wG]=c.Kd.uG;a[u.da.xG]=c.Kd.uG;a[u.da.jja]=c.Kd.tG;a[u.da.kja]=c.Kd.tG;a[u.da.lja]=c.Kd.tG;a[u.da.mja]=c.Kd.tG;a[u.da.nja]=c.Kd.tG;a[u.da.Gca]=c.Kd.Ch;a[u.da.Hca]=c.Kd.Ch;a[u.da.Ica]=c.Kd.Ch;a[u.da.Jca]=c.Kd.Ch;a[u.da.Kca]=c.Kd.Ch;a[u.da.Lca]=c.Kd.Ch;a[u.da.Mca]=c.Kd.Ch;a[u.da.Nca]=c.Kd.Ch;return a;};b.prototype.rta=function(){return this.config().jF;};b.prototype.hD=function(){return Promise.resolve(void 0);};b.prototype.qJ=function(){return Promise.resolve(void 0);};b.prototype.lI=function(a){var c;c=[];this.is.Dd(a)&&c.push(this.vwa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:c,isHdcpEngaged:!!c.length}];};b.dF="video/mp4;codecs={0};";d.um=b;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);b.zpa=function(a){var d;d={};d[f.od.pG]=b.HF;d[f.od.mN]=b.HF;d[f.od.bO]=b.IF;d[f.od.Yq]=b.Yq;d[f.od.Uq]=a||b.Uq;d[f.od.qA]=b.HF;d[f.od.Tt]=b.uG;d[f.od.Ch]=b.Ch;return d;};b.HF="avc1.640028";b.IF="hev1.1.6.L93.B0";b.xX="dvhe.05.01";b.Oda="dvhe.05.04";b.Pda="dvhe.05.05";b.Qda="dvhe.05.06";b.Rda="dvhe.05.07";b.Sda="dvhe.05.09";b.Uq=b.xX;b.Yq=b.IF;b.WW="mp4a.40.2";b.bxb="ec-3";b.lDb="vp9";b.uG="vp09.00.11.08.02";b.tG="vp09.02.31.10.01";b.Ch="av01.0.04M.08";b.JGa=[b.Sda,b.Rda,b.Qda,b.Pda,b.Oda,b.xX];d.Kd=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ZA="TimeoutMonitorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.oj=function(){return this.buffer.length-this.position;};a.prototype.he=function(){return this.buffer[this.position++];};a.prototype.vd=function(a){var b;b=this.position;this.position+=a;return this.Ieb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.Ieb=function(a){return void 0!==a.subarray;};a.prototype.mc=function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;};a.prototype.xq=function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;};a.prototype.J$=function(){for(var a="",f;f=this.he();)a+=String.fromCharCode(f);return a;};a.prototype.Ab=function(){return this.mc(2);};a.prototype.Na=function(){return this.mc(4);};a.prototype.Pf=function(){return this.mc(8);};a.prototype.kV=function(){return this.mc(2)/256;};a.prototype.aL=function(){return this.mc(4)/65536;};a.prototype.bf=function(a){for(var b,d="";a--;)b=this.he(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;};a.prototype.ew=function(){return this.bf(4)+"-"+this.bf(2)+"-"+this.bf(2)+"-"+this.bf(2)+"-"+this.bf(6);};a.prototype.bL=function(a){for(var b=0,d=0;d<a;d++)b+=this.he()<<(d<<3);return b;};a.prototype.Az=function(){return this.bL(4);};a.prototype.qF=function(a){this.Oq(a,2);};a.prototype.Pq=function(a){this.Oq(a,4);};a.prototype.HM=function(a){this.buffer[this.position++]=a;};a.prototype.Oq=function(a,f){this.position+=f;for(var b=1;b<=f;b++)this.buffer[this.position-b]=a&255,a=Math.floor(a/256);};a.prototype.Nq=function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);};a.prototype.oA=function(a){for(var b=a.length,d=0;d<b;d++)this.buffer[this.position++]=a[d];};a.prototype.pA=function(a,f){this.oA(a.vd(f));};a.prototype.qEa=function(b){b=new a(b);for(var f,d;;)if(f=b.oj(),d=f>>>14)d=Math.min(4,d),this.HM(192|d),this.pA(b,16384*d);else{128>f?this.HM(f):this.Oq(f|32768,2);this.pA(b,f);break;}};a.prototype.Lza=function(){var d;for(var b=[],f=new a(b);;){d=this.he();if(d&128)if(128==(d&192))d&=63,d=(d<<8)+this.he(),f.pA(this,d);else if(d&=63,0<d&&4>=d){f.pA(this,16384*d);continue;}else throw Error("bad asn1");else f.pA(this,d);break;}return new Uint8Array(b);};return a;}();d.wA=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b){a.call(this);this.ka=b;}b(f,a);f.create=function(a){return new f(a);};f.zb=function(a){a.Bf.complete();};f.prototype.Uf=function(a){var c;c=this.ka;if(c)return c.Jb(f.zb,0,{Bf:a});a.complete();};return f;}(a(10).Da);d.GF=g;},function(g,d,a){var b,f,u,m;b=a(117);f=a(450);u=a(449);m=a(446);d.concat=function(){for(var a=[],k=0;k<arguments.length;k++)a[k-0]=arguments[k];return 1===a.length||2===a.length&&b.Jy(a[1])?u.from(a[0]):m.dI()(f.of.apply(void 0,a));};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ym=function(){};d.LZ="StringObjectReaderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$F="MediaKeysStorageFactorySymbol";},function(g,d,a){var f,u,m;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(168);u=a(55);m=a(2);b.v5=function(a){if(a){if(a.includes(d.CF.rz))return f.Sn.rz;if(a.includes("fps"))return f.Sn.XC;if(a.includes(d.CF.SW))return f.Sn.SW;}throw new u.Qc(m.I.$Ia,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};b.Lsa=function(a){switch(a){case f.Sn.rz:return d.CF.rz;case f.Sn.XC:return d.CF.XC;default:return d.CF.SW;}};b.mp="com.microsoft.playready";b.md="com.microsoft.playready.hardware";b.lG="com.microsoft.playready.software";b.ABb="com.chromecast.playready";b.BBb="org.chromium.external.playready";b.tyb="com.apple.fps.2_0";b.ySa="com.widevine.alpha";b.CBb="com.microsoft.playready.recommendation";b.DBb="com.microsoft.playready.recommendation.3000";b.EBb="com.microsoft.playready.recommendation.2000";d.hb=b;d.CF={XC:"fairplay",SW:"widevine",rz:"playready"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kG="PlatformConfigDefaultsSymbol";},function(g,d,a){var k;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function f(a,c){return null===a.Rs?!1:a.Rs.Me===c?!0:f(a.Rs,c);}function u(a){function c(a,f){void 0===f&&(f=[]);f.push(b(a.Me));return null!==a.Rs?c(a.Rs,f):f;}return c(a).reverse().join(" --\x3e ");}function m(a){a.v2.forEach(function(a){if(f(a,a.Me))throw a=u(a),Error(k.lGa+" "+a);m(a);});}function c(a){var c;if(a.name)return a.name;a=a.toString();c=a.match(/^function\s*([^\s(]+)/);return c?c[1]:"Anonymous function: "+a;}Object.defineProperty(d,"__esModule",{value:!0});k=a(52);d.jD=b;d.Qva=function(a,b,f){var k;k="";a=f(a,b);0!==a.length&&(k="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.pj&&(b=c(a.pj));k=k+"\n "+b;a.lC.dxa&&(k=k+" - "+a.lC.dxa);}));return k;};d.l1a=m;d.vfb=function(a,c){var b,f;if(c.v7()||c.s7()){b="";f=c.Xab();c=c.G$a();null!==f&&(b+=f.toString()+"\n");null!==c&&c.forEach(function(a){b+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+b;}return" "+a;};d.getFunctionName=c;},function(g,d){var b;function a(){}Object.defineProperty(d,"__esModule",{value:!0});b=/^\S+$/;a.prototype.Nl=function(a){return void 0!==a;};a.prototype.Dd=function(a){return null!==a&&void 0!==a;};a.prototype.Kx=function(b){return a.ina(b);};a.prototype.a1=function(b){return!(!b||!a.ina(b));};a.prototype.Sr=function(a){return Array.isArray(a);};a.prototype.jna=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.Vf=function(b,d,g){return a.Dma(b,d,g);};a.prototype.$0=function(b){return a.$0(b);};a.prototype.r1=function(b,d,g){return a.bQ(b,d,g)&&0===b%1;};a.prototype.Cp=function(b,d,g){return a.bQ(b,d||0,g);};a.prototype.qH=function(b){return a.bQ(b,1);};a.prototype.oYa=function(b){return a.bQ(b,0,255);};a.prototype.pYa=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.kna=function(a){return!(!a||!b.test(a));};a.prototype.Ci=function(b){return a.Ema(b);};a.prototype.Gk=function(b){return!(!a.Ema(b)||!b);};a.prototype.oH=function(a){return!0===a||!1===a;};a.prototype.pH=function(a){return"function"==typeof a;};a.Ema=function(a){return"string"==typeof a;};a.Dma=function(a,b,d){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===d||a<=d);};a.$0=function(a){return"number"==typeof a&&isNaN(a);};a.bQ=function(b,d,g){return a.Dma(b,d,g)&&0===b%1;};a.ina=function(a){return"object"==typeof a;};d.Jt=new a();},function(g,d,a){var u,m,c,k,p,q,t,A,y,h,x,G,N,R,S,l;function b(a){b=h.le;S=a.appendBuffer?"appendBuffer":"append";d.BN=!k.config.v_a&&!!a.remove;l=!!a.addEventListener;}function f(a,f,d,g,y){var h,L;h=this;this.j=a;this.type=f;this.Ija=g;this.log=y;this.TO=new p.Lc(!1);this.px={data:[],state:"",operation:""};this.PD=this.mra((this.type===u.qc.L.VIDEO?this.j.Df.value:this.j.Nc.value).oc);this.dj=new q.Lj();this.Z_={Type:this.type};k.config.Cv&&(L=!0,this.N4=new p.Lc(!1));this.log.trace("Adding source buffer",this.Z_,{TypeId:this.PD});this.Mc=d.addSourceBuffer(this.PD);b(this.Mc);l&&(this.Mc.addEventListener("updatestart",function(){h.px.state="updatestart";}),this.Mc.addEventListener("update",function(){h.px.state="update";}),this.Mc.addEventListener("updateend",function(){h.TO.set(!1);h.Mja&&h.Mja();h.px.state="updateend";L&&h.Mc.buffered.length&&(L=!1,h.N4.set(!0));}),this.Mc.addEventListener("error",function(b){var f;try{f=b.target.error&&b.target.error.message;(b.message||f)&&y.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(va){}b=t.V.get(c.sl);a.sd(b(A.I.COa,m.x5(h.type)));}),this.Mc.addEventListener("abort",function(){}));a.addEventListener(G.S.closed,function(){h.Mc=void 0;});}Object.defineProperty(d,"__esModule",{value:!0});u=a(49);m=a(213);c=a(61);k=a(12);p=a(176);q=a(68);t=a(4);a(84);A=a(2);a(3);y=a(14);h=a(19);x=a(16);G=a(15);N=a(113);R=a(143);f.prototype.nj=function(){return this.TO.value;};f.prototype.updating=function(){return this.Mc?this.Mc.updating:!1;};f.prototype.CBa=function(a){this.Mja=a;};f.prototype.buffered=function(){return this.Mc.buffered;};f.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};f.prototype.toJSON=function(){return{type:this.type};};f.prototype.mS=function(){var a,c,b,f,k,d,p;try{a=this.Mc.buffered;k=0;if(a)for(c=[],b=0,f=a.length,b=0;b<f;b++){d=a.start(b);p=a.end(b);k=k+(p-d);y.Ga(p>d);c.push(d+"-"+p);}if(c)return{Buffered:k.toFixed(3),Ranges:c.join("|")};}catch(O){}};f.prototype.qna=function(a,c){y.Ga(this.Mc.buffered&&1>=this.Mc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.mS()));y.Ga(!this.nj());this.UBa("append",a);c=c&&c.dm/1E3;x.pa(c)&&this.Mc.timestampOffset!==c&&(this.Mc.timestampOffset=c);this.Mc[S](a);l&&this.TO.set(!0);};f.prototype.remove=function(a,c){y.Ga(!this.nj());try{d.BN&&(this.UBa("remove"),this.Mc.remove(a,c),l&&this.TO.set(!0));}catch(P){this.log.error("SourceBuffer remove exception",P,this.Z_);}};f.prototype.UBa=function(a,c){this.px.data=c||[];this.px.state="init";this.px.operation=a;};f.prototype.sqb=function(a,c){this.nfb=Math.floor(1E3*a/c);};f.prototype.W0a=function(a){var c;if(this.Mc){if(a=this.mra([{type:this.a2a,ff:a}]),a!==this.PD){c=this.PD;this.log.info("Changing SourceBuffer mime-type from: "+this.PD+" to: "+a);try{if(this.Mc.changeType)this.Mc.changeType(a),this.PD=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(P){throw this.log.error("Error changing SourceBuffer type",P,this.Z_,{From:c,To:a}),P;}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(a,c){!c||c.Yb?this.w1(a,c):this.cQ(a,c);return!0;};f.prototype.w1=function(a,c){this.j.zg.w1(this,a,c||{});};f.prototype.cQ=function(a,c){a=this.W1a(a,c);this.j.zg.cQ(a);};f.prototype.W1a=function(a,c){var b,f,k;b=this.nfb||0;f=this.O;k=this.Fm-b||Infinity;return{Goa:function(){this.response=void 0;},ak:function(){return this.requestId;},constructor:{name:"MediaRequest"},requestId:c.ak(),O:f,readyState:R.Eb.bc.DONE,Xs:c.U,nE:c.U+c.duration,qs:c.duration,dm:b,Xm:c.Xm,ji:c.Mf.Rb.xa.id,za:c.za,Db:+c.Db,location:c.location,WH:c.offset,VH:c.offset+c.aa-1,P:c.P,response:a,$ta:a&&0<a.byteLength,Gy:!0,get Yb(){return!this.Gy;},Mf:{Rb:{xa:{ba:k}}},toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.ji,isHeader:this.Yb,ptsStart:this.Xs,ptsOffset:this.dm,responseType:this.TDb,duration:this.qs,readystate:this.rf};this.stream&&(a.bitrate=this.stream.P);return JSON.stringify(a);}};};f.prototype.endOfStream=function(){};f.prototype.addEventListener=function(a,c,b){this.dj.addListener(a,c,b);};f.prototype.removeEventListener=function(a,c){this.dj.removeListener(a,c);};f.prototype.mra=function(a){var c;c=t.V.get(N.XA);return this.type===u.qc.L.VIDEO?c.nI(a):c.hI(a);};qa.Object.defineProperties(f.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.type;}},oQ:{configurable:!0,enumerable:!0,get:function(){return this.Ija.oQ;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.Ija.sourceId;}},a2a:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});d.sga=f;},function(g,d,a){var b,f,u,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(9);u=a(286);g=a(2);m=a(285);c=a(283);k=a(4);a=a(20);d.storage=d.storage||void 0;d.oo=d.oo||void 0;k.V.get(a.Fe).register(g.I.kfa,function(a){var k;switch(b.config.Frb){case"idb":k=m.Brb;break;case"none":k=u.Drb;break;case"ls":k=c.Crb;}k(function(c){c.W?(d.storage=c.storage,d.oo=c.oo,a(f.xc)):a(c);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.PN="PboPublisherSymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.zd={Pga:"mr1",Oga:"mr2",Qga:"mr3",eG:"mr4",KNa:"mr5",$w:"mr6"};a.bc={UNSENT:0,OPENED:1,Rt:2,cx:3,DONE:5,Et:6,sF:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.LBb={Dca:0,gx:1,Iga:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.Bt={NO_ERROR:-1,WHa:0,Mda:1,hIa:2,$Ha:3,sGa:4,mda:5,lX:6,tGa:7,uGa:8,vGa:9,pGa:10,rGa:11,lda:12,qGa:13,oGa:14,gKa:15,Qea:16,Pea:17,yY:18,uN:19,zY:20,AY:21,iKa:22,vN:23,Rea:24,hKa:25,cIa:26,XHa:27,FQa:28,NHa:29,OHa:30,PHa:31,QHa:32,RHa:33,SHa:34,THa:35,UHa:36,VHa:37,YHa:38,ZHa:39,aIa:40,bIa:41,dIa:42,eIa:43,fIa:44,gIa:45,iIa:46,jIa:47,EQa:48,TIMEOUT:49,wY:50,Nea:51,fKa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.Sc={uE:{Dca:!0,gx:!1,Iga:!0}};d.Eb=a;},function(g){var m,c,k,p;function d(){d.Ac.call(this);}function a(a,c,b,f){var k,p;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);k=a.pg;void 0===k?(k=a.pg=Object.create(null),a.qx=0):(void 0!==k.vIb&&(a.emit("newListener",c,b.listener?b.listener:b),k=a.pg),p=k[c]);void 0===p?(k[c]=b,++a.qx):("function"===typeof p?p=k[c]=f?[b,p]:[p,b]:f?p.unshift(b):p.push(b),b=void 0===a.YG?d.LFb:a.YG,0<b&&p.length>b&&!p.$ub&&(p.$ub=!0,b=Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit"),b.name="MaxListenersExceededWarning",b.UFb=a,b.type=c,b.count=p.length,console&&console.warn&&console.warn(b)));return a;}function b(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.Hra||(this.target.removeListener(this.type,this.oEa),this.Hra=!0,c(this.listener,this.target,a));}function f(a,c,f){a={Hra:!1,oEa:void 0,target:a,type:c,listener:f};c=b.bind(a);c.listener=f;return a.oEa=c;}function u(a){var c;c=this.pg;if(void 0!==c){a=c[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}m="object"===typeof Reflect?Reflect:null;c=m&&"function"===typeof m.apply?m.apply:function(a,c,b){return Function.prototype.apply.call(a,c,b);};k=Number.isNaN||function(a){return a!==a;};g.T=d;d.EventEmitter=d;d.prototype.pg=void 0;d.prototype.qx=0;d.prototype.YG=void 0;p=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");p=a;}});d.Ac=function(){if(void 0===this.pg||this.pg===Object.getPrototypeOf(this).pg)this.pg=Object.create(null),this.qx=0;this.YG=this.YG||void 0;};d.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.YG=a;return this;};d.prototype.emit=function(a){var k,f,d;for(var b=[],f=1;f<arguments.length;f++)b.push(arguments[f]);k="error"===a;f=this.pg;if(void 0!==f)k=k&&void 0===f.error;else if(!k)return!1;if(k){0<b.length&&(d=b[0]);if(d instanceof Error)throw d;b=Error("Unhandled error."+(d?" ("+d.message+")":""));b.context=d;throw b;}f=f[a];if(void 0===f)return!1;if("function"===typeof f)c(f,this,b);else{d=f.length;for(var k=Array(d),p=0;p<d;++p)k[p]=f[p];for(f=0;f<d;++f)c(k[f],this,b);}return!0;};d.prototype.addListener=function(c,b){return a(this,c,b,!1);};d.prototype.on=d.prototype.addListener;d.prototype.qza=function(c,b){return a(this,c,b,!0);};d.prototype.once=function(a,c){if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);this.on(a,f(this,a,c));return this;};d.prototype.hmb=function(a,c){if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);this.qza(a,f(this,a,c));return this;};d.prototype.removeListener=function(a,c){var b,f,k,d,p;if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);f=this.pg;if(void 0===f)return this;b=f[a];if(void 0===b)return this;if(b===c||b.listener===c)0===--this.qx?this.pg=Object.create(null):(delete f[a],f.removeListener&&this.emit("removeListener",a,b.listener||c));else if("function"!==typeof b){k=-1;for(d=b.length-1;0<=d;d--)if(b[d]===c||b[d].listener===c){p=b[d].listener;k=d;break;}if(0>k)return this;if(0===k)b.shift();else{for(;k+1<b.length;k++)b[k]=b[k+1];b.pop();}1===b.length&&(f[a]=b[0]);void 0!==f.removeListener&&this.emit("removeListener",a,p||c);}return this;};d.prototype.xjb=d.prototype.removeListener;d.prototype.removeAllListeners=function(a){var c,b,f;b=this.pg;if(void 0===b)return this;if(void 0===b.removeListener)return 0===arguments.length?(this.pg=Object.create(null),this.qx=0):void 0!==b[a]&&(0===--this.qx?this.pg=Object.create(null):delete b[a]),this;if(0===arguments.length){c=Object.keys(b);for(b=0;b<c.length;++b)f=c[b],"removeListener"!==f&&this.removeAllListeners(f);this.removeAllListeners("removeListener");this.pg=Object.create(null);this.qx=0;return this;}c=b[a];if("function"===typeof c)this.removeListener(a,c);else if(void 0!==c)for(b=c.length-1;0<=b;b--)this.removeListener(a,c[b]);return this;};d.prototype.listeners=function(a){var c;c=this.pg;if(void 0===c)a=[];else if(a=c[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var c=Array(a.length),b=0;b<c.length;++b)c[b]=a[b].listener||a[b];a=c;}return a;};d.listenerCount=function(a,c){return"function"===typeof a.listenerCount?a.listenerCount(c):u.call(a,c);};d.prototype.listenerCount=u;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.KIa=function(){this.AUDIO=0;this.VIDEO=1;this.bKa=2;this.We=function(){};};d.cea="DownloadTrackConstructorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dha="PboPlaydataServicesSymbol";d.ON="PboPlaydataServicesProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.UF="LicenseProviderSymbol";},function(g,d,a){var f,u;function b(a){switch(a){case f.u.OF:return"http";case f.u.PF:return"connectiontimeout";case f.u.Qw:return"readtimeout";case f.u.xY:return"corruptcontent";case f.u.Gt:return"abort";case f.u.DA:case f.u.BY:return"unknown";}}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);u=a(8);d.jta=b;d.ota=function(a,c){a={errorcode:a+(c.errorCode||f.I.bj)};c.Y&&(a.errorsubcode=c.Y);c.Gc&&(a.errorextcode=c.Gc);c.GR&&(a.erroredgecode=c.GR);c.Sa&&(a.errordetails=c.Sa);c.Vh&&(a.httperr=c.Vh);c.pU&&(a.aseneterr=c.pU);c.vs&&(a.errordata=c.vs);c.kK&&(a.mediaerrormessage=c.kK);(c=b(Number(c.Y)))&&(a.nwerr=c);return a;};d.wta=function(){return{screensize:u.cr.width+"x"+u.cr.height,screenavailsize:u.cr.availWidth+"x"+u.cr.availHeight,clientsize:J.innerWidth+"x"+J.innerHeight};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(d.Vda||(d.Vda={})).XOa="PboDebugEvent";d.zX={DMa:"Manifest",Event:"Event",yzb:"Logblob"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g.T=function(a){return{minInitVideoBitrate:a.Ls,minHCInitVideoBitrate:a.a9,maxInitVideoBitrate:a.Jv,minInitAudioBitrate:a.rK,maxInitAudioBitrate:a.fK,minHCInitAudioBitrate:a.qK,minAcceptableVideoBitrate:a.$T,minRequiredBuffer:a.gU,minPrebufSize:a.$h,rebufferingFactor:a.N$,useMaxPrebufSize:a.qca,maxPrebufSize:a.Uy,maxRebufSize:a.J8,maxBufferingTime:a.Fo,minAudioMediaRequestSizeBytes:a.aU,minVideoMediaRequestSizeBytes:a.iU,initialBitrateSelectionCurve:a.aT,initSelectionLowerBound:a.Fua,initSelectionUpperBound:a.Gua,throughputPercentForAudio:a.qW,bandwidthMargin:a.P1,bandwidthMarginContinuous:a.Q1,bandwidthMarginCurve:a.R1,conservBandwidthMargin:a.Q2,switchConfigBasedOnInSessionTput:a.Bba,conservBandwidthMarginTputThreshold:a.eI,conservBandwidthMarginCurve:a.R2,switchAlgoBasedOnHistIQR:a.DCa,switchConfigBasedOnThroughputHistory:a.uw,maxPlayerStateToSwitchConfig:a.I8,lowEndMarkingCriteria:a.k8,IQRThreshold:a.FY,histIQRCalcToUse:a.K6,maxTotalBufferLevelPerSession:a.Ks,highWatermarkLevel:a.lua,toStableThreshold:a.eDa,toUnstableThreshold:a.uW,skipBitrateInUpswitch:a.iba,watermarkLevelForSkipStart:a.xca,highStreamRetentionWindow:a.D6,lowStreamTransitionWindow:a.l8,highStreamRetentionWindowUp:a.F6,lowStreamTransitionWindowUp:a.n8,highStreamRetentionWindowDown:a.E6,lowStreamTransitionWindowDown:a.m8,highStreamInfeasibleBitrateFactor:a.C6,lowestBufForUpswitch:a.Gv,lockPeriodAfterDownswitch:a.FT,lowWatermarkLevel:a.p8,lowestWaterMarkLevel:a.Hv,lowestWaterMarkLevelBufferRelaxed:a.r8,mediaRate:a.U8,maxTrailingBufferLen:a.L8,audioBufferTargetAvailableSize:a.H1,videoBufferTargetAvailableSize:a.vca,maxVideoTrailingBufferSize:a.Pwa,maxAudioTrailingBufferSize:a.Bwa,fastUpswitchFactor:a.LR,fastDownswitchFactor:a.E4,maxMediaBufferAllowed:a.PT,maxMediaBufferAllowedInBytes:a.iq,simulatePartialBlocks:a.fba,simulateBufferFull:a.bCa,considerConnectTime:a.S2,connectTimeMultiplier:a.P2,lowGradeModeEnterThreshold:a.kwa,lowGradeModeExitThreshold:a.lwa,maxDomainFailureWaitDuration:a.Cwa,maxAttemptsOnFailure:a.zwa,exhaustAllLocationsForFailure:a.hra,maxNetworkErrorsDuringBuffering:a.Iwa,maxBufferingTimeAllowedWithNetworkError:a.D8,fastDomainSelectionBwThreshold:a.D4,throughputProbingEnterThreshold:a.Kba,throughputProbingExitThreshold:a.QCa,locationProbingTimeout:a.Xva,finalLocationSelectionBwThreshold:a.ura,throughputHighConfidenceLevel:a.OCa,throughputLowConfidenceLevel:a.PCa,locationStatisticsUpdateInterval:a.X7,enablePerfBasedLocationSwitch:a.MC,probeServerWhenError:a.No,probeRequestTimeoutMilliseconds:a.v$,allowSwitchback:a.Rr,probeDetailDenominator:a.uz,maxDelayToReportFailure:a.NT,countGapInBuffer:a.mpa,allowReissueMediaRequestAfterAbort:a.VB,bufferThresholdForAbort:a.X1,allowCallToStreamSelector:a.q1,pipelineScheduleTimeoutMs:a.a$,maxPartialBuffersAtBufferingStart:a.Kv,minPendingBufferLen:a.b9,maxPendingBufferLen:a.Lv,maxPendingBufferLenSABCell100:a.RT,maxActiveRequestsSABCell100:a.LT,enableRequestPacing:a.zR,maxStreamingSkew:a.K8,maxPendingBufferPercentage:a.H8,maxRequestsInBuffer:a.Vy,headerRequestSize:a.OS,minBufferLenForHeaderDownloading:a.bU,reserveForSkipbackBufferMs:a.wV,numExtraFragmentsAllowed:a.D9,pipelineEnabled:a.An,maxParallelConnections:a.JD,socketReceiveBufferSize:a.eCa,audioSocketReceiveBufferSize:a.lQ,videoSocketReceiveBufferSize:a.lF,headersSocketReceiveBufferSize:a.A6,updatePtsIntervalMs:a.zW,bufferTraceDenominator:a.Z1,bufferLevelNotifyIntervalMs:a.cC,aseReportDenominator:a.BH,aseReportIntervalMs:a.D1,enableAbortTesting:a.Pqa,abortRequestFrequency:a.Fma,streamingStatusIntervalMs:a.uba,prebufferTimeLimit:a.iE,minBufferLevelForTrackSwitch:a.cU,penaltyFactorForLongConnectTime:a.U9,longConnectTimeThreshold:a.h8,additionalBufferingLongConnectTime:a.m1,additionalBufferingPerFailure:a.n1,rebufferCheckDuration:a.dL,enableLookaheadHints:a.Sqa,lookaheadFragments:a.hwa,enableOCSideChannel:a.Np,OCSCBufferQuantizationConfig:a.KN,updateDrmRequestOnNetworkFailure:a.FDa,deferAseScheduling:a.dqa,maxDiffAudioVideoEndPtsMs:a.OT,useHeaderCache:a.hF,useHeaderCacheData:a.xR,defaultHeaderCacheSize:a.ZQ,defaultHeaderCacheDataPrefetchMs:a.G3,headerCacheMaxPendingData:a.x6,neverWipeHeaderCache:a.p9,headerCachePriorityLimit:a.y6,enableUsingHeaderCount:a.NI,networkFailureResetWaitMs:a.n9,networkFailureAbandonMs:a.m9,maxThrottledNetworkFailures:a.TT,throttledNetworkFailureThresholdMs:a.pW,abortUnsentBlocks:a.Mr,maxUnsentBlocks:a.M8,abortStreamSelectionPeriod:a.b1,lowThroughputThreshold:a.o8,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.v4,mp4ParsingInNative:a.sxa,sourceBufferInOrderAppend:a.fCa,requireAudioStreamToEncompassVideo:a.En,allowAudioToStreamPastVideo:a.fna,enableManagerDebugTraces:a.jf,managerDebugMessageInterval:a.twa,managerDebugMessageCount:a.swa,bufferThresholdToSwitchToSingleConnMs:a.pQ,bufferThresholdToSwitchToParallelConnMs:a.Y1,netIntrStoreWindow:a.Dib,minNetIntrDuration:a.fib,fastHistoricBandwidthExpirationTime:a.C8a,bandwidthExpirationTime:a.y_a,failureExpirationTime:a.A8a,historyTimeOfDayGranularity:a.hdb,expandDownloadTime:a.s8a,minimumMeasurementTime:a.oib,minimumMeasurementBytes:a.nib,throughputMeasurementTimeout:a.Asb,initThroughputMeasureDataSize:a.Sdb,throughputMeasureWindow:a.zsb,throughputIQRMeasureWindow:a.ysb,IQRBucketizerWindow:a.iLa,connectTimeHalflife:a.T1a,responseTimeHalflife:a.Cob,historicBandwidthUpdateInterval:a.gdb,throughputWarmupTime:a.Dsb,minimumBufferToStopProbing:a.mib,throughputPredictor:a.Bsb,ase_stream_selector:a.EZa,enableFilters:a.c7a,filterDefinitionOverrides:a.Q8a,defaultFilter:a.x5a,secondaryFilter:a.fpb,defaultFilterDefinitions:a.y5a,initBitrateSelectorAlgorithm:a.d7,bufferingSelectorAlgorithm:a.b2,ase_ls_failure_simulation:a.w3,ase_dump_fragments:a.u3,ase_location_history:a.v3,ase_throughput:a.x3,ase_simulate_verbose:a.Rpa,secondThroughputEstimator:a.saa,secondThroughputMeasureWindowInMs:a.fBa,marginPredictor:a.y8,simplePercentilePredictorPercentile:a.aCa,simplePercentilePredictorCalcToUse:a.ZBa,simplePercentilePredictorMethod:a.$Ba,IQRBandwidthFactorConfig:a.vfa,networkMeasurementGranularity:a.o9,HistoricalTDigestConfig:a.Tea,maxIQRSamples:a.Fwa,minIQRSamples:a.lxa,periodicHistoryPersistMs:a.PU,saveVideoBitrateMs:a.FV,needMinimumNetworkConfidence:a.vK,biasTowardHistoricalThroughput:a.T1,maxFastPlayBufferInMs:a.F8,maxFastPlayBitThreshold:a.E8,headerCacheTruncateHeaderAfterParsing:a.iua,minAudioMediaRequestDuration:a.QD,minVideoMediaRequestDuration:a.UD,minAudioMediaRequestDurationCache:a.QD,minVideoMediaRequestDurationCache:a.UD,addHeaderDataToNetworkMonitor:a.ZP,useMediaCache:a.Aw,mediaCachePartitionConfig:a.Q8,diskCacheSizeLimit:a.Qu,mediaCachePrefetchMs:a.WT,hindsightDenominator:a.J6,hindsightDebugDenominator:a.I6,hindsightParam:a.QS,minimumTimeBeforeBranchDecision:a.jU,enableSessionHistoryReport:a.MI,earlyStageEstimatePeriod:a.e4,lateStageEstimatePeriod:a.Gva,maxNumSessionHistoryStored:a.QT,minSessionHistoryDuration:a.hU,enableInitThroughputEstimate:a.LI,applyInitThroughputEstimate:a.y1,initThroughputPredictor:a.Hua,appendMediaRequestOnComplete:a.rna,waitForDrmToAppendMedia:a.QW,forceAppendHeadersAfterDrm:a.T4,startMonitorOnLoadStart:a.oba,reportFailedRequestsToNetworkMonitor:a.V$,reappendRequestsOnSkip:a.cL,maxActiveRequestsPerSession:a.gq,limitAudioDiscountByMaxAudioBitrate:a.S7,appendFirstHeaderOnComplete:a.v1,maxAudioFragmentOverlapMs:0,editAudioFragments:a.dn,editVideoFragments:a.rs,declareBufferingCompleteAtSegmentEnd:a.y3,applyProfileTimestampOffset:a.Mx,applyProfileStreamingOffset:a.eo,requireDownloadDataAtBuffering:a.$$,requireSetupConnectionDuringBuffering:a.aaa,recordFirstFragmentOnSubBranchCreate:a.O$,earlyAppendSingleChildBranch:a.tR,selectStartingVMAFMethod:a.BE,activateSelectStartingVMAF:a.rH,minStartingVideoVMAF:a.TD};};},function(g,d,a){(function(b,f){var m;function d(a,b){var c;c=Date.now();this.irb=c;this.DR=c+a;this.clb=a;this.O4a=c+b;this.debug=!1;}m=new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");d.prototype.constructor=d;d.prototype.fb=function(a,b){a=((a-this.irb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;m.debug(a+" "+this.Q4a+b);};d.prototype.lXa=function(a){this.Q4a=a;this.fb(Date.now(),"starting");};d.prototype.$Xa=function(a){var c;c=new Date().getTime();if(c>=this.O4a)throw Error("Execution deadline exceeded");if(3221225472<b.eIb().YGb)throw Error("Heap total limit exceeded");if(this.debug&&!(c<=this.DR)){for(;c>this.DR;)this.DR+=this.clb;this.fb(c,a);}};d.Ac=function(){f.dV=new d(5E3,12E5);};d.Qaa=function(a){f.dV&&f.dV.lXa(a);};d.update=function(a){f.dV&&f.dV.$Xa(a);};g.T=d;}.call(this,a(232),a(250)));},function(g,d,a){function b(a,b){this.RB=a;this.th=Math.floor((a+b-1)/b);this.yc=b;this.reset();}a(13);b.prototype.shift=function(){this.Cc.shift();this.yp.shift();};b.prototype.bE=function(a){return this.ooa(this.Cc[a],a);};b.prototype.update=function(a,b){this.Cc[a]=(this.Cc[a]||0)+b;};b.prototype.push=function(){this.Cc.push(0);this.yp.push(0);this.Pa+=this.yc;};b.prototype.add=function(a,b,d){var c,f,p;if(null===this.Pa)for(c=Math.max(Math.floor((d-b+this.yc-1)/this.yc),1),this.Pa=b;this.Cc.length<c;)this.push();for(;this.Pa<=d;)this.push(),this.Cc.length>this.th&&this.shift();if(null===this.wk||b<this.wk)this.wk=b;if(b>this.Pa-this.yc)this.update(this.Cc.length-1,a);else if(b==d)c=this.Cc.length-Math.max(Math.ceil((this.Pa-d)/this.yc),1),0<=c&&this.update(c,a);else for(c=1;c<=this.Cc.length;++c){f=this.Pa-c*this.yc;p=f+this.yc;if(!(f>d)){if(p<b)break;this.update(this.Cc.length-c,Math.round(a*(Math.min(p,d)-Math.max(f,b))/(d-b)));}}for(;this.Cc.length>this.th;)this.shift();};b.prototype.start=function(a){null===this.wk&&(this.wk=a);null===this.Pa&&(this.Pa=a);};b.prototype.stop=function(a){var b,f;if(null!==this.Pa)if(a-this.Pa>10*this.RB)this.reset();else{for(;this.Pa<=a;)this.push(),this.Cc.length>this.th&&this.shift();b=this.Cc.length-Math.ceil((this.Pa-this.wk)/this.yc);0>b&&(this.wk=this.Pa-this.yc*this.Cc.length,b=0);f=this.Cc.length-Math.ceil((this.Pa-a)/this.yc);if(b===f)this.yp[b]+=a-this.wk;else if(f>b)for(this.yp[b]+=(this.Pa-this.wk)%this.yc,this.yp[f]+=this.yc-(this.Pa-a)%this.yc,a=b+1;a<f;++a)this.yp[a]=this.yc;this.wk=null;}};b.prototype.ooa=function(a,b){b=this.h5(b);return 0===b?null:8*a/b;};b.prototype.h5=function(a){var b;b=this.yp[a];null!==this.wk&&(a=this.Pa-(this.Cc.length-a-1)*this.yc,a>this.wk&&(b=a-this.wk<=this.yc?b+(a-this.wk):this.yc));return b;};b.prototype.get=function(a,b){var f,c;f=this.Cc.map(this.ooa,this);if("last"===a)for(a=0;a<f.length;++a)null===f[a]&&(f[a]=0<a?f[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.yc));for(a=0;a<f.length;++a)null===f[a]?f[a]=Math.floor(c||0):c=void 0!==c?b*f[a]+(1-b)*c:f[a];}return f;};b.prototype.reset=function(){this.Cc=[];this.yp=[];this.wk=this.Pa=null;};b.prototype.setInterval=function(a){this.th=Math.floor((a+this.yc-1)/this.yc);};g.T=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eQ=function(a,b){return""+a===""+b;};},function(g,d,a){var b,f,u,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(13);u=a(11);m=a(5);g=function(a){function c(c,b,k,d){k=a.call(this,k)||this;k.cma=c.za;k.location=c.location||b.location;k.Db=c.Ub||b.Ub;k.Naa=c.Naa||b.Naa;k.lKb=m.time.ea();f.assert(d);k.K=d;return k;}b.__extends(c,a);c.prototype.Ac=function(a,c,b,f){this.yb=a;this.wu=c;this.Mb=b;this.Mf=f;this.o1=!1;};c.prototype.nP=function(a){var c,b,f;c={type:"logdata",target:"endplay",fields:{}};b=this.O===u.L.AUDIO?"audioedit":"videoedit";f=[this.av===this.U?this.Te:this.Oc,this.av===this.U?-this.duration:this.duration];a&&a.Cq&&f.push(a.Cq);c.fields[b]={type:"array",value:f};this.yb&&this.yb.emit(c.type,c);};c.prototype.fP=function(a){this.Mb.cL&&(this.Xra=!0,this.Mqa=a);};c.prototype.DW=function(a,c){var b,f;if(this.complete)return 0;b=this.cma;f=a[b];return f?f.url?this.url===f.url||(c(this,f.location,f.Ub),this.ZL(f.url))?0:(this.K.warn("swapUrl failed: ",this.WC),3):(this.K.warn("updateurl, missing url for streamId:",b,"mediaRequest:",this,"stream:",f),2):(this.K.warn("updateUrl, missing stream for streamId:",b,"mediaRequest:",this,"streamMap:",a),1);};return c;}(a(83));d.Dw=g;},function(g,d,a){var u;function b(a,c){return void 0===a||void 0===c?void 0:a+c;}function f(a,c){return void 0===a||void 0===c?void 0:a-c;}Object.defineProperty(d,"__esModule",{value:!0});u=a(59);g=function(){function a(){}Object.defineProperties(a.prototype,{Ol:{get:function(){return f(this.wb,this.ab)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NK:{get:function(){return b(this.ab,this.Qo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{VU:{get:function(){return b(this.wb,this.Qo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{b4:{get:function(){return this.PB(this.Ol);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{c2a:{get:function(){return this.PB(this.ab);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$1a:{get:function(){return this.PB(this.wb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{g$:{get:function(){return this.PB(this.NK);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Flb:{get:function(){return this.PB(this.VU);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Imb:{get:function(){return this.PB(this.Qo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return f(this.ba,this.U)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.ru(this.NK);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.ru(this.VU);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{dm:{get:function(){return this.ru(this.Qo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Xm:{get:function(){return this.ru(this.ab);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oc:{get:function(){return this.ru(this.ab);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Te:{get:function(){return this.ru(this.wb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Hc:{get:function(){return this.ru(this.NK);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ee:{get:function(){return this.ru(this.VU);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{qs:{get:function(){return this.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Xs:{get:function(){return this.U;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{nE:{get:function(){return this.ba;},enumerable:!0,configurable:!0}});a.prototype.PB=function(a){return void 0===a?void 0:0===a?u.gc.Ef:new u.gc(a,this.ga);};a.prototype.ru=function(a){return a&&Math.floor(u.gc.cDa(a,this.ga));};return a;}();d.OM=g;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(13);g=function(){function a(a,b){this.Dc=a;this.Vb=b.aa;this.Bd=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.Dc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Vb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.Bd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.Dc.Oa.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oa:{get:function(){return this.Dc.Oa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Dc.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Dc.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.Dc.za;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Dc.P;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Dc.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Dc.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rv:{get:function(){return this.Dc.Rv;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.Dc.Ia;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{FH:{get:function(){return this.Dc.FH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{HH:{get:function(){return this.Dc.HH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{i7:{get:function(){return this.Dc.i7;},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{movieId:this.M,streamId:this.za,offset:this.offset,bytes:this.aa};};return a;}();d.Ew=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pp={UA:"PRIMARY",Eca:"ASSISTIVE",kda:"COMMENTARY"};d.RZ={assistive:d.pp.Eca,closedcaptions:d.pp.Eca,directorscommentary:d.pp.kda,commentary:d.pp.kda,subtitles:d.pp.UA,primary:d.pp.UA};},function(g){g.T=function(d){return null!=d&&"object"===typeof d&&!0===d["@@functional/placeholder"];};},function(g,d,a){var b,f,u;b=a(110);f=a(50);u=a(158);g.T=function(a){return function k(d,q,t){switch(arguments.length){case 0:return k;case 1:return u(d)?k:f(function(b,f){return a(d,b,f);});case 2:return u(d)&&u(q)?k:u(d)?f(function(b,f){return a(b,q,f);}):u(q)?f(function(b,f){return a(d,b,f);}):b(function(b){return a(d,q,b);});default:return u(d)&&u(q)&&u(t)?k:u(d)&&u(q)?f(function(b,f){return a(b,f,t);}):u(d)&&u(t)?f(function(b,f){return a(b,q,f);}):u(q)&&u(t)?f(function(b,f){return a(d,b,f);}):u(d)?b(function(b){return a(b,q,t);}):u(q)?b(function(b){return a(d,b,t);}):u(t)?b(function(b){return a(d,q,b);}):a(d,q,t);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jga="ManifestEncoderSymbol";d.RY="ManifestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vea="IDBDatabaseFactorySymbol";d.xfa="IndexedDBFactorySymbol";d.GY="IndexedDBStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ANa="NativeLocalStorageSymbol";d.Jga="NativeLocalStorageFactorySymbol";d.Wea="IDBFactorySymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(29);d.sxb=function(){this.GH=[];this.jF=[];this.J1=b.Fw.Kw;this.NW=b.Pj.Kw;};d.eN="DeviceCapabilitiesConfigSymbol";},function(g,d,a){g=a(239);a=a(238);d.async=new a.cX(g.bX);},function(g,d,a){function b(a){var b,c;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),f=0;f<b.length;++f){c=b[f];if("entries"!==c&&"size"!==c&&a.prototype[c]===a.prototype.entries)return c;}return"@@iterator";}g=a(80);d.eKb=b;d.iterator=b(g.root);d.vvb=d.iterator;},function(g,d,a){var b,f,u,m,c,k,p,q;b=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=a(10);g=a(46);u=a(71);m=a(460);c=a(459);k=a(241);p=function(a){function c(c){a.call(this,c);this.destination=c;}b(c,a);return c;}(g.ri);d.pRa=p;a=function(a){function d(){a.call(this);this.Ps=[];this.wJ=this.Ye=this.closed=!1;this.Lba=null;}b(d,a);d.prototype[k.Mz]=function(){return new p(this);};d.prototype.bg=function(a){var c;c=new q(this,this);c.K9=a;return c;};d.prototype.next=function(a){if(this.closed)throw new m.SA();if(!this.Ye)for(var c=this.Ps,b=c.length,c=c.slice(),f=0;f<b;f++)c[f].next(a);};d.prototype.error=function(a){if(this.closed)throw new m.SA();this.wJ=!0;this.Lba=a;this.Ye=!0;for(var c=this.Ps,b=c.length,c=c.slice(),f=0;f<b;f++)c[f].error(a);this.Ps.length=0;};d.prototype.complete=function(){if(this.closed)throw new m.SA();this.Ye=!0;for(var a=this.Ps,c=a.length,a=a.slice(),b=0;b<c;b++)a[b].complete();this.Ps.length=0;};d.prototype.unsubscribe=function(){this.closed=this.Ye=!0;this.Ps=null;};d.prototype.T0=function(c){if(this.closed)throw new m.SA();return a.prototype.T0.call(this,c);};d.prototype.Uf=function(a){if(this.closed)throw new m.SA();if(this.wJ)return a.error(this.Lba),u.uk.EMPTY;if(this.Ye)return a.complete(),u.uk.EMPTY;this.Ps.push(a);return new c.Mia(this,a);};d.prototype.B1=function(){var a;a=new f.Da();a.source=this;return a;};d.create=function(a,c){return new q(a,c);};return d;}(f.Da);d.aj=a;q=function(a){function c(c,b){a.call(this);this.destination=c;this.source=b;}b(c,a);c.prototype.next=function(a){var c;c=this.destination;c&&c.next&&c.next(a);};c.prototype.error=function(a){var c;c=this.destination;c&&c.error&&this.destination.error(a);};c.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};c.prototype.Uf=function(a){return this.source?this.source.subscribe(a):u.uk.EMPTY;};return c;}(a);d.Jvb=q;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pia="ReportSyncSymbol";d.oia="ReportApiErrorSyncSymbol";d.Hea="FtlProbeConfigSymbol";d.Iea="FtlProbeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Sn||(d.Sn={});g[g.rz=0]="playready";g[g.SW=1]="widevine";g[g.XC=2]="fairplay";g[g.REb=3]="clearkey";d.TIa="DrmTypeSymbol";},function(g){g.T={Tq:{PZ:0,sia:1,pi:2,name:["transient","semiTransient","permanent"]},Rq:{Bea:0,qia:1,SN:2,gG:3,er:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},kDb:{TCb:0,Izb:1,Owb:2,er:100,name:["trailer","montage","content"]},jp:{Kfa:0,lia:1,eSa:2,kIa:3,er:100,name:["left","right","up","down"]},SF:{BGa:0,SN:1,zyb:2,Txb:3,Svb:4,yyb:5,vFa:6,er:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},GA:{gG:0,Hda:1,er:100,name:["playFocused","detailsOpened"]}};},function(g,d,a){d=a(232);g.T="undefined"!==typeof d&&"undefined"!==typeof nrdp?nrdp.ea:Date.now;},function(g,d,a){var b,f,u,m,c,k,p,q,t,A,y,h,x,G,N,R,S;Object.defineProperty(d,"__esModule",{value:!0});b=a(182);f=a(104);u=a(12);m=a(9);g=a(33);c=a(2);k=a(14);p=a(4);q=a(114);t=a(60);A=a(63);y=a(18);h=a(8);x=a(16);G=a(28);N=a(96);R=a(3);a=a(20);d.xn={};J._cad_global.msl=d.xn;S=p.V.get(a.Fe);g.PY&&S.register(c.I.hfa,function(a){var X,n,r,Y,O,W,va,wa,M,ja,ka,ra,xa,la;function g(b){b&&b.userList&&u.config.Jqb&&(b.userList=[]);Y({esn:f.vh.Qg,esnPrefix:f.vh.gn,authenticationType:u.config.KH,authenticationKeyNames:u.config.Nna,systemKeyWrapFormat:u.config.nsb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:xa,storeState:b,notifyMilestone:S.Pc.bind(S),log:va,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:c.u.yMa,MSL_READ_TIMEOUT:c.u.xMa}},{result:function(a){L(a);},timeout:function(){a({Y:c.u.iga});},error:function(b){a(l(c.u.iga,void 0,b));}});}function L(b){var q,t,g;function f(){ra&&p.V.get(A.fp).create().then(function(a){return a.save(ja,t,!1);})["catch"](function(a){va.error("Error persisting msl store",c.Un(a));});}q=p.V.get(N.YA)(R.Cb(100));g=O.extend({init:function(a){this.rla=a;},getResponse:function(a,c,b){var f,d;c=this.rla;f=c.yn.Gd||f;a=x.ova(a.body)?p.HW(a.body):a.body;k.sI(a,"Msl should not be sending empty request");a={url:c.url,l$:a,withCredentials:!0,BC:"nq-"+c.method,headers:c.headers};c=this.rla.timeout;a.JQ=c;a.u9=c;d=f.download(a,function(a){try{if(a.W)b.result({body:a.content});else if(400===a.Vh&&a.Sa)b.result({body:a.Sa});else throw y.Wa(new W("HTTP error, SubCode: "+a.Y+(a.Vh?", HttpCode: "+a.Vh:"")),{cadmiumResponse:a});}catch(nf){b.error(nf);}});return{abort:function(){d.abort();}};}});M&&b.addEventHandler("shouldpersist",function(a){t=a.storeState;q.Jb(f);});y.Wa(d.xn,{kHb:function(){ka=!0;},send:function(a){function f(){var c,b;c=a.yn;b={method:a.method,nonReplayable:a.v9,encrypted:a.Pl,userId:a.uM,body:a.body,timeout:2*a.timeout,url:new g(a),allowTokenRefresh:ra,sendUserAuthIfRequired:la,shouldSendUserAuthData:u.config.Oqb};c.uR?(b.email=c.uR,b.password=c.password||""):c.gDa?(b.token=c.gDa,b.mechanism=c.xhb,c.ez&&(b.netflixId=c.ez,b.secureNetflixId=c.JV),c.vz&&(b.profileGuid=c.vz)):c.ez?(b.netflixId=c.ez,b.secureNetflixId=c.JV):c.Twa?(b.mdxControllerToken=c.Twa,b.mdxPin=c.shb,b.mdxNonce=c.rhb,b.mdxEncryptedPinB64=c.qhb,b.mdxSignature=c.thb):ka||c.useNetflixUserAuthData?b.useNetflixUserAuthData=!0:c.vz&&(b.profileGuid=c.vz);return b;}return new Promise(function(a,k){var d;d=f();b.send(d).then(function(c){ka&&(ka=!1);a({W:!0,body:c.body});})["catch"](function(a){var f,d;if(a.error){f=a.error.cadmiumResponse&&a.error.cadmiumResponse.Y?a.error.cadmiumResponse.Y:b.isErrorReauth(a.error)?c.u.hga:b.isErrorHeader(a.error)?c.u.rMa:c.u.fga;d=b.getErrorCode(a.error);k(l(f,d,a.error));}else va.error("Unknown MSL error",a),a.Ic=a.subCode,k({Y:a.Ic?a.Ic:c.u.zMa});});});},Xg:b});a(m.xc);}function l(a,c,b){var f,k,d,p;p={Y:a,RC:c};if(b){f=function(a){var c;a=a||""+b;if(b.stack){c=""+b.stack;a=0<=c.indexOf(a)?c:a+c;}return a;};if(d=b.cadmiumResponse){if(k=d.Gc&&d.Gc.toString())d.Gc=k;d.Y=a;d.RC=c;d.Sa=f(b.message);d.error={Ic:a,vg:k,lq:c,data:b.cause,message:b.message};return d;}f=f(b.errorMessage);k=y.Sd(b.internalCode)||y.Sd(b.error&&b.error.internalCode);d=void 0!==b.i8a?G.$xa(b.i8a):void 0;}f&&(p.Sa=f);k&&(p.Gc=k);p.error={Ic:a,vg:k.toString(),lq:c,data:d,message:f};return p;}k.Ga(u.config);X=p.V.get(q.jx);n=t.Zc.si;if(h.Pt&&h.Zm&&h.Zm.unwrapKey){try{r=J.netflix.msl;Y=r.createMslClient;O=r.IHttpLocation;W=r.MslIoException;}catch(Fa){a({Y:c.u.sMa});return;}va=p.Kf("Msl");wa=u.config.wib;M=u.config.xib;ja=u.config.Pp?"mslstoretest":"mslstore";r=b.PE.ABa;ka=u.config.Idb;ra=!r||r.W;xa=p.Kk(u.config.Pp?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");la=!!u.config.Jaa;p.V.get(A.fp).create().then(function(b){wa?b.remove(ja).then(function(){g();})["catch"](function(a){va.error("Unable to delete MSL store",c.Un(a));g();}):M?b.load(ja).then(function(a){X.mark(n.uMa);g(a.value);})["catch"](function(f){f.Y==c.u.np?(X.mark(n.wMa),g()):(va.error("Error loading msl store",c.Un(f)),X.mark(n.vMa),b.remove(ja).then(function(){g();})["catch"](function(c){a(c);}));}):g();})["catch"](function(b){va.error("Error creating app storage while loading msl store",c.Un(b));a(b);});}else a({Y:c.u.tMa});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xZ="PlaylistHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nia=function(a,b){var f;this.Yaa=function(){f||(f=setInterval(b,a));};this.A2=function(){f&&(clearInterval(f),f=void 0);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Kh||(d.Kh={});g[g.hCa=1]="sourceopen";g[g.$m=2]="currentTimeChanged";g[g.rL=3]="seeked";g[g.rIb=4]="needlicense";g[g.Nva=5]="licenseadded";g[g.gCa=6]="sourceBuffersAdded";g[g.F9=7]="onNeedKey";},function(g,d,a){var b,f,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);f=a(18);u=a(16);(function(){var c,k,p;function a(a){b.Ga(void 0!==c[a]);return c[a];}c={'"':'""',"\r":"","\n":" "};k=/["\r\n]/g;p=/[", ]/;d.F4a=function(c){return u.Tb(c)?u.pa(c)?c:u.Qd(c)?c.replace(k,a):u.Sua(c)?c:isNaN(c)?"NaN":"":"";};d.pwa=function(a){var c,b;c=d.F4a;b="";f.Uc(a,function(a,f){a=c(a)+"="+c(f);p.test(a)&&(a='"'+a+'"');b=b?b+(","+a):a;});return b;};}());},function(g,d,a){var f,u,m;function b(a,b){this.ej=b?[b]:[];this.N_="$op$"+m++;this.o=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);u=a(14);m=0;b.prototype.addListener=function(a,b){var c;c=this;u.Opa(a);u.Ga(0>this.ej.indexOf(a));a[f.dZ+this.N_]=b;this.ej=this.ej.slice();this.ej.push(a);this.ej.sort(function(a,b){return c.drb(a,b);});};b.prototype.removeListener=function(a){var c;u.Opa(a);this.ej=this.ej.slice();0<=(c=this.ej.indexOf(a))&&this.ej.splice(c,1);};b.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,Ou:b};this.o=a;a=this.ej;for(var c=a.length,f=0;f<c;f++)a[f](b);}};b.prototype.drb=function(a,b){return(a[f.dZ+this.N_]||0)-(b[f.dZ+this.N_]||0);};qa.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});d.Lc=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vZ="PlaybackSegmentDataFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nZ="PboBindCommandSymbol";},function(g,d,a){var b,f,u,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(282);f=a(12);u=a(9);g=a(2);m=a(14);c=a(4);k=a(18);p=a(70);q=a(85);a=a(20);d.Ym={};J._cad_global.controlProtocol=d.Ym;c.V.get(a.Fe).register(g.I.cfa,function(a){var p,t,g;m.Ga(f.config);p=c.Kf("ControlProtocol");t=f.config.wh;m.Ga(t);g=c.V.get(q.ut);p.info("Creating EDGE instance",{Endpoint:g.endpoint+t.vxa,Path:t.Jqa});k.Wa(d.Ym,new b.dHa(p));a(u.xc);});d.gFb=c.V.get(p.jN);d.fFb="1";d.hFb="2";d.iFb="3";d.eFb="4";},function(g,d,a){var u,m,c,k,p,q,t,A,y,h,x,G,N,R,S,l,D;function b(a){var b;b=this;this.j=a;this.Ona=this.Ova=!1;this.log=p.$f(this.j,"Playback");this.yn={Gd:a.BJ,log:p.$f(a,"MSLContext"),profile:a.profile};this.CT=p.V.get(N.UF);this.bl=p.V.get(l.ax);this.Jc=p.V.get(D.$A);this.j.addEventListener(S.S.$J,function(){return b.lub();});q.Ga(c.config);q.Ga(u.Ym);q.Ga(this.yn.Gd);c.config.cp||(this.G6a=p.V.get(t.dea));}function f(a,c,b){var k;function f(a){return a&&0<a.length&&a[0].Bv;}k=p.V.get(N.UF);return a.oa&&f(a.kc)?k.release(Object.assign({},b,{oa:a.oa,kc:a.kc}),c):b.oa&&f(b.kc)?k.release(b,c):Promise.resolve(m.xc);}Object.defineProperty(d,"__esModule",{value:!0});u=a(179);m=a(9);c=a(12);k=a(26);p=a(4);q=a(14);t=a(467);A=a(2);y=a(60);h=a(33);x=a(45);G=a(16);N=a(147);R=a(146);S=a(15);l=a(91);D=a(107);b.prototype.LH=function(a){var d,p,t;function b(){d.j.oBa().then(f)["catch"](a);}function f(c){try{d.j.xza(c);a(m.xc);d.e9a();}catch(W){d.log.error("Exception processing authorization response",W);a({W:!1,Y:A.u.OOa});}}d=this;q.rI(this.j.M);q.rI(this.j.ah);p=this.j.Ja;if(p){t=p.expiration;t?(t-=k.C2(),18E5<t?x.zb(function(){f(p);d.j.Fu="ui";}):(this.log.error("manifest is expired",{gap:t}),b())):x.zb(function(){f(p);d.j.Fu="ui";});}else c.config.Cn&&this.Jc()?(t=this.Jc().uo(this.j.M,"manifest"))&&t.then(function(a){f(a);d.j.Fu="videopreparer";})["catch"](function(a){d.log.warn("manifest not in cache",a);b();}):b();};b.prototype.nJ=function(a){var c;c=this;return new Promise(function(b,f){var k,d,q;k=y.Zc.kpa(a.xh);d=a.Kp.map(function(a){return{sessionId:a.sessionId,dataBase64:p.Wr(a.data)};});q=c.j.kbb(a.Kp[0].sessionId);k={Nf:q.Nf,xh:G.is.Gk(a.xh)?a.xh:k,qR:[q.Yj],Kp:d,oa:q.oa,po:a.po,wf:q.Ja.wf};c.j.gI&&c.j.gI.LQ&&(k.jK=c.j.gI.LQ);c.CT.Hx(k,c.yn.profile).then(function(a){c.j.kc=a.kc;b(a);c.f9a(q);})["catch"](f);});};b.prototype.release=function(a){return f(this.j,this.yn.profile,a);};b.prototype.npa=function(){var a;a=this.G6a.create();a.profileId=this.j.profile.id;this.j.hf&&(a.Rd=this.j.hf.eD());a.kc=this.j.kc;a.oa=this.j.oa;a.M=this.j.M;return a;};b.prototype.f9a=function(a){this.Ova||(this.Ova=!0,this.j.fireEvent(S.S.$J,{ca:a.ca}));};b.prototype.e9a=function(){var a;a=this;this.Ona||(this.Ona=!0,this.j.fireEvent(S.S.i_a),p.V.get(R.ON)().then(function(c){c.jrb(a.j);}));};b.prototype.lub=function(){var a;a=this;this.bl.Hy||b.RDa||(b.RDa=!0,h.yNa&&c.config.kub&&u.Ym.U1(this.yn).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(c){return a.log.error("NetflixId upgrade failed",A.Un(c));}));};b.RDa=!1;d.eHa=b;d.Onb=f;},function(g,d,a){var m,c,k,p,q,t,A,y,h,x,G,N,R,S,l,D,n,P;function b(a,b){var x,N;function d(b){return c.Onb(a,N,b);}function q(){var a,c,b;c=A.Kf("Eme");a=new t.Ig.At(c,void 0,d,{Ug:!1,PJ:!1});b=A.V.get(h.XA);return t.Ig.Ct(c,"cenc",void 0,{Ug:!1,PJ:!1,jva:p.config.ii,jBa:{cxa:p.config.kpb,Boa:p.config.uaa,yKb:p.config.jpb},kL:a,Bza:p.config.A$,gF:p.config.gF,nA:p.config.h4,WIb:p.config.lpb,Ina:b.hI([]),dEa:b.nI([]),qD:p.config.qD});}function g(a,c){var b,f;f=A.V.get(P.vZ)(0,0,c.movieId,{},c.xid,D.Cb(n.Wf()),!1,void 0,function(){return null;});p.config.ii&&(x.info("secure stop is enabled"),b=a.W?{success:a.W,persisted:!0,ss_km:a.bxa,ss_sr:a.zL,ss_ka:a.Woa}:{success:a.W,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.Ic,ErrorExternalCode:a.vg,ErrorEdgeCode:a.ey,ErrorDetails:a.cause&&a.cause.Sa},b.browserua=G.Oj,c=A.V.get(S.Mj),a=A.V.get(l.Vn).Ml("securestop",a.W?"info":"error",b,f),c.uc(a));}function L(){function a(a,c){var b;N=m.hj.uy(c.profileId);if(!N)return x.warn("profile not found in release drm session, this is an orphan drmSession"),f(a,c);if(!c.kc||0===c.kc.length||!c.kc[0].Bv)return x.error("releaseDrmSession exception: missing valid keySessionData"),f(a,c);if(0<c.kc.length){x.info("Sending the deferred playdata and secure stop data");b=q();return b.create(p.config.Rd).then(function(){return b.MFb(c);}).then(function(b){x.info("Sent the deferred playdata and secure stop data");g(b,c);return f(a,c);})["catch"](function(b){b&&b.code===y.I.wQa&&f(a,c);b&&b.code===y.I.vQa&&f(a,c);x.error("Unable to send last stop",b);g(b,c);throw b;});}x.info("No key session so just send the playdata");return d(c).then(function(){x.trace("Successfully sent stop command for previous session");return f(a,c);})["catch"](function(a){x.error("Unable to send stop command for previous session",a);throw a;});}u(x).then(function(c){var f;f=c.rR.filter(function(a){return!1===a.active;}).map(function(b){return a(c,b);});Promise.all(f).then(function(){x.info("release drm session completed for "+f.length+" entries");b(k.xc);})["catch"](function(a){a=a||{};a.DrmCacheSize=f.length;x.error("Unable to release one or more DRM session data",a);b(k.xc);});})["catch"](function(a){x.error("Unable to load DRM session data",a);b(k.xc);});}x=A.Kf("PlayDataManager");b=b||k.le;p.config.cp?b(k.xc):L();}function f(a,c){return a?a.T$(c):Promise.resolve();}function u(a){var c;if(!d.Eqa){c=A.V.get(x.mX);d.Eqa=new Promise(function(b,f){c.Pza().then(function(){b(c);})["catch"](function(c){a.error("Unable to load DRM data for persistent secure stop",c);f(c);});});}return d.Eqa;}Object.defineProperty(d,"__esModule",{value:!0});m=a(90);c=a(180);k=a(9);p=a(12);q=a(53);t=a(33);A=a(4);y=a(2);h=a(113);x=a(243);G=a(8);N=a(146);R=a(15);S=a(39);l=a(57);D=a(3);n=a(26);P=a(177);g=a(20);d.pPa=function(a){var g,m,y,h,L;function c(){m||(a.Pc("pdsb"),m=A.V.get(N.ON)().then(function(c){h=c;a.Pc("pdsc");return c;})["catch"](function(c){g.error("Unable to initialize the playdata services",c);a.Pc("pdse");throw c;}));return m;}function d(){y=!0;h&&h.close();q.Ce.removeListener(q.Vk,d);}g=A.$f(a,"PlayDataManager");y=!1;if(!t.Ig.Ct||!t.Ig.At){L={};t.Ig.Ct=L.yb;t.Ig.At=L.request;}a.Pc("pdctor");a.addEventListener(R.S.Ie,function(){q.Ce.removeListener(q.Vk,d);});a.addEventListener(R.S.$J,function(){var c;if(!p.config.cp&&a.hf){c=a.Ym.npa();u(g).then(function(a){return a.Kma(c);})["catch"](function(){g.error("Unable to load/add cached DRM data");});}});a.addEventListener(R.S.Ie,function(){var b;if(!y){a.Yub();b=[function(){return p.config.cp||!a.hf?Promise.resolve():new Promise(function(c){var b;g.info("Sending the expedited playdata and secure stop data");b=a.Ym.npa();a.hf.iGb(b).then(function(c){g.info("Sent the expedited playdata and secure stop data");p.config.ii&&a.cq.KV({success:c.W,persisted:!1,ss_km:c.bxa,ss_sr:c.zL,ss_ka:c.Woa});return u(g);}).then(function(a){return f(a,b);}).then(function(){c();})["catch"](function(b){g.error("Unable to send the expedited playdata and secure stop data",b);p.config.ii&&a.cq.KV({success:b.W,state:b.state,ErrorCode:b.code,ErrorSubCode:b.Ic,ErrorExternalCode:b.vg,ErrorEdgeCode:b.ey,ErrorDetails:b.cause&&b.cause.Sa});c();});});}(),function(){return c().then(function(c){return c.rCa(a.ha);}).then(function(){g.info("Sent the playdata");})["catch"](function(a){g.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){A.V.get(S.Mj).flush(!1)["catch"](function(){g.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(b).then(function(){a.wU();})["catch"](function(){a.wU();});}});q.Ce.addListener(q.Vk,d);return{ypb:function(f){a.Pc("pdpb");p.config.MV||c().then(function(c){return c.send(a.M);}).then(function(){p.config.cp?(a.Pc("pdpc"),f(k.xc)):b(a,function(){a.Pc("pdpc");f(k.xc);});})["catch"](function(){a.Pc("pdpe");f(k.xc);});}};};d.qPa=function(){new Promise(function(a){b({},function(c){a(c);});});};A.V.get(g.Fe).register(y.I.Ht,function(a){a(k.xc);});},function(g,d,a){var b,f,u,m,c,k,p,q,t,A,y;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(12);u=a(53);m=a(26);c=a(2);k=a(14);p=a(4);q=a(18);t=a(8);A=a(141);y=a(16);g=a(20);p.V.get(g.Fe).register(c.I.lfa,function(a){var L,R,S;function g(){var a;g=b.le;a=setInterval(h,f.config.ggb);u.Ce.addListener(u.Vk,function(c){c&&c.isPopStateEvent?L.trace("popstate event, Lock timers can stay"):(q.Uc(R,function(a,c){localStorage.removeItem(c.rn);}),clearInterval(a));},b.RA);}function h(){var a;a=m.EQ();q.Uc(R,function(c,b){c=localStorage.getItem(b.rn);(c=JSON.parse(c))?c.updated=a:c={updated:a,sessionId:S,count:1};localStorage.setItem(b.rn,JSON.stringify(c));});}k.Ga(A.storage);L=p.Kf("StorageLock");R={};S=Date.now()+"-"+Math.floor(1E6*Math.random());d.PE={Hx:function(a,k,d){var A,u,h,x,G,N,l,D,X,n;function p(a){localStorage.setItem(h,JSON.stringify(a));a={rn:h};R[h]=a;L.trace("Lock acquired",{Name:a.rn});g();k({W:!0,GT:a});}d=void 0===d?!1:d;A=this;if(localStorage){u=m.EQ();h="lock-"+a;x={updated:u,sessionId:S,count:1};try{if(h in localStorage){G=localStorage.getItem(h);l=JSON.parse(G);y.uv(l.updated)&&(N=l.updated);D=t.YF(u-N)*b.Nj;X=S===l.sessionId;if(D<f.config.Yva)if(X)l.count+=1,L.debug("Incremented lock count for existing playbackSession",{id:S,count:l.count}),l.updated=u,p(l);else if(d){n=f.config.Yva-D+b.Nj;L.error("Waiting until current expiration to confirm whether lock is still active",{id:S,count:l.count,Epoch:u,LockEpoch:N,waitTimeoutMs:n});J.setTimeout(function(){return A.Hx(a,k,!1);},n);}else k({W:!1});else L.error("Lock was expired or invalid, ignoring",{Epoch:u,LockEpoch:N}),p(x);}else p(x);}catch(ka){L.error("Error acquiring Lock",{errorSubCode:c.u.eh,errorDetails:q.ud(ka)});k({W:!0});}}else t.Vva?L.error("Local storage access exception",{errorSubCode:c.u.KQa,errorDetails:q.ud(t.Vva)}):L.error("No localstorage",{errorSubCode:c.u.LQa}),k({W:!0});},release:function(a,c){var f,d;k.Ga(R[a.rn]==a);if(localStorage){try{f=localStorage.getItem(a.rn);d=JSON.parse(f);1<d.count?(--d.count,localStorage.setItem(a.rn,JSON.stringify(d)),L.trace("Lock count decremented",{Name:a.rn,count:d.count})):(localStorage.removeItem(a.rn),delete R[a.rn],L.trace("Lock released",{Name:a.rn}));}catch(ia){L.error("Unable to release Lock",{Name:a.rn},ia);}c&&c(b.xc);}}};f.config.CR?d.PE.Hx("session",function(c){d.PE.ABa=c;a(b.xc);}):a(b.xc);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tZ="PlayPredictionDeserializerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.BT=function(a,b,f){var d;if(f.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");d=f.get;f.get=function(){var g,c;g=d.apply(this,arguments);c={enumerable:f.enumerable,value:g};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,c):Object.defineProperty(this,b,c);return g;};};},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.MHa="display";a.wGa="console";a.IBb="remote";a.pDb="writer";d.Zfa=a;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(8);b.Y2=function(a){var b;if(f.Ld.queryCommandSupported&&f.Ld.queryCommandSupported("copy")){b=f.Ld.createElement("textarea");b.textContent=a;b.style.position="fixed";f.Ld.body.appendChild(b);b.select();try{f.Ld.execCommand("copy");}catch(c){console.warn("Copy to clipboard failed.",c);}finally{f.Ld.body.removeChild(b);}}};d.qX=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Eha="PboPlaydataValidatorSymbol";d.Bha="PboPlaydataArrayValidatorSymbol";d.Cha="PboPlaydataCollectionValidatorSymbol";},function(g,d,a){var c,k,p,q,t;function b(a,c,b){this.Ra=a;this.Mta=c;this.ya=b;}function f(){}function u(){}function m(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);k=a(42);p=a(3);q=a(17);a=a(23);m.prototype.encode=function(a){return{downloadableId:a.Tc,duration:a.duration};};m.prototype.decode=function(a){return{Tc:a.downloadableId,duration:a.duration};};u.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new m().encode),video:a.video.map(new m().encode),text:a.text.map(new m().encode)};};u.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new m().decode),video:a.video.map(new m().decode),text:a.text.map(new m().decode)};};f.prototype.encode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,xid:a.oa,movieId:a.M,position:a.position,clientTime:a.bI,sessionStartTime:a.AL,mediaId:a.Wy,playTimes:new u().encode(a.KK),trackId:a.eb,sessionId:a.sessionId,appId:a.zH,sessionParams:a.hm,mdxControllerEsn:a.O8};};f.prototype.decode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,oa:a.xid,M:a.movieId,position:a.position,bI:a.clientTime,AL:a.sessionStartTime,Wy:a.mediaId,KK:new u().decode(a.playTimes),eb:a.trackId,sessionId:a.sessionId,zH:a.appId,hm:a.sessionParams,O8:a.mdxControllerEsn};};d.pZ=f;b.prototype.create=function(a){return{href:a.Ja&&a.Ja.wf?a.Ja.wf.J5("events").href:"",type:"online",profileId:a.profile.id,oa:a.oa.toString(),M:a.M,position:a.p3||0,bI:this.Ra.Maa.fa(p.ma),AL:a.rD?a.rD.fa(p.ma):-1,Wy:this.E$a(a),KK:this.ibb(a),eb:void 0!==a.ah?a.ah.toString():"",sessionId:this.Mta().sessionId||this.ya.id,zH:this.Mta().zH||this.ya.id,hm:a.Ya.hm||{}};};b.prototype.g4a=function(a,c){return Object.assign({},this.create(a),{O8:c&&c.LQ});};b.prototype.load=function(a){return new f().decode(a);};b.prototype.E$a=function(a){var c,b,f;c=a.Nc.value;b=a.Df.value;f=a.vc.value;return c&&b&&f?(a=a.Ja.media.find(function(a){return a.tracks.AUDIO===c.eb&&a.tracks.VIDEO===b.eb&&a.tracks.TEXT===f.eb;}))?a.id:"":"";};b.prototype.S5=function(a){return a.map(function(a){return{Tc:a.downloadableId,duration:a.duration};});};b.prototype.ibb=function(a){return(a=a.cl)?(a=a.hbb(),{total:a.total,audio:this.S5(a.audio),video:this.S5(a.video),text:this.S5(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};t=b;t=g.__decorate([c.N(),g.__param(0,c.l(k.Kj)),g.__param(1,c.l(q.ld)),g.__param(2,c.l(a.Oe))],t);d.jPa=t;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.QY="ManifestProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.JN="NetworkMonitorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vfa="LogMessageRulerConfigSymbol";d.Wfa="LogMessageRulerSymbol";},function(g,d,a){var b,f,u,m,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(2);u=a(342);m=a(341);c=a(45);d.tEa=function(a,d){var k,p;try{k=u.ovb(a);}catch(A){b.log.error("xml2xmlDoc exception",A);}c.zb(function(){if(k&&k.documentElement)try{p=m.pvb(k);}catch(A){b.log.error("xmlDoc2js exception",A);}c.zb(function(){p?d({W:!0,object:p}):d({W:!1,Y:f.u.Cea});});});};},function(g,d,a){var b,f,u,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);f=a(19);u=a(9);m=a(124);c=a(8);k=a(16);p=a(18);d.pkb=function(){var ea,Y,O,W,va,wa,M,ja,ka,ra,xa,la;function a(a){if(f.Ly(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return d.vkb[a];}}function t(a,b,f){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return c.Wn(b,f);}function g(a,c){var b,f;b=a.length;f=a[b-1];if("t"===f)return parseFloat(a)*c|0;if("s"===f)return"m"===a[b-2]?parseFloat(a)|0:parseFloat(a)*u.Nj|0;if((a=a.match(ka))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*u.Nj|0;throw Error("dfxp-badtime");}function y(a,c,b,f,k){var d,p,q,t,g,m,y,u;if(a){p=a.style;b=p?b[p]:void 0;f=(p=a.region)?f[p]:void 0;p=k.length;for(q=0;q<p;q++)if(t=k[q],g=a[t],void 0===g&&b&&(g=b[t]),void 0===g&&f&&(g=f[t]),void 0!==g&&g!==c[t]){if(!d)for(d={},m=0;m<p;m++)y=k[m],u=c[y],void 0!==u&&(d[y]=u);d[t]=g;}}return d||c;}function h(a,c,b,k,d,p,q,t,g){var A,h;function u(a,L,x){var G,N,S,l,D,n;G=a[m.Vi];N=G.style||L.style||"";S=G.region||L.region||"";N||S?(l=N+"/"+S,D=b[l]):D=c;if(!D){D=c;n=f.EL(k);f.Wa(n,d[N]);D=R(D,n,q,t,g);b[N+"/"]=D;S&&(f.Wa(n,p[S]),f.Wa(n,d[N]),D=R(D,n,q,t,g),b[l]=D);}if(!x)a:{for(x=wa.length;x--;)if(void 0!==G[wa[x]]){x=!0;break a;}x=void 0;}x&&(G=y(G,L,d,p,M),D=R(D,G,q,t,g));L=(a=a[m.UW])&&a.length;for(N=0;N<L;N++)S=a[N],f.Xe(S)?ra.test(S[m.VW])?h++:u(S,G,x):(A.push({text:S,lineBreaks:h,style:D}),h=0);}A=[];h=0;u(a,k,!1);0<h&&A.push({text:"",lineBreaks:h,style:c});return A;}function x(a,c,b,f,k,d,p,q){var t,g;b&&(b=Y[b]||"top",a.verticalAlignment!==b&&(a.verticalAlignment=b));f&&(b=O[f]||"left",a.horizontalAlignment!==b&&(a.horizontalAlignment=b));k?((g=q[k])?(f=g.marginLeft,b=g.marginTop):(t=k.split(" "),f=D(t[0],p.x)||0,b=D(t[1],p.y)||0,g={Op:0,marginLeft:f,marginTop:b,fZa:f*c.t6+c.uJ,hZa:b*c.tca+c.LW},30>q.Op&&(q.Op++,q[k]=g)),a.marginLeft=g.fZa,a.marginTop=g.hZa):(b=f=0,(g=q["default"])||(q["default"]=g={Op:0}));d&&(k=g[d],k||(t=d.split(" "),k={gZa:(1-(f+(D(t[0],p.x)||0)))*c.t6+c.uJ,eZa:(1-(b+(D(t[1],p.y)||0)))*c.tca+c.LW},30>g.Op&&(g.Op++,g[d]=k)),a.marginRight=k.gZa,a.marginBottom=k.eZa);}function G(a,c,b,k,d){var p,q,t;p=a.displayAlign;q=a.textAlign;t=a.origin;a=a.extent;b=f.EL(b);x(b,c,p,q,t,a,k,d);b.id=ea++;return b;}function N(c,b,k,p){var q,g,m,y,u,A;q=t(k.characterSize||b.characterSize,d.wkb,2)||1;g=(g=c.fontSize)&&xa.test(g)?f.dr(f.Sd(g),25,200):void 0;q*=g/100||1;g=c.textOutline;if(g&&"none"!=g){y=g.split(" ");la.test(y)?(A=0,u=c.color):(A=1,u=a(y[0]));m=l(y[A]);y=l(y[A+1]);}return{characterStyle:k.characterStyle||d.xkb[c.fontFamily]||b.characterStyle,characterSize:q*p,characterColor:a(k.characterColor||c.color||b.characterColor),characterOpacity:t(f.G2(k.characterOpacity,c.opacity,b.characterOpacity),d.Q9,1),characterEdgeAttributes:k.characterEdgeAttributes||g&&("none"===g?d.tkb:y?d.P9:d.Cya)||b.characterEdgeAttributes,characterEdgeColor:a(k.characterEdgeColor||u||b.characterEdgeColor),characterEdgeWidth:m,characterEdgeBlur:y,characterItalic:"italic"===c.fontStyle,characterUnderline:"underline"===c.textDecoration,backgroundColor:a(k.backgroundColor||c.backgroundColor||b.backgroundColor),backgroundOpacity:t(f.G2(k.backgroundOpacity,c.opacity,b.backgroundOpacity),d.Q9,1)};}function R(a,b,f,k,d){var q;b=N(b,f,k,d);p.Uc(b,function(b,f){f!==a[b]&&(q||(q=c.fG(a)),q[b]=f);});return q||a;}function S(a,b,f,k,d,p,q,t){var g;g=a[m.Vi];f=y(a[m.Vi],b,f,d,ja);b=f.region;a=g.displayAlign;f=f.textAlign;d=g.origin;g=g.extent;b||a||f||d||g?((k=k[b])?k=c.fG(k):a||d||g?(k=c.fG(va),k.id=ea++):k=c.fG(W),x(k,p,a,f,d,g,q,t)):k=W;return k;}function l(a){a=f.Sd(a);return k.uv(a,0,100)?a:0;}function D(a,c){var b;b=a[a.length-1];if("%"===b)return f.dr(.01*parseFloat(a),0,1);if("c"===b)return f.dr(f.Sd(a)/c,0,1);}function n(a){for(var b=a.length,f=a[--b].endTime;b--;)f=c.Wn(a[b].endTime,f);return f;}function P(c){p.Uc(c,function(b,f){0<=b.toLowerCase().indexOf("color")&&(c[b]=a(f));});}function r(a,f){var k,d,p,q;k=a.pixelAspectRatio;q={uJ:0,t6:1,LW:0,tca:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(k=(k||"").split(" "),d=parseFloat(a[0])*(parseFloat(k[0])||1),p=parseFloat(a[1])*(parseFloat(k[1])||1));d=0<d&&0<p?d/p:1280/720;f=f||1280/720;k=d/f;.01<c.YF(f-d)&&(f>=d?(q.uJ=(1-k)/2,q.t6=k):b.Ga(!1,"not implemented"));return q;}function Z(a){var c,b,k,p,q;if(c=a.cellResolution)if(c=c.split(" "),2<=c.length){b=f.Sd(c[0]);c=f.Sd(c[1]);if(0<b&&0<c)return{x:b,y:c};}c=a.extent;if(c&&(c=c.split(" "),2<=c.length)){b=f.Sd(c[0]);q=f.Sd(c[1]);if(a=a.pixelAspectRatio)c=a.split(" "),k=f.Sd(c[0]),p=f.Sd(c[1]);if(b&&q&&1.5<b*(k||1)/(q*(p||1)))return d.rkb;}return d.qkb;}ea=1;Y={before:"top",center:"center",after:"bottom"};O={left:"left",start:"left",center:"center",right:"right",end:"right"};W={id:ea++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};va={id:ea++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};wa="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");M=wa.concat(["style","region"]);ja=["region","textAlign","displayAlign","extent","origin"];ka=/^([0-9]+):([0-9]+):([0-9.]+)$/;ra=/^br$/i;xa=/^[0-9]{1,3}%$/;la=/^[0-9]/;return function(b,k,p,q,A){var l,D,X,O,U,ra,W,ia,ka,Y,xa,wa,la,Fa,E,C,cc,nb,Me,eb,Mc,Q,T,Bb,aa,ca,da,qf,Le,fa;function L(){try{for(var a;T;)if(ka=T[m.Vi],Bb.push({id:ea++,startTime:g(ka.begin,X),endTime:g(ka.end,X),region:S(T,ca,ra,ia,W,O,Fa,nb),textNodes:h(T,da,qf,aa,ra,W,C,cc,E)}),T=T[m.rF],a=c.dN(),100<a-Le){Le=Date.now();fa=setTimeout(L,1);return;}}catch(rf){R({Y:f.u.kN,Sa:f.ud(rf)});return;}fa=setTimeout(x,1);}function x(){var c,b,k,d,p,q,t;function a(a,k){for(var d,p=[],q={},t,g=b.length;g--;)d=b[g],t=d.region.id,q[t]||(q[t]=1,p.unshift(d));(d=c[c.length-1])&&d.endTime==a&&f.Ku(d.blocks,p)?d.endTime=k:c.push({id:ea++,startTime:a,endTime:k,blocks:p});}try{if(!Bb.length){R({W:!0,entries:[]});return;}f.AZa(Bb);c=[];b=[];k=Bb[0];p=Bb[0].startTime;for(q=1;b.length||k;){for(;!b.length||k&&k.startTime==p;)b.push(k),p=k.startTime,k=Bb[q++];d=n(b);if(!k||d<=k.startTime)for(a(p,d),p=d,t=b.length;t--;)b[t].endTime<=p&&b.splice(t,1);else a(p,k.startTime),p=k.startTime,b.push(k),k=Bb[q++];}for(q=c.length;q--;)c[q].index=q,c[q].previous=c[q-1],c[q].next=c[q+1];}catch(sf){R({Y:f.u.kN,Sa:f.ud(sf)});return;}R({W:!0,entries:c});}function R(a){setTimeout(function(){l.abort=f.le;A(a);},1);}l={abort:function(){fa&&clearTimeout(fa);}};try{D=b[m.Vi];X=u.Nj/(f.Sd(D.tickRate)||1);O=r(D,k);U=f.Wa(va,{marginLeft:O.uJ,marginTop:O.LW,marginRight:O.uJ,marginBottom:O.LW});ra={};W={};ia={};wa=b.head;la=b.body;Fa=Z(D);E=1/Fa.y*O.tca;C=f.Wa({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:d.P9,characterEdgeColor:"#000000",characterSize:1},p,{pq:!0});cc=q||{};nb={Op:0};if(wa){Me=wa.styling;if(Me)for(xa=Me.style;xa;)ka=xa[m.Vi],P(ka),ra[ka.id]=ka,xa=xa[m.rF];eb=wa.layout;if(eb)for(var J=eb.region;J;){ka=J[m.Vi];Mc=ka.id;Y=f.EL(ra[ka.style]);Y=f.Wa(Y,ka);for(xa=J.style;xa;)f.Wa(Y,xa[m.Vi]),xa=xa[m.rF];P(Y);W[Mc]=Y;ia[Mc]=G(Y,O,U,Fa,nb);J=J[m.rF];}}Q=la.div;T=Q.p;Bb=[];aa={};aa=y(la[m.Vi],aa,ra,W,M);aa=y(Q[m.Vi],aa,ra,W,M);ca={};ca=y(la[m.Vi],ca,ra,W,ja);ca=y(Q[m.Vi],ca,ra,W,ja);da=N(aa,C,cc,E);f.Wa(da,{windowColor:a(cc.windowColor||C.windowColor),windowOpacity:t(f.G2(cc.windowOpacity,C.windowOpacity),d.Q9,1),cellResolution:Fa},{pq:!0});qf={};Q.p=void 0;Q[m.UW]=[];}catch(pf){R({Y:f.u.kN,Sa:f.ud(pf)});return;}Le=c.dN();fa=setTimeout(L,1);return l;};}();d.xkb={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};d.wkb={SMALL:.5,MEDIUM:1,LARGE:2};d.Q9={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d.vkb={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};d.tkb="NONE";d.ukb="RAISED";d.skb="DEPRESED";d.Cya="UNIFORM";d.P9="DROP_SHADOW";d.qkb={x:40,y:19};d.rkb={x:52,y:19};},function(g,d,a){var m;function b(){}function f(a,b){this.Vm=a;void 0!==b?(m(b<=a.In,"require remain_sec <= chunk.sec but has "+b+" and "+a.In),this.hi=b):this.hi=a.In;}function u(a){void 0===a&&(a=[]);this.fi=[];this.Cf=this.Ti=0;for(var c in a)this.add(a[c],void 0);}m=a(13).assert;b.prototype=Error();f.prototype.constructor=f;f.prototype.Lp=function(){return new f(this.Vm,this.hi);};u.prototype.constructor=u;u.prototype.add=function(a,b){a=new f(a,b);this.fi.push(a);this.Cf+=a.hi;this.Ti+=a.Vm.Cs()*a.hi;};u.prototype.Lp=function(){var a,b;a=new u(void 0);for(b in this.fi)a.add(this.fi[b].Vm,this.fi[b].hi);return a;};u.prototype.vo=function(){try{return this.fi[0];}catch(c){}};u.prototype.Vya=function(a){var c;for(m(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.vo())throw new b();if(a<this.vo().hi){c=this.vo().Vm.Cs()*a;this.vo().hi-=a;this.Cf-=a;this.Ti-=c;a=0;}else c=this.fi.shift(),this.Cf-=c.hi,this.Ti-=c.Vm.Cs()*c.hi,a-=c.hi;}};u.prototype.vlb=function(a){var f;m(0<=a,"unexpected play_y_kb: y="+a);for(var c=0;0<a;){if(void 0===this.vo())throw new b();if(a<this.vo().hi*this.vo().Vm.Cs()){f=a/this.vo().Vm.Cs();this.vo().hi-=f;this.Cf-=f;this.Ti-=a;c+=f;a=0;}else f=this.fi.shift(),this.Cf-=f.hi,this.Ti-=f.Vm.Cs()*f.hi,c+=f.hi,a-=f.Vm.Cs()*f.hi;}return c;};g.T={hda:u,cGa:b};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(5);f=a(24);g=function(){function a(a){this.K=new b.Console("ASEJS","media|asejs","("+a+")");this.f0=[];}a.prototype.Ul=function(a){this.f0[a]||(this.f0[a]=f.ID(b,this.K,"["+a+"]"));return this.f0[a];};return a;}();d.pl=new g(0);},function(g,d,a){var c;function b(a,b,d){this.DC=!1===a;this.yI=a||.01;this.JY=void 0===b?25:b;this.pda=void 0===d?1.1:d;this.rg=new c(f);this.reset();}function f(a,c){return a.Ke>c.Ke?1:a.Ke<c.Ke?-1:0;}function u(a,c){return a.jq-c.jq;}function m(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.yI:!1);this.d6a=this.config.ratio||.9;this.e6a=this.config.iKb||1E3;this.nU=0;}c=a(724).bQa;b.prototype.reset=function(){this.rg.clear();this.P7=this.n=0;};b.prototype.size=function(){return this.rg.size;};b.prototype.cA=function(a){var c;c=[];a?(this.DO(!0),this.rg.dd(function(a){c.push(a);})):this.rg.dd(function(a){c.push({Ke:a.Ke,n:a.n});});return c;};b.prototype.summary=function(){return[(this.DC?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.Ag(0),"Q1  = "+this.Ag(.25),"Q2  = "+this.Ag(.5),"Q3  = "+this.Ag(.75),"max = "+this.Ag(1)].join("\n");};b.prototype.push=function(a,c){c=c||1;a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.mka(a[b],c);};b.prototype.C$=function(a){a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++)this.mka(a[c].Ke,a[c].n);};b.prototype.DO=function(a){var c;if(!(this.n===this.P7||!a&&this.pda&&this.pda>this.n/this.P7)){c=0;this.rg.dd(function(a){a.jq=c+a.n/2;c=a.rC=c+a.n;});this.n=this.P7=c;}};b.prototype.d9a=function(a){var c,b;if(0===this.size())return null;c=this.rg.lowerBound({Ke:a});b=null===c.data()?c.tz():c.data();return b.Ke===a||this.DC?b:(c=c.tz())&&Math.abs(c.Ke-a)<Math.abs(b.Ke-a)?c:b;};b.prototype.DB=function(a,c,b){a={Ke:a,n:c,rC:b};this.rg.Yl(a);this.n+=c;return a;};b.prototype.jO=function(a,c,b){c!==a.Ke&&(a.Ke+=b*(c-a.Ke)/(a.n+b));a.rC+=b;a.jq+=b/2;a.n+=b;this.n+=b;};b.prototype.mka=function(a,c){var b,f,k;b=this.rg.min();f=this.rg.max();k=this.d9a(a);k&&k.Ke===a?this.jO(k,a,c):k===b?this.DB(a,c,0):k===f?this.DB(a,c,this.n):this.DC?this.DB(a,c,k.rC):(b=k.jq/this.n,Math.floor(4*this.n*this.yI*b*(1-b))-k.n>=c?this.jO(k,a,c):this.DB(a,c,k.rC));this.DO(!1);!this.DC&&this.JY&&this.size()>this.JY/this.yI&&this.js();};b.prototype.Q_a=function(a){var c,b;this.rg.Rj=u;c=this.rg.upperBound({jq:a});this.rg.Rj=f;b=c.tz();a=b&&b.jq===a?b:c.next();return[b,a];};b.prototype.Ag=function(a){var c;c=(Array.isArray(a)?a:[a]).map(this.wWa,this);return Array.isArray(a)?c:c[0];};b.prototype.wWa=function(a){var c,b;if(0!==this.size()){this.DO(!0);this.rg.min();this.rg.max();a*=this.n;c=this.Q_a(a);b=c[0];c=c[1];return c===b||null===b||null===c?(b||c).Ke:this.DC?a<=b.rC?b.Ke:c.Ke:b.Ke+(a-b.jq)*(c.Ke-b.Ke)/(c.jq-b.jq);}};b.prototype.js=function(){var a;if(!this.Zoa){a=this.cA();this.reset();for(this.Zoa=!0;0<a.length;)this.C$(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.DO(!0);this.Zoa=!1;}};m.prototype=Object.create(b.prototype);m.prototype.constructor=m;m.prototype.push=function(a){b.prototype.push.call(this,a);this.d1a();};m.prototype.DB=function(a,c,f){this.nU+=1;b.prototype.DB.call(this,a,c,f);};m.prototype.jO=function(a,c,f){1===a.n&&--this.nU;b.prototype.jO.call(this,a,c,f);};m.prototype.d1a=function(){!("auto"!==this.mode||this.size()<this.e6a)&&this.nU/this.size()>this.d6a&&(this.mode="cont",this.DC=!1,this.yI=this.config.yI||.01,this.js());};g.T={TDigest:b,Digest:m};},function(g,d,a){(function(){var B6k,h,x,G,N,R,S,l,D,n,P,r,Z,ea,Y,O,W,va,A0d;function b(a,c){var V6k,b,f;V6k=2;while(V6k!==13){switch(V6k){case 1:b=a.aT,f=ea(b,function(a){var b6k;b6k=2;while(b6k!==1){switch(b6k){case 2:return c<=a.r;break;case 4:return c<a.r;break;b6k=1;break;}}});V6k=5;break;case 2:V6k=a.aT?1:14;break;case 5:V6k=0===f?4:3;break;case 4:return b[0].d;break;case 9:return b[b.length-1].d;break;case 6:return Math.floor(a.d+(b.d-a.d)*(c-a.r)/(b.r-a.r));break;case 8:B6kk.X2d(2);a=b[B6kk.I2d(1,f)];b=b[f];V6k=6;break;case 14:return a.Fo;break;case 3:V6k=-1===f?9:8;break;}}}function y(a,c,b,f){var i6k,g2d;i6k=2;while(i6k!==1){g2d="p";g2d+="la";g2d+="yin";g2d+="g";switch(i6k){case 2:return g2d===a.b2?A(a,c,b,f):q(a,b,f);break;}}}function f(a,c,b){var g6k;g6k=2;while(g6k!==5){switch(g6k){case 2:a=n(b.$h,a*b.U8);return D(a,c);break;}}}function k(a,c,d){var o6k,k,p;o6k=2;while(o6k!==3){switch(o6k){case 2:k=new r();p=Math.max(a.Ls,a.$T,c.q7?a.a9:-Infinity);k.Vo=Z(d.filter(function(c){var z6k;z6k=2;while(z6k!==1){switch(z6k){case 2:return c.P<=a.Jv;break;case 4:return c.P>a.Jv;break;z6k=1;break;}}}).reverse(),function(c){var j6k,d,q,t,v2d,x2d,w2d,Z2d;j6k=2;while(j6k!==7){v2d="no_hist";v2d+="orical_lte_minbitra";v2d+="te";x2d="h";x2d+="ist_t";x2d+="put";x2d+="_lt_minbit";x2d+="rate";w2d="lt_hist";w2d+="_lte_m";w2d+="inbitrate";Z2d="hi";Z2d+="st";Z2d+="_bufft";Z2d+="i";Z2d+="me";switch(j6k){case 1:j6k=c.P>p?5:8;break;case 3:t?(q=b(a,c),f(c,t,a)<=q?(k.Gs=t,d&&(k.Xl=d.Ik?d.Ik:0,k.Wk=d.Ik&&d.km),k.reason=Z2d,d=!0):d=!1):d=!1;j6k=9;break;case 2:d={va:c.va,Ik:c.Ka&&c.Ka.Ik,km:c.Ka&&c.Ka.km};j6k=1;break;case 5:c=c.P;t=d.va;j6k=3;break;case 9:return d;break;case 8:q=d.va,c.P<=q?(k.Gs=q,d&&(k.Xl=d.Ik?d.Ik:0,k.Wk=d.Ik?d.km:void 0),k.reason=w2d,d=!0):q?(k.Gs=q,d&&(k.Xl=d.Ik?d.Ik:0,k.Wk=d.Ik?d.km:void 0),k.reason=x2d,d=!1):(k.reason=v2d,d=!0);j6k=9;break;}}})||d[0];return k;break;}}}function c(a,c){var u6k,b,k,p,q,t,g,h2d,T2d,s2d,W2d,i2d;u6k=2;while(u6k!==8){h2d="no_suitab";h2d+="le";h2d+="_st";h2d+="ream";T2d="DelayTar";T2d+="ge";T2d+="t";s2d="B";s2d+="i";s2d+="trate";W2d="VM";W2d+="A";W2d+="F";i2d="n";i2d+="o_va";i2d+="li";i2d+="d_";switch(u6k){case 1:u6k=0<=g&&(b?c[g].wc>=a.TD:c[g].P>=a.Ls)&&!(p=c[g],k=m(p,a),q=f(p.P,k.Gs,a),t=d(k.Gs,a),k.HJ=q,q=q<t,p=b?p.wc>=a.TD&&p.wc<=a.Owa:p.P>=a.Ls&&p.P<=a.Jv,t=q&&p)?5:3;break;case 2:b=a.TD&&a.Owa,b=b&&c.filter(function(a){var L6k;L6k=2;while(L6k!==1){switch(L6k){case 2:return 110>=a.wc&&0<a.wc;break;case 4:return 461<a.wc||7>a.wc;break;L6k=1;break;}}}).length==c.length,k=null,p=!1,q=!1,t=!1,g=c.length-1;u6k=1;break;case 5:t=[i2d],!p&&b&&t.push(W2d),p||b||t.push(s2d),q||t.push(T2d),k.reason=t.join("");u6k=4;break;case 4:g--;u6k=1;break;case 3:h.Qa(k)&&(k=m(c[0],a),k.reason=h2d);return k;break;}}}B6k=2;function A(a,c,b,f,d,k){var e6k,M,ja,m,y,u,A,L,G,N,R,D,n,X,P,O,U,ra,W,ia,Y,xa,ka,k2d,P2d;function p(a,c,b){var N6k;N6k=2;while(N6k!==1){switch(N6k){case 4:return a.$?a.$.Z2(c,b):9;break;N6k=1;break;case 2:return a.$?a.$.Z2(c,b):0;break;}}}function g(c,b){var U6k;U6k=2;while(U6k!==1){switch(U6k){case 2:return c>a.Gv&&(h.R(this.zv)||this.xT>this.zv||b-this.zv>a.FT&&c>a.p8);break;}}}e6k=2;while(e6k!==21){k2d="p";k2d+="layer missi";k2d+="ng streamingIndex";P2d="Must ";P2d+="hav";P2d+="e ";P2d+="at least one selected stream";switch(e6k){case 25:ra=!0;e6k=16;break;case 22:(d=Z(b.slice(0,f).reverse(),function(a,c){var X6k;X6k=2;while(X6k!==1){switch(X6k){case 2:return q(a,b[Math.max(f-c-2,0)],y,M,ja,!0);break;}}}))||(d=b[0],ra=!0);e6k=16;break;case 20:e6k=f+1<b.length?19:25;break;case 17:d=Z(b.slice(f+1,a.iba&&R>=a.xca?b.length:f+2),function(a,c){var q6k;q6k=2;while(q6k!==1){switch(q6k){case 2:return q(a,b[f+c],y,xa,ka,!1);break;case 4:return q(a,b[f/c],y,xa,ka,-0);break;q6k=1;break;}}});e6k=16;break;case 23:M=p(d,N,a.E6),ja=p(d,N+M,a.m8);e6k=22;break;case 19:e6k=g.call(this,R,L)?18:16;break;case 2:l(!h.R(f),P2d);l(h.pa(c.pw),k2d);m=new r(),y=d=b[f],u=c.buffer.U,A=c.buffer.sf,L=c.buffer.bb,G=c.buffer.Qk,N=c.pw,R=G-A,X=this.PO||x.tN.Lh,P=c.state===x.Ma.ad||c.state===x.Ma.oi?c.buffer.Xv:0,O=a.L8,U=a.Hv?a.Hv:1E3;e6k=4;break;case 4:W=p(d,N,a.D6);B6kk.X2d(1);Y=p(d,B6kk.I2d(N,W),a.l8);this.nla||(this.nla=Math.min(d.P,a.$T));e6k=8;break;case 10:e6k=(W=q(d,b[Math.max(f-1,0)],d,W,Y,!1))?20:24;break;case 6:d.$&&d.$.length||(d.tba=!0);D=va.from(c.buffer.$);X=c.buffer.Hu;0<a.iq&&(X=Math.min(X,a.iq));n=X-D.aa;e6k=10;break;case 27:m.H4a=!W;return m;break;case 16:m.Vo=d||y;m.fI=ra;e6k=27;break;case 7:return t.call(this,b);break;case 24:e6k=d.$&&d.$.length?23:16;break;case 8:e6k=X==x.tN.dSa||!d.va?7:6;break;case 18:xa=p(d,N,a.F6),ka=p(d,N+xa,a.n8);e6k=17;break;}}function q(b,f,d,p,q,t){var s8n=B6kk;var v6k,xa,ka,M,ja,r,W,Y,Z,g,y,h,va,x,R,ea,wa,la,X,ra,p0d,U0d,u0d,V0d,m0d,r0d,F2d,C2d,K0d,B0d;v6k=2;while(v6k!==49){p0d="Fir";p0d+="st st";p0d+="r";p0d+="eam ha";p0d+="s failed";U0d="Firs";U0d+="t ";U0d+="s";U0d+="tream not";U0d+=" in range";u0d="S";u0d+="econd stream ";u0d+="has fai";u0d+="led";V0d="First ";V0d+="stream";V0d+=" unava";V0d+="i";V0d+="lable";m0d="First st";m0d+="ream";m0d+=" ";m0d+="undef";m0d+="ined";r0d="Second";r0d+=" stream not ";r0d+="in range";F2d="S";F2d+="econ";F2d+="d stream unavaila";F2d+="ble";C2d="Second stream un";C2d+="de";C2d+="fi";C2d+="ned";switch(v6k){case 21:l(h,C2d);l(h.lf,F2d);l(h.inRange,r0d);v6k=33;break;case 1:v6k=ia&&!ia.J8a&&ia.va>=g&&ia.P<=b.P?5:4;break;case 38:M=Math.min(xa,b.$.length-ra),ka.push(b.$.IE.subarray(ra,ra+M)),xa-=M,ra+=M,ra>=b.$.length&&(ra=0);v6k=39;break;case 16:xa=c.Agb;p=b.va;ka=x.length,M=b.$&&b.$.length,ja=h.$&&h.$.length;a.r8&&(Z=Math.min(Z,X-R));l(b,m0d);l(b.lf,V0d);v6k=23;break;case 8:v6k=g>=Math.max(b.ST,b.P*y)&&!b.YBa?7:13;break;case 43:ja||(h=b);ka=[];v6k=41;break;case 37:xa=Y;v6k=36;break;case 29:q&&q.result&&(m.SHb=q.q8);ia={J8a:q&&q.result,va:g,P:b.P};return q&&q.result;break;case 7:return!0;break;case 31:v6k=!p||p<b.P*a.C6||!M?30:43;break;case 33:l(!h.Sg,u0d);s8n.X2d(0);l(s8n.J2d(ka,f));v6k=31;break;case 20:f=D.length;t=P;r=n,W=p,Y=q,Z=U;q=c.D6a;v6k=16;break;case 9:v6k=h&&!a.kW?8:6;break;case 40:xa=W;v6k=39;break;case 2:g=b.va,y=t?a.E4:a.LR,h=b.$&&b.$.length;v6k=1;break;case 4:t||h||(b.tba=!0);v6k=3;break;case 51:q=p>b.ST?{result:!0,Bgb:0,Zu:!0}:{result:!1,Bgb:0,Zu:!0};v6k=29;break;case 14:return!0;break;case 52:a:{K0d=" >= f";K0d+="r";K0d+="agmentsL";K0d+="ength: ";B0d="S";B0d+="treami";B0d+="ngIndex: ";ka=x.concat(ka);ja=R;s8n.c2d(1);h=s8n.I2d(f,W);M=Z;va=a.gU;Z=a.kW;x=ka.ga;W=Math.min(ka.length,f+W+Y);Y=ka.cd;R=ka.sizes;s8n.X2d(2);la=s8n.I2d(ja,X);X=Infinity;ra=xa=0;ka=ka.cd[0];s8n.X2d(3);y=s8n.J2d(1E3,ka,x,y);s8n.X2d(4);ka=s8n.I2d(0,8,p,t);s8n.c2d(5);t=s8n.J2d(0,p,8);s8n.c2d(6);p=s8n.J2d(x,1E3);f>=W&&S.error(B0d+f+K0d+W);ja+=ka;0===d&&(ja=0);s8n.X2d(6);ja*=s8n.J2d(x,1E3);s8n.X2d(6);d*=s8n.J2d(x,1E3);s8n.c2d(6);va*=s8n.I2d(x,1E3);s8n.c2d(6);M*=s8n.J2d(x,1E3);for(la*=x/1E3;f<W;){ea=R[f];wa=Y[f];if(r<ea){for(xa=Math.max(ea,q);r<xa;){ja=y;r+=R[ra];++ra;ka=Y[ra];y+=ka;}if(!Z&&(ka=d-ja,ka<va)){q={result:!1,q8:ka/(x/1E3),Zu:!1};break a;}s8n.X2d(2);ka=s8n.I2d(ja,d);}else if(ka=Math.max(d-ja,0),ka<M&&ka<xa){q={result:!1,q8:Math.min(ka,X)/(x/1E3),Zu:!0};break a;}s8n.X2d(7);ja+=s8n.J2d(t,p,ea,0);d+=wa;for(r-=ea;y<ja&&ra<f;){r+=R[ra];++ra;y+=Y[ra];}++f;if(f>=h&&ka>la)break;xa=ka;X=Math.min(ka,X);}q={result:!0,q8:X/(x/1E3),Zu:!0};}v6k=29;break;case 41:v6k=xa?40:50;break;case 5:return!1;break;case 3:v6k=!t||!h?9:13;break;case 50:W=Math.max(0,Math.min(W,b.$.length-ra)),Y=Math.max(0,Math.min(Y,h.$.length-ra-W)),0<W&&ka.push(b.$.IE.subarray(ra,ra+W)),0<Y&&ka.push(h.$.IE.subarray(ra+W,ra+W+Y));v6k=53;break;case 13:d=!a.S2||b===d||b.Ub===d.Ub&&k?0:(d=b.Ka)&&d.Dg&&d.Dg.Fa?d.Dg.Fa+a.P2*(d.Dg.dh?Math.sqrt(d.Dg.dh):0):0;h=f,x=D,R=A+d-u,y=O,X=G-u;s8n.c2d(2);d=s8n.I2d(u,L);ra=N;v6k=20;break;case 39:v6k=0<xa?38:37;break;case 53:v6k=0<W||0<Y?52:51;break;case 36:v6k=0<xa?54:53;break;case 54:M=Math.min(xa,h.$.length-ra),ka.push(h.$.IE.subarray(ra,ra+M)),xa-=M,ra+=M,ra>=h.$.length&&(ra=0);v6k=36;break;case 6:v6k=g>=b.P*y?14:13;break;case 30:q=!1;v6k=29;break;case 23:l(b.inRange,U0d);l(!b.Sg,p0d);v6k=21;break;}}}}function p(a,b,f){var f6k,d,Q0d,Y0d;f6k=2;while(f6k!==7){Q0d="hist";Q0d+="_bitrat";Q0d+="e";Y0d="v";Y0d+="b";switch(f6k){case 5:return a.rH?c(a,f):k(a,b,f);break;case 1:f6k=void 0===d?5:4;break;case 2:d=N.storage.get(Y0d);f6k=1;break;case 4:a=new r();a.Vo=Z(f.reverse(),function(a){var h6k;h6k=2;while(h6k!==1){switch(h6k){case 4:return a.P>d;break;h6k=1;break;case 2:return a.P<=d;break;}}})||f[0];a.reason=Q0d;return a;break;}}}function t(a){var c6k,c,b;c6k=2;while(c6k!==3){switch(c6k){case 2:c=new r(),b=this.nla;c.Vo=Z(a,function(a){var H6k;H6k=2;while(H6k!==1){switch(H6k){case 2:return a.P>=b;break;case 4:return a.P>b;break;H6k=1;break;}}})||a[a.length-1];c.fI=!0;c6k=4;break;case 4:return c;break;}}}function q(a,c,b){var k6k,d,k,p,q,L0d,O0d;function f(c){var Y6k,b,z0d;Y6k=2;while(Y6k!==8){z0d="bu";z0d+="ff_lt_h";z0d+="i";z0d+="s";z0d+="t";switch(Y6k){case 2:b=c.va;Y6k=1;break;case 5:return!1;break;case 1:Y6k=!b||(c.P>d.P?a.oub:1)*c.P>b?5:4;break;case 4:q=z0d;Y6k=3;break;case 3:p=b;return!0;break;}}}k6k=2;while(k6k!==7){L0d="no_feasib";L0d+="le_s";L0d+="tr";L0d+="eam";O0d="Mus";O0d+="t hav";O0d+="e";O0d+=" at least one selected st";O0d+="ream";switch(k6k){case 2:l(!h.R(b),O0d);d=c[b],k=d;d.va&&(d=Z(c.slice(0,Math.min(b+(a.nZa?2:1),c.length)).reverse(),f),void 0===d&&(d=c[0],q=L0d,p=d.va));c=new r();c.Vo=d;k!==d&&(c.reason=q,c.Gs=p);return c;break;}}}while(B6k!==4){A0d="1S";A0d+="IYbZr";A0d+="NJC";A0d+="p9";switch(B6k){case 2:h=a(6),x=a(11),G=a(44),N=a(5),R=a(377),S=G.console,l=G.assert,D=G.tib,n=G.g0a,P=G.iC,r=G.op,Z=G.yna,ea=G.YB,Y=a(74).cba,O=a(357),W=a(48),va=R.cRa;g.T={STARTING:function(a,b,f){var M6k,j0d;M6k=2;while(M6k!==1){j0d="h";j0d+="ist";j0d+="orical";switch(M6k){case 2:return j0d===a.d7?p(a,b,f):a.rH?c(a,f):k(a,b,f);break;}}},BUFFERING:y,REBUFFERING:y,PLAYING:A,PAUSED:A};A0d;B6k=4;break;}}function d(a,c){var a6k,b,G0d,b0d,C6k;a6k=2;while(a6k!==9){G0d="sig";G0d+="mo";G0d+="i";G0d+="d";b0d="l";b0d+="o";b0d+="g";switch(a6k){case 2:B6kk.X2d(2);C6k=B6kk.I2d(18000,19000);a=P(a,0,1E5)/C6k;a6k=1;break;case 5:b=c.lBa[c.BE];return b&&2==b.length?1E3*(b[0]+b[1]*Math.log(1+a)):c.Fo;break;case 1:a6k=0===c.BE.lastIndexOf(b0d,0)?5:3;break;case 3:return 0===c.BE.lastIndexOf(G0d,0)?(b=c.lBa[c.BE])&&2==b.length?1E3*(b[0]+b[1]*Y(a)):c.Fo:c.Fo;break;}}}function m(a,c){var O6k,b,f,S0d,a0d;O6k=2;while(O6k!==12){S0d="h";S0d+="ist_th";S0d+="rou";S0d+="ghput";a0d="hist";a0d+="_t";a0d+="di";a0d+="g";a0d+="est";switch(O6k){case 2:b=new r();b.Vo=a;a=b.Vo.Ka||{};b.Wk=a.Ik&&a.km;b.Xl=a.Ik?a.Ik:0;a=W(b.Wk,{});O6k=7;break;case 6:a.Ag=O.gbb(a),f=h.Nb(a.Ag)?!0:!1;O6k=14;break;case 7:O6k=(f=h.pa(c.LV)&&0<=c.LV&&100>=c.LV&&!h.R(a)&&!h.Qa(a))?6:14;break;case 14:f?(c=a.Ag(c.LV/100)||b.Vo.va,b.Gs=c,b.reason=a0d):b.Vo.va&&(c=b.Vo.va,b.Gs=c,b.reason=S0d);return b;break;}}}}());},function(g){g.T={Ota:function(d){var a;if(d&&0!==d.length){a=[];d.forEach(function(b){var f;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(f=a);});f?f.mL.push(b.fm):a.push({error:b.error,mL:[b.fm]});});return a;}},Bsa:function(d){var a;a={freeSize:d.Ii,dailyBytesRemaining:d.vC,bytesWritten:d.Rh,time:d.time,duration:d.duration};d.items&&(a.items=d.items.map(function(a){return{key:a.key,operation:a.mf,itemBytes:a.rT,error:a.error};}));return a;},uq:function(d){return d["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(g){g.T={bga:{code:-1,description:"MediaCache is not supported."},KBb:{code:100,description:"Resource was not found"},iMa:{code:101,description:"Resource Metadata was not found"},VA:{code:102,description:"Read failed",rm:function(d,a){return{code:this.code,description:d,cause:a};}},gO:{code:200,description:"Daily write limit exceeded"},uA:{code:201,description:"Capacity has been exceeded"},fO:{code:202,description:"Write failed, cause unknown",rm:function(d,a){return{code:this.code,description:d,cause:a};}},qDb:{code:203,description:"Write failed, cause unknown"},GHa:{code:300,description:"Failed to delete resource",rm:function(d,a){return{code:this.code,description:d,cause:a};}},It:{code:900,description:"Invalid partition name"},eLa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Lda:{code:701,description:"Failed to initialize underlying disk cache."},hMa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gna=function(a,b){var f,d,g;f=b.profile;b=b.M;d=a.bpb;g=a.cpb;return a.apb||Array.isArray(d)&&-1!==d.indexOf(f)||"object"===typeof g&&Array.isArray(g[f])&&-1!==g[f].indexOf(""+b);};d.fta=function(a,b){return void 0!==a.RD?a.RD:b&&void 0!==b.RD?b.RD:100;};},function(g,d,a){var b,f,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(54);f=a(209);u=a(156);a=function(a){function c(c,b,f,d,g,m){b=a.call(this,c,b,f,d,g,m)||this;u.Ew.call(b,c,d);return b;}b.__extends(c,a);return c;}(f.tF);d.NM=a;g(u.Ew.prototype,a.prototype);},function(g,d,a){var b,f,u,m,c,k,p,q,t,A,y,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(25);f=a(54);u=a(5);m=a(24);c=a(32);k=a(369);p=a(368);q=a(373);t=a(126);A=a(372);y=a(93);h=a(367);d.console=new u.Console("MP4","media|asejs");a=function(){function a(a,c,b,f,d){this.stream=a;this.So=b;this.bZa=f;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=d||{};this.Tcb=t.N$a();}a.path=function(a,c){return c.reduce(function(a,c){return a&&a.Ec[c]&&a.Ec[c][0];},a);};a.prototype.parse=function(a){var c;c=this.Wob();if(!c.done)return c.Bxa?this.emit("requestdata",{type:"requestdata",bytes:c.Bxa}):(d.console.error("Scan error: "+c.error),this.emit("error",{type:"error",errormsg:c.error||"unknown mp4 error"})),!1;c=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+c.offset);this.view=new DataView(c);c=this.okb(a);if(!c.done)return d.console.error("Parse error: "+c.error),this.emit("error",{type:"error",errormsg:c.error||"unknown mp4 error"}),!1;this.P9a(a);return!0;};a.prototype.ytb=function(a){this.trim(a);return this.config.Xba?(a=this.di.Ta(),m.Wm(a)):this.view.buffer;};a.prototype.ky=function(a){return c.Fh.ky(this,a);};a.prototype.ly=function(a){return c.Fh.ly(this,a);};a.prototype.Wob=function(){var c,f;c=new h.lKa(this.So,this.bZa?[y.GN,y.FN]:[],this.config&&this.config.hKb||["moof",y.Hga],this.config&&this.config.Eya);f=b.__assign({},this.config,{S9:!1});return new q.kX(a.naa,c,this.view,d.console,f).parse();};a.prototype.okb=function(a){var c,k,p;c=new h.Yda(this.view.byteLength);k=Object.create(A.uK.Ec);this.config&&((this.config.Dya||this.config.Xba)&&f(A.uK.laa,k),this.config.Yba&&f(A.uK.otb,k),this.config.Xba&&f(A.uK.itb,k));p=b.__assign({},this.config,{S9:!0});this.di=new q.kX(k,c,this.view,d.console,p);a=this.di.parse(a);a.done&&(this.Ec=this.di.Ec);return a;};a.prototype.P9a=function(c){var b,f,d,k,p,q;b=a.path(this,["moov"]);f=a.path(b,["trak","mdia","minf","stbl","stsd"]);f&&this.config.Dya&&this.emit("sampledescriptions",{type:"sampledescriptions",boxes:f.Ec,frameDuration:f.Ia});(f=a.path(f,["encv","sinf","schi"]))&&(f=a.path(f,["tenc"])||a.path(f,[y.aha]))&&this.emit("keyid",{type:"keyid",keyId:f.yv,offset:f.xva,flipped:!1});d=a.path(b,["trak","mdia","mdhd"]);k=a.path(b,["mvex","trex"]);if(f=a.path(this,["sidx"])){d=d&&d.ga;k=k&&k.fd.$Q;p=a.path(this,[y.GN]);p=p&&p.phb;q=a.path(this,[y.FN]);this.emit("fragments",{type:"fragments",truncated:!!this.config.truncate,timescale:d,defaultSampleDuration:k,fragments:f.$,movieDataOffsets:p,additionalSAPs:q&&q.qg});}(f=this.Ec.vmaf&&this.Ec.vmaf[0])&&this.emit("vmafs",{type:"vmafs",ctxt:c,vmafs:f.On});this.emit("done",{type:"done",moovEnd:b&&b.byteOffset+b.byteLength,parsedEnd:this.di.offset});};a.prototype.trim=function(a){a=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(a,this.view.byteLength));this.view=new DataView(a);};a.naa={};return a;}();d.mNa=a;f(g.EventEmitter,a.prototype);a.naa[y.XY]=k["default"];a.naa[y.YY]=p["default"];},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(125);f=a(206);a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.Uza=function(){15!==this.J.Af(4)||this.J.Af(24);};d.prototype.parse=function(a){if(this.jeb(a)&&64===a.njb)switch(this.Nx=this.Mza(),this.Uza(),this.J.Af(4),this.x8a=5===this.Nx||29===this.Nx?5:-1,0<this.x8a&&(this.Uza(),this.Nx=this.Mza(),22===this.Nx&&this.J.Af(4)),this.Nx){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.Yra=this.J.Af(1),(this.L5a=this.J.Af(1))&&this.J.Af(14),this.J.Af(1),this.dS=3===this.Nx?256:23===this.Nx?this.Yra?480:512:this.Yra?960:1024;}this.skip();return!0;};d.prototype.Mza=function(){var a;a=this.J.Af(5);31===a&&(a=32+this.J.Af(6));return a;};d.prototype.jeb=function(a){return a.tag===f.Wda.tag;};d.tag=5;return d;}(g.BX);d.uIa=a;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.njb=this.J.ge();this.J.ge();this.J.Of();this.J.ge();this.vn=this.J.ub();this.t_a=this.J.ub();this.Zla();return!0;};f.tag=4;return f;}(a(125).BX);d.Wda=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){var a;this.J.Of();a=this.J.ge();this.Grb=!!(a&128);this.fSa=!!(a&64);this.JNa=!!(a&32);this.Grb&&this.J.Of();this.fSa&&this.J.jV(this.J.ge());this.JNa&&this.J.Of();this.Zla();return!0;};f.tag=3;return f;}(a(125).BX);d.sea=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});g=a(0);g.__exportStar(a(125),d);g.__exportStar(a(205),d);g.__exportStar(a(204),d);g.__exportStar(a(203),d);g=a(204);b=a(203);a=a(205);d.yC={3:a.sea,4:g.Wda,5:b.uIa};},function(g,d,a){var u,m,c,k;function b(a,c,b){m.call(this,a,c,b);}function f(a,c){m.call(this,a,c,void 0);}a(13);a(24);u=a(93);m=a(758).lNa;c=a(744);a(58);k=a(58).Zja;a(58);b.prototype=Object.create(m.prototype);f.prototype=Object.create(b.prototype);f.prototype.pUa=function(a,b){return"string"===typeof b?c[b]:b?c.reset[a]||c.erb[a]:c.erb[a];};f.prototype.mAa=function(a,c,b,f){return this.Ta(a,c,!1,b,f);};f.prototype.pAa=function(a,c,b,f){return this.Ta(a,c,!0,b,f);};f.prototype.Ta=function(a,c,b,f,d){var p,q,t,g,m,y,A,h,l,n,r,ea,Y,O;function k(a){q=p[a];t=q.$o("traf");if(void 0===t||void 0===t.Xr)return!1;g=t.$o("tfdt");if(void 0===g)return!1;m=t.$o("trun");return void 0===m?!1:!0;}if(!this.parse())return!1;p=this.Ec.moof;if(!p||0===p.length)return!1;if(void 0!==a)for(y=a,a=0;a<p.length;++a){if(!k(a))return!1;if(m.Ud>y||b&&m.Ud===y)break;y-=m.Ud;}else if(a=b?p.length-1:0,!k(a))return!1;if(b&&a<p.length-1){A=p[a+1];this.Aj(this.sFb-A.startOffset,A.startOffset);}else!b&&0<a&&this.Aj(q.startOffset,0);A=t.$o("tfhd");if(void 0===A)return!1;g=t.$o("tfdt");h=m.Ud;l=t.$o("saiz");n=t.$o("saio");r=t.$o(u.$ga);ea=t.$o("sbgp");if(!(!l&&!n||l&&n))return!1;Y=t.$o("sdtp");if(this.Ec.mdat&&a<this.Ec.mdat.length)O=this.Ec.mdat[a];else if(a!==p.length-1)return!1;void 0===y&&(y=b?m.Ud:0);if(m.Ta(t,A,O||this.di,c,y,t.Xr,b))m.Lqa&&(!b&&g&&g.Ta(m.Zqb),l&&n&&(l.Ta(m.KE,b),n.Ta(r?0:l.kaa,t.Xr,b)),r&&r.Ta(m.KE,b),Y&&Y.Ta(m.KE,h,b),ea&&ea.Ta(m.KE,b));else if(!b){if(a===p.length-1)return!1;this.Aj(p[a+1].startOffset-q.startOffset,q.startOffset);}else if(0===m.KE)return!1;f&&(c=this.pUa(this.stream.profile,d))&&m.dob(t,A,O,b,f,c);b=this.di.Ta();f=b.reduce(function(a,c){return a+c.byteLength;},0);b={Yf:b,length:f,mz:this.di.view.byteLength};m.Lqa&&!O&&(b.rE=t.Xr+m.rE,b.Ys=m.Ys);return b;};g.T={DN:f,Fgb:function(a){var c,b;c=new ArrayBuffer(8);b=new DataView(c);b.setUint32(0,a+8);b.setUint32(4,k("mdat"));return c;}};},function(g){function d(a){this.d0=a;this.me=[];this.Pm=!1;this.Ax=void 0;this.qh={};}d.prototype.wH=function(a){this.me.length===this.d0&&this.me.shift();Array.isArray(a)?this.me=this.me.concat(a):this.me.push(a);this.Pm=!0;};d.prototype.vy=function(){return this.me.length;};d.prototype.vQ=function(){var a;a=this.me;return 0<a.length?a.reduce(function(a,f){return a+f;},0)/this.me.length:void 0;};d.prototype.YH=function(){var a,b;a=this.me;if(0<a.length){b=this.vQ();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};d.prototype.Jl=function(a){var b,f,d;if(this.Pm||void 0===this.Ax)this.Ax=this.me.slice(0).sort(function(a,c){return a-c;}),this.qh={},this.Pm=!1;if(void 0===this.qh[a]){b=this.Ax;f=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.qh[a]=f===b.length-1?b[f]:b[f]+d*(b[f+1]-b[f]);}return this.qh[a];};g.T=d;},function(g,d,a){var b,f,u,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(25);f=a(6);u=g.Ow;m=a(5);c=m.qk;g=a(40);k=a(154);p=a(156);a=function(a){function d(b,f,d,q,t,g){f=a.call(this,f,d)||this;k.Dw.call(f,b,q,t,g);p.Ew.call(f,b,q);f.iO=b.url||q.url;f.hO=q.responseType;f.wja=q.UV;void 0===f.hO&&(f.hO=c.Sc&&!c.Sc.uE.gx?0:1);f.Sf=new u();f.Sf.on(f,c.zd.Pga,f.eP);f.Sf.on(f,c.zd.Oga,f.Dla);f.Sf.on(f,c.zd.Qga,f.Fla);f.Sf.on(f,c.zd.eG,f.dP);f.Sf.on(f,c.zd.$w,f.ZG);f.bB=!1;f.pd=!1;f.Lg=!1;return f;}b.__extends(d,a);Object.defineProperties(d.prototype,{active:{get:function(){return this.pd;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{dAa:{get:function(){return this.Lg;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return!this.bB&&5===this.readyState;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{El:{get:function(){return this.bB;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{uT:{get:function(){return this.zl;},enumerable:!0,configurable:!0}});d.prototype.Ac=function(a,c,b,f){k.Dw.prototype.Ac.call(this,a,c,b,f);this.Pb||!b.ZP&&this.Yb||(this.Pb=a.kb.$e,this.active&&(this.Pb.Fz(m.time.ea(),{requestId:this.Hm(),ae:this.Db,type:this.O}),this.Lg&&(this.Pb.Z$(m.time.ea()),this.connect&&0<this.Fn.length&&this.Pb.Qr(this.Fn[0]))));};d.prototype.Fy=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};d.prototype.XB=function(a){return this.Ph=a.appendBuffer(this.response,this);};d.prototype.Pua=function(){return this.El;};d.prototype.Vv=function(){return c.prototype.open.call(this,this.iO,{start:this.offset,end:this.offset+this.aa-1},this.hO,{},void 0,void 0,this.wja);};d.prototype.abort=function(){var a;if(this.El)return!0;a=this.pd;this.Pb&&a&&this.Pb.Hz(m.time.ea(),this.Lg,{requestId:this.Hm(),ae:this.Db,type:this.O});this.bB=!0;this.Lg=this.pd=!1;c.prototype.abort.call(this);this.aS(this,a);return!0;};d.prototype.Zd=function(){0!==this.readyState&&7!==this.readyState&&5!==this.readyState&&(this.K.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Sf&&this.Sf.clear();c.prototype.Zd.call(this);};d.prototype.eP=function(){var a;a=this.tc||this.Ze;this.pd||(this.pd=!0,this.bk=this.track.bk(),this.stream.G.ywa||this.Pb&&this.Pb.Fz(a,{requestId:this.Hm(),ae:this.Db,type:this.O}),this.oy(this),this.hk=0,this.gl=this.tc);};d.prototype.Dla=function(){var a,c,b;a=this.tc;c=this.connect;b=this.Fn;this.zl=m.time.ea()-this.tc;this.Lg||(this.Lg=!0,this.stream.G.ywa&&this.Pb&&this.Pb.Fz(a,{requestId:this.Hm(),ae:this.Db,type:this.O}),this.Pb&&this.Pb.Z$(),c&&0<b.length&&this.Pb&&this.Pb.Qr(b[0]),this.ny(this),this.gl=a);};d.prototype.Fla=function(){var a,c,b;a=this;c=this.tc;b=this.pe-this.hk;this.zl=m.time.ea()-this.tc;this.Pb&&(this.Pb.Ix(b,this.gl,c,{requestId:this.Hm(),ae:this.Db,type:this.O}),this.Fn&&this.Fn.length&&this.Fn.forEach(function(c){a.Pb.Or(c);}));this.$C(this);this.gl=c;this.hk=this.pe;};d.prototype.dP=function(){var a,c,b;a=this;c=this.tc;b=this.pe-this.hk;this.zl=m.time.ea()-this.tc;this.Pb&&(0<b&&this.Pb.Ix(b,this.gl,c,{requestId:this.Hm(),ae:this.Db,type:this.O}),this.Fn&&this.Fn.length&&this.Fn.forEach(function(c){a.Pb.Or(c);}),this.Pb.Hz(c,this.Lg,{requestId:this.Hm(),ae:this.Db,type:this.O}));this.Lg=this.pd=!1;this.$u(this);this.gl=c;this.hk=this.pe;this.Zd();};d.prototype.Hm=function(){var a,c;a=(a=this.stream)?a.toString():this.url;c=this.sQ;c&&(a+=",range "+c.start+"-"+c.end);return a;};d.prototype.ZG=function(){var a,c,b,d;this.K.warn("AseMediaRequest._onError:",this.toString());a=this.tc;this.zl=m.time.ea()-this.tc;c=this.status;b=this.Wh;d=this.sj;this.complete?this.K.warn("Error on a done request "+this.toString()+", failurecode: "+b):this.El?this.K.warn("Error on an aborted request "+this.toString()+", failurecode: "+b):f.pa(b)?(this.Pb&&this.Mb&&this.Mb.V$&&this.Ze&&void 0===c&&this.Pb.Ix(this.hk?this.pe-this.hk:this.pe,this.gl?this.gl:this.Ze,a,{requestId:this.Hm(),ae:this.Db,type:this.O}),this.bS(this)):this.K.warn("ignoring undefined request error (nativecode: "+d+")");};return d;}(c);d.tF=a;g.mi(k.Dw,a,!1);g.mi(p.Ew,a,!1);},function(g,d,a){var b,f,u,m,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(54);u=a(13);g=a(40);m=a(374);c=a(94);a=function(a){function d(b,f,d,k){d=a.call(this,b,f,d,k)||this;c.pk.call(d,b,f);d.Vb=0;d.Ta||d.Ej();d.Ph=!1;return d;}b.__extends(d,a);Object.defineProperties(d.prototype,{Yb:{get:function(){return!1;},enumerable:!0,configurable:!0}});d.prototype.push=function(c){this.Vb+=c.aa;a.prototype.push.call(this,c);};d.prototype.Fy=function(){return!this.Ph&&!!this.ta.length&&this.ta.every(function(a){return a.Fy();});};d.prototype.XB=function(a){u.assert(!this.Ph);return this.Ph=this.ta.every(function(c){return c.Fy()?c.XB(a,void 0,void 0):!1;});};d.prototype.Pnb=function(){this.ta.forEach(function(a){a.eL();});};d.prototype.Uv=function(a){m.MM.prototype.Uv.call(this,a);};d.prototype.bi=function(a){m.MM.prototype.bi.call(this,a);};d.prototype.ak=function(){return this.ta?this.ta[0].ak()+"-"+this.ta[this.ta.length-1].ak():"empty";};d.prototype.toString=function(){return c.pk.prototype.toString.call(this)+"(aggregate)";};d.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);f(c.pk.prototype.toJSON.call(this),b);return b;};return d;}(m.MM);d.rA=a;g.mi(c.pk,a);},function(g,d,a){var b,f,u,m,c,k,p,q,t;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(13);g=a(40);f=a(210);u=a(94);m=a(209);c=a(11);k=a(54);p=a(5).qk;q=a(762);a=a(743);t=function(a){var q0d;q0d=2;while(q0d!==3){switch(q0d){case 2:b.__extends(d,a);d.create=function(a,b,k,t,g,y,u){var n0d,A,h,d0d;n0d=2;while(n0d!==18){d0d="s";d0d+="ubreq";d0d+="uest";switch(n0d){case 10:g.push(new m.tF(a,k,d0d,h,g,u));n0d=14;break;case 2:n0d=1;break;case 20:return g;break;case 14:n0d=0<y?13:20;break;case 6:A=Math.ceil(t.aa/A);n0d=14;break;case 4:n0d=t.KD&&t.aa>t.KD?3:19;break;case 1:n0d=!b.ml&&t.Ta&&a.O===c.L.VIDEO&&p.Sc&&p.Sc.uE.gx?5:4;break;case 3:A=Math.ceil(t.aa/t.KD);b=t.offset;y=t.aa;n0d=7;break;case 7:g=new f.rA(a,t,g,u);n0d=6;break;case 19:return new d(a,k,t,g,y,u);break;case 13:h={offset:b,aa:Math.min(y,A),responseType:t.responseType};b+=h.aa;y-=h.aa;n0d=10;break;case 5:return new q.gFa(a,k,t,g,y,u);break;}}};d.prototype.toString=function(){var o0d;o0d=2;while(o0d!==1){switch(o0d){case 2:return m.tF.prototype.toString.call(this)+":"+u.pk.prototype.toString.call(this);break;}}};return d;break;}}function d(c,b,f,d,k,q){var E0d,t,e0d,y0d,t0d;E0d=2;while(E0d!==14){e0d="e";e0d+="d";e0d+="i";e0d+="t";y0d="c";y0d+="a";y0d+="c";y0d+="h";y0d+="e";t0d="1SIY";t0d+="bZrN";t0d+="JC";t0d+="p9";switch(E0d){case 6:return t;break;case 8:t=a.call(this,c,b,t,f,d,q)||this;u.pk.call(t,c,f);E0d=6;break;case 2:t=this;t0d;E0d=4;break;case 4:t=[y0d,e0d].filter(function(a,c){var H0d;H0d=2;while(H0d!==1){switch(H0d){case 2:return[k,f.Ta][c];break;case 4:return[k,f.Ta][c];break;H0d=1;break;}}});t=t.length?"("+t.join(",")+")":"";void 0===f.responseType&&(f.responseType=f.Ta||p.Sc&&!p.Sc.uE.gx?0:1);E0d=8;break;}}}}(m.tF);d.$W=t;k(a["default"],t.prototype);g.mi(u.pk,t,!1);},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});g=a(40);a=a(155);b=function(){function a(a,b){this.Lm=a;this.pB=b.ab;this.kr=b.wb;}Object.defineProperties(a.prototype,{ab:{get:function(){return void 0!==this.pB?this.pB:this.Lm.ab;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wb:{get:function(){return void 0!==this.kr?this.kr:this.Lm.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Lm.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Qo:{get:function(){return this.Lm.Qo;},enumerable:!0,configurable:!0}});a.prototype.Paa=function(a){this.kr=a;};a.prototype.y2=function(){this.kr=void 0;};return a;}();d.uF=b;g.mi(a.OM,b);},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(49);f=a(2);d.x5=function(a){return a===b.qc.Ih.AUDIO?f.u.dga:f.u.ega;};d.EZ=50;d.fQa=1E3;},function(g,d,a){var f,u,m,c,k,p,q,t,A,y,h,x,G;function b(a,b,f,d,q,t,g,m,y,u,A,h,L,x,l){this.j=a;this.eb=b;this.Ey=f;this.Tc=d;this.Mp=q;this.V3=t;this.Wj=g;this.displayName=m;this.Ui=y;this.zz=u;this.profile=A;this.Io=h;this.Rib=L;this.v9a=x;this.RJ=l;this.type=c.jg.sW;this.$p=!(!A||A!=p.vk.MA&&A!=p.vk.HN);this.cg={bcp47:g,trackId:b,downloadableId:d,isImageBased:this.$p};this.log=k.$f(a,"TimedTextTrack");this.state=G.IN;this.request=this.request.bind(this);}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);u=a(69);m=a(12);c=a(75);k=a(4);p=a(66);q=a(14);t=a(343);A=a(16);y=a(660);h=a(15);x=a(2);(function(a){a[a.IN=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.TF=3]="LOAD_FAILED";}(G||(G={})));b.prototype.getEntries=function(){var a;a=this;return new Promise(function(c,b){function f(){a.j.state.removeListener(f);a.download().then(c)["catch"](b);}a.state=G.LOADING;a.j.state.value!==h.jb.LOADING?a.download().then(c)["catch"](b):a.j.state.addListener(f);});};b.prototype.gd=function(){return this.state;};b.prototype.SJ=function(){return this.Rib;};b.prototype.kT=function(){return this.v9a;};b.prototype.jv=function(a,c){var b;b=[];try{this.$p?b=this.uf&&this.uf.jv(a,c)||[]:this.entries&&(b=this.entries.filter(function(b){var f;f=Q([b.startTime,b.endTime]);b=f.next().value;f=f.next().value;return b>=a&&b<=c||b<=a&&a<=f;}));}catch(X){this.log.error("error in getSubtitles",X,{start:a,end:c,isImageBased:this.$p});}return b;};b.prototype.Lbb=function(){var a;if(!A.Tb(this.U))try{this.U=this.$p?(a=this.jv(0,b.bMa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(R){this.log.error("exception in getStartPts",R);}return this.U;};b.prototype.SV=function(a){return this.j.state.value===h.jb.CLOSING||this.j.state.value===h.jb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.vc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.download=function(){var a;a=this;return new Promise(function(c,b){a.j.state.value==h.jb.$c?a.$p?a.Vdb(function(f){f.W?(a.log.info("Loaded image subtitle manager"),c(f)):(a.log.error("Unable to load image subtitles manager",f),a.state=G.TF,b(f));}):a.Bqa().then(function(c){return a.zkb(c);}).then(c)["catch"](b):b({W:!1});});};b.prototype.Vdb=function(a){var b,f,d,p,q,t,g,u;function c(d){var y;if(A.Tb(d))if(u||b.SV(b.Tp(b.no,"","image"))){u=!1;b.Io.url=b.Mp[b.no];f.url=b.Io.url;g[d]=(g[d]||0)+1;y=new k.rRa(p,f);y.on("ready",function(){b.uf=y;a({W:!0,track:b});});y.on("error",function(f){var k;f=Object.assign({W:!1},f);k=b.Tp(b.no,b.Io.url,"image");k.details={midxoffset:b.Io.offset,midxsize:b.Io.length};k.errorstring=f.errorString;g[d]<=m.config.VCa?(b.SR(k,!0,"retry with current cdn"),b.O1(g[d]).then(function(a){b.log.trace("retry timed text download after "+a,b.Tp(b.no,"","image"));c(b.no);})):(b.no=q[t++],b.no?(b.SR(k,!0,"retry with next cdn"),b.O1(g[d]).then(function(a){b.log.trace("retry timed text download after "+a,b.Tp(b.no,"","image"));c(b.no);})):(b.SR(k,!1,"all cdns tried"),a({W:!1,vib:"all cdns failed for image subs",track:b})));});y.start();}else a({W:!1,El:!0});else a({W:!1,vib:"cdnId is not defined for image subs downloadUrl"}),b.SR(b.Tp(0,"","image"),!1,"cdnId is undefined");}b=this;f={m_a:!1,profile:this.profile,pK:this.Io.offset,ZT:this.Io.length,Hd:this.j.Qb.value||0,bufferSize:m.config.Ddb,UJb:{je:this.j.nS()}};d=k.$f(this.j,"TimedTextTrack");d.warn=d.trace.bind(d);d.info=d.debug.bind(d);p=y.x4a(this.j,d,this.request);q=(this.V3||[]).filter(function(a){return a.id in b.Mp;}).sort(function(a,c){return a.fe-c.fe;}).map(function(a){return a.id;});t=0;g={};u=!0;this.no=q[t++];c(this.no);};b.prototype.SR=function(a,c,b){a=Object.assign({},a,{NKb:c,status:b});this.j.fireEvent(h.S.SE,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,c){var b;b=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,responseType:u.SS,headers:{},Wb:this.n5(this.no)};this.j.BJ.download(a,function(a){b.log.trace("imgsub: request status "+a.W);a.W?c(null,new Uint8Array(a.content)):c({Y:a.Y,Gc:a.Gc});});};b.prototype.Tp=function(a,c,b){return{currentCdnId:a,url:c,profile:this.profile,dlid:this.Tc,subtitletype:b,bcp47:this.Wj,trackId:this.eb,cdnCount:Object.keys(this.Mp).length,isImageBased:this.$p};};b.prototype.n5=function(a){return(this.V3||[]).find(function(c){return c.id===a;});};b.prototype.Bqa=function(){var d,k;function a(a){return f.__awaiter(d,void 0,void 0,function(){var d,p,q,t,g;function f(){for(;;)switch(d){case 0:q=b();p=t.Tp(a.Wb.id,a.url,"text");p.errorstring=a.reason;if(!q||!t.SV(p)){d=1;break;}d=-1;return{value:t.O1(k[q.id]).then(c),done:!0};case 1:return d=-1,{value:Promise.reject({W:!1,El:!0}),done:!0};default:return{value:void 0,done:!0};}}d=0;t=this;g={next:function(){return f();},"throw":function(){return f();},"return":function(){throw Error("Not yet implemented");}};n();g[Symbol.iterator]=function(){return this;};return g;});}function c(){return f.__awaiter(d,void 0,void 0,function(){var f,d,p,q,t;function c(){for(;;)switch(f){case 0:d=(p=b())&&q.Mp[p.id];if(!p||!d){f=1;break;}k[p.id]=(k[p.id]||0)+1;f=-1;return{value:q.t6a(d,p)["catch"](a),done:!0};case 1:return f=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}f=0;q=this;t={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};n();t[Symbol.iterator]=function(){return this;};return t;});}function b(){return(d.V3||[]).find(function(a){return!!((k[a.id]||0)<m.config.VCa&&d.Mp[a.id]);});}d=this;k={};return c();};b.prototype.O1=function(a){return new Promise(function(c){var b;b=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return c(b);},b);});};b.prototype.zkb=function(a){var c,b;c=this;b=this.j.kF;q.Ga(b);return t.ykb(a,b.width/b.height,m.config.XCa,m.config.Pba).then(function(a){var b;if(m.config.YCa){b=0;c.entries=a.map(function(a){return Object.assign({},a,{startTime:b,endTime:b+=m.config.YCa});});}else c.entries=a;c.log.trace("Entries parsed",{Length:a.length},c.cg);c.state=G.LOADED;return{W:!0,entries:c.entries,track:c};})["catch"](function(a){c.log.error("Unable to parse timed text track",x.Un(a),c.cg,{url:a.url});c.state=G.TF;a.reason="parseerror";a.track=c;throw a;});};b.prototype.t6a=function(a,c){var b;b=this;this.log.trace("Downloading",c&&{Wb:c.id},this.Tp(c.id,a,"text"));return new Promise(function(f,d){var k;k={responseType:u.oua,url:a,track:b,Wb:c,BC:"tt-"+b.Wj};b.j.BJ.download(k,function(a){a.W?f(a.content):(a.reason="downloadfailed",a.url=k.url,a.track=b,a.Wb=c,d(a));});});};b.bMa=72E7;b.yia=G;d.rG=b;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(8);b.T5=function(){var a;a=f.cr&&f.cr.height;return a?1080<=a?1080:720:720;};d.NZ=b;},function(g){g.T=function(d,a){switch(d){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,f){return a.apply(this,arguments);};case 3:return function(b,f,d){return a.apply(this,arguments);};case 4:return function(b,f,d,g){return a.apply(this,arguments);};case 5:return function(b,f,d,g,c){return a.apply(this,arguments);};case 6:return function(b,f,d,g,c,k){return a.apply(this,arguments);};case 7:return function(b,f,d,g,c,k,p){return a.apply(this,arguments);};case 8:return function(b,f,d,g,c,k,p,q){return a.apply(this,arguments);};case 9:return function(b,f,d,g,c,k,p,q,t){return a.apply(this,arguments);};case 10:return function(b,f,d,g,c,k,p,q,t,A){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(g,d,a){var u,m,c,k;function b(a,c,b){for(var f=b.next();!f.done;){if((c=a["@@transducer/step"](c,f.value))&&c["@@transducer/reduced"]){c=c["@@transducer/value"];break;}f=b.next();}return a["@@transducer/result"](c);}function f(a,b,f,d){return a["@@transducer/result"](f[d](c(a["@@transducer/step"],a),b));}u=a(794);m=a(792);c=a(791);h();h();n();k="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";g.T=function(a,c,d){"function"===typeof a&&(a=m(a));if(u(d)){for(var p=0,q=d.length;p<q;){if((c=a["@@transducer/step"](c,d[p]))&&c["@@transducer/reduced"]){c=c["@@transducer/value"];break;}p+=1;}return a["@@transducer/result"](c);}if("function"===typeof d["fantasy-land/reduce"])return f(a,c,d,"fantasy-land/reduce");if(null!=d[k])return b(a,c,d[k]());if("function"===typeof d.next)return b(a,c,d);if("function"===typeof d.reduce)return f(a,c,d,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(g){g.T=function(d,a){return Object.prototype.hasOwnProperty.call(a,d);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$Cb=function(){};d.aO="TransportConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jX="BookmarkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.zF||(d.zF={});g[g.WNa=0]="PAUSE";g[g.dQa=1]="RESUME";g[g.Lwb=2]="CAPTIONS_ON";g[g.Kwb=3]="CAPTIONS_OFF";g[g.Mwb=4]="CAPTION_LANGUAGE_CHANGED";g[g.Fvb=5]="AUDIO_LANGUAGE_CHANGED";g[g.kAb=6]="NEXT_EP";g[g.rBb=7]="PREV_EP";g[g.ex=8]="SEEK";g[g.zia=9]="STOP";d.rda="CastInteractionTrackerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Pw||(d.Pw={});g.gSa="unknown";g.Oca="absent";g.bia="present";g.Error="error";d.zea="ExternalDisplayLogHelperSymbol";},function(g,d,a){var f,u,m;function b(){this.type=f.Fw.Yw;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);g=a(97);u=a(136);m=new g.hx();b.b3=function(){return{isTypeSupported:function(a){var c;try{if(-1==a.toLowerCase().indexOf("codec"))return J.MSMediaKeys.isTypeSupported(a,"video/mp4");c=a.split("|");return 1===c.length?J.MSMediaKeys.isTypeSupported(u.hb.mp,a):"probably"===b.yba(c[0],c[1]);}catch(p){return!1;}}};};b.PQ=function(a,f,d){f=m.format(b.dF,f);if(0===d.length)return f;d=m.format('features="{0}"',d.join());return m.format("{0}|{1}{2}",a,f,d);};b.yba=function(a,b){var c;try{c=J.MSMediaKeys.isTypeSupportedWithFeatures?J.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(q){c="exception";}return c;};b.dF='video/mp4;codecs="{0},mp4a";';d.Zw=b;},function(g,d,a){var f,u,m,c,k,p;function b(a,f,d,k){var q;q=u.um.call(this,a,f,d)||this;q.cast=k;q.type=m.Pj.nX;a=b.YRa;q.mF[m.od.bO]=c.Kd.IF+"; "+a;q.mF[m.od.Yq]=c.Kd.Yq+"; "+a;a=c.Kd.JGa.find(function(a){return q.ds(p(b.dF,a));});q.mF[m.od.Uq]=a;return q;}Object.defineProperty(d,"__esModule",{value:!0});f=a(66);u=a(128);m=a(29);g=a(97);c=a(129);k=a(411);p=new g.hx().format;ca(b,u.um);b.b3=function(a,c){return(c=b.IAa(c))?{isTypeSupported:c}:a;};b.IAa=function(a){return"undefined"!==typeof a&&(a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType)||void 0;};b.prototype.Eq=function(a){var f,d;f=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().UDa){d={};if(f)return d[m.Gh.ip]="1.4",d[m.Gh.Sw]="2.2",f().then(function(c){return c===d[a];});f=this.vwa(a);f=p(b.dF,c.Kd.IF)+" hdcp="+f;f=this.ds.bind(this,f);return Promise.resolve(f());}return Promise.resolve(!1);};b.prototype.oS=function(a){return this.mF[a];};b.prototype.hD=function(){var a;a=this;return this.config().UDa?this.Eq(m.Gh.Sw).then(function(c){return c?Promise.resolve(m.Gh.Sw):a.Eq(m.Gh.ip).then(function(a){return a?Promise.resolve(m.Gh.ip):Promise.resolve(void 0);});}).then(function(c){return a.lI(c);}):Promise.resolve(void 0);};b.prototype.$x=function(){var a,c;a=u.um.prototype.$x.call(this);c=b.hua;a[f.da.UX]=["hev1.2.6.L90.B0",c];a[f.da.VX]=["hev1.2.6.L93.B0",c];a[f.da.WX]=["hev1.2.6.L120.B0",c];a[f.da.XX]=["hev1.2.6.L123.B0",c];a[f.da.YX]=["hev1.2.6.L150.B0","width=3840; height=2160; "+c];a[f.da.$X]=["hev1.2.6.L153.B0","width=3840; height=2160; "+c];a[f.da.nN]=["hev1.2.6.L90.B0",c];a[f.da.oN]=["hev1.2.6.L93.B0",c];a[f.da.pN]=["hev1.2.6.L120.B0",c];a[f.da.qN]=["hev1.2.6.L123.B0",c];a[f.da.ZX]=["hev1.2.6.L150.B0","width=3840; height=2160; "+c];a[f.da.aY]=["hev1.2.6.L153.B0","width=3840; height=2160; "+c];a[f.da.qY]="hev1.1.6.L90.B0";a[f.da.rY]="hev1.1.6.L93.B0";a[f.da.sY]="hev1.1.6.L120.B0";a[f.da.tY]="hev1.1.6.L123.B0";a[f.da.uY]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[f.da.vY]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[f.da.cY]="hev1.2.6.L90.B0";a[f.da.fY]="hev1.2.6.L93.B0";a[f.da.iY]="hev1.2.6.L120.B0";a[f.da.lY]="hev1.2.6.L123.B0";a[f.da.LF]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.da.MF]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[f.da.eY]="hev1.2.6.L90.B0";a[f.da.hY]="hev1.2.6.L93.B0";a[f.da.kY]="hev1.2.6.L120.B0";a[f.da.nY]="hev1.2.6.L123.B0";a[f.da.oY]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.da.pY]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};b.prototype.f7=function(){u.um.prototype.f7.call(this);!b.IAa(this.cast)&&this.il.push(k.ni.Yq);};b.hua="eotf=smpte2084";b.XGb="video/mp4;codecs={0}; "+b.hua;b.YRa="width=3840; height=2160; ";d.sda=b;d.oX="CastSDKSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dfa="IsTypeSupportedProviderFactorySymbol";d.Iha="PlatformIsTypeSupportedSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zia="ThroughputTrackerSymbol";d.QZ="ThroughputTrackerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qZ="PboPlaydataFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.SZ="TransitionLoggerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.HZ="SegmentManagerFactorySymbol";},function(g,d,a){var f,u,m;function b(a,b,f,d){this.ya=a;this.as=b;this.kk=f;this.Mk=void 0===d?"General":d;this.J2={};}Object.defineProperty(d,"__esModule",{value:!0});f=a(7);u=a(423);m=a(861);b.prototype.Ima=function(a,b){this.J2[a]=b;};b.prototype.fatal=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.uu(f.Hh.FJa,a,m.dC(this.as,this.bD(c)));};b.prototype.error=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.uu(f.Hh.ERROR,a,m.dC(this.as,this.bD(c)));};b.prototype.warn=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.uu(f.Hh.VZ,a,m.dC(this.as,this.bD(c)));};b.prototype.info=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.uu(f.Hh.DY,a,m.dC(this.as,this.bD(c)));};b.prototype.trace=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.uu(f.Hh.Via,a,m.dC(this.as,this.bD(c)));};b.prototype.debug=function(a,b){for(var c=1;c<arguments.length;++c);};b.prototype.log=function(a,b){for(var c=1;c<arguments.length;++c);this.debug.apply(this,arguments);};b.prototype.write=function(a,b,f){for(var c=[],d=2;d<arguments.length;++d)c[d-2]=arguments[d];this.uu(a,b,m.dC(this.as,this.bD(c)));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.Mk};};b.prototype.h3=function(a){return new b(this.ya,this.as,this.kk,a);};b.prototype.uu=function(a,b,f){a=new u.Tfa(a,this.Mk,this.ya.Xb(),b,f);b=Q(this.kk.kk);for(f=b.next();!f.done;f=b.next())f=f.value,f(a);};b.prototype.bD=function(a){return 0<Object.keys(this.J2).length?[].concat([this.J2],da(a)):a;};d.VF=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.MZ="StringUtilsSymbol";},function(g){var p,q,t,A,y,h;function d(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(p===setTimeout)return setTimeout(a,0);if((p===d||!p)&&setTimeout)return p=setTimeout,setTimeout(a,0);try{return p(a,0);}catch(G){try{return p.call(null,a,0);}catch(N){return p.call(this,a,0);}}}function f(c){if(q===clearTimeout)clearTimeout(c);else if(q!==a&&q||!clearTimeout)try{q(c);}catch(G){try{q.call(null,c);}catch(N){q.call(this,c);}}else q=clearTimeout,clearTimeout(c);}function u(){A&&y&&(A=!1,y.length?t=y.concat(t):h=-1,t.length&&m());}function m(){var a;if(!A){a=b(u);A=!0;for(var c=t.length;c;){y=t;for(t=[];++h<c;)y&&y[h].xE();h=-1;c=t.length;}y=null;A=!1;f(a);}}function c(a,c){this.K9a=a;this.Ep=c;}function k(){}g=g.T={};try{p="function"===typeof setTimeout?setTimeout:d;}catch(x){p=d;}try{q="function"===typeof clearTimeout?clearTimeout:a;}catch(x){q=a;}t=[];A=!1;h=-1;g.Hxa=function(a){var f;f=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)f[d-1]=arguments[d];t.push(new c(a,f));1!==t.length||A||b(m);};c.prototype.xE=function(){this.K9a.apply(null,this.Ep);};g.title="browser";g.wEb=!0;g.e8a={};g.gEb=[];g.version="";g.HKb={};g.on=k;g.addListener=k;g.once=k;g.xjb=k;g.removeListener=k;g.removeAllListeners=k;g.emit=k;g.qza=k;g.hmb=k;g.listeners=function(){return[];};g.tEb=function(){throw Error("process.binding is not supported");};g.nFb=function(){return"/";};g.PEb=function(){throw Error("process.chdir is not supported");};g.xKb=function(){return 0;};},function(g,d,a){var f,u;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var c=new Uint8Array(a.length/2),b=0;b<c.length;b++)c[b]=this.fDa(a.substr(2*b,2));return c;};b.prototype.encode=function(a){for(var c="",b=a.length,f=0;f<b;f++)var d=a[f],c=c+("0123456789ABCDEF"[d>>>4]+"0123456789ABCDEF"[d&15]);return c;};b.prototype.fJ=function(a,c){var b;b="";for(c<<=1;c--;)b=("0123456789ABCDEF"[a&15]||"0")+b,a>>>=4;return b;};b.prototype.fDa=function(a){var c;c=a.length;if(7<c)throw Error("hex to long");for(var b=0,d=0;d<c;d++)b=16*b+f[a[d]];return b;};u=b;u=g.__decorate([a.N()],u);d.fX=u;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rl='video/mp4; codecs="avc1.640028"';d.Uw='audio/mp4; codecs="mp4a.40.5"';d.RIa="DrmTraitsSymbol";},function(g,d,a){var b,f;b=a(445);f=a(980);d.Nv=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.ND(f.wdb,null,a);};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b,c){a.call(this);this.value=b;this.ka=c;this.vr=!0;c&&(this.vr=!1);}b(f,a);f.create=function(a,c){return new f(a,c);};f.zb=function(a){var c,b;c=a.value;b=a.Bf;a.done?b.complete():(b.next(c),b.closed||(a.done=!0,this.Jb(a)));};f.prototype.Uf=function(a){var c,b;c=this.value;b=this.ka;if(b)return b.Jb(f.zb,0,{done:!1,value:c,Bf:a});a.next(c);a.closed||a.complete();};return f;}(a(10).Da);d.GZ=g;},function(g,d,a){a(10);g=function(){function a(a,b,d){this.kind=a;this.value=b;this.error=d;this.wo="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.CI=function(a,b,d){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return d&&d();}};a.prototype.accept=function(a,b,d){return a&&"function"===typeof a.next?this.observe(a):this.CI(a,b,d);};a.f3=function(b){return"undefined"!==typeof b?new a("N",b):a.Htb;};a.ppa=function(b){return new a("E",void 0,b);};a.a3=function(){return a.L1a;};a.L1a=new a("C");a.Htb=new a("N",void 0);return a;}();d.Notification=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);this.Vj=[];this.active=!1;}b(f,a);f.prototype.flush=function(a){var c,b;c=this.Vj;if(this.active)c.push(a);else{this.active=!0;do if(b=a.We(a.state,a.Ed))break;while(a=c.shift());this.active=!1;if(b){for(;a=c.shift();)a.unsubscribe();throw b;}}};return f;}(a(995).QQa);d.cX=g;},function(g,d,a){var b,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(80);g=function(a){function d(c,b){a.call(this,c,b);this.ka=c;this.HK=!1;this.GM=b;}b(d,a);d.prototype.Jb=function(a,b){var c;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.HK=!0;a=this.id;c=this.ka;null!=a&&(this.id=this.oV(c,a,b));this.Ed=b;this.id=this.id||this.uV(c,this.id,b);return this;};d.prototype.uV=function(a,b,d){void 0===d&&(d=0);return f.root.setInterval(a.flush.bind(a,this),d);};d.prototype.oV=function(a,b,d){void 0===d&&(d=0);return null!==d&&this.Ed===d&&!1===this.HK?b:(f.root.clearInterval(b),void 0);};d.prototype.We=function(a,b){if(this.closed)return Error("executing a cancelled action");this.HK=!1;if(a=this.JO(a,b))return a;!1===this.HK&&null!=this.id&&(this.id=this.oV(this.ka,this.id,null));};d.prototype.JO=function(a){var c,b;c=!1;b=void 0;try{this.GM(a);}catch(q){c=!0;b=!!q&&q||Error(q);}if(c)return this.unsubscribe(),b;};d.prototype.Jr=function(){var a,b,f,d;a=this.id;b=this.ka;f=b.Vj;d=f.indexOf(this);this.state=this.GM=null;this.HK=!1;this.ka=null;-1!==d&&f.splice(d,1);null!=a&&(this.id=this.oV(b,a,null));this.Ed=null;};return d;}(a(997).VEa);d.bX=g;},function(g,d,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}g=a(80);d.UGb=b;d.observable=b(g.root);d.wvb=d.observable;},function(g,d,a){g=a(80).root.Symbol;d.Mz="function"===typeof g&&"function"===typeof g["for"]?g["for"]("rxSubscriber"):"@@rxSubscriber";d.xvb=d.Mz;},function(g,d){d.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mX="CachedDrmDataSymbol";},function(g,d,a){var u;function b(){}function f(a){a?(this.active=!1,this.d5(a)):this.active=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);f.prototype.d5=function(a){this.profileId=a.profileId;this.kc=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,Bv:a.licenseContextId,BD:a.licenseId};}):[];this.oa=a.xid;this.M=a.movieId;};f.prototype.Gq=function(){return JSON.parse(JSON.stringify({profileId:this.profileId,keySessionData:this.kc?this.kc.map(function(a){return{id:a.id,licenseContextId:a.Bv,licenseId:a.BD};}):[],xid:this.oa,movieId:this.M}));};d.EX=f;b.prototype.create=function(){return new f();};b.prototype.load=function(a){return new f(a);};u=b;u=g.__decorate([a.N()],u);d.NIa=u;},function(g,d,a){var b,f,u,m,c,k,p,q,t;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(119);f=a(467);u=a(244);m=a(243);c=a(1022);k=a(1021);p=a(118);q=a(135);t=a(1020);d.eme=new g.ac(function(a){a(f.dea).to(u.NIa).Z();a(m.mX).to(c.GGa).Z();a(b.fN).jM(k.Dmb);a(p.Xw).dA(function(a){d.II.parent=a.ec;return d.II.get(p.Xw);});a(q.$F).Rf(function(){return function(){return new t.TMa();};});});d.II=new g.AF({lw:!0});},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(65);f=a(1023);d.TB=new g.ac(function(a){a(b.Sq).jM(f.Cmb);});d.d1=new g.AF({lw:!0});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yfa="Injector";d.Tw=145152E5;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(249);a(470);g=function(){function a(a){this.Fb=a;}a.prototype.EM=function(){this.Fb.lC=function(a){return null!==a.target&&!a.target.s7()&&!a.target.v7();};return new b.hX(this.Fb);};return a;}();d.iX=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(248);g=function(){function a(a){this.Fb=a;}a.prototype.oq=function(a){this.Fb.oq=a;return new b.iX(this.Fb);};return a;}();d.hX=g;},function(g){var d;d=function(){return this;}();try{d=d||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof J&&(d=J);}g.T=d;},function(g,d,a){var m;function b(a,b,f,d,t,g,y){this.xM=d;this.uEa=a;this.Ixa=b;this.f9=f;this.Peb=g;this.hw=y;this.split=t;}function f(){this.H={};this.H["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.H["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.H["3"]=new b("7","8","7","10","1.5",0,0);this.H["7"]=new b("15","16","15","9","4.5",0,0);this.H["15"]=new b("31","32","31","2","5.5",0,0);this.H["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.H["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.H["123"]=new b("123","124","123","0","0",1,.207298);this.H["124"]=new b("123","124","123","0","0",1,.49076);this.H["64"]=new b("125","126","125","4","40.5",0,0);this.H["125"]=new b("125","126","125","0","0",1,-.00157835);this.H["126"]=new b("125","126","125","0","0",1,.934205);this.H["32"]=new b("65","66","65","135","5.5",0,0);this.H["65"]=new b("127","128","128","4","1272.5",0,0);this.H["127"]=new b("127","128","128","0","0",1,-.510333);this.H["128"]=new b("127","128","128","0","0",1,.18363);this.H["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.H["129"]=new b("129","130","129","0","0",1,-.0464542);this.H["130"]=new b("129","130","129","0","0",1,.458833);this.H["16"]=new b("33","34","34","10","2.00001",0,0);this.H["33"]=new b("67","68","67","0","29.5",0,0);this.H["67"]=new b("131","132","131","2","39.5",0,0);this.H["131"]=new b("131","132","131","0","0",1,-.37577);this.H["132"]=new b("131","132","131","0","0",1,.512087);this.H["68"]=new b("133","134","134","140","1.5",0,0);this.H["133"]=new b("133","134","134","0","0",1,.321272);this.H["134"]=new b("133","134","134","0","0",1,-.675396);this.H["34"]=new b("69","70","70","2","24.5",0,0);this.H["69"]=new b("135","136","136","9","28.5",0,0);this.H["135"]=new b("135","136","136","0","0",1,-.0573845);this.H["136"]=new b("135","136","136","0","0",1,-.507455);this.H["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.H["137"]=new b("137","138","137","0","0",1,-.503909);this.H["138"]=new b("137","138","137","0","0",1,.450886);this.H["8"]=new b("17","18","17","4","44189.5",0,0);this.H["17"]=new b("35","36","35","2","21.5",0,0);this.H["35"]=new b("71","72","72","0","19.5",0,0);this.H["71"]=new b("139","140","140","9","2.5",0,0);this.H["139"]=new b("139","140","140","0","0",1,.00403497);this.H["140"]=new b("139","140","140","0","0",1,-.312656);this.H["72"]=new b("141","142","141","135","96",0,0);this.H["141"]=new b("141","142","141","0","0",1,-.465786);this.H["142"]=new b("141","142","141","0","0",1,.159633);this.H["36"]=new b("73","74","73","130","89.5",0,0);this.H["73"]=new b("143","144","144","10","4.5",0,0);this.H["143"]=new b("143","144","144","0","0",1,-.76265);this.H["144"]=new b("143","144","144","0","0",1,-.580804);this.H["74"]=new b("145","146","146","10","16.5",0,0);this.H["145"]=new b("145","146","146","0","0",1,.296357);this.H["146"]=new b("145","146","146","0","0",1,-.691659);this.H["18"]=new b("37","38","38","9","1.5",0,0);this.H["37"]=new b("37","38","38","0","0",1,.993951);this.H["38"]=new b("75","76","75","0","19",0,0);this.H["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.H["147"]=new b("147","148","147","0","0",1,-.346535);this.H["148"]=new b("147","148","147","0","0",1,-.995745);this.H["76"]=new b("147","148","147","0","0",1,-.99978);this.H["4"]=new b("9","10","9","5","4.5",0,0);this.H["9"]=new b("19","20","19","2","4.5",0,0);this.H["19"]=new b("39","40","39","140","7.5",0,0);this.H["39"]=new b("77","78","78","134","6.5",0,0);this.H["77"]=new b("149","150","150","7","11.5",0,0);this.H["149"]=new b("149","150","150","0","0",1,.729843);this.H["150"]=new b("149","150","150","0","0",1,.383857);this.H["78"]=new b("151","152","151","133","4.5",0,0);this.H["151"]=new b("151","152","151","0","0",1,.39017);this.H["152"]=new b("151","152","151","0","0",1,.0434342);this.H["40"]=new b("79","80","79","133","3.5",0,0);this.H["79"]=new b("153","154","154","8","4.5",0,0);this.H["153"]=new b("153","154","154","0","0",1,-.99536);this.H["154"]=new b("153","154","154","0","0",1,-.00943396);this.H["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.H["155"]=new b("155","156","155","0","0",1,.266272);this.H["156"]=new b("155","156","155","0","0",1,.959904);this.H["20"]=new b("41","42","42","10","65.5",0,0);this.H["41"]=new b("81","82","82","7","10.5",0,0);this.H["81"]=new b("157","158","158","2","37.5",0,0);this.H["157"]=new b("157","158","158","0","0",1,-.701873);this.H["158"]=new b("157","158","158","0","0",1,.224649);this.H["82"]=new b("159","160","159","133","9.5",0,0);this.H["159"]=new b("159","160","159","0","0",1,.0955181);this.H["160"]=new b("159","160","159","0","0",1,-.58962);this.H["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.H["83"]=new b("161","162","161","135","31",0,0);this.H["161"]=new b("161","162","161","0","0",1,-.229692);this.H["162"]=new b("161","162","161","0","0",1,.88595);this.H["84"]=new b("163","164","164","1","13.5",0,0);this.H["163"]=new b("163","164","164","0","0",1,-.992157);this.H["164"]=new b("163","164","164","0","0",1,.922159);this.H["10"]=new b("21","22","22","4","486",0,0);this.H["21"]=new b("43","44","44","133","4.5",0,0);this.H["43"]=new b("85","86","86","10","4.5",0,0);this.H["85"]=new b("165","166","166","4","158.5",0,0);this.H["165"]=new b("165","166","166","0","0",1,-.127778);this.H["166"]=new b("165","166","166","0","0",1,.955189);this.H["86"]=new b("165","166","166","0","0",1,-.994012);this.H["44"]=new b("87","88","88","1","3.5",0,0);this.H["87"]=new b("167","168","168","135","7",0,0);this.H["167"]=new b("167","168","168","0","0",1,-.997015);this.H["168"]=new b("167","168","168","0","0",1,.400821);this.H["88"]=new b("169","170","169","130","36",0,0);this.H["169"]=new b("169","170","169","0","0",1,-.898638);this.H["170"]=new b("169","170","169","0","0",1,.56129);this.H["22"]=new b("45","46","45","9","2.5",0,0);this.H["45"]=new b("89","90","90","9","1.5",0,0);this.H["89"]=new b("171","172","171","10","10.5",0,0);this.H["171"]=new b("171","172","171","0","0",1,.573986);this.H["172"]=new b("171","172","171","0","0",1,-.627266);this.H["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.H["173"]=new b("173","174","173","0","0",1,.925273);this.H["174"]=new b("173","174","173","0","0",1,-.994805);this.H["46"]=new b("91","92","91","136","5.5",0,0);this.H["91"]=new b("175","176","175","10","10.5",0,0);this.H["175"]=new b("175","176","175","0","0",1,.548352);this.H["176"]=new b("175","176","175","0","0",1,-.879195);this.H["92"]=new b("177","178","178","8","14.5",0,0);this.H["177"]=new b("177","178","178","0","0",1,.457305);this.H["178"]=new b("177","178","178","0","0",1,-.998992);this.H["2"]=new b("5","6","5","10","2.5",0,0);this.H["5"]=new b("11","12","11","9","4.5",0,0);this.H["11"]=new b("23","24","24","10","4.00001",0,0);this.H["23"]=new b("47","48","48","133","5.5",0,0);this.H["47"]=new b("93","94","93","3","13.5",0,0);this.H["93"]=new b("179","180","179","138","15.5",0,0);this.H["179"]=new b("179","180","179","0","0",1,.658398);this.H["180"]=new b("179","180","179","0","0",1,-.927007);this.H["94"]=new b("181","182","182","3","15.5",0,0);this.H["181"]=new b("181","182","182","0","0",1,-.111351);this.H["182"]=new b("181","182","182","0","0",1,-.99827);this.H["48"]=new b("95","96","95","7","167",0,0);this.H["95"]=new b("183","184","183","132","36.5",0,0);this.H["183"]=new b("183","184","183","0","0",1,.895161);this.H["184"]=new b("183","184","183","0","0",1,-.765217);this.H["96"]=new b("185","186","186","137","6.00001",0,0);this.H["185"]=new b("185","186","186","0","0",1,-.851095);this.H["186"]=new b("185","186","186","0","0",1,.674286);this.H["24"]=new b("49","50","49","137","5.5",0,0);this.H["49"]=new b("97","98","97","5","23.5",0,0);this.H["97"]=new b("187","188","187","3","28.5",0,0);this.H["187"]=new b("187","188","187","0","0",1,.951654);this.H["188"]=new b("187","188","187","0","0",1,-.993808);this.H["98"]=new b("187","188","187","0","0",1,-.99705);this.H["50"]=new b("187","188","187","0","0",1,-.997525);this.H["12"]=new b("25","26","25","8","8.5",0,0);this.H["25"]=new b("51","52","52","10","4.00001",0,0);this.H["51"]=new b("99","100","100","133","5.5",0,0);this.H["99"]=new b("189","190","190","7","40.5",0,0);this.H["189"]=new b("189","190","190","0","0",1,.151839);this.H["190"]=new b("189","190","190","0","0",1,-.855517);this.H["100"]=new b("191","192","192","133","14.5",0,0);this.H["191"]=new b("191","192","192","0","0",1,.86223);this.H["192"]=new b("191","192","192","0","0",1,.544394);this.H["52"]=new b("101","102","101","135","47.5",0,0);this.H["101"]=new b("193","194","194","4","24.5",0,0);this.H["193"]=new b("193","194","194","0","0",1,.946185);this.H["194"]=new b("193","194","194","0","0",1,.811859);this.H["102"]=new b("193","194","194","0","0",1,-.991561);this.H["26"]=new b("53","54","54","132","6.5",0,0);this.H["53"]=new b("103","104","103","131","85",0,0);this.H["103"]=new b("195","196","196","134","16.5",0,0);this.H["195"]=new b("195","196","196","0","0",1,.0473538);this.H["196"]=new b("195","196","196","0","0",1,-.999401);this.H["104"]=new b("197","198","198","8","15.5",0,0);this.H["197"]=new b("197","198","198","0","0",1,.816129);this.H["198"]=new b("197","198","198","0","0",1,-.99322);this.H["54"]=new b("105","106","105","133","3.5",0,0);this.H["105"]=new b("105","106","105","0","0",1,-.998783);this.H["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.H["199"]=new b("199","200","199","0","0",1,.528588);this.H["200"]=new b("199","200","199","0","0",1,-.998599);this.H["6"]=new b("13","14","14","10","7.5",0,0);this.H["13"]=new b("27","28","28","133","7.5",0,0);this.H["27"]=new b("55","56","56","10","4.5",0,0);this.H["55"]=new b("107","108","107","3","3.5",0,0);this.H["107"]=new b("201","202","201","4","17.5",0,0);this.H["201"]=new b("201","202","201","0","0",1,-.379512);this.H["202"]=new b("201","202","201","0","0",1,.15165);this.H["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.H["203"]=new b("203","204","203","0","0",1,-.884606);this.H["204"]=new b("203","204","203","0","0",1,.265406);this.H["56"]=new b("109","110","109","136","6.5",0,0);this.H["109"]=new b("205","206","205","4","157.5",0,0);this.H["205"]=new b("205","206","205","0","0",1,-.0142737);this.H["206"]=new b("205","206","205","0","0",1,.691279);this.H["110"]=new b("205","206","205","0","0",1,-.998086);this.H["28"]=new b("57","58","58","138","11.5",0,0);this.H["57"]=new b("111","112","112","2","6.5",0,0);this.H["111"]=new b("207","208","208","7","67.5",0,0);this.H["207"]=new b("207","208","208","0","0",1,.763925);this.H["208"]=new b("207","208","208","0","0",1,-.309645);this.H["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.H["209"]=new b("209","210","209","0","0",1,-.306635);this.H["210"]=new b("209","210","209","0","0",1,.556696);this.H["58"]=new b("113","114","113","138","50.5",0,0);this.H["113"]=new b("211","212","212","8","25.5",0,0);this.H["211"]=new b("211","212","212","0","0",1,.508234);this.H["212"]=new b("211","212","212","0","0",1,.793551);this.H["114"]=new b("211","212","212","0","0",1,-.998438);this.H["14"]=new b("29","30","29","134","27.5",0,0);this.H["29"]=new b("59","60","60","7","17.5",0,0);this.H["59"]=new b("115","116","115","135","5.5",0,0);this.H["115"]=new b("213","214","214","137","5.5",0,0);this.H["213"]=new b("213","214","214","0","0",1,.401747);this.H["214"]=new b("213","214","214","0","0",1,.0367503);this.H["116"]=new b("215","216","216","8","5.5",0,0);this.H["215"]=new b("215","216","216","0","0",1,-.0241984);this.H["216"]=new b("215","216","216","0","0",1,-.999046);this.H["60"]=new b("117","118","117","0","12.5",0,0);this.H["117"]=new b("217","218","218","132","5.5",0,0);this.H["217"]=new b("217","218","218","0","0",1,-.997294);this.H["218"]=new b("217","218","218","0","0",1,.210398);this.H["118"]=new b("219","220","219","137","1.5",0,0);this.H["219"]=new b("219","220","219","0","0",1,-.55763);this.H["220"]=new b("219","220","219","0","0",1,.074493);this.H["30"]=new b("61","62","62","133","42.5",0,0);this.H["61"]=new b("119","120","119","135","5.5",0,0);this.H["119"]=new b("221","222","222","4","473.5",0,0);this.H["221"]=new b("221","222","222","0","0",1,-.920213);this.H["222"]=new b("221","222","222","0","0",1,-.17615);this.H["120"]=new b("223","224","224","5","144",0,0);this.H["223"]=new b("223","224","224","0","0",1,-.954295);this.H["224"]=new b("223","224","224","0","0",1,-.382538);this.H["62"]=new b("121","122","121","133","50",0,0);this.H["121"]=new b("225","226","226","10","18.5",0,0);this.H["225"]=new b("225","226","226","0","0",1,-.0731343);this.H["226"]=new b("225","226","226","0","0",1,.755454);this.H["122"]=new b("227","228","228","0","30",0,0);this.H["227"]=new b("227","228","228","0","0",1,.25);this.H["228"]=new b("227","228","228","0","0",1,-.997101);}function u(a,b,f,d,t,g){this.BV=t;this.FQ=g;}d=a(279);m=a(170);a={};a.XZa=new function(){this.eUa=m();this.o=0;this.update=function(){this.o=m()-this.eUa;};this.getValue=function(){return this.o;};this.type="num";}();a.wfb=new function(){this.getValue=function(a,b,f){return this.o="becauseYouAdded"===f.Ca[a].context||null;};this.type="cat";}();a.xfb=new function(){this.getValue=function(a,b,f){return this.o="becauseYouLiked"===f.Ca[a].context||null;};this.type="cat";}();a.zfb=new function(){this.getValue=function(a,b,f){return this.o="billboard"===f.Ca[a].context||null;};this.type="cat";}();a.Afb=new function(){this.getValue=function(a,b,f){return this.o="continueWatching"===f.Ca[a].context||null;};this.type="cat";}();a.yfb=new function(){this.getValue=function(a,b,f){return this.o="bigRow"===f.Ca[a].context||null;};this.type="cat";}();a.Bfb=new function(){this.getValue=function(a,b,f){return this.o="genre"===f.Ca[a].context||null;};this.type="cat";}();a.Cfb=new function(){this.getValue=function(a,b,f){return this.o="netflixOriginals"===f.Ca[a].context||null;};this.type="cat";}();a.Dfb=new function(){this.getValue=function(a,b,f){return this.o="newRelease"===f.Ca[a].context||null;};this.type="cat";}();a.Efb=new function(){this.getValue=function(a,b,f){return this.o="popularTitles"===f.Ca[a].context||null;};this.type="cat";}();a.Ffb=new function(){this.getValue=function(a,b,f){return this.o="queue"===f.Ca[a].context||null;};this.type="cat";}();a.Gfb=new function(){this.getValue=function(a,b,f){return this.o="recentlyAdded"===f.Ca[a].context||null;};this.type="cat";}();a.Hfb=new function(){this.getValue=function(a,b,f){return this.o="similars"===f.Ca[a].context||null;};this.type="cat";}();a.Jfb=new function(){this.getValue=function(a,b,f){return this.o="trendingNow"===f.Ca[a].context||null;};this.type="cat";}();a.Kfb=new function(){this.getValue=function(a,b,f){return this.o="ultraHD"===f.Ca[a].context||null;};this.type="cat";}();a.Lfb=new function(){this.getValue=function(a,b,f){return this.o="watchAgain"===f.Ca[a].context||null;};this.type="cat";}();a.Ifb=new function(){this.getValue=function(a,b,f){return this.o="topTen"===f.Ca[a].context||null;};this.type="cat";}();a.E_a=new function(){this.update=function(a){for(var c in a.Ca)if("becauseYouAdded"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.F_a=new function(){this.update=function(a){for(var c in a.Ca)if("becauseYouLiked"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.I_a=new function(){this.update=function(a){for(var c in a.Ca)if("billboard"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.e2a=new function(){this.update=function(a){for(var c in a.Ca)if("continueWatching"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.H_a=new function(){this.update=function(a){for(var c in a.Ca)if("bigRow"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.R9a=new function(){this.update=function(a){for(var c in a.Ca)if("genre"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Hib=new function(){this.update=function(a){for(var c in a.Ca)if("netflixOriginals"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Lib=new function(){this.update=function(a){for(var c in a.Ca)if("newRelease"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Mlb=new function(){this.update=function(a){for(var c in a.Ca)if("popularTitles"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.fi=new function(){this.update=function(a){for(var c in a.Ca)if("queue"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.lnb=new function(){this.update=function(a){for(var c in a.Ca)if("recentlyAdded"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Vqb=new function(){this.update=function(a){for(var c in a.Ca)if("similars"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.rtb=new function(){this.update=function(a){for(var c in a.Ca)if("trendingNow"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Ftb=new function(){this.update=function(a){for(var c in a.Ca)if("ultraHD"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.avb=new function(){this.update=function(a){for(var c in a.Ca)if("watchAgain"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Vsb=new function(){this.update=function(a){for(var c in a.Ca)if("topTen"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.q2a=new function(){this.getValue=function(a,b,f){return this.o="AR"===f.Ea||null;};this.type="cat";}();a.r2a=new function(){this.getValue=function(a,b,f){return this.o="AT"===f.Ea||null;};this.type="cat";}();a.s2a=new function(){this.getValue=function(a,b,f){return this.o="AU"===f.Ea||null;};this.type="cat";}();a.t2a=new function(){this.getValue=function(a,b,f){return this.o="AZ"===f.Ea||null;};this.type="cat";}();a.u2a=new function(){this.getValue=function(a,b,f){return this.o="BB"===f.Ea||null;};this.type="cat";}();a.v2a=new function(){this.getValue=function(a,b,f){return this.o="BE"===f.Ea||null;};this.type="cat";}();a.w2a=new function(){this.getValue=function(a,b,f){return this.o="BO"===f.Ea||null;};this.type="cat";}();a.x2a=new function(){this.getValue=function(a,b,f){return this.o="BR"===f.Ea||null;};this.type="cat";}();a.y2a=new function(){this.getValue=function(a,b,f){return this.o="BS"===f.Ea||null;};this.type="cat";}();a.z2a=new function(){this.getValue=function(a,b,f){return this.o="CA"===f.Ea||null;};this.type="cat";}();a.A2a=new function(){this.getValue=function(a,b,f){return this.o="CH"===f.Ea||null;};this.type="cat";}();a.B2a=new function(){this.getValue=function(a,b,f){return this.o="CL"===f.Ea||null;};this.type="cat";}();a.C2a=new function(){this.getValue=function(a,b,f){return this.o="CO"===f.Ea||null;};this.type="cat";}();a.D2a=new function(){this.getValue=function(a,b,f){return this.o="CR"===f.Ea||null;};this.type="cat";}();a.E2a=new function(){this.getValue=function(a,b,f){return this.o="CW"===f.Ea||null;};this.type="cat";}();a.F2a=new function(){this.getValue=function(a,b,f){return this.o="DE"===f.Ea||null;};this.type="cat";}();a.G2a=new function(){this.getValue=function(a,b,f){return this.o="DK"===f.Ea||null;};this.type="cat";}();a.H2a=new function(){this.getValue=function(a,b,f){return this.o="DM"===f.Ea||null;};this.type="cat";}();a.I2a=new function(){this.getValue=function(a,b,f){return this.o="DO"===f.Ea||null;};this.type="cat";}();a.J2a=new function(){this.getValue=function(a,b,f){return this.o="EC"===f.Ea||null;};this.type="cat";}();a.K2a=new function(){this.getValue=function(a,b,f){return this.o="EE"===f.Ea||null;};this.type="cat";}();a.L2a=new function(){this.getValue=function(a,b,f){return this.o="EG"===f.Ea||null;};this.type="cat";}();a.M2a=new function(){this.getValue=function(a,b,f){return this.o="ES"===f.Ea||null;};this.type="cat";}();a.N2a=new function(){this.getValue=function(a,b,f){return this.o="FI"===f.Ea||null;};this.type="cat";}();a.O2a=new function(){this.getValue=function(a,b,f){return this.o="FR"===f.Ea||null;};this.type="cat";}();a.P2a=new function(){this.getValue=function(a,b,f){return this.o="GB"===f.Ea||null;};this.type="cat";}();a.Q2a=new function(){this.getValue=function(a,b,f){return this.o="GF"===f.Ea||null;};this.type="cat";}();a.R2a=new function(){this.getValue=function(a,b,f){return this.o="GP"===f.Ea||null;};this.type="cat";}();a.S2a=new function(){this.getValue=function(a,b,f){return this.o="GT"===f.Ea||null;};this.type="cat";}();a.T2a=new function(){this.getValue=function(a,b,f){return this.o="HK"===f.Ea||null;};this.type="cat";}();a.U2a=new function(){this.getValue=function(a,b,f){return this.o="HN"===f.Ea||null;};this.type="cat";}();a.V2a=new function(){this.getValue=function(a,b,f){return this.o="HR"===f.Ea||null;};this.type="cat";}();a.W2a=new function(){this.getValue=function(a,b,f){return this.o="HU"===f.Ea||null;};this.type="cat";}();a.X2a=new function(){this.getValue=function(a,b,f){return this.o="ID"===f.Ea||null;};this.type="cat";}();a.Y2a=new function(){this.getValue=function(a,b,f){return this.o="IE"===f.Ea||null;};this.type="cat";}();a.Z2a=new function(){this.getValue=function(a,b,f){return this.o="IL"===f.Ea||null;};this.type="cat";}();a.$2a=new function(){this.getValue=function(a,b,f){return this.o="IN"===f.Ea||null;};this.type="cat";}();a.a3a=new function(){this.getValue=function(a,b,f){return this.o="IT"===f.Ea||null;};this.type="cat";}();a.b3a=new function(){this.getValue=function(a,b,f){return this.o="JE"===f.Ea||null;};this.type="cat";}();a.c3a=new function(){this.getValue=function(a,b,f){return this.o="JM"===f.Ea||null;};this.type="cat";}();a.d3a=new function(){this.getValue=function(a,b,f){return this.o="JP"===f.Ea||null;};this.type="cat";}();a.e3a=new function(){this.getValue=function(a,b,f){return this.o="KE"===f.Ea||null;};this.type="cat";}();a.f3a=new function(){this.getValue=function(a,b,f){return this.o="KN"===f.Ea||null;};this.type="cat";}();a.g3a=new function(){this.getValue=function(a,b,f){return this.o="KR"===f.Ea||null;};this.type="cat";}();a.h3a=new function(){this.getValue=function(a,b,f){return this.o="LU"===f.Ea||null;};this.type="cat";}();a.i3a=new function(){this.getValue=function(a,b,f){return this.o="MK"===f.Ea||null;};this.type="cat";}();a.j3a=new function(){this.getValue=function(a,b,f){return this.o="MU"===f.Ea||null;};this.type="cat";}();a.k3a=new function(){this.getValue=function(a,b,f){return this.o="MX"===f.Ea||null;};this.type="cat";}();a.l3a=new function(){this.getValue=function(a,b,f){return this.o="MY"===f.Ea||null;};this.type="cat";}();a.m3a=new function(){this.getValue=function(a,b,f){return this.o="NI"===f.Ea||null;};this.type="cat";}();a.n3a=new function(){this.getValue=function(a,b,f){return this.o="NL"===f.Ea||null;};this.type="cat";}();a.o3a=new function(){this.getValue=function(a,b,f){return this.o="NO"===f.Ea||null;};this.type="cat";}();a.p3a=new function(){this.getValue=function(a,b,f){return this.o="NZ"===f.Ea||null;};this.type="cat";}();a.q3a=new function(){this.getValue=function(a,b,f){return this.o="OM"===f.Ea||null;};this.type="cat";}();a.r3a=new function(){this.getValue=function(a,b,f){return this.o="PA"===f.Ea||null;};this.type="cat";}();a.s3a=new function(){this.getValue=function(a,b,f){return this.o="PE"===f.Ea||null;};this.type="cat";}();a.t3a=new function(){this.getValue=function(a,b,f){return this.o="PF"===f.Ea||null;};this.type="cat";}();a.u3a=new function(){this.getValue=function(a,b,f){return this.o="PH"===f.Ea||null;};this.type="cat";}();a.v3a=new function(){this.getValue=function(a,b,f){return this.o="PK"===f.Ea||null;};this.type="cat";}();a.w3a=new function(){this.getValue=function(a,b,f){return this.o="PL"===f.Ea||null;};this.type="cat";}();a.x3a=new function(){this.getValue=function(a,b,f){return this.o="PT"===f.Ea||null;};this.type="cat";}();a.y3a=new function(){this.getValue=function(a,b,f){return this.o="PY"===f.Ea||null;};this.type="cat";}();a.z3a=new function(){this.getValue=function(a,b,f){return this.o="QA"===f.Ea||null;};this.type="cat";}();a.A3a=new function(){this.getValue=function(a,b,f){return this.o="RO"===f.Ea||null;};this.type="cat";}();a.B3a=new function(){this.getValue=function(a,b,f){return this.o="RS"===f.Ea||null;};this.type="cat";}();a.C3a=new function(){this.getValue=function(a,b,f){return this.o="RU"===f.Ea||null;};this.type="cat";}();a.D3a=new function(){this.getValue=function(a,b,f){return this.o="SA"===f.Ea||null;};this.type="cat";}();a.E3a=new function(){this.getValue=function(a,b,f){return this.o="SE"===f.Ea||null;};this.type="cat";}();a.F3a=new function(){this.getValue=function(a,b,f){return this.o="SG"===f.Ea||null;};this.type="cat";}();a.G3a=new function(){this.getValue=function(a,b,f){return this.o="SV"===f.Ea||null;};this.type="cat";}();a.H3a=new function(){this.getValue=function(a,b,f){return this.o="SX"===f.Ea||null;};this.type="cat";}();a.I3a=new function(){this.getValue=function(a,b,f){return this.o="TH"===f.Ea||null;};this.type="cat";}();a.J3a=new function(){this.getValue=function(a,b,f){return this.o="TR"===f.Ea||null;};this.type="cat";}();a.K3a=new function(){this.getValue=function(a,b,f){return this.o="TT"===f.Ea||null;};this.type="cat";}();a.L3a=new function(){this.getValue=function(a,b,f){return this.o="TW"===f.Ea||null;};this.type="cat";}();a.M3a=new function(){this.getValue=function(a,b,f){return this.o="US"===f.Ea||null;};this.type="cat";}();a.N3a=new function(){this.getValue=function(a,b,f){return this.o="UY"===f.Ea||null;};this.type="cat";}();a.O3a=new function(){this.getValue=function(a,b,f){return this.o="VE"===f.Ea||null;};this.type="cat";}();a.P3a=new function(){this.getValue=function(a,b,f){return this.o="ZA"===f.Ea||null;};this.type="cat";}();a.nnb=new function(){this.getValue=function(a,b,f){return this.o=1===f.dg||null;};this.type="cat";}();a.onb=new function(){this.getValue=function(a,b,f){return this.o=10===f.dg||null;};this.type="cat";}();a.pnb=new function(){this.getValue=function(a,b,f){return this.o=11===f.dg||null;};this.type="cat";}();a.qnb=new function(){this.getValue=function(a,b,f){return this.o=12===f.dg||null;};this.type="cat";}();a.rnb=new function(){this.getValue=function(a,b,f){return this.o=13===f.dg||null;};this.type="cat";}();a.snb=new function(){this.getValue=function(a,b,f){return this.o=14===f.dg||null;};this.type="cat";}();a.tnb=new function(){this.getValue=function(a,b,f){return this.o=15===f.dg||null;};this.type="cat";}();a.unb=new function(){this.getValue=function(a,b,f){return this.o=16===f.dg||null;};this.type="cat";}();a.vnb=new function(){this.getValue=function(a,b,f){return this.o=17===f.dg||null;};this.type="cat";}();a.wnb=new function(){this.getValue=function(a,b,f){return this.o=18===f.dg||null;};this.type="cat";}();a.xnb=new function(){this.getValue=function(a,b,f){return this.o=19===f.dg||null;};this.type="cat";}();a.ynb=new function(){this.getValue=function(a,b,f){return this.o=2===f.dg||null;};this.type="cat";}();a.znb=new function(){this.getValue=function(a,b,f){return this.o=20===f.dg||null;};this.type="cat";}();a.Anb=new function(){this.getValue=function(a,b,f){return this.o=21===f.dg||null;};this.type="cat";}();a.Bnb=new function(){this.getValue=function(a,b,f){return this.o=22===f.dg||null;};this.type="cat";}();a.Cnb=new function(){this.getValue=function(a,b,f){return this.o=23===f.dg||null;};this.type="cat";}();a.Dnb=new function(){this.getValue=function(a,b,f){return this.o=3===f.dg||null;};this.type="cat";}();a.Enb=new function(){this.getValue=function(a,b,f){return this.o=4===f.dg||null;};this.type="cat";}();a.Fnb=new function(){this.getValue=function(a,b,f){return this.o=5===f.dg||null;};this.type="cat";}();a.Gnb=new function(){this.getValue=function(a,b,f){return this.o=6===f.dg||null;};this.type="cat";}();a.Hnb=new function(){this.getValue=function(a,b,f){return this.o=7===f.dg||null;};this.type="cat";}();a.Inb=new function(){this.getValue=function(a,b,f){return this.o=8===f.dg||null;};this.type="cat";}();a.Jnb=new function(){this.getValue=function(a,b,f){return this.o=9===f.dg||null;};this.type="cat";}();a.Zrb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bsb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.$rb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.csb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.khb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.nhb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.H2);};this.getValue=function(){return this.o;};this.type="num";}();a.uhb=new function(){this.HG=this.o=0;this.update=function(a){this.HG++;this.o=1*(this.o+a.rowIndex)/this.HG;};this.getValue=function(){return this.o;};this.type="num";}();a.vhb=new function(){this.HG=this.o=0;this.update=function(a){this.HG++;return this.o=1*(this.o+a.H2)/this.HG;};this.getValue=function(){return this.o;};this.type="num";}();a.jmb=new function(){this.getValue=function(a,b,f){return this.o=f.H2+b;};this.type="num";}();a.kmb=new function(){this.getValue=function(a,b,f){return this.o=f.rowIndex+a;};this.type="num";}();f.prototype.hw=function(a){return this.hma(this.H["0"].dBa(a),a);};f.prototype.hma=function(a,b){return"string"==typeof a?this.hma(this.H[a].dBa(b),b):a;};b.prototype.dBa=function(a){switch(this.Peb){case 0:switch(a.ed[this.xM].type){case"cat":return null===a.ed[this.xM].value?this.Ixa:"missing"==a.ed[this.xM].value?this.f9:this.uEa;case"num":return null===a.ed[this.xM].value?this.f9:a.ed[this.xM].value<this.split?this.uEa:this.Ixa;default:return this.f9;}case 1:return this.hw;default:return this.hw;}};d.declare({sK:["modelSelector","modelone"],A1a:["colEpisodeList",5],kdb:["holdDuration",15E3],PAa:["rowFirst",2],Qoa:["colFirst",5],RAa:["rowScroll",2],Roa:["colScroll",6],Job:["rowScrollHorizontal",6],epb:["searchTop",3],Lpa:["cwFirst",2],zJ:["horizontalItemsFocusedMode",3],Qeb:["itemsPerRank",1],ghb:["maxNumberPayloadsStored",10],Jwa:["maxNumberTitlesScheduled",5],VFb:["enableDetailedLogging",!0],EJb:["rowStep",20],VEb:["colStep",15],MIb:["pageRows",100],LIb:["pageColumns",75],B8:["maskParamsList",new function(){var a,b;this.B8=[];this.Pi={};this.BV=20;this.FQ=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.BV)+"_"+Math.floor(b/this.FQ)in this.Pi||(this.Pi[Math.floor(a/this.BV)+"_"+Math.floor(b/this.FQ)]=1,this.B8.push(new u(0,0,0,0,Math.floor(a/this.BV),Math.floor(b/this.FQ))));}().B8],H:["nodes",new f().H],mapping:["mapping",{nhb:"0",vhb:"1",khb:"2",uhb:"3",XZa:"4",csb:"5",$rb:"6",bsb:"7",Zrb:"8",kmb:"9",jmb:"10",wfb:"11",xfb:"12",zfb:"13",Afb:"14",yfb:"15",Bfb:"16",Cfb:"17",Dfb:"18",Efb:"19",Ffb:"20",Gfb:"21",Hfb:"22",Ifb:"23",Jfb:"24",Kfb:"25",Lfb:"26",nnb:"27",onb:"28",pnb:"29",qnb:"30",rnb:"31",snb:"32",tnb:"33",unb:"34",vnb:"35",wnb:"36",xnb:"37",ynb:"38",znb:"39",Anb:"40",Bnb:"41",Cnb:"42",Dnb:"43",Enb:"44",Fnb:"45",Gnb:"46",Hnb:"47",Inb:"48",Jnb:"49",q2a:"50",r2a:"51",s2a:"52",t2a:"53",u2a:"54",v2a:"55",w2a:"56",x2a:"57",y2a:"58",z2a:"59",A2a:"60",B2a:"61",C2a:"62",D2a:"63",E2a:"64",F2a:"65",G2a:"66",H2a:"67",I2a:"68",J2a:"69",K2a:"70",L2a:"71",M2a:"72",N2a:"73",O2a:"74",P2a:"75",Q2a:"76",R2a:"77",S2a:"78",T2a:"79",U2a:"80",V2a:"81",W2a:"82",X2a:"83",Y2a:"84",Z2a:"85",$2a:"86",a3a:"87",b3a:"88",c3a:"89",d3a:"90",e3a:"91",f3a:"92",g3a:"93",h3a:"94",i3a:"95",j3a:"96",k3a:"97",l3a:"98",m3a:"99",n3a:"100",o3a:"101",p3a:"102",q3a:"103",r3a:"104",s3a:"105",t3a:"106",u3a:"107",v3a:"108",w3a:"109",x3a:"110",y3a:"111",z3a:"112",A3a:"113",B3a:"114",C3a:"115",D3a:"116",E3a:"117",F3a:"118",G3a:"119",H3a:"120",I3a:"121",J3a:"122",K3a:"123",L3a:"124",M3a:"125",N3a:"126",O3a:"127",P3a:"128",avb:"129",lnb:"130",Vqb:"131",fi:"132",e2a:"133",R9a:"134",rtb:"135",Vsb:"136",I_a:"137",Lib:"138",Ftb:"139",Mlb:"140",E_a:"141",H_a:"142",F_a:"143",Hib:"144"}],ed:["features",a],PDb:["_modelName","tree"],HDb:["_format","xgboost"],ODb:["_itemsToKeep",5],NDb:["_itemsThreshold",null],FEb:["cacheLimit",20]});g.T={config:d,ZHb:u,oFb:b};},function(g,d,a){var f;function b(a){for(var b="",c=0;c<a.length;c++)b+=a[c].Kc+"|";return b;}f=a(169);g.T={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},nHb:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},z$a:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===f.SF.BGa){b=a[c].list;break;}return b;},k$a:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===f.SF.vFa){b=a[c].list;break;}return b;},Y5a:function(a,f){for(var c=0,d,p,q,t=0,g=a.length-1;t<g;t++){d=b(a[t].list||[]);q=!1;for(var y=0,m=f.length;y<m;y++)if(p=b(f[y].list||[]),p==d){q=!0;break;}if(!1===q){c=t;break;}}return c;},wjb:function(a,b,c){for(var f=[],d,q=0;q<Math.min(b,a.length);q++)d=a[q].list||[],f=f.concat(d.slice(0,c));return f;},vjb:function(a,b){for(var c=[],f,d=0;d<a.length&&(f=a[d].list||[],f=f.slice(0,Math.min(f.length,b)),b-=f.length,c=c.concat(f),0!==b);d++);return c;},ujb:function(a,b,c){var f;b<a.length&&0<=b&&(a=a[b].list||[],c<a.length&&(f=a[c]));return f;},Dra:function(a){for(var b={},c=a.length,d,p=0;p<c;p++){d=a[p].list||[];for(var q=0;q<d.length;q++)if(d[q].property===f.GA.gG||d[q].property===f.GA.Hda){b.zh=p;b.kj=q;break;}}void 0===b.zh&&void 0===b.kj&&(b.zh=0,b.kj=0);return b;}};},function(g,d,a){var b,f,u,m,c,k,p,q,t,A,y,h,x;Object.defineProperty(d,"__esModule",{value:!0});b=a(69);f=a(9);u=a(12);m=a(28);c=a(26);k=a(33);p=a(4);q=a(2);t=a(18);A=a(114);y=a(8);h=a(85);x=a(20);d.Zsb=function(){var g,L,l,n;function a(a){var b,c,f;b="info";c="";f=p.V.get(A.jx).ata();a.W||(b="error",c+="&errorcode="+(a.errorCode||""),c+="&errorsubcode="+(a.Y||""));c="type=startup&sev="+b+c+"&"+m.AK(t.Wa({},f,{prefix:"m_"}));d("startup",c,g);}function d(a,d,k){k&&L&&u.config.kDa[a]&&(a=l+"&jsoffms="+c.Wf()+"&do="+y.sk.onLine+"&"+d+"&"+m.AK(t.Wa({},n.Bc,{prefix:"im_"})),b.Gd.download({url:k,l$:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},BC:"track"},f.le));}l="cat=cadplayback&dev="+encodeURIComponent(k.JHa)+"&ep="+encodeURIComponent(k.Ig.IX)+"&ver="+encodeURIComponent("6.0018.714.011")+"&jssid="+c.Ffa;p.Kf("TrackingLog");n=p.V.get(x.Fe);l=l+("&browserua="+y.Oj);n.register(q.I.mfa,function(b){var c,d;g=p.V.get(h.ut).host+u.config.Wba;if(L=u.config.jDa&&!!u.config.Wba){u.config.nv&&(l+="&groupname="+encodeURIComponent(u.config.nv));u.config.iA&&(l+="&uigroupname="+encodeURIComponent(u.config.iA));c=l;d="";k.Xn&&(d=t.Wa({},k.Xn,{prefix:"pi_"}),d="&"+m.AK(d));l=c+d;n.aK(a);}b(f.xc);});return d;}();},function(g,d,a){var m;function b(a,b,d){b=b||0;d=d||a.length;for(var c,k=b,p,g,m,u={};k<b+d;){c=a[k];p=c&7;g=c>>3;m=f(a,k);if(!m.count)throw Error("Parsing error. bytes length is 0 for the tag "+c);k+=m.count+1;2==p&&(k+=m.value);u[g]={mGb:g,OKb:p,value:m.value,count:m.count,start:m.start};}return u;}function f(a,b){var c,f,d,k,g,u,h,G;c=b+1;f=a.length;d=c;k=0;g={};u=[];G=0;if(c>=f)throw Error("Invalid Range for Protobuf - start: "+c+" , len: "+f);for(;d<f;){k++;c=a[d];h=c&127;u.push(h);if(!(c&128))break;d++;}m.Ga(u.length);for(a=u.length-1;0<=a;a--)G<<=7,G|=u[a];g.count=k;g.value=G;g.start=b+k+1;return g;}function u(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(d,"__esModule",{value:!0});m=a(14);d.Aeb=function(a){a=b(a);if(1==u(a,1)&&a[5]&&a[5].value)return!0;};d.DHb=function(a){var c;c=b(a);if(2==u(c,1)&&(a=b(a,c[2].start,c[2].value),u(a,5)))return!0;};d.lGb=b;d.MGb=f;d.NGb=u;},function(g){function d(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}g.T=function(a){var m,c,k;function b(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function f(a,f,d){var k;k=c[a];"undefined"!==typeof k?k(f)||b(a,f,d):a!==typeof f&&b(a,f,d);}function g(a,b){var c;c=a.filter(function(a){return"object"!==typeof a&&-1===k.indexOf(a);});c=c.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===k.indexOf(a);}));},[]));if(0<c.length)throw Error(c.join(",")+" are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var d;d=c[b];if("string"===typeof a)f(a,d,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){f(a[b],d[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}m="number boolean string object function symbol".split(" ");c={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!d(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof c[b]||-1<m.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);c[b]=a[b];});}k=Object.keys(c).concat(m);return g(["array","function"],g);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.QJa=function(a){var d,g,c,k;function b(){if(c)for(var a;a=d.pop();)a(k);}function f(a){c=!0;k=a;b();}d=[];return function(c){d.push(c);g||(g=!0,a(f));b();};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xha="PlaylistMapTranslatorSymbol";},function(g,d,a){var f;function b(a,b,c,d,p){var k;k=this;this.el=d;this.Oi=p;this.addEventListener=function(a,b,c){return k.Oi.addListener(a,k.Wpa(a,b),c);};this.removeEventListener=function(a,b){return k.Oi.removeListener(a,k.Wpa(a,b));};this.getReady=function(){return k.Oi.xS();};this.getXid=function(){return k.gb().n6();};this.getMovieId=function(){return k.gb().Uab();};this.getElement=function(){return k.gb().sy();};this.isPlaying=function(){return k.gb().Iy();};this.isPaused=function(){return k.gb().ueb();};this.isMuted=function(){return k.gb().teb();};this.isReady=function(){return k.gb().isReady();};this.isBackground=function(){return k.gb().geb();};this.setBackground=function(a){return k.gb().BBa(a);};this.startInactivityMonitor=function(){return k.gb().LL();};this.setTransitionTime=function(a){return k.gb().RBa(a);};this.getDiagnostics=function(){return k.gb().M$a();};this.getTextTrackList=function(a){return k.gb().Gta(a);};this.getTextTrack=function(){return k.gb().Fta();};this.setTextTrack=function(a){return k.gb().PBa(a);};this.getVolume=function(){return k.gb().pcb();};this.isEnded=function(){return k.gb().keb();};this.getBusy=function(){return k.gb().nj();};this.getError=function(){return k.gb().getError();};this.getCurrentTime=function(){return k.gb().j.Qb.value;};this.getBufferedTime=function(){return k.gb().m$a();};this.getSegmentTime=function(){return k.gb().t5();};this.getDuration=function(){return k.gb().s5();};this.getVideoSize=function(){return k.gb().ncb();};this.getAudioTrackList=function(){return k.gb().$9a();};this.getAudioTrack=function(){return k.gb().Z9a();};this.getTimedTextTrackList=function(a){return k.gb().Gta(a);};this.getTimedTextTrack=function(){return k.gb().Fta();};this.getAdditionalLogInfo=function(){return k.gb().U9a();};this.getTrickPlayFrame=function(a){return k.gb().dcb(a);};this.getSessionSummary=function(){return k.gb().yta();};this.getTimedTextSettings=function(){return k.gb().CS();};this.setMuted=function(a){return k.gb().hqb(a);};this.setVolume=function(a){return k.gb().wqb(a);};this.setPlaybackRate=function(a){return k.gb().lqb(a);};this.setAudioTrack=function(a){return k.gb().Upb(a);};this.setTimedTextTrack=function(a){return k.gb().PBa(a);};this.setTimedTextSettings=function(a){return k.gb().DL(a);};this.prepare=function(){return k.gb().cw();};this.load=function(){return k.gb().load();};this.close=function(a){return k.sna(k.Oi.close(),a);};this.play=function(){return k.gb().play();};this.pause=function(){return k.gb().pause();};this.seek=function(a){return k.gb().seek(a);};this.engage=function(a,b){return k.sna(k.gb().OI(a),b);};this.induceError=function(a){return k.gb().Mdb(a);};this.loadCustomTimedTextTrack=function(a,b,c){return k.gb().Pfb(a,b,c);};this.tryRecoverFromStall=function(){return k.gb().oM();};this.addEpisode=function(a){var b;k.log.info("Next episode added",a);b=k.wwa(a.playbackParams);return k.Oi.k1({M:a.movieId,U:"startPts"in a?a.startPts:"nextStartPts"in a?a.nextStartPts:b.U,ba:"endPts"in a?a.endPts:"currentEndPts"in a?a.currentEndPts:b.ba,$a:b,KT:a.manifestData,el:k.el});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=k.wwa(a);k.log.info("Playing the next episode",a);return k.Oi.transition(a);};this.playSegment=function(a){return k.gb().ulb(a);};this.queueSegment=function(a){return k.gb().Smb(a);};this.updateNextSegmentWeights=function(a,b){return k.gb().Jq(a,b);};this.getCropAspectRatio=function(){return k.gb().B$a();};this.getCurrentSegmentId=function(){return k.Oi.Gsa();};this.getPlaylistMap=function(){return k.Oi.R5();};this.setNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return k.Oi.Taa.apply(k.Oi,[].concat(da(b)));};this.clearNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return k.Oi.r1a.apply(k.Oi,[].concat(da(b)));};this.updatePlaylistMap=function(a){return k.Oi.nca(a);};this.goToNextSegment=function(a,b){return k.Oi.Nta(a,b);};this.getPlaying=function(){return k.isPlaying();};this.getPaused=function(){return k.isPaused();};this.getMuted=function(){return k.isMuted();};this.getEnded=function(){return k.isEnded();};this.getTimedTextVisibility=function(){return k.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!k.gb().CS().visibility;};this.setTimedTextVisibility=function(a){return k.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return k.gb().DL({size:a});};this.setTimedTextBounds=function(a){return k.gb().DL({bounds:a});};this.setTimedTextMargins=function(a){return k.gb().DL({margins:a});};this.setTimedTextVisible=function(a){return k.gb().DL({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.t4=new Map();this.log=f.Kf("VideoPlayer");this.addEpisode({movieId:a,playbackParams:b,manifestData:c});Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);a(84);b.prototype.gb=function(){return this.Oi.Vl();};b.prototype.Wpa=function(a,b){var c;this.t4.has(a)||this.t4.set(a,new Map());c=this.t4.get(a);c.has(b)||c.set(b,this.v5a(a,b));return c.get(b);};b.prototype.v5a=function(a,b){var c;c=this;return function(f){return b(Object.assign({},f,{type:a,target:c}));};};b.prototype.sna=function(a,b){return b?a.then(b)["catch"](b):a;};b.prototype.wwa=function(a){a=void 0===a?{}:a;return{ah:a.trackingId,JH:a.authParams,hm:a.sessionParams,se:a.uiLabel,Q3:a.disableTrackStickiness,xW:a.uiPlayStartTime,YR:a.forceAudioTrackId,ZR:a.forceTimedTextTrackId,ag:a.isBranching,wca:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,NC:a.enableTrickPlay,B6:a.heartbeatCooldown,pT:a.isPlaylist,DT:a.loadImmediately||!1,ca:a.manifestIndex||0,Z9:a.pin,QK:a.preciseSeeking,U:a.startPts,ba:a.endPts,zn:a.packageId,rV:a.renderTimedText,kra:a.extraManifestParams};};d.mSa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wha="PlaylistConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zha="PlaylistVideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yha={szb:"lazy",Pyb:"immediate",Gda:"delayedSeamless",Xga:"pauseAtStart",WAb:"pauseAtEnd"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yZ="PlaylistManagerFactorySymbol";},function(g,d,a){var f,u,m,c,k,p;function b(a,b,c){this.af=a;this.xb=b;this.j=c;this.WJ=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);u=a(1);m=a(16);c=a(19);k=a(4);p=a(15);b.prototype.J4=function(){this.WJ.forEach(function(a){return a();});};b.prototype.sd=function(a,b,c){this.j.sd(this.af(a,b,c));};b.prototype.HS=function(a){this.j.fireEvent(p.S.l9,{Jp:a});};b.prototype.NYa=function(a){-1===this.WJ.indexOf(a)&&this.WJ.push(a);};b.prototype.Snb=function(a){a=this.WJ.indexOf(a);0<=a&&this.WJ.splice(a,1);};b.prototype.Kta=function(a){var b,d;b={};m.Tb(a.code)?b.Y=f.xea(a.code):b.Y=f.u.eh;try{d=a.message.match(/\((\d*)\)/)[1];b.Gc=k.Rna(d,4);}catch(y){}b.Sa=c.ud(a);return b;};a=b;a=g.__decorate([u.N()],a);d.RM=a;},function(g,d,a){var b,f,u,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(53);u=a(18);m=a(2);c=a(61);k=a(4);p=a(15);d.BJa=function(a,d,g){function q(f){var d,p;d=f.error||f;p=u.ud(d);g.error("uncaught exception",d,p);(d=(d=d&&d.stack)&&b.config.yDa&&b.config.Jtb?0<=d.indexOf(b.config.yDa):void 0)&&(f&&f.stopImmediatePropagation&&f.stopImmediatePropagation(),f=k.V.get(c.sl),a.sd(f(m.I.cSa)));}function t(){f.Ce.removeListener(f.p6,q);a.removeEventListener(p.S.Ie,t);a.removeEventListener(p.S.wj,t);}try{f.Ce.addListener(f.p6,q);a.addEventListener(p.S.Ie,t);b.config.Cdb&&a.addEventListener(p.S.wj,t);}catch(x){g.error("exception in exception handler ",x);}};},function(g,d,a){var b,f,u,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(9);u=a(26);g=a(2);m=a(8);c=a(16);k=a(4);a=a(20);k.V.get(a.Fe).register(g.I.gfa,function(a){var p,g,y,h,x;function k(){var a;a=m.Ww(u.Wf()/y);if(a!=x){for(var b=m.Wn(a-x,30);b--;)h.push(0);(b=m.xm(h.length-31,0))&&h.splice(0,b);x=a;}h[h.length-1]++;}p=b.config.Dgb;g=-6/(p-2-2);y=f.Nj;h=[];x=m.Ww(u.Wf()/y);c.fva(p)&&(setInterval(k,1E3/p),d.owa={qab:function(){var c;for(var a=[],b=h.length-1;b--;){c=h[b];a.unshift(0>=c?9:1>=c?8:c>=p-1?0:m.Jh((c-2)*g+7));}return a;}});a(f.xc);});},function(g,d,a){var b,f,u,m,c,k,p,q,t,A,y,h,x,G,N,R,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(49);f=a(104);u=a(265);m=a(56);c=a(53);k=a(19);p=a(105);q=a(4);t=a(113);A=a(175);y=a(18);h=a(8);x=a(16);G=a(15);N=a(106);R=a(3);l=a(96);d.yPa=function(a){var W,va,wa,M,ja,ka,ra,xa,la,Fa,E,C,eb,J,Ua;function d(){if(!ja){la=setInterval(X,1E3);a.Yg.appendChild(va);for(var b=ka.length;b--;)ka[b].addListener(r);for(b=ra.length;b--;)a.addEventListener(ra[b],r);ja=!0;}n();}function g(){if(ja){clearInterval(la);E=Fa=void 0;a.Yg.removeChild(va);for(var b=ka.length;b--;)ka[b].removeListener(r);for(b=ra.length;b--;)a.removeEventListener(ra[b],r);W.Jb();ja=!1;}}function L(){ja?g():d();}function S(){var c,d,k,g,L,G,N,l,S,n,D,X,P,O,U,ra,r,W,ia,ka,Y,Z,M,ja,va;c=[];c.push({Version:"6.0018.714.011",Esn:f.vh?f.vh.Qg:"UNKNOWN",PBCID:a.oC,UserAgent:h.Oj});try{k={MovieId:a.M,TrackingId:a.ah,Xid:a.oa+" ("+m.gr.map(function(a){return a.oa;}).join(", ")+")",Position:p.hh(a.Qb.value),Duration:p.hh(a.Yx.fa(R.ma)),Volume:h.Jh(100*a.volume.value)+"%"+(a.muted.value?" (Muted)":"")};if(a.Ya.ag||a.Ya.pT)k["Segment Position"]=p.hh(a.ty()),k.Segment=a.Q5();c.push(k);}catch(ec){}try{g=a.ek?a.ek.mdb():void 0;c.push({"Player state":C[a.state.value],"Buffering state":eb[a.Rm.value]+(x.pa(g)?", ETA:"+p.hh(g):""),"Rendering state":J[a.Ob.value]});}catch(ec){}try{L=a.uca()+a.G1();G=a.zf.value;N=G&&G.stream;l=a.Le.value;S=l&&l.stream;n=S?S.wc:"";D=a.te.value?a.te.value.wc:"";X=a.ij.value?a.ij.value.P:"";P=a.te.value?a.te.value.P:"";O=a.Wb[b.qc.L.VIDEO].value;U=a.Wb[b.qc.L.AUDIO].value;c.push({"Playing bitrate (a/v)":N&&S?N.P+" / "+S.P+" ("+S.width+"x"+S.height+")":"?","Playing/Buffering vmaf":n+"/"+D,"Buffering bitrate (a/v)":X+" / "+P,"Buffer size in Bytes (a/v)":a.G1()+" / "+a.uca(),"Buffer size in Bytes":""+L,"Buffer size in Seconds (a/v)":p.hh(a.EH())+" / "+p.hh(a.AM()),"Current CDN (a/v)":(U?U.name+", Id: "+U.id:"")+" / "+(O?O.name+", Id: "+O.id:"")});}catch(ec){}try{if(a.zf.value&&a.Le.value){ra=a.zf.value.stream.track;r=a.Le.value.stream;W=a.Di.value;ia=a.Df.value?a.Df.value.oc:[];ka=q.V.get(t.XA);Y=ka.nI(ia);Z=ka.hI(ra.oc);M=r.ff;ja=/hevc/.test(M)?"hevc":/vp9/.test(M)?"vp9":/h264hpl/.test(M)?"avchigh":"avc";/hdr/.test(M)&&(ja+=", hdr");/dv/.test(M)&&(ja+=", dv");/prk/.test(M)&&(ja+=", prk");c.push({"Audio Track":ra.Wj+", Id: "+ra.eb+", Channels: "+ra.Nk+", Codec: "+Z,"Video Track":"Codec: "+Y+" ("+ja+")","Timed Text Track":W?W.Wj+", Profile: "+W.profile+", Id: "+W.eb:"none"});}}catch(ec){}try{va=a.zg;c.push({Framerate:(a.te.value?a.te.value.eS:0).toFixed(3),"Current Dropped Frames":x.pa(Fa)?Fa:"","Total Frames":va.tS(),"Total Dropped Frames":va.ry(),"Total Corrupted Frames":va.iJ(),"Total Frame Delay":va.uS(),"Main Thread stall/sec":u.owa?u.owa.qab().join(" "):"DISABLED",VideoDiag:A.pwa(a.FS())});}catch(ec){}try{c.push({Throughput:a.va+" kbps"});}catch(ec){}try{y.Uc(xa,function(a,b){d=d||{};d[a]=JSON.stringify(b);});d&&c.push(d);}catch(ec){}return c;}function n(){var a;if(wa.selectionStart==wa.selectionEnd){a="";S().forEach(function(b){a=a?a+"\n":"";y.Uc(b,function(c){a+=c+": "+b[c]+"\n";});});wa.style.fontSize=p.dr(h.Ww(va.clientHeight/60),8,18)+"px";wa.value=a;}}function X(){var b;if(a.zg){b=a.zg.ry();b&&(Fa=b-E,E=b,r());}}function r(){W.Jb(n);}function O(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==N.$q.kHa||a.keyCode==N.$q.Q)&&L();}W=q.V.get(l.YA)(R.Eg(1));va=k.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});wa=k.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");M=k.createElement("DIV","position:absolute;top:2px;right:2px");ra=[G.S.VT,G.S.C_a];xa={};ka=[a.Qb,a.Wb[b.qc.L.AUDIO],a.Wb[b.qc.L.VIDEO],a.zf,a.Le,a.ij,a.te,a.Di,a.state,a.Rm,a.Ob,a.volume,a.muted];this.Ypb=function(a){xa.DFR=a;};C={};C[G.jb.OA]="Not Loaded";C[G.jb.LOADING]="Loading";C[G.jb.$c]="Normal";C[G.jb.CLOSING]="Closing";C[G.jb.CLOSED]="Closed";eb={};eb[G.pf.$c]="Normal";eb[G.pf.Ij]="Pre-buffering";eb[G.pf.uia]="Network stalled";J={};J[G.ib.og]="Waiting for decoder";J[G.ib.ad]="Playing";J[G.ib.oi]="Paused";J[G.ib.Wq]="Media ended";wa.setAttribute("readonly","readonly");va.appendChild(wa);va.appendChild(M);Ua=k.createElement("BUTTON",null,"X");Ua.addEventListener("click",g,!1);M.appendChild(Ua);c.Ce.addListener(c.zy,O);a.addEventListener(G.S.Ie,function(){c.Ce.removeListener(c.zy,O);g();});y.Wa(this,{toggle:L,show:d,nD:g,kab:S});};},function(g,d,a){var f,u,m,c,k,p,q,t,A,y,h,x,G,N,R,l,n,D,U,P,r,Z,ea,Y;function b(a){var b;b=this;this.j=a;this.xb=this.j.xb;this.fb=h.$f(this.j,"MediaPresenterASE");this.tla=this.kka=this.Bl=0;this.rd=this.xb.La;this.Nla=this.Kla=this.M0=this.r0=this.SP=this.oO=this.t0=!1;this.ul={type:A.jg.audio,xC:[],Ho:[]};this.co={type:A.jg.video,xC:[],Ho:[]};this.Ex={};this.ola=k.config.dib;this.Hla=k.R1a(!!this.j.Ya.ag).L9;this.c0=k.config.MT;this.KXa=h.V.get(ea.YA)(Z.Cb(P.EZ));this.ef={};this.lla={};this.LG={};this.j.jj=!1;this.Ex[f.qc.Ih.AUDIO]=this.ul;this.Ex[f.qc.Ih.VIDEO]=this.co;N.Ga(this.c0>this.ola,"bad config");N.Ga(this.c0>this.Hla,"bad config");this.xb.addEventListener(r.Kh.gCa,function(){b.fb.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.EUa();}catch(va){b.fb.error("Exception while initializing",va);b.xl(x.I.nOa);}});}Object.defineProperty(d,"__esModule",{value:!0});f=a(49);u=a(140);m=a(61);c=a(9);k=a(12);p=a(56);q=a(53);t=a(28);A=a(75);y=a(26);h=a(4);a(84);x=a(2);G=a(432);N=a(14);R=a(105);l=a(19);n=a(45);D=a(15);U=a(16);P=a(213);r=a(174);Z=a(3);ea=a(96);Y=a(130);b.prototype.Osa=function(){return this.xb.qy(!1);};b.prototype.tS=function(){return this.xb.tS();};b.prototype.ry=function(){return this.xb.ry();};b.prototype.iJ=function(){return this.xb.iJ();};b.prototype.uS=function(){return this.xb.uS();};b.prototype.EUa=function(){var a;a=this;this.fb.trace("Video element initializing");this.xb.sourceBuffers.forEach(function(b){return a.oXa(b);});a.FUa(a.j.vv);};b.prototype.FUa=function(a){var d;function b(){function a(){var a,b;b=d.j.nb&&d.j.nb.pv();d.j.Ob.value==D.ib.og&&d.j.state.value==D.jb.$c&&d.j.Rm.value==D.pf.$c&&d.j.Gj.value==D.pf.$c&&!d.j.jj&&b?(d.v_.us(),a="ensureTimer"):(d.v_.Zg(),a="stopTimer");d.fb.trace("Timer update: "+a,{presentingState:d.j.Ob.value,playbackState:d.j.state.value,avBufferingState:d.j.Rm.value,textBufferingState:d.j.Gj.value,autoplayWasBlocked:d.j.jj,hasLicense:b});}k.config.Vpa&&(N.Ga(!d.v_),d.v_=h.V.get(Y.ZA)(k.config.Vpa,function(){var a;a=h.V.get(G.Xda).b6a(d.j);d.xl(a.code,a);}),d.j.Ob.addListener(a),d.j.Rm.addListener(a),d.j.Gj.addListener(a),d.j.state.addListener(a),d.j.addEventListener(D.S.Iva,a),d.j.addEventListener(D.S.jj,a),d.j.addEventListener(D.S.M1,a),a());}function f(){d.xO||(f=N.uFa,d.xb.addEventListener(r.Kh.rL,d.ef[r.Kh.rL]=function(){return d.m0();}),d.xb.addEventListener(r.Kh.$m,d.ef[r.Kh.$m]=function(){return d.gWa();}),d.rd.addEventListener("ended",d.ef.ended=function(){return d.hWa();}),d.rd.addEventListener("play",d.ef.play=function(){return d.lWa();}),d.rd.addEventListener("pause",d.ef.pause=function(){return d.kWa();}),d.rd.addEventListener("playing",d.ef.playing=function(){return d.mWa();}),d.QG=!0,0===d.j.ca&&(d.MP(),d.fb.trace("Video element initialization complete"),d.j.Pc("vi"),k.config.fqa?setTimeout(function(){d.l0=!0;d.gj();},k.config.fqa):d.l0=!0,b(),n.zb(function(){return d.gj();})));}d=this;a?this.fb.trace("Waiting for needkey"):this.fb.warn("Movie is not DRM protected",{MovieId:this.j.M});this.fb.trace("Waiting for loadedmetadata");a?this.xb.addEventListener(r.Kh.Nva,function(){d.j.Pc("ld");d.j.nb.sR(""+d.j.M);d.j.fireEvent(D.S.Iva);}):this.j.nb.sR(""+this.j.M);t.XYa(this.rd,function(){d.fb.trace("Video element event: loadedmetadata");d.j.Pc("md");});q.Ce.addListener(q.Vk,this.LG[q.Vk]=function(){return d.Wja();},c.RA);this.j.addEventListener(D.S.Ie,function(){return d.Wja();},c.RA);this.j.addEventListener(D.S.UAa,function(){return d.C0();});this.j.addEventListener(D.S.tn,function(){return d.iWa();});this.j.paused.addListener(function(){return d.gj();});this.j.muted.addListener(function(){return d.W0();});this.j.volume.addListener(function(){return d.W0();});this.j.playbackRate.addListener(function(){return d.bYa();});this.j.Rm.addListener(function(){return d.gj();});this.j.Gj.addListener(function(){return d.gj();});this.W0();this.ul.lk.CBa(function(){return d.bP();});this.co.lk.CBa(function(){return d.bP();});this.bP();n.zb(function(){f();});};b.prototype.cQ=function(a){var b,c;b=this;c=this.Ex[a.O];c?c.Ho.push(a):N.Ga(!1);this.oTa(a).then(function(){b.bP();b.j.fireEvent(D.S.VT);})["catch"](function(a){b.xl(x.I.sOa,{Sa:l.ud(a)});});};b.prototype.w1=function(a,b,c){c=void 0===c?{}:c;b={O:a.type,Gy:!1,response:b,ak:function(){return"header";},get Yb(){return!this.Gy;},profile:c.profile};(c=this.Ex[a.type])?c.Ho.push(b):N.Ga(!1);this.Kla||a.type!==f.qc.Ih.VIDEO||(this.yi||this.seek(this.j.U,D.kg.QF),this.Kla=!0);};b.prototype.oXa=function(a){var b;b=this.Ex[a.type];if(b)try{b.lk=a;}catch(va){this.xl(x.I.lZ,{Y:P.x5(a.type),Sa:l.ud(va)});}};b.prototype.bP=function(){this.QG?this.gj():k.config.sZa&&this.MP();};b.prototype.fjb=function(){var a;a=this.j.ty()||0;this.j.Ya.ag?k.config.T_a&&(a=Math.max(a-(this.xb.waa+1)-k.config.vaa,this.j.nb.U5().Oc)):(a-=k.config.mpb,a=Math.max(a,this.cla));this.seek(a,D.kg.WN);};b.prototype.yK=function(a){var b;b=this;a.mediaType===f.qc.Ih.AUDIO?this.oO=!0:a.mediaType===f.qc.Ih.VIDEO&&(this.SP=!0);n.zb(function(){return b.gj();});};b.prototype.yab=function(){return{u5a:this.kka,Jib:this.tla};};b.prototype.D3=function(){return this.nka(this.ul,this.C3())&&this.nka(this.co,this.C3());};b.prototype.oTa=function(a){var b;b=this.xb&&this.xb.cta();return void 0===this.q0&&b&&a.Mf&&a.Mf.Rb&&a.Mf.Rb.xa&&Infinity!=a.Mf.Rb.xa.ba&&(a=a.Mf.Rb.xa.ba+a.dm,a>this.j.UU.XU(Z.ma)&&(this.j.UU=Z.Cb(a)),a>b.XU(Z.ma))?(this.q0=b.scale(2),this.IWa()):Promise.resolve();};b.prototype.IWa=function(){var a;a=this;return new Promise(function(b,c){function f(){return d().then(function(a){if(!1===a)return f();});}function d(){return new Promise(function(b){setTimeout(function(){if(!a.ul.lk.nj()&&!a.co.lk.nj())try{a.xb.gqb(a.q0);a.M0=!1;a.q0=void 0;b(!0);}catch(ka){b(!1);}b(!1);},0);});}a.M0=!0;f().then(function(){b();})["catch"](function(b){a.fb.error("Unable to change the duration",b);c(b);});});};b.prototype.alb=function(){var a;a=this;return this.yi&&this.c2()&&this.D3()?(this.xb.seek(this.Bl),this.yi=!1,u.BN||this.z0(),n.zb(function(){return a.gj();}),!0):!1;};b.prototype.Utb=function(a){var b;if(a<this.Bl){b=this.Bl-a;k.config.blb&&a&&b>P.EZ&&(a={ElementTime:R.hh(a),MediaTime:R.hh(this.Bl)},b>P.fQa?(this.fb.error("VIDEO.currentTime became much smaller",a),this.xl(x.I.DOa)):this.fb.warn("VIDEO.currentTime became smaller",a));}else this.Bl=R.dr(a,0,this.j.UU.fa(Z.ma));};b.prototype.C3=function(){return this.j.Ob.value===D.ib.og?this.Hla:this.ola;};b.prototype.c2=function(){return this.j.Rm.value===D.pf.$c&&this.j.Gj.value===D.pf.$c;};b.prototype.gj=function(){var a,b,c;this.j.aM=y.Wf();if(!this.ye()&&this.QG){a=this.xb.Cbb();a||this.MP();u.BN||this.MP();this.j.paused.value||!this.D3()||!this.c2()||a||this.yi?this.B0():this.t0||this.C0();if(!(a||this.yi&&this.alb()||this.ye())){a=this.xb.qy(!0);b=this.j.Ob.value;c=this.P1a();c===D.ib.Wq?(this.Bl=this.j.UU.fa(Z.ma),this.B0()):c!==D.ib.og&&this.Utb(a);this.zma();this.uO();this.j.Ob.set(c);c!==D.ib.og||b!==D.ib.ad&&b!==D.ib.oi||this.Qjb();}}};b.prototype.P1a=function(){var a,b,c;a=this;b=this.j.Ob.value;c=b;this.yi?c=D.ib.og:this.rd&&this.rd.ended?b===D.ib.ad&&(c=D.ib.Wq):this.c2()&&this.D3()?this.xb.c6a()?c=this.rd&&this.rd.paused?D.ib.oi:D.ib.ad:this.KXa.Jb(function(){return a.JXa();}):c=D.ib.og;return c;};b.prototype.Qjb=function(){var a;if(this.j.Ob.value===D.ib.og){a=this.QXa()>this.C3();this.j.Gj.value!==D.pf.$c?this.j.Di.value?(this.j.fireEvent(D.S.ho,{cause:p.tPa}),this.fb.warn("rebuffer due to timed text",this.j.Di.value.cg)):this.j.fireEvent(D.S.XE):a?(this.kka++,this.j.fireEvent(D.S.ho,{cause:p.Kha})):(this.tla++,this.j.fireEvent(D.S.ho,{cause:p.Lha}));}};b.prototype.QXa=function(){var a,b;a=this.co.Ho.filter(function(a){return!a.Yb;}).reduce(function(a,b){return a+b.qs;},0);b=this.ul.Ho.filter(function(a){return!a.Yb;}).reduce(function(a,b){return a+b.qs;},0);return Math.min(a,b);};b.prototype.JXa=function(){this.ye()||(k.config.gjb&&(this.ul.lk.nj()||this.ul.lk.qna(new Uint8Array([0,0,0,8,102,114,101,101]))),this.gj());};b.prototype.nka=function(a,b){var c;c=a.XQ;c=c&&c.lK;return 0===a.Ho.length&&(a.type===A.jg.audio&&this.oO||a.type===A.jg.video&&this.SP)?!0:c&&c.nE-this.Bl>=b||!1;};b.prototype.m0=function(){this.gj();};b.prototype.gWa=function(){this.gj();this.j.fireEvent(D.S.$m);};b.prototype.hWa=function(){this.fb.trace("Video element event: ended");this.gj();};b.prototype.lWa=function(){this.fb.trace("Video element event: play");this.gj();};b.prototype.kWa=function(){this.fb.trace("Video element event: pause");this.gj();};b.prototype.mWa=function(){this.fb.trace("Video element event: playing");this.gj();};b.prototype.W0=function(){this.ye()||(this.rd&&this.rd.volume!==this.j.volume.value&&(this.rd.volume=this.j.volume.value),this.rd&&this.rd.muted!==this.j.muted.value&&(this.rd.muted=this.j.muted.value));};b.prototype.bYa=function(){!this.ye()&&this.rd&&(this.rd.playbackRate=this.j.playbackRate.value);};b.prototype.MP=function(){this.M0||(this.vma(this.ul),this.vma(this.co));this.ye()||!this.oO&&!this.SP||this.ul.lk.nj()||this.co.lk.nj()||this.D_||(this.D_=!0,this.xb.endOfStream());};b.prototype.vma=function(a){var b,c,f;if(!this.ye()&&a.lk){b=a.lk;c=a.xC;!b.nj()&&0<c.length&&(a.XQ=c[c.length-1]);if(a.Zaa){if(b.nj())return;a.Zaa=!1;f=this.xb.cta().XU(Z.Am);0<f&&b.remove(0,f);}for(f=a.Ho[0];f&&f.response&&(f.Yb||f.Xs-this.Bl<=this.c0);)if(this.D_=!1,this.WXa(f))a.Ho.shift(),f=a.Ho[0];else break;!b.nj()&&0<c.length&&(a.XQ=c[c.length-1]);}};b.prototype.WXa=function(a){var b,c,f;N.Ga(a&&a.response);b=a.response;c=a.O;f=this.Ex[c];if(!this.ye()&&f.lk&&!f.lk.nj()){try{a.Yb&&a.profile&&f.lk.W0a(a.profile);this.fb.trace("Feeding media segment to decoder",{Bytes:b.byteLength});f.lk.qna(b,a);a.Yb||f.xC.push(this.wTa(a));k.config.k6a&&!a.Yb&&(this.yi&&!u.BN||a.Goa());}catch(M){"QuotaExceededError"!=M.name?(this.fb.error("Exception while appending media",a,M),this.xl(x.I.BOa,P.x5(c))):this.j.YQ=this.j.YQ?this.j.YQ+1:1;return;}return!0;}};b.prototype.vTa=function(a){var b;b=this.j.Ocb(a.Db);b||(this.fb.error("Could not find CDN",{cdnId:a.Db}),b={id:a.Db,W7:a.location});return b;};b.prototype.BTa=function(a){var b,c;c=a.za;a.O===f.qc.Ih.AUDIO?b=this.j.Wta(c):a.O===f.qc.Ih.VIDEO&&(b=this.j.cua(c));b||this.fb.error("Could not find stream",{stream:c});return b;};b.prototype.wTa=function(a){var b;b=this.BTa(a);return{lK:a,stream:b,Vm:{startTime:Math.floor(a.Xs),endTime:Math.floor(a.nE)},Wb:this.vTa(a)};};b.prototype.C0=function(){var a;a=this;this.ye()||!U.Tb(this.rd)||this.rd.ended||!this.l0||!this.QB&&void 0!==this.QB||(this.fb.trace("Calling play on element"),Promise.resolve(this.rd.play()).then(function(){a.QB=!1;a.t0=!1;a.rd.style.display=null;a.j.jj=!1;a.j.fireEvent(D.S.M1,{j:a.j});})["catch"](function(b){"NotAllowedError"===b.name?(a.fb.warn("Playback is blocked by the browser settings",b),a.j.jj=!0,a.t0=!0,a.rd.style.display="none",a.j.fireEvent(D.S.jj,{player:{play:function(){return a.C0();}}})):(a.QB=!1,a.Nla||(a.Nla=!0,a.fb.error("Play promise rejected",b)));}));};b.prototype.iWa=function(){this.cla=this.j.ty()||0;};b.prototype.B0=function(){this.ye()||!U.Tb(this.rd)||this.rd.ended||!this.l0||this.QB&&void 0!==this.QB||(this.fb.trace("Calling pause on element"),this.rd.pause(),this.QB=!0);};b.prototype.uO=function(a){if(U.Tb(a)){for(var b=this.Ex[a],c=b.xC,d,k=!1;(d=c[0])&&d.lK.Xs<=this.Bl;)if(this.Bl<d.lK.nE){a=a===f.qc.Ih.AUDIO?this.j.zf:this.j.Le;t.Uoa(d,a.value)||(k=!0,a.set(d));break;}else c.shift();!k&&!this.r0||this.D_||(d=d&&d.lK.Xs-d.lK.qs-1,0<d&&((b=b.lk)&&!b.nj()?(b.remove(0,d/l.Nj),this.r0=!1):this.r0=!0));}else this.uO(f.qc.Ih.AUDIO),this.uO(f.qc.Ih.VIDEO);};b.prototype.zma=function(a){this.j.Qb.set(this.Bl);a&&this.j.n9a();};b.prototype.fC=function(a,b){return b===D.kg.WA||this.j.Ya.ag&&this.yi?!1:(b=this.j.nb)&&b.fC(a)||!1;};b.prototype.z0a=function(a,b,c){a=this.NUa()||c?Math.round(b):this.qUa(b,a);k.config.vaa&&(a+=k.config.vaa);return a;};b.prototype.n1a=function(a,b){a=this.j.kn(a).Yx.fa(Z.ma)-k.config.kvb;return R.dr(b,0,a);};b.prototype.seek=function(a,b,c,f){var d,k,p,q,g;b=void 0===b?D.kg.ex:b;c=void 0===c?this.j.ca:c;f=void 0===f?!1:f;if(!this.ye()&&this.j.nb){d=b===D.kg.WA;k=this.z0a(c,d?a:this.n1a(c,a),f);d?(p=k,f=this.j.nb.Zx(c,k)):(p=this.j.nb.V2(c,k),f=k);b===D.kg.QF&&(this.j.$na=f);q=this.fC(p,b);g=(b===D.kg.ex||b===D.kg.WN)&&0<c;d=d||q||g?p:f;this.uO();p=this.Bl;this.fb.info("Seeking",{Requested:R.hh(a),Actual:R.hh(k),Cause:b,Skip:q});this.j.fireEvent(D.S.Ez,{yU:p,q9:d,cause:b,skip:q});this.j.Ob.set(D.ib.og);b!==D.kg.QF&&(this.z0(),this.ul.Zaa=!0,this.co.Zaa=!0);this.Bl=d;this.cla=f;a=this.j.zf.value;k=this.j.Le.value;this.j.zf.set(null);this.j.Le.set(null);this.zma(!0);this.j.fireEvent(D.S.Dn,{yU:p,q9:d,Xm:f,cause:b,skip:q,zf:a,Le:k,ca:c});this.yi=!0;this.gj();}};b.prototype.NUa=function(){return this.j.Ya.ag?!0:"boolean"===typeof this.j.Ya.QK?this.j.Ya.QK:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?k.config.QK&&k.config.Vlb:k.config.QK;};b.prototype.z0=function(){this.ul.xC=[];this.ul.XQ=void 0;this.ul.Ho=[];this.co.xC=[];this.co.XQ=void 0;this.co.Ho=[];this.SP=this.oO=!1;this.j.fireEvent(D.S.VT);};b.prototype.qUa=function(a,b){return this.j.nb.C0a(a,b,this.j.Ya.ag?k.config.Kqa:k.config.rs);};b.prototype.xl=function(a,b,c){var f;if(!this.xO){f=h.V.get(m.sl);this.j.sd(f(a,b,c));}};b.prototype.Wja=function(){if(!this.xO){this.fb.info("Closing.");this.xb.removeEventListener(r.Kh.rL,this.lla[r.Kh.rL]);this.xb.removeEventListener(r.Kh.$m,this.lla[r.Kh.$m]);this.rd.removeEventListener("ended",this.ef.ended);this.rd.removeEventListener("play",this.ef.play);this.rd.removeEventListener("pause",this.ef.pause);this.rd.removeEventListener("playing",this.ef.playing);q.Ce.removeListener(q.Vk,this.LG[q.Vk]);this.xO=!0;try{k.config.Aib&&(this.rd.volume=0,this.rd.muted=!0);this.B0();this.xb.close();}catch(O){}this.rd=void 0;this.z0();}};b.prototype.ye=function(){return this.xO?!0:U.Tb(this.rd)?!1:(this.fb.error("MediaPresenter not closed and _videoElement is not defined"),!0);};d.UMa=b;},function(g,d,a){var b,f,u,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(12);u=a(26);m=a(105);c=a(8);k=a(45);p=a(16);q=a(15);d.vPa=function(a){var h,G,N,R,l,n;function d(){return a.state.value===q.jb.LOADING||a.state.value===q.jb.$c&&a.Ob.value===q.ib.og;}function g(){d()?n||(n=setInterval(t,100)):n&&(clearInterval(n),n=void 0,k.zb(t));}function t(){var b,k,g,t,y,A,L,x;b=u.Wf();k=h.value;g=k?k.Qi:0;y=a.state.value==q.jb.LOADING||d()&&b-G>f.config.f0a;y&&a.state.value==q.jb.$c?(a.qQ.value===q.pf.uia?(L=g,A=!0):(t=b+(a.ek&&a.ek.mdb()||0),N=N||b,R=R||N+f.config.Zhb+1,p.pa(t)&&(t=c.xm(t,R),L=a.ek?a.ek.FGb():.99,L=c.Jh(1E3*m.dr((b-N)/(t-N),0,L))/1E3)),L<g&&(g-L<f.config.zmb/100?(L=g,l=void 0):l?b-l>f.config.ymb?(x=!0,l=void 0):L=g:(l=b,L=g))):l=R=N=void 0;b=y?{cW:A,Qi:L,Amb:x}:null;(!b||!h||!k||p.pa(b.Qi)&&!p.pa(k.Qi)||p.pa(b.Qi)&&p.pa(k.Qi)&&.01<c.YF(b.Qi-k.Qi)||b.cW!==k.cW)&&h.set(b);}h=a.e2;G=0;a.state.addListener(function(){g();t();},b.eZ);a.Ob.addListener(function(a){if(a.oldValue!==q.ib.og||a.newValue!==q.ib.og)G=u.Wf();g();});a.qQ.addListener(function(){g();});a.Rm.addListener(function(){g();});a.Gj.addListener(function(){g();});n||(n=setInterval(t,100));};},function(g,d,a){var k,p,q,t;function b(a,b,c,f,d){var k;k={};"right"==a.horizontalAlignment?k.right=100*(c-b.left-b.width-d)/c+"%":k.left=100*(b.left-d)/c+"%";"bottom"==a.verticalAlignment?k.bottom=100*(f-b.top-b.height-d)/f+"%":k.top=100*(b.top-d)/f+"%";return k;}function f(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function u(a,b,c,f,d){var k,p;k=a.style;p=q.M6(a.text);for(a=a.lineBreaks;a--;)p="<br />"+p;return m(p,k,b,c,f,d);}function m(a,b,d,q,g,m){var y;y=b.characterStyle;g=g[y];q=b.characterSize*q.height/((0<=y.indexOf("MONOSPACE")?f(g,b.cellResolution)||g.lineHeight:g.lineHeight)||1);q=0<m?t.Ww(q*m):t.Jh(q);m={"font-size":q+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(m["font-style"]="italic");b.characterUnderline&&(m["text-decoration"]="underline");b.characterColor&&(m.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(m["background-color"]=c(b.backgroundColor,b.backgroundOpacity));q=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case p.P9:m["text-shadow"]=q+" 0px 0px 7px";break;case p.Cya:m["text-shadow"]="-1px 0px "+q+",0px 1px "+q+",1px 0px "+q+",0px -1px "+q;break;case p.ukb:m["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case p.skb:m["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}m=k.iI(m);(d=d[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(m+=";"+d);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+m+'">'+a+"</span>";}function c(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(d,"__esModule",{value:!0});k=a(28);p=a(193);q=a(18);t=a(8);d.dra=function(a,b,c,f,d){var k;k="";a.textNodes.forEach(function(a){k+=u(a,c,b,f,d);});return k;};d.d8a=function(a,c,f,d,k){var p,g,y,u,A;p="";g=k.width;k=k.height;for(var m=c.length;m--;){y=c[m];u=a[m];u=u&&u.region;A="position:absolute;background:"+d+";width:"+t.Jh(y.width+2*f)+"px;height:"+t.Jh(y.height+2*f)+"px;";q.Uc(b(u,y,g,k,f),function(a,b){A+=a+":"+b+";";});p+='<div style="'+A+'"></div>';}return p;};d.c8a=b;d.ZFb=f;d.aGb=u;d.YFb=m;d.$Fb=c;d.b8a=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return k.iI(b);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);d.Gtb=function(a,d){function f(a,f,d){var m,u,h,l;if(a&&1<a.length){for(var k=[],p=[],q=0;q<a.length;q++)k[q]=0,p[q]=0;for(var g=!1,q=0;q<a.length;q++)for(var t=q+1;t<a.length;t++){u=a[q];h=a[t];if(0>u.width||0>h.width||h.left>u.left+u.width||h.left+h.width<u.left||h.top>u.top+u.height?0:h.top+h.height>=u.top){m=b.xm(u.left,h.left);l=b.xm(u.top,h.top);m={width:b.xm(b.Wn(u.left+u.width,h.left+h.width)-m,0),height:b.xm(b.Wn(u.top+u.height,h.top+h.height)-l,0),x:m,y:l};}else m=void 0;if(m&&1<m.width&&1<m.height)if(l=m.width<=m.height,u=c(a[q]),h=c(a[t]),l&&f||!l&&!f)m=b.xm(m.width/2,.25),u.x<=h.x?(p[q]-=m,p[t]+=m):(p[t]-=m,p[q]+=m);else if(l&&!f||!l&&f)u=b.xm(m.height/2,.25),k[q]-=u,k[t]+=u;}for(q=0;q<a.length;q++){if(-.25>p[q]&&0<=a[q].left+p[q]||.25<p[q]&&a[q].left+a[q].width+p[q]<=d.width)a[q].left+=p[q],g=!0;if(-.25>k[q]&&0<=a[q].top+k[q]||.25<k[q]&&a[q].top+a[q].height+k[q]<=d.height)a[q].top+=k[q],g=!0;}return g;}}function c(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,c){a.forEach(function(a){0>a.left&&a.left+a.width<c.width?a.left+=b.Wn(-a.left,c.width-(a.left+a.width)):a.left+a.width>c.width&&0<a.left&&(a.left-=b.Wn(a.left+a.width-c.width,a.left));0>a.top&&a.top+a.height<c.height?a.top+=b.Wn(-a.top,c.height-(a.top+a.height)):a.top+a.height>c.height&&0<a.top&&(a.top-=b.Wn(a.top+a.height-c.height,a.top));});}(a,d));for(var k=0;50>k&&f(a,!0,d);k++);for(k=0;50>k&&f(a,!1,d);k++);return a;};},function(g,d,a){var f,u,m,c,k;function b(a,b){this.S4=a;this.fy={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.FBa(b);this.Nra=this.hab(this.S4);}Object.defineProperty(d,"__esModule",{value:!0});f=a(19);u=a(270);m=a(269);c=a(8);k=a(18);b.prototype.sy=function(){return this.element;};b.prototype.Tpb=function(a){this.F1=a;};b.prototype.aqb=function(a){this.ce=a;this.fL();};b.prototype.dqb=function(a){this.FBa(a);this.fL();};b.prototype.fL=function(){var a,c,d,k,g,h,x,G,N,R,l,D,U,P;a=this;c=this.sy();d=c.parentElement;k=d&&d.clientWidth||0;g=d&&d.clientHeight||0;h=d=0;x={width:k,height:g};if(0<k&&0<g&&this.ce){this.F1&&(x=f.WR(k,g,this.F1),d=Math.round((k-x.width)/2),h=Math.round((g-x.height)/2));G=this.A0a(x);R=f.WR(G.width,G.height,this.F1);G=(N=this.ce.blocks)&&N.map(function(c){var d;d=m.dra(c,R,a.S4,a.Nra);c=m.b8a(c)+";position:absolute";return f.createElement("div",c,d,b.uX);});}Object.assign(this.fy,{left:d+"px",right:d+"px",top:h+"px",bottom:h+"px"});c.style.display="none";c.style.direction=this.fy.direction;c.innerHTML="";if(G&&G.length){k=x.width;d=x.height;l=x;this.SH&&(l=this.wYa(x,this.SH,g,h));this.fy.margin=this.un?this.uQ(x,"top")+"px "+this.uQ(x,"right")+"px "+this.uQ(x,"bottom")+"px "+this.uQ(x,"left")+"px ":void 0;G.forEach(function(a){return c.appendChild(a);});g=f.iI(this.fy);c.style.cssText=g+";visibility:hidden;z-index:-1";for(var h=[],n=G.length-1;0<=n;n--){D=G[n];U=N[n];P=this.Kxa(D,U,k,d);P.width>k&&(D.innerHTML=m.dra(U,x,this.S4,this.Nra,k/P.width),P=this.Kxa(D,U,k,d));h[n]=P;}h=u.Gtb(h,l);if(n=N&&N[0]&&N[0].textNodes&&N[0].textNodes[0]&&N[0].textNodes[0].style)l=n.windowColor,n=n.windowOpacity,l&&0<n&&(x=m.d8a(N,h,Math.round(d/50),l,x),x=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+n,x,b.uX),c.insertBefore(x,c.firstChild));c.style.display="none";for(x=h.length-1;0<=x;x--)l=G[x].style,n=m.c8a(N[x].region,h[x],k,d,0),Object.assign(l,n);c.style.cssText=g;}};b.prototype.Vaa=function(a){this.SH=a;this.fL();};b.prototype.i6=function(){return this.SH;};b.prototype.Waa=function(a){this.un=a;this.fL();};b.prototype.j6=function(){return this.un;};b.prototype.k6=function(){return"block"===this.fy.display;};b.prototype.Xaa=function(a){a=a?"block":"none";this.element.style.display=a;this.fy.display=a;};b.prototype.hab=function(a){var b,c;b=this;c={};k.Uc(a,function(a,f){c[a]=b.whb(f);});return c;};b.prototype.FBa=function(a){this.fy.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.uQ=function(a,b){if(this.un){if("left"===b||"right"===b)return a.width*(this.un[b]||0);if("top"===b||"bottom"===b)return a.height*(this.un[b]||0);}return 0;};b.prototype.A0a=function(a){return this.un?{height:a.height*(1-(this.un.top||0)-(this.un.bottom||0)),width:a.width*(1-(this.un.left||0)-(this.un.right||0))}:a;};b.prototype.whb=function(a){var d;a=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.uX);c.Ld.body.appendChild(a);d={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};c.Ld.body.removeChild(a);return d;};b.prototype.Kxa=function(a,b,c,f){var d,k,q,p,g;d=b.region;k=(d.marginTop||0)*f;q=(d.marginBottom||0)*f;p=(d.marginLeft||0)*c;g=(d.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(d.verticalAlignment){case"top":f=k;break;case"center":f=(k+f-q-a)/2;break;default:f=f-q-a;}switch(d.horizontalAlignment){case"left":c=p;break;case"right":c=c-g-b;break;default:c=(p+c-g-b)/2;}return{top:f,left:c,width:b,height:a};};b.prototype.wYa=function(a,b,c,f){return{height:c-Math.max(f,b.bottom|0)-Math.max(f,b.top|0),width:a.width};};b.uX={"class":"player-timedtext-text-container"};d.GRa=b;},function(g,d,a){var b,f,u,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(49);f=a(53);u=a(19);m=a(18);c=a(4);k=a(51);p=a(106);q=a(15);d.CPa=function(a){var U,P,r,Z,ea,Y,O,W,va,wa;function d(){O||(N(),a.Yg.appendChild(U),O=!0);}function g(){O&&(a.Yg.removeChild(U),O=!1);}function t(){O?g():d();}function h(){var f,d,k;function b(a,b,c){var f,d,k;k=[];b.filter(function(b){return b.ff===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===f?f=a.P:d=a.P,void 0===d&&(d=a.P)):void 0!==f&&void 0!==d&&(k.push({min:f,max:d}),f=d=void 0);});void 0!==f&&void 0!==d&&(k.push({min:f,max:d}),f=d=void 0);return k;}function c(a,b,c){var f;f=[];b.filter(function(b){return b.ff===a;}).forEach(function(a){-1===c.indexOf(a)&&f.push({stream:{bitrate:a.P},disallowedBy:["manual"]});});return f;}f=a.lo();d=a.yy().sort(function(a,b){return a.P-b.P;});k=d.reduce(function(a,b){0>a.indexOf(b.ff)&&a.push(b.ff);return a;},[]).map(function(a){return{profile:a,ranges:b(a,d,f),disallowed:c(a,d,f)};});a.nb.RV(k,a.ca);}function G(){return a.yy().filter(function(a){return W[a.P];});}function N(){var c,f,d;c=a.Nc.value;f=a.Df.value;d=a.Ei;c&&(d=d.slice(),d.sort(function(a,b){return a.fe-b.fe;}),n(Z,c.oc.map(function(b){return{value:b.P,caption:b.P,selected:b==a.ij.value};})));f&&(n(ea,f.oc.map(function(b){var c,f;c=a.mK.ft(b);b=b.P;f=""+b;c&&(f+=" ("+c.join("|")+")");return{value:b,caption:f,selected:a.lo!=G?!c:W[b]};})),ea.removeAttribute("disabled"));d&&(n(Y,d.map(function(c){return{value:c.id,caption:"["+c.id+"] "+c.name,selected:c==a.Wb[b.qc.L.VIDEO].value};})),Y.removeAttribute("disabled"));}function l(){O&&N();}function S(a){var b,c;b=u.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=u.createElement("DIV",void 0,a);c=u.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);P.appendChild(b);return c;}function n(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=u.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});}function D(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==p.$q.rQa&&va.w7&&t();}U=u.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});P=u.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");r=u.createElement("DIV","width:100%;text-align:center");Z=S("Audio Bitrate");ea=S("Video Bitrate");Y=S("CDN");W={};va=c.V.get(k.vm);U.appendChild(P);P.appendChild(r);wa=u.createElement("BUTTON",void 0,"Override");wa.addEventListener("click",function(){var d,k,c,f;W={};for(var c=ea.options,f=c.length;f--;){d=c[f];d.selected&&(W[d.value]=1);}a.lo=G;h();if(c=a.Ei){k=Y.value;c=c.filter(function(a){return a.id==k;})[0];f=a.Wb[b.qc.L.VIDEO].value;c&&c!=f&&(c.LEb={testreason:"streammanager",selreason:"userselection"},a.Wb[b.qc.L.VIDEO].set(c));}g();},!1);r.appendChild(wa);wa=u.createElement("BUTTON",void 0,"Reset");wa.addEventListener("click",function(){delete a.lo;h();g();},!1);r.appendChild(wa);f.Ce.addListener(f.zy,D);a.addEventListener(q.S.tn,function(){W={};});a.addEventListener(q.S.Ie,function(){f.Ce.removeListener(f.zy,D);});a.Wb.forEach(function(a){a.addListener(l);});a.Nc.addListener(l);a.Df.addListener(l);m.Wa(this,{toggle:t,show:d,nD:g});};},function(g,d,a){var b,f,u,m,c,k,p,q,t;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(26);u=a(2);m=a(173);c=a(8);k=a(16);p=a(15);q=a(4);t=a(130);d.lLa=function(a){var g,h,A,N;function d(){a.state.value!==p.jb.$c||a.Ob.value!==p.ib.oi&&a.Ob.value!==p.ib.Wq?h.Zg():h.us();}g=b.config.Pkb;if(!a.vD()&&g){h=q.V.get(t.ZA)(g,function(){a.fireEvent(p.S.pD,u.I.LN);});a.Ob.addListener(d);a.state.addListener(d);if(b.config.V6){N=f.Wf();A=new m.nia(b.config.V6,function(){var d,k;d=f.Wf();k=d-N;k>g&&(a.fireEvent(p.S.pD,u.I.wN),A.A2());k>2*b.config.V6&&(a.W6=c.xm(k,a.W6||0));N=d;});A.Yaa();}a.addEventListener(p.S.Ie,function(){h.Zg();k.Tb(A)&&A.A2();});}};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);f=a(69);d.oKa=function(a){function d(c){a.fireEvent(b.S.Ru,{response:c});}return{download:function(b,k){b.j=a;b=f.Gd.download(b,k);b.Gma(d);return b;}};};},function(g,d,a){var f;function b(a,b){var c;c=this;this.dta=a;this.dya=b;this.Qba=!1;this.Qs=function(){c.ol=void 0;c.update();};}Object.defineProperty(d,"__esModule",{value:!0});f=a(19);b.prototype.update=function(a){var b,c,d;b=this.dta();if(this.ODa!==b){f.Tb(b)&&f.Tb(this.duration)&&b<this.duration&&this.entries&&(d=this.Gxa||this.entries[Math.floor(b*this.Jsb)]||this.entries[0]);if(d){for(;d&&d.endTime<b;)d=d.next;for(;d&&d.previous&&d.previous.endTime>=b;)d=d.previous;}d&&(d.startTime<=b&&b<=d.endTime?(c=d,this.JDa(d.endTime-b)):this.JDa(d.startTime-b));this.Gxa=d;this.ODa=b;this.g1!==c&&(this.g1=c,!a&&this.dya&&this.dya());}};b.prototype.start=function(){this.Qba=!0;this.update();};b.prototype.GBa=function(a){this.Gxa=this.g1=this.ODa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(da(a.map(function(a){return a.endTime;}))))||0;this.Jsb=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.Qba=!1;this.Zg();};b.prototype.S9a=function(){this.update(!0);return this.g1;};b.prototype.JDa=function(a){this.Zg();this.Qba&&0<a&&(this.ol=setTimeout(this.Qs,a+b.uNa));};b.prototype.Zg=function(){this.ol&&(clearTimeout(this.ol),this.ol=void 0);};b.uNa=10;d.LRa=b;},function(g,d,a){var b,f,u;Object.defineProperty(d,"__esModule",{value:!0});a(69);b=a(68);a(26);f=a(14);u=a(45);a(16);a(15);d.FPa=function(){var d,p,q,g,h;function a(){h=!1;for(var a=d.length,b;a--;)b=d[a],g[b]&&(g[b]=!1,q.Ib(b+"changed",{getModel:p[b]}));}function c(b){g[b]=!0;h||(h=!0,u.zb(a));}d=[];p={};q=new b.Lj();g={};h=!1;return{register:function(a,b){f.Ga(!(0<=d.indexOf(a)),"panel already registered");p[a]=b;d.push(a);},zIb:c,IGb:function(a){return(a=p[a])?a():void 0;},addEventListener:function(a,b){q.addListener(a,b);p[a]&&c(a);},removeEventListener:function(a,b){q.removeListener(a,b);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nfa="LicenseBrokerFactorySymbol";},function(g,d,a){var b,f,u,m,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(12);g=a(2);u=a(4);m=a(19);c=a(8);a=a(20);u.V.get(a.Fe).register(g.I.bfa,function(a){var q,g,h;function k(){h&&clearTimeout(h);a(b.xc);k=m.le;}q=u.Kf("BatteryManager");d.Zr={kGa:"chargingchange",Ysa:function(){return g?g.level:null;},p5:function(){return g?g.charging:null;},addEventListener:function(a,b){g&&g.addEventListener(a,b);},removeEventListener:function(a,b){g&&g.removeEventListener(a,b);}};if(f.config.$H){h=setTimeout(k,f.config.i$a);try{c.sk.getBattery().then(function(a){g=a;k();})["catch"](function(a){q.error("getBattery promise rejected",a);k();});}catch(y){q.error("exception on getBattery api call",y);k();}}else k();});},function(g,d,a){var p,q,t,h,y,L,x,G;function b(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function f(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function u(a,c,d){var k;if("string"===typeof a)return u.call(this,b(a),c,d);k=0;Object.keys(a).forEach(function(b){var q,g,t;q=y[b];g=a[b];if(q){if(t=L[b]||G[typeof p[q]])try{g=t(g);}catch(Z){d&&d.error("Failed to convert value '"+g+"' for config '"+b+"' : "+Z.toString());return;}t=h[q];this[q]=g;h[q]!==t&&(d&&d.debug("Config changed for '"+b+"' from "+f(t)+" ("+typeof t+") to "+f(g)+" ("+typeof g+")"),++k);}else c?(q=(q=x[b])?q.filter(function(a){return a[0]!==this;},this):[],q.push([this,g]),x[b]=q):d&&d.error("Attempt to change undeclared config option '"+b+"'");},this);k&&h.emit("changed");return k;}function m(){return Object.keys(y).reduce(function(a,b){var c,f;c=y[b];f=a[c];f?(f.push(b),a[c]=f.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function c(a,b){return a.hasOwnProperty(b)?f(a[b]):void 0;}function k(a,b){return"undefined"===typeof a?b:a;}d=a(48);a=a(25).EventEmitter;p={};q=Object.create(p);t=Object.create(q);h=Object.create(t);y={};L={};x={};h.declare=function(a){Object.keys(a).forEach(function(b){var c,f,d,k;c=a[b];f=c[0];d=c[1];k=c[2];if(p.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof f&&(f=[f]);f.forEach(function(a){var c;if(y.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");p.hasOwnProperty(b)||("function"===typeof d&&(d=d()),p[b]=d);y[a]=b;"function"===typeof k&&(L[a]=k);if(c=x[a])c.forEach(function(b){var c,f;c=b[0];f={};f[a]=b[1];u.call(c,f,!1);}),delete x[a];});});return h;};G={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};h.set=u.bind(q);h.$D=u.bind(t);h.dump=function(a,b){var g,u,A,L;function d(){L&&a&&a.log("===========================================");}g=Object.keys(x).sort();u={};A=m();b=k(b,!0);Object.keys(y).sort().forEach(function(g){var m,x,G;g=y[g];!u[g]&&(u[g]=!0,x=c(q,g),G=c(t,g),b||"undefined"!==typeof x||"undefined"!==typeof G)&&(m=A[g].join(","),m+=" = "+f(h[g])+" ("+typeof h[g]+") [",m+=k(G,"<unset>")+",",m+=k(x,"<unset>")+",",m+=c(p,g)+"]",L||(L=!0,a&&a.log("Current config values"),d()),a&&a.log(m));});(b||g.length)&&a&&a.log("<undeclared> :",g);d();};h.Lp=function(a){var b,c;b={};c={};Object.keys(y).forEach(function(a){a=y[a];c[a]||(c[a]=!0,b[a]=h[a]);});a&&u.call(b,a);return b;};h.Nya=function(){var a;a=m();return Object.getOwnPropertyNames(q).reduce(function(b,c){b[a[c][0]]=q[c];return b;},{});};h.reset=function(){Object.keys(q).forEach(function(a){delete q[a];});};h.Al={};d(a,h);g.T=Object.freeze(h);},function(g,d,a){var f,u,m,c,k;function b(a){var b,d;b=c.platform;f.Kf("MediaSourceASE").trace("Inside MediaSourceASE");d=a.N5();this.readyState=k.bc.CLOSED;this.sourceBuffers=d.sourceBuffers;this.addSourceBuffer=function(a){return d.addSourceBuffer(a);};this.l1=function(a){return d.l1(a);};this.removeSourceBuffer=function(a){return d.removeSourceBuffer(a);};this.cn=function(a){return d.cn(a);};this.sourceId=b.oJ();b.GJ();this.duration=void 0;d.Spb(this.sourceId);this.readyState=k.bc.OPEN;this.Sc=u.V.get(m.cf).gk(k.Sc,{});}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);u=a(4);m=a(22);c=a(49);Object.defineProperty(b.prototype,"duration",{get:function(){return this.Fm;},set:function(a){var b;this.Fm=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.Fm=b;});}});k={bc:{CLOSED:0,OPEN:1,Wq:2,name:["CLOSED","OPEN","ENDED"]},Sc:{Noa:!0}};d.XMa=Object.assign(b,k);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aha="PboPairCommandSymbol";},function(g,d,a){var b,f,u,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(338);u=a(21);m=a(19);c=a(178);k=a(281);p=a(91);q=a(2);d.dHa=function(a){var l,S,n,D,U;function d(a,b,c){return new Promise(function(f,d){l.send(a,b,!1,void 0).then(function(a){c?f(c(a)):f({W:!0});})["catch"](function(c){var f,k;try{f=JSON.stringify(c.vs);}catch(wa){}k={method:a.method,success:c.W};S.Nl(f)&&(k.errorData=f);S.Nl(c.Y)&&(k.errorSubCode=c.Y);S.Nl(c.Gc)&&(k.errorExternalCode=c.Gc);S.Nl(c.Sa)&&(k.errorDetails=c.Sa);S.Nl(c.en)&&(k.errorDisplayMessage=c.en);b.log.error("Processing EDGE response failed",k);c.__logs&&b.log.error(c.__logs);d(c);});});}function g(b){return U.Swa?n.We(a,b.profile,{},b).then(function(a){return{I4a:a.customerGUID,W:!0};}):d({method:"bind",isExclusive:!0},b,function(a){return{I4a:a.customerGUID,W:!0};});}function t(b,c){var f;f={method:"pair",targetuuid:b.HCa,cticket:b.G4a,nonce:b.Qib,controlleruuid:b.jpa,pairdatahmac:b.NIb};return U.P8?D.We(a,c.profile,f).then(function(a){return{W:!0,tcb:{nonce:a.nonce,controlleruuid:b.jpa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.HCa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},ucb:a.grantDataHmac};})["catch"](function(a){var b;switch(a&&a.ey){case"MDX_CONTROLLER_CTICKET_INVALID":b=q.SY.UNa;break;default:b=q.SY.VNa;}return{W:!1,TI:b,en:a.data};}):d(f,c,function(a){return{W:!0,tcb:{nonce:a.nonce,controlleruuid:b.jpa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.HCa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},ucb:a.grantDataHmac};});}function h(a,b){g(a).then(function(a){b(a);})["catch"](function(a){b(a);});}function G(b,c,f){t(b,c).then(function(a){f(a);})["catch"](function(b){var c,d;if(!U.P8){d="";if(b.vs)try{c=JSON.parse(b.vs);c.error_message?d=c.error_message.replace("com.netflix.streaming.nccp.handlers.mdx.MdxException: ",""):c.implementingClass&&(d=c.implementingClass);}catch(W){a.error("Failed to parse Pairing errorData",{vs:c});}m.Wa(b,N(d));}f(b);});}function N(a){switch(a){case"MDX_ERROR_CONTROLLER_CTICKET_EXPIRED":return{ER:5,TI:21,HR:void 0,en:void 0,FR:void 0};case"MDX_ERROR_CONTROLLER_REQUEST_HMAC_FAILURE":return{ER:2,TI:20,HR:void 0,en:void 0,FR:void 0};case"MDX_ERROR_INVALID_CONTROLLER_REQUEST":return{ER:2,TI:10,HR:void 0,en:void 0,FR:void 0};case"com.netflix.api.service.mdx.MdxPairDependencyCommand":return{ER:2,TI:13,HR:void 0,en:void 0,FR:void 0};default:return{ER:4,TI:30,HR:void 0,en:void 0,FR:void 0};}}l=b.V.get(f.Ega);S=b.V.get(u.ue);n=b.V.get(c.nZ);D=b.V.get(k.Aha);U=b.V.get(p.ax);m.Wa(this,{U1:g,OFb:function(a,b){a=Object.assign({},a);a.profile=void 0;h(a,b);},ez:h,vJb:function(a,b,c,f){h(Object.assign({ez:b,JV:c},a),f);},uJb:function(a,b,c,f){h(Object.assign({uR:b,password:c},a),f);},aIb:G,bIb:function(a,c,f){var q;function d(b){G(a,c,function(a){a.W?(a.ez=b.ez,a.JV=b.JV,a.Fib=b.Fib,a.gpb=b.gpb,f(a)):f(b);});}function k(a){g(q).then(function(a){a&&a.W?d(a):f(a);})["catch"](function(b){a?k(!1):f(b);});}q=Object.assign({Twa:a.G4a,shb:a.Z9,rhb:a.Qib,qhb:a.jFb,thb:b.Kk(a.wJb)},c);k(!0);},bKb:function(a,b,c,f){S.pH(c)&&!m.Tb(f)&&(f=c,c=void 0);nrdp&&nrdp.registration&&nrdp.registration.deactivateAll(function(){h(Object.assign({xhb:"GOOGLE_JWT",gDa:b,vz:c},a),f);});}});};},function(g,d,a){var b,f,u,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(284);f=a(4);u=a(403);m=a(22);d.Crb=function(a){a({W:!0,storage:new b.Mfa(f.V.get(u.Ofa),f.V.get(m.cf))});};},function(g,d){function a(a,f){this.Dp=a;this.Vd=f;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.load=function(b,f){var d;d=this;this.Dp.load(b).then(function(b){f&&f(a.zCa(b));})["catch"](function(a){f&&f(d.TC(b,a));});};a.prototype.save=function(b,f,d,g){var c;c=this;this.Dp.save(b,f,d).then(function(){g&&g(a.zCa({key:b,value:f}));})["catch"](function(a){g&&g(c.TC(b,a));});};a.prototype.remove=function(a,f){var b;b=this;this.Dp.remove(a).then(function(){f&&f({W:!0,iW:a});})["catch"](function(d){f&&f(b.TC(a,d));});};a.zCa=function(a){return{W:!0,data:a.value,iW:a.key};};a.prototype.TC=function(a,f){return{W:!1,iW:a,Y:f.Y,Sa:f.cause?this.Vd.ud(f.cause):void 0};};d.Mfa=a;},function(g,d,a){var b,f,u,m,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(63);u=a(22);m=a(284);c=a(401);d.Brb=function(a){b.V.get(f.fp).create().then(function(f){a({W:!0,storage:new m.Mfa(f,b.V.get(u.cf)),oo:b.V.get(c.aea)});})["catch"](function(b){a(b);});};},function(g,d,a){var b,f,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(4);u=a(2);a(18);d.Drb=function(a){var c;f.Kf("Storage");c={};a({W:!0,storage:{load:function(a,b){c.hasOwnProperty(a)?b({W:!0,data:c[a],iW:a}):b({Y:u.u.np});},save:function(a,b,f,d){f&&c.hasOwnProperty(a)?d({W:!1}):(c[a]=b,d&&d({W:!0,iW:a}));},remove:function(a,f){delete c[a];f&&f(b.xc);}}});};},function(g,d,a){var f,u,m,c,k,p,q,t,h,y,L,x,G,N,l,S,n,D,U,P,r,Z,ea,Y,O,W,va,wa,M,ja,ka,ra,xa,la,Fa,E,C,eb,Q,Ua,T,Ra,Wa,dc,sa,aa,ca,da,qc,ib,ud,Ie,Za,fa,ha,ga,ma,oa,na,pa;function b(a,b,c,d){var g,u,h,A;function k(a){a.newValue!==sa.ib.og&&a.newValue!==sa.ib.oi&&(g.Ob.removeListener(k),g.rD=g.Ra.Maa,g.Hb.Ib(sa.S.wj));}function p(a){a.newValue!==sa.ib.og&&(g.Ob.removeListener(p),g.Zya=g.Ra.Ve.fa(O.ma));}g=this;this.qv=d;this.Vs=[];this.Nu=0;this.Nc=new x.Lc(null);this.Df=new x.Lc(null);this.vc=new x.Lc(null);this.Di=new x.Lc(null);this.Fq=new x.Lc(void 0);this.te=new x.Lc(null);this.ij=new x.Lc(null);this.Qb=new x.Lc(void 0);this.gca=function(a){return g.Nc.set(a.newValue);};this.gub=function(a){return g.Df.set(a.newValue);};this.dub=function(a){return g.vc.set(a.newValue);};this.Ntb=function(a){return g.Di.set(a.newValue);};this.cub=function(a){return g.Fq.set(a.newValue);};this.fub=function(a){return g.te.set(a.newValue);};this.Otb=function(a){return g.ij.set(a.newValue);};this.Ytb=function(a){return g.Le.set(a.newValue);};this.Xtb=function(a){return g.zf.set(a.newValue);};this.Ttb=function(a){return g.Qb.set(a.newValue);};this.ED={};this.eaa=this.Uba=0;this.Hb=new N.Lj();this.BM={};this.mla=0;this.fQ=void 0;this.Mgb=ea.V.get(oa.nga);this.gwa=ea.V.get(eb.Xfa);this.Jc=ea.V.get(pa.$A);this.af=ea.V.get(t.sl);this.fW=!1;this.state=new x.Lc(sa.jb.OA);this.rq=new x.Lc(!1);this.paused=new x.Lc(!1);this.muted=new x.Lc(!1);this.volume=new x.Lc(G.config.B5a/100);this.playbackRate=new x.Lc(1);this.Ob=new x.Lc(sa.ib.og);this.qQ=new x.Lc(sa.pf.Ij);this.Rm=new x.Lc(sa.pf.Ij);this.Gj=new x.Lc(sa.pf.Ij);this.zf=new x.Lc(null);this.Le=new x.Lc(null);this.e2=new x.Lc(null);this.BJ=y.oKa(this);this.UT=[];this.Wb=[];this.S1={};this.yQ=0<=xa.Kda.indexOf("cast")?ea.V.get(Y.rda):void 0;this.vR=this.Qqa=!1;this.Krb=this.va=this.Dg=-1;this.a6=function(a,b){a=void 0===a?null:a;return Fa.pa(a)?g.nb?g.nb.Zx(b,a):a:null;};this.eya=function(){g.mba();};this.Nmb=this.qv.pC();this.addEventListener=this.Hb.addListener;this.removeEventListener=this.Hb.removeListener;this.fireEvent=this.Hb.Ib;d=G.config.Cn&&this.Jc()?this.Jc().n6(a):void 0;this.Uma(a,c||{},d,b);this.iQ=ea.V.get(na.Fe);this.log=ea.$f(this);this.ya=ea.V.get(Ie.Oe);this.Ra=ea.V.get(Wa.Kj);this.B_a=ea.V.get(Z.cda)(this);this.Yg=T.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,{id:this.M});this.Qdb();u=ea.V.get(fa.YA)(O.Eg(1));this.bVa=ea.V.get(aa.mga);this.Pd=this.log.h3("Playback");this.rlb=m.pPa(this);this.M3=q.FPa();n.mG.sib=this;n.mG.P4||(n.mG.P4=this);this.Pd.info("Playback created",this.cg);this.e8?this.Pd.info("Playback selected for trace playback info logging"):this.Pd.trace("Playback not selected for trace playback info logging");G.config.Cn&&this.Jc()&&(this.Jc().Icb(this.M),this.addEventListener(sa.S.wj,function(){g.Jc().Jcb(g.M);g.vc.addListener(function(){g.Jc().Sta();});g.Nc.addListener(function(){g.Jc().Sta();});}),this.addEventListener(sa.S.Ie,function(){g.Jc().Hcb(g.M);}));this.state.addListener(function(a){g.Pd.info("Playback state changed",{From:a.oldValue,To:a.newValue});ja.Ga(a.newValue>a.oldValue);});S.Ce.addListener(S.Vk,this.eya,L.eZ);this.Qb.addListener(function(){u.Jb(function(){return g.Gra();});});A=!1;this.paused.addListener(function(a){var b;b=g.nb;!a.x9&&b&&(!0===a.newValue?b.paused&&b.paused():b.yW&&b.yW());a.newValue||(A=!1);g.Pd.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.hh(g.Qb.value)});});this.addEventListener(sa.S.Ez,function(a){g.ha.cl.djb(a.yU,a.q9);});this.Ob.addListener(function(a){g.Pd.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.hh(g.Qb.value)},g.LD());});this.Ob.addListener(function(){g.rq.set(g.Ob.value===sa.ib.ad);});this.qQ.addListener(function(a){g.Pd.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.hh(g.Qb.value)},g.LD());});this.Rm.addListener(function(a){g.Pd.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.hh(g.Qb.value)},g.LD());});this.Gj.addListener(function(a){g.Pd.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.hh(g.Qb.value)},g.LD());});this.Nc.addListener(function(a){ja.Ga(a.newValue);g.Pd.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.Wj,To:a.newValue.eb},a.oldValue&&{FromBcp47:a.oldValue.Wj,From:a.oldValue.eb},{MediaTime:ka.hh(g.Qb.value)});});this.Df.addListener(function(){for(var a=g.yy(),b=a.length,c=0;c<b;c++)a[c].lower=a[c-1],a[c].ddb=a[c+1];});this.vc.addListener(function(a){g.Pd.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Wj,To:a.newValue.eb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Wj,From:a.oldValue.eb}:{From:"none"},{MediaTime:ka.hh(g.Qb.value)});});this.Wb[f.qc.L.AUDIO]=new x.Lc(null);this.Wb[f.qc.L.VIDEO]=new x.Lc(null);this.Ob.addListener(p,L.RA);this.Ob.addListener(k);this.addEventListener(sa.S.wj,function(){var a,b,c,f;g.fW=!0;g.Pc("start");a=g.Le.value;b=J._cad_global.prefetchEvents;if(b){c=O.Cb(g.Wl?g.Wl.audio:0);f=O.Cb(g.Wl?g.Wl.video:0);b.fl(g.M,g.oa,"notcached"!==g.Fu,"notcached"!==g.Ux,!!g.Wl,c,f);}g.dT=a.stream.P;});r.vPa(this);n.gr.push(this);G.config.gL&&(this.RU=new Ra.yPa(this),this.Clb=new U.CPa(this));n.Pha.forEach(function(a){a(g);});this.WYa=function(a){g.addEventListener(sa.S.Ez,function(b){b=b.cause;b!==sa.kg.QF&&b!==sa.kg.WA&&a.stop();});g.addEventListener(sa.S.Dn,function(b){var c,f,d,k,q;c=b.cause;f=b.skip;d=b.q9;k=b.yU;q=b.ca;b=b.Xm;if(c!==sa.kg.WA&&(G.config.l9a&&c===sa.kg.WN&&g.nl.g2(),c!==sa.kg.QF))if(f)if(a.fC(d)){g.Pd.trace("Repositioned. Skipping from "+k+" to "+d);try{a.Ri(d);a.play();}catch(rc){g.log.error("streamingSession.skipped threw an exception",rc);c=Za.Qc.fS(W.I.FEa,rc);g.cm(c.code,c);}}else g.log.error("can skip returned false");else{g.Pd.trace("Repositioned. Seeking from "+k+" to "+d);try{a.AE(b,q);}catch(rc){g.log.error("streamingSession.seekByContentPts threw an exception",rc);c=Za.Qc.fS(W.I.DEa,rc);g.cm(c.code,c);}}});a.addEventListener("segmentStarting",function(a){g.fireEvent(sa.S.spb,a);});a.addEventListener("lastSegmentPts",function(a){g.fireEvent(sa.S.ppb,a);});a.addEventListener("segmentPresenting",function(a){g.fireEvent(sa.S.uL,a);});a.addEventListener("segmentAborted",function(a){g.fireEvent(sa.S.npb,a);});a.addEventListener("manifestPresenting",function(a){g.uwa({index:a.index,r$:a.previousIndex,sD:!1});});a.addEventListener("skip",function(a){g.fireEvent(sa.S.Ri,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(g.Pd.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),g.Pd.trace("StreamingFailure, buffer status:"+JSON.stringify(g.LD())),G.config.F8a&&!g.fW&&la.zb(function(){g.sd(g.af(W.I.EEa,{Y:a.nativeCode,Sa:a.errormsg,Vh:a.httpCode,pU:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){g.UT.push(a);});a.addEventListener("bufferingStarted",function(){g.Rm.set(sa.pf.Ij);});a.addEventListener("locationSelected",function(a){g.fireEvent(sa.S.bq,a);});a.addEventListener("serverSwitch",function(a){var b;g.fireEvent(sa.S.GE,a);"video"===a.mediatype?b=f.qc.L.VIDEO:"audio"===a.mediatype&&(b=f.qc.L.AUDIO);Fa.Tb(b)&&g.Wpb(a.server,b);});a.addEventListener("bufferingComplete",function(b){g.Pd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},g.LD());g.Um=b;g.Rm.set(sa.pf.$c);h||(h=!0,g.Pc("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.Cjb();G.config.Nkb&&!g.paused.value&&(A=!0,g.paused.set(!0,{x9:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){g.paused.value&&A&&(A=!1,g.paused.set(!1,{x9:!0}));g.zg.fjb();});a.addEventListener("endOfStream",function(a){g.zg.yK(a);});a.addEventListener("asereportenabled",function(){g.vR=!0;});a.addEventListener("asereport",function(a){g.fireEvent(sa.S.$B,a);});a.addEventListener("aseexception",function(a){g.fireEvent(sa.S.ZB,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=Fa.pa(g.Ze)?0:g.Ze;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});g.H6={iob:c,ndb:a.hptwbr,sua:a.htwbr,NU:a.pbtwbr};a.rr&&(g.H6.SAa=a.rr);a.ra&&(g.H6.Vmb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;g.va=a.location.bandwidth;g.Dg=a.location.httpResponseTime;g.Krb=a.stat.streamingBitrate;b&&(void 0===g.Sx&&(g.Sx={interval:G.config.cC,startTime:b.startTime,Ur:[],tt:[]}),g.Sx.Ur=g.Sx.Ur.concat(b.Ur),g.Sx.tt=g.Sx.tt.concat(b.tt));a.psdConservCount&&(g.Dza=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+g.M&&(g.Wl=a);});a.addEventListener("startEvent",function(a){J._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&J._cad_global.prefetchEvents.XH(va.we.Wi.MEDIA,g.M);});a.addEventListener("requestComplete",function(a){(a=(a=a&&a.mediaRequest)&&a.kC&&a.kC.cadmiumResponse)&&g.fireEvent(sa.S.Ru,{response:a});});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===f.qc.L.VIDEO?(c=g.cua(a.streamId),b=g.te):a.mediaType===f.qc.L.AUDIO&&(c=g.Wta(a.streamId),b=g.ij);c&&b?b.set(c,{Foa:a.movieTime,x_a:a.bandwidth}):g.Pd.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=g.ED[a.target];c=Fa.pa(g.Ze)?g.Ze:0;b||(b=g.ED[a.target]={});Object.keys(a.fields).forEach(function(f){var d,k,g,q;d=a.fields[f];if("object"!==typeof d||null===d)b[f]=d;else{k=d.type;if("count"===k)void 0===b[f]&&(b[f]=0),++b[f];else if(void 0!==d.value)if("array"===k){k=b[f];g=d.adjust;q=d.value;k||(k=b[f]=[]);g&&0<g.length&&g.forEach(function(a){q[a]-=c||0;});k.push(q);}else"sum"===k?(void 0===b[f]&&(b[f]=0),b[f]+=d.value):b[f]=d.value;else b[f]=d;}});}});};this.Nc.addListener(function(a){var b;if(g.nb)if(a.Ou&&a.Ou.reset)g.Pd.trace("ASE previously rejected the audio track switch, resetted!");else{b=a.newValue;g.nb.msb({aC:b.Ey,toJSON:function(){return b.cg;}})?g.Pd.trace("ASE accepted the audio track switch"):(g.Pd.trace("ASE rejected the audio track switch"),a.oldValue.Ey!==b.Ey&&g.Nc.set(a.oldValue,{reset:!0}));}});this.addEventListener(sa.S.ho,function(a){a.cause==n.Lha&&(g.qQ.set(sa.pf.Ij),g.nb.Itb(g.zg.Osa()));});}Object.defineProperty(d,"__esModule",{value:!0});f=a(49);u=a(182);m=a(181);c=a(122);k=a(278);p=a(566);q=a(276);t=a(61);h=a(565);y=a(274);L=a(9);x=a(176);G=a(12);N=a(68);l=a(273);S=a(53);n=a(56);D=a(89);U=a(272);P=a(562);r=a(268);Z=a(288);ea=a(4);Y=a(221);O=a(3);W=a(2);va=a(112);wa=a(22);M=a(220);ja=a(14);ka=a(105);ra=a(18);xa=a(33);la=a(45);Fa=a(16);E=a(104);C=a(267);eb=a(324);Q=a(127);Ua=a(174);T=a(19);Ra=a(266);Wa=a(42);dc=a(39);sa=a(15);aa=a(397);ca=a(177);da=a(189);qc=a(60);ib=a(123);ud=a(290);Ie=a(23);Za=a(55);fa=a(96);ha=a(90);ga=a(180);ma=a(264);a(84);oa=a(383);na=a(20);pa=a(107);b.prototype.Pc=function(a){this.ha.Pc(a);};b.prototype.rv=function(a){this.ha.rv(a);};b.prototype.Qdb=function(){var a;a=this;this.Nc.addListener(function(b){return a.ha.Nc.set(b.newValue);});this.Df.addListener(function(b){return a.ha.Df.set(b.newValue);});this.vc.addListener(function(b){return a.ha.vc.set(b.newValue);});this.Di.addListener(function(b){return a.ha.Di.set(b.newValue);});this.Fq.addListener(function(b){return a.ha.Fq.set(b.newValue);});this.te.addListener(function(b){return a.ha.te.set(b.newValue);});this.ij.addListener(function(b){return a.ha.ij.set(b.newValue);});this.Le.addListener(function(b){return a.ha.Le.set(b.newValue);});this.zf.addListener(function(b){return a.ha.zf.set(b.newValue);});this.Qb.addListener(function(b){return a.ha.Qb.set(b.newValue);});this.OAa();};b.prototype.OAa=function(){this.ha!==this.Aaa&&(this.ha.Qb.set(this.Qb.value),this.Mq(function(a){return a.Nc;},this.gca),this.Mq(function(a){return a.Df;},this.gub),this.Mq(function(a){return a.Fq;},this.cub),this.Mq(function(a){return a.vc;},this.dub),this.Mq(function(a){return a.Di;},this.Ntb),this.Mq(function(a){return a.te;},this.fub),this.Mq(function(a){return a.ij;},this.Otb),this.Mq(function(a){return a.zf;},this.Xtb),this.Mq(function(a){return a.Le;},this.Ytb),this.Mq(function(a){return a.Qb;},this.Ttb),this.vc.set(this.ha.vc.value),this.Nc.set(this.ha.Nc.value),this.Df.set(this.ha.Df.value),this.Di.set(this.ha.Di.value),this.Fq.set(this.ha.Fq.value),this.te.set(this.ha.te.value),this.ij.set(this.ha.ij.value),this.Aaa=this.ha);};b.prototype.Mq=function(a,b){this.Aaa&&a(this.Aaa).removeListener(b);a(this.ha).addListener(b);};b.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.dza=a;if(this.state.value==sa.jb.OA){this.Pd.info("Playback loading",this);this.$ib();this.Pc("asl_load_start");a=this.iQ;c=a.endTime;Fa.Tb(a.startTime)?Fa.Tb(c)?this.Pc("asl_ended"):this.Pc("asl_in_progress"):this.Pc("asl_not_started");this.iQ.aK(function(a){b.Pc("asl_load_complete");a.W?b.Y3a():b.cm(a.errorCode||W.I.Zea,a);});}};b.prototype.Nlb=function(){var a;try{if(this.state.value===sa.jb.LOADING){this.UU=O.Cb(this.Ja.duration);a={width:1,height:1};this.yy().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height);});this.kF=a;this.Rx=ea.V.get(M.jX).cna({kA:O.Cb(this.U),M:this.M,LK:this.Yx,Ya:this.Ya}).fa(O.ma);this.wna();this.D4a();}}catch(wd){this.cm(W.I.UKa,{Y:W.u.eh,Sa:ra.ud(wd)});}};b.prototype.Uma=function(a,b,c,f){var d,k;c=void 0===c?this.qv.pC():c;f=void 0===f?this.ya.Xb():f;d=!!G.config.bEa&&!(c%G.config.bEa);k=this.Vs.length;a=ea.V.get(ca.vZ)(n.mG.index++,k,a,b,c,f,d,this.ha,this.a6);this.Vs.push(a);0!==a.ca&&(a.cq=this.gwa.create(this,a,!1));a.mK=new D.$Ma(this,a);return k;};b.prototype.kn=function(a){return this.Vs[a];};b.prototype.kbb=function(a){return this.Vs.find(function(b){b=b.hf;return!!b&&!!b.yva&&b.yva.sessionId===a;})||this;};b.prototype.Qmb=function(a,b){var c,f;b=void 0===b?!0:b;c=this;f=this.kn(a);return this.oBa(f).then(function(d){var k;if(!c.nb)throw new Za.Qc(W.I.MN,W.u.Bca);c.xza(d,f);d=[f.Zb.Xpa,f.Zb.bqa];k=!1;try{k=!!c.nb.uH(f.Ja,{Xsb:d,replace:!1,U:f.Ya.U,ba:f.Ya.ba,i$:!0,hs:!f.vv,Ox:b,$r:c.k3(a)});}catch(Bb){throw Za.Qc.fS(W.I.MN,Bb);}if(!k)throw new Za.Qc(W.I.MN,W.u.vEa);return c.xb.qj.wAa(f).then(function(){if(!c.nb)throw new Za.Qc(W.I.MN,W.u.Bca);c.nb.sR(""+f.M);});})["catch"](function(a){c.log.error("queueManifest failed",a);throw c.af(a.code,a);});};b.prototype.b$a=function(){if(Fa.pa(this.Bc.ats)&&Fa.pa(this.Bc.at))return this.Bc.at-this.Bc.ats;};b.prototype.usa=function(){var a,b;a=this.AM();b=this.EH();return Math.min(a,b);};b.prototype.xab=function(){if(Fa.pa(this.Bc.shs)&&Fa.pa(this.Bc.sh))return this.Bc.sh-this.Bc.shs;};b.prototype.LL=function(){this.background||(this.Pd.info("Starting inactivity monitor for movie "+this.M),new l.lLa(this));};b.prototype.close=function(a){a&&(this.state.value==sa.jb.CLOSED?a():this.addEventListener(sa.S.closed,function(){a();}));this.mba();};b.prototype.sd=function(a,b){var c,f,d;c=this;if(this.state.value==sa.jb.OA)this.Xh||(this.Xh=a,this.load());else{b&&(this.state.value==sa.jb.CLOSED?b():this.addEventListener(sa.S.closed,function(){b();}));f=function(){c.mba(a);};d=G.config.eqa&&a&&G.config.eqa[a.errorCode];Fa.Ly(d)&&(d=ra.Sd(d));this.Pd.error("Fatal playback error",{Error:""+a,HandleDelay:""+d});0<=d?setTimeout(f,d):f();}};b.prototype.oM=function(){this.Hb.Ib(sa.S.oM);};b.prototype.n9a=function(){this.Gra();};b.prototype.Q5=function(){var a;a=this.nb;return a&&(a=a.qa.xj.xa.id,void 0!==a)?a:null;};b.prototype.ty=function(){return void 0!==this.ha.KQ&&void 0===this.nb?this.ha.KQ:this.a6(this.Qb.value);};b.prototype.P5=function(){var a;a=this.a6(this.zg.Osa());return null===a||0>a||a>this.Yx.fa(O.ma)?null:a;};b.prototype.nS=function(){var a;a=this.Ja.choiceMap;if(a)return a.segments;};b.prototype.Wtb=function(a){this.Ya=Q.Hhb(function(a,b){return void 0!==b?b:a;},this.Ya,a);this.wna();};b.prototype.yy=function(a){a=void 0===a?this.ca:a;return(a=this.kn(a).Df)&&a.value?a.value.oc:[];};b.prototype.Ocb=function(a){var c;for(var b=0;b<this.Vs.length;b++){c=this.kn(b).Ei;if(c=c&&c.find(function(b){return b.id===a;}))return c;}};b.prototype.Wta=function(a){var c;for(var b=0;b<this.Vs.length;b++){c=this.kn(b).Nc.value;if(c=c&&c.oc.find(function(b){return b.Tc===a;}))return c;}};b.prototype.cua=function(a){var c;for(var b=0;b<this.Vs.length;b++){c=this.kn(b).Df.value;if(c=c&&c.oc.find(function(b){return b.Tc===a;}))return c;}};b.prototype.lo=function(a){var b,c;b=this.qpa(a);if(this.nb&&void 0!==a){c=this.k3(a,b);this.nb.RV(c,a);}return b.$b;};b.prototype.Heb=function(){return"trailer"===this.se;};b.prototype.Rua=function(){return!!this.se&&0<=this.se.indexOf("billboard");};b.prototype.Neb=function(){return!!this.se&&0<=this.se.indexOf("video-merch");};b.prototype.vD=function(){return this.Heb()||this.Rua()||this.Neb();};b.prototype.zbb=function(){return{tr:this.Uba,rt:this.eaa};};b.prototype.As=function(a){return this.ED[a];};b.prototype.r0a=function(){return this.pm?this.ya.Xb().fa(O.ma)-this.pm:this.Ra.Ve.fa(O.ma)-this.jS();};b.prototype.roa=function(){var a;if(this.pm)return this.ya.Xb().fa(O.ma)-this.pm;a=ea.V.get(Ie.Oe).Oy;return this.Zya-(this.el.fa(O.ma)+a.fa(O.ma));};b.prototype.x0a=function(){return this.pm?this.ya.Xb().fa(O.ma)-this.pm:this.Zya-this.jS();};b.prototype.Uib=function(a){var b,c;b=this.Ze;c={};ra.Uc(a,function(a,f){c[a]=f.map(function(a){return a-b;});});return c;};b.prototype.j$a=function(){var a,b;a=this.Ze;b={};ra.Uc(this.S1,function(c,f){b[c]=f.map(function(b){return b-a;});});return k.Zr?{level:k.Zr.Ysa(),charging:k.Zr.p5(),statuses:b}:null;};b.prototype.FS=function(){this.Fra();return this.BM;};b.prototype.jS=function(){var a;a=this.Ya.xW;a=Fa.pa(a)?a:this.el.fa(O.ma)+this.ya.Oy.fa(O.ma);ja.Ga(Fa.uv(a));return a;};b.prototype.W5=function(){return this.ya.Xb().fa(O.ma)-this.el.fa(O.ma);};b.prototype.tqb=function(){this.BM.HasRA=!0;};b.prototype.Yub=function(){this.Qqb=!0;};b.prototype.wU=function(){this.iAa();};b.prototype.AM=function(){var a;a=this.hQ();return a&&a.vbuflmsec||0;};b.prototype.EH=function(){var a;a=this.hQ();return a&&a.abuflmsec||0;};b.prototype.uca=function(){var a;a=this.hQ();return a&&a.vbuflbytes||0;};b.prototype.G1=function(){var a;a=this.hQ();return a&&a.abuflbytes||0;};b.prototype.oBa=function(a){var b,c;a=void 0===a?this:a;b=ea.V.get(da.QY);c=G.config.fV.enabled?qc.Zc.Yn.hia:this.vD()?qc.Zc.Yn.Eia:qc.Zc.Yn.zm;a={oa:a.oa,Ya:a.Ya,Kc:a.M,bJ:c};c=ea.V.get(ib.jG)();return b.fD(a,c);};b.prototype.xza=function(a,b){b=void 0===b?this:b;b.Ja=a;a=this.bVa.create(this).Dkb(a);b.Zb=a;b.Df.set(a.I3);b.Nc.set(a.E3);b.vc.set(a.H3);};b.prototype.rcb=function(a){this.uwa({index:this.Nu+1,r$:this.Nu,sD:!0});this.sd(a);};b.prototype.uwa=function(a){var b,c;b=a.index;0<b&&(this.fireEvent(sa.S.JT,{index:this.Nu}),this.Nu=b,a.sD||this.OAa(),this.rD=this.Ra.Maa,this.ha.pm||(this.ha.pm=this.ya.Xb().fa(O.ma)));b="boolean"===typeof this.Ya.NC?this.Ya.NC:G.config.NC;c=ea.V.get(ud.dja);b&&!a.sD&&c.NC(this);this.fireEvent(sa.S.tn,a);};b.prototype.Y3a=function(){var a;try{a=ha.hj.profile;this.Vs.forEach(function(b){b.profile=a;});this.Ym=new ga.eHa(this);this.cq=this.gwa.create(this,this.ha,!0);G.config.L0a&&new ma.BJa(this,ea.V.get(dc.Mj),this.log);G.config.$H&&this.$H(this);this.Hub();}catch(wd){this.cm(W.I.TKa,{Y:W.u.eh,Sa:ra.ud(wd)});}};b.prototype.Hub=function(){this.Xh?this.sd(this.Xh):Fa.fva(this.M)?this.c1a():this.cm(W.I.JKa,{Sa:""+this.M});};b.prototype.c1a=function(){var a;a=u.PE.ABa;a?a.W?this.F2():this.cm(W.I.ufa,a):(ja.Ga(!G.config.CR),this.e1());};b.prototype.F2=function(){var a;a=this;!this.background&&G.config.F2?n.Oha(function(){a.e1();},this):this.e1();};b.prototype.e1=function(){var a;a=this;this.state.value==sa.jb.LOADING&&(G.config.q4&&!this.vD()?u.PE.Hx(n.uPa,function(b){b.W?(a.GT=b.GT,G.config.MV?a.LH():a.Haa()):a.cm(W.I.tfa);},!0):G.config.MV?this.LH():this.Haa());};b.prototype.Haa=function(){var a;a=this;this.state.value==sa.jb.LOADING&&(this.Pc("ic"),this.rlb.ypb(function(b){b.error&&a.log.error("Error sending persisted playdata",W.Un(b));try{a.LH();}catch(Oc){a.log.error("playback.authorize threw an exception",Oc);a.cm(W.I.PEa,{Y:W.u.eh,Sa:ra.ud(Oc)});}}));};b.prototype.LH=function(){var a,b;a=this;if(this.state.value==sa.jb.LOADING){this.log.info("Authorizing",this);b=this.ya.Xb().fa(O.ma);this.Pc("ats");this.Ym.LH(function(c){var f;if(a.state.value==sa.jb.LOADING){a.Pc("at");f=a.Ja;a.rv({pr_ats:f&&Fa.Tb(f.Iz)?f.Iz:b,pr_at:f&&Fa.Tb(f.sE)?f.sE:a.ya.Xb().fa(O.ma)});c.W?0<a.Zb.Ei.length&&a.Zb.E3&&a.Zb.I3&&a.Zb.H3?a.vmb():a.cm(W.I.aMa,a.Mgb(a.Zb)):a.cm(W.I.MANIFEST,c);}});}};b.prototype.vmb=function(){var a;a=this;this.dza?(this.log.info("Processing post-authorize",this),this.dza(this,function(b){b.W?a.EDa():a.cm(W.I.YKa,b);})):this.EDa();};b.prototype.EDa=function(){var b,d,k,g;b=this;if(this.state.value==sa.jb.LOADING){d={};this.nl=c.Jk;G.config.k9a&&this.nl.g2();c.Mb.set(a(150)(G.config),!0,ea.Kf("ASE"));c.Mb.set({maxNumberTitlesScheduled:G.config.hza?G.config.hza.maxNumberTitlesScheduled:1},!0,this.Pd);G.config.o2a&&3E5>this.Ja.duration?c.Mb.$D({expandDownloadTime:!1},!0,this.Pd):c.Mb.$D({expandDownloadTime:c.Mb.Nya().expandDownloadTime},!0,this.Pd);this.background||G.config.Olb&&"postplay"===this.se?c.Mb.$D({initBitrateSelectorAlgorithm:"historical"},!0,this.Pd):c.Mb.$D({initBitrateSelectorAlgorithm:c.Mb.Nya().initBitrateSelectorAlgorithm},!0,this.Pd);g=this.Df&&this.Df.value&&this.Df.value.oc;g&&g.length&&(k=g[0].ff);c.Mb.$D(G.cpa(this.Ya.ag,this.Ya.pT,k),!0,this.Pd);d=ea.V.get(wa.cf).gk(d,G.dpa(this.se));this.Lrb=c.Mb.Lp(d);f.platform.events.emit("networkchange",this.Zb.Rpb);this.nl.KDa({lo:function(a){return b.lo(a);},oJ:function(){return b.oJ();},GJ:function(){return b.GJ();}});this.Nlb();}};b.prototype.D4a=function(){var a,b,c,f;a=this;try{this.xb=new p.QMa(this);this.xb.open();b=new Promise(function(b){a.xb.addEventListener(Ua.Kh.hCa,b);});this.zg=new C.UMa(this);c={wg:!1,hF:G.config.hF,EW:G.config.xR,j8:!1,hs:!this.vv,i$:!!this.Ya.pT,ba:this.Ya.ba};f={pz:this.log,ek:this.ek,sessionId:this.M+"-"+this.oa,oa:this.oa,MU:this.oC,Qg:E.vh?E.vh.Qg:void 0,oR:0===G.config.DI||0!==this.oa%G.config.DI?!1:!0};this.Qqa=f.oR;this.nb=this.nl.ks(this.Ja,[this.Zb.Xpa,this.Zb.bqa],this.U,c,f,void 0,{kf:function(){return a.Qb.value;},N5:function(){return a.xb;}},this.Lrb,this.k3(this.ca));this.WYa(this.nb);b.then(function(){a.state.value!==sa.jb.CLOSING&&a.state.value!==sa.jb.CLOSED&&a.nb.open();});this.Qb.set(this.U);this.Nn=new h.HRa(this);if("boolean"===typeof this.Ya.rV?this.Ya.rV:G.config.rV)this.hM=new P.IRa(this);this.LL();n.Qha.forEach(function(b){b(a);});this.Zib();}catch(tf){this.cm(W.I.VKa,{Y:W.u.eh,Sa:ra.ud(tf)});}};b.prototype.$ib=function(){ja.Ga(this.state.value==sa.jb.OA);this.Ze=this.ya.Xb().fa(O.ma);this.state.set(sa.jb.LOADING);J._cad_global.prefetchEvents&&J._cad_global.prefetchEvents.zlb(this.M);};b.prototype.cm=function(a,b){this.done||(this.done=!0,b instanceof Za.Qc?this.sd(this.af(b.code,b)):this.sd(this.af(a,b)));};b.prototype.$H=function(a){var c,f;function b(){var b,f;b=k.Zr.p5()+"";f=a.S1[b];f||(f=a.S1[b]=[]);f.push(c.ya.Xb().fa(O.ma));c.log.trace("charging change event",{level:k.Zr.Ysa(),charging:k.Zr.p5()});}c=this;f=k.Zr.kGa;k.Zr.addEventListener(f,b);a.addEventListener(sa.S.Ie,function(){k.Zr.removeEventListener(f,b);});};b.prototype.mba=function(a){var b;b=this;if(this.state.value==sa.jb.OA||this.state.value==sa.jb.LOADING||this.state.value==sa.jb.$c){this.Pd.info("Playback closing",this,a?{ErrorCode:a.kR}:void 0);S.Ce.removeListener(S.Vk,this.eya);this.Xh=a;this.Fra();this.nb&&this.nb.flush();try{this.Hb.Ib(sa.S.Ie,{manifestIndex:this.Nu});}catch(Oc){this.Pd.error("Unable to fire playback closing event",Oc);}this.state.set(sa.jb.CLOSING);this.ha.KQ=this.ty();this.AEa();this.Qqb||la.zb(function(){return b.iAa();});}};b.prototype.Gra=function(){var a;a=this.Qb.value;this.mfb!=a&&(this.mfb=a,this.Hb.Ib(sa.S.Iba));};b.prototype.iAa=function(){var a,b;a=this;ja.Ga(this.state.value==sa.jb.CLOSING);b=this.GT;this.GT=void 0;b?u.PE.release(b,function(b){ja.Ga(b.W);a.L2();}):this.L2();};b.prototype.AEa=function(){this.nb&&(this.nb.close(),this.nb.Zd());this.nl&&this.Xh&&this.nl.g2();delete this.nb;delete this.nl;};b.prototype.L2=function(){var a;this.L2=L.le;ja.Ga(this.state.value==sa.jb.CLOSING);a=n.gr.indexOf(this);ja.Ga(0<=a);n.gr.splice(a,1);this.state.set(sa.jb.CLOSED);this.Hb.Ib(sa.S.closed,void 0,!0);this.Hb.FC();delete this.hf;this.ha.wU();};b.prototype.wna=function(){this.Ya.playbackState&&("number"===typeof this.Ya.playbackState.volume&&this.volume.set(this.Ya.playbackState.volume),"boolean"===typeof this.Ya.playbackState.muted&&this.muted.set(this.Ya.playbackState.muted));};b.prototype.Fra=function(){this.Hb.Ib(sa.S.WBa,{BM:this.BM});};b.prototype.Wpb=function(a,b){var c;c=this.Ei.filter(function(b){return b.id===a;})[0];c&&this.Wb[b].set(c);};b.prototype.LD=function(){return{AudioBufferLength:this.EH(),VideoBufferLength:this.AM()};};b.prototype.hQ=function(){if(this.nb)return this.nb.j7(!1);};b.prototype.oJ=function(){return this.mla;};b.prototype.GJ=function(){this.mla++;};b.prototype.Zib=function(){this.state.value==sa.jb.LOADING&&this.state.set(sa.jb.$c);};b.prototype.qpa=function(a){var b,c;a=void 0===a?this.ca:a;b=void 0;c=this.kn(a);a=this.yy(a).filter(function(a){var f;f=c.mK.ft(a);f&&(b=b||[],b.push({stream:a,CC:f}));return!f;});0===a.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var f=0;f<a.length;f++)a[f].lower=a[f-1],a[f].ddb=a[f+1];return{$b:a,i6a:b};};b.prototype.k3=function(a,b){var c,f,d,k,g,q;b=void 0===b?this.qpa(a):b;c=b.$b;f=b.i6a;d=[];this.yy(a).forEach(function(a){-1==d.indexOf(a.ff)&&d.push(a.ff);});k=null;g=null;c.forEach(function(a){null===k?g=k=a.P:g<a.P?g=a.P:k>a.P&&(k=a.P);});q=[];d.forEach(function(a){var b;b={ranges:[],profile:a};k&&g&&(b.ranges.push({min:k,max:g}),f&&(b.disallowed=f.filter(function(b){return b.stream.ff===a;})),q.push(b));});return q;};qa.Object.defineProperties(b.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){return this.Vs[this.Nu];}},U:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.Rx?this.Rx:this.kn(0).Ya.U||0;}},Zb:{configurable:!0,enumerable:!0,get:function(){return this.ha.Zb;},set:function(a){this.ha.Zb=a;}},profile:{configurable:!0,enumerable:!0,get:function(){return this.ha.profile;},set:function(a){this.ha.profile=a;}},YR:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ya.YR;}},ZR:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ya.ZR;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ha.index;}},hf:{configurable:!0,enumerable:!0,get:function(){return this.ha.hf;},set:function(a){this.ha.hf=a;}},pm:{configurable:!0,enumerable:!0,get:function(){return this.ha.pm;},set:function(a){this.ha.pm=a;}},Fu:{configurable:!0,enumerable:!0,get:function(){return this.ha.Fu;},set:function(a){this.ha.Fu=a;}},Ux:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ux;},set:function(a){this.ha.Ux=a;}},dT:{configurable:!0,enumerable:!0,get:function(){return this.ha.dT;},set:function(a){this.ha.dT=a;}},Ja:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ja;},set:function(a){this.ha.Ja=a;}},Rx:{configurable:!0,enumerable:!0,get:function(){return this.ha.Rx;},set:function(a){this.ha.Rx=a;}},aM:{configurable:!0,enumerable:!0,get:function(){return this.ha.aM;},set:function(a){this.ha.aM=a;}},Ya:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ya;},set:function(a){this.ha.Ya=a;}},ca:{configurable:!0,enumerable:!0,get:function(){return this.ha.ca;}},cq:{configurable:!0,enumerable:!0,get:function(){return this.ha.cq;},set:function(a){this.ha.cq=a;}},cl:{configurable:!0,enumerable:!0,get:function(){return this.ha.cl;}},M:{configurable:!0,enumerable:!0,get:function(){return this.ha.M;}},se:{configurable:!0,enumerable:!0,get:function(){return this.ha.se;}},Qm:{configurable:!0,enumerable:!0,get:function(){return this.ha.Qm;}},Lq:{configurable:!0,enumerable:!0,get:function(){return this.ha.Lq;}},st:{configurable:!0,enumerable:!0,get:function(){return this.ha.st;}},Hj:{configurable:!0,enumerable:!0,get:function(){return this.ha.Hj;}},Nf:{configurable:!0,enumerable:!0,get:function(){return this.ha.Nf;}},vv:{configurable:!0,enumerable:!0,get:function(){return this.ha.vv;}},Po:{configurable:!0,enumerable:!0,get:function(){return this.ha.Po;}},Yj:{configurable:!0,enumerable:!0,get:function(){return this.ha.Yj;}},Ei:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ei;}},YU:{configurable:!0,enumerable:!0,get:function(){return this.ha.YU;}},Yx:{configurable:!0,enumerable:!0,get:function(){return this.ha.Yx;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.ha.oa;}},ah:{configurable:!0,enumerable:!0,get:function(){return this.ha.ah;}},el:{configurable:!0,enumerable:!0,get:function(){return this.ha.el;}},rD:{configurable:!0,enumerable:!0,get:function(){return this.ha.rD;},set:function(a){this.ha.rD=a;}},oC:{configurable:!0,enumerable:!0,get:function(){return this.ha.oC;}},Qz:{configurable:!0,enumerable:!0,get:function(){return this.ha.Qz;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ha.background;},set:function(a){this.ha.background=a;}},p3:{configurable:!0,enumerable:!0,get:function(){return this.ha.p3;}},Bc:{configurable:!0,enumerable:!0,get:function(){return this.ha.Bc;}},Tm:{configurable:!0,enumerable:!0,get:function(){return this.ha.Tm;}},a4:{configurable:!0,enumerable:!0,get:function(){return this.ha.a4;}},mK:{configurable:!0,enumerable:!0,get:function(){return this.ha.mK;}},cg:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.M,TrackingId:this.ah,Xid:this.oa};}}});d.xPa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cda="BandwidthMeterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Cm||(d.Cm={});g[g.IN=0]="NOT_LOADED";g[g.LOADING=1]="LOADING";g[g.LOADED=2]="LOADED";g[g.TF=3]="LOAD_FAILED";g[g.Wga=4]="PARSE_FAILED";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dja="TrickPlayManagerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uZ="PlaybackMilestoneStoreSymbol";},function(g,d,a){var p,q;function b(a){return!(!a||!a.nz&&!a.pboc||!a.code&&!a.code);}function f(a){return!(!a||!a.Ic);}function u(a){return!!(a instanceof Error);}function m(a){switch(a){case"ACCOUNT_ON_HOLD":return q.u.XNa;case"STREAM_QUOTA_EXCEEDED":return q.u.aOa;case"INSUFFICICENT_MATURITY":return q.u.cOa;case"TITLE_OUT_OF_WINDOW":return q.u.iOa;case"CHOICE_MAP_ERROR":return q.u.$Na;case"BadRequest":return q.u.eOa;case"Invalid_SemVer_Format":return q.u.dOa;case"RESTRICTED_TO_TESTERS":return q.u.hOa;case"AGE_VERIFICATION_REQUIRED":return q.u.YNa;case"BLACKLISTED_IP":return q.u.ZNa;case"DEVICE_EOL_WARNING":return q.u.hZ;case"DEVICE_EOL_FINAL":return q.u.Yga;case"INCORRECT_PIN":return q.u.Zga;case"MOBILE_ONLY":return q.u.gOa;case"MDX_CONTROLLER_CTICKET_INVALID":return q.u.fOa;default:return q.u.Kea;}}function c(a,b){return new p.Qc(a,m(b.code),"BadRequest"===b.code?q.CY.LFa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert);}function k(a,b){return new p.Qc(a,b.Ic,b.vg,void 0,b.lq,b.message,b.zC,b.data);}Object.defineProperty(d,"__esModule",{value:!0});p=a(55);q=a(2);d.veb=b;d.uHb=f;d.o7=u;d.uGb=m;d.jn=function(a,d){return f(d)?k(a,d):b(d)?c(a,d):u(d)?p.Qc.fS(a,d):new p.Qc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,d);};d.vGb=c;d.tGb=k;d.d0a=function(a,b,c){var f,d,k;a=a.$qa;f=b.yBa[c];if(void 0===f)throw{nz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};d=f.version;if(void 0===d)throw{nz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};k=b.Hy&&f.serviceNonMember?f.serviceNonMember:f.service;if(void 0===k)throw{nz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};f=f.orgOverride;if(void 0===f&&(f=b.rya,void 0===f))throw{nz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return a+"/"+f+"/"+k+"/"+d+"/router";};d.CEb=function(){return{"Content-Type":"text/plain"};};d.c0a=function(a,b,c,f,d){return{version:c.version,url:b,id:a,languages:c.languages,params:f,echo:d};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bja="TransportFactorySymbol";d.Fga="MslTransportSymbol";d.Iia="SslTransportSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tha="PboDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uga="MediaRequestConstructorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uga="OpenConnectSideChannelSymbol";d.vga="MediaRequestDownloaderSymbol";},function(g,d,a){var y,L,x;function b(a,b,c){this.type=a;this.size=b;this.Mu=c;}function f(a){var c,f,d,k,g;a:{c=a.position;if(8<=a.oj()){f=a.Na();d=a.xq(4);if(!L.test(d))throw a.seek(c),Error("mp4-badtype");if(1==f){if(8>a.oj()){a.seek(c);c=void 0;break a;}f=a.Pf();}if(!(8<=f))throw a.seek(c),Error("mp4-badsize");if("uuid"==d){if(16>a.oj()){a.seek(c);c=void 0;break a;}d=a.ew();}c={type:d,offset:c,size:f,Mu:c+f-a.position};}else c=void 0;}if(c&&c.Mu<=a.oj()){k=c.type;f=c.size;g=c.Mu;d=new b(k,f,g);k=x[k];if(a.oj()<g)throw Error("mp4-shortcontent");k?(g=new y(a.vd(g)),k(d,g)):a.skip(g);a.seek(c.offset);d.raw=a.vd(f);return d;}}function u(a,b){for(var c=[],d={},k,g;0<b.oj();){k=f(b);if(!k)throw Error("mp4-badchildren");g=k.type;c.push(k);d[g]||(d[g]=k);}a.children=c;a.M4=d;}function m(a,b){a.version=b.mc(1);a.Je=b.mc(3);}function c(a,b){b.skip(6);a.K4a=b.Ab();b.skip(8);a.channelCount=b.Ab();a.Nz=b.Ab();b.skip(4);a.sampleRate=b.Ab();b.skip(2);u(a,b);}function k(a,b){var c;b.skip(6);a.K4a=b.Ab();b.skip(16);a.width=b.Ab();a.height=b.Ab();a.ZGb=b.Na();a.IKb=b.Na();b.skip(4);a.A9a=b.Ab();c=b.he();a.O1a=b.xq(c);b.skip(31-c);a.depth=b.Ab();b.skip(2);u(a,b);}function p(a,b){m(a,b);a.JFb=b.mc(3);a.KFb=b.he();a.yv=b.vd(16);}function q(a,b){for(var c=[],f;b--;)f=a.Ab(),c.push(a.vd(f));return c;}function t(a){var b;b=a.vd(2);a={OJb:b[1]>>1&7,NJb:!!(b[1]&1),HJb:a.Ab()};h(a,(b[0]<<8|b[1])>>4);return a;}function h(a,b){a.IJb=b>>4&3;a.MJb=b>>2&3;a.KJb=b&3;return a;}y=a(585);L=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.dv=function(a){var b,c,f,d,k;b=this;a=a.split("/");for(d=0;d<a.length&&b;d++){f=a[d].split("|");c=void 0;for(k=0;k<f.length&&!c;k++)c=f[k],c=b.M4&&b.M4[c];b=c;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};x={ftyp:function(a,b){a.UHb=b.xq(4);a.nIb=b.Na();for(a.G1a=[];4<=b.oj();)a.G1a.push(b.xq(4));},moov:u,sidx:function(a,b){m(a,b);a.sJb=b.Na();a.Mba=b.Na();a.d4=1<=a.version?b.Pf():b.Na();a.O4=1<=a.version?b.Pf():b.Na();b.skip(2);for(var c=b.Ab(),f=[],d,k;c--;){d=b.Na();k=d>>31;if(0!==k)throw Error("mp4-badsdix");d&=2147483647;k=b.Na();b.skip(4);f.push({size:d,duration:k});}a.tJb=f;},moof:u,mvhd:function(a,b){var c;m(a,b);c=1<=a.version?8:4;a.Ng=b.mc(c);a.modificationTime=b.mc(c);a.Mba=b.Na();a.duration=b.mc(c);a.oJb=b.aL();a.volume=b.kV();b.skip(70);a.wIb=b.Na();},pssh:function(a,b){var c;m(a,b);a.I6a=b.ew();c=b.Na();a.data=b.vd(c);},trak:u,mdia:u,minf:u,stbl:u,stsd:function(a,b){m(a,b);b.Na();u(a,b);},encv:k,avc1:k,hvcC:k,hev1:k,mp4a:c,enca:c,"ec-3":c,avcC:function(a,b){a.version=b.he();a.mEb=b.he();a.kJb=b.he();a.lEb=b.he();a.LHb=(b.he()&3)+1;a.WJb=q(b,b.he()&31);a.XIb=q(b,b.he());},pasp:function(a,b){a.WGb=b.Na();a.GKb=b.Na();},sinf:u,frma:function(a,b){a.rFb=b.xq(4);},schm:function(a,b){m(a,b);a.Yob=b.xq(4);a.RJb=b.Na();a.Je&1&&(a.QJb=b.J$());},schi:u,tenc:p,mvex:u,trex:function(a,b){m(a,b);a.eb=b.Na();a.z5a=b.Na();a.$Q=b.Na();a.$pa=b.Na();a.Zpa=t(b);},traf:u,tfhd:function(a,b){var c;m(a,b);a.eb=b.Na();c=a.Je;c&1&&(a.qEb=b.Pf());c&2&&(a.JJb=b.Na());c&8&&(a.$Q=b.Na());c&16&&(a.$pa=b.Na());c&32&&(a.Zpa=t(b));},saio:function(a,b){m(a,b);a.Je&1&&(a.o_a=b.Na(),a.p_a=b.Na());for(var c=1<=a.version?8:4,f=b.Na(),d=[];f--;)d.push(b.mc(c));a.VAa=d;},mdat:function(a,b){a.data=b.vd(b.oj());},tkhd:function(a,b){var c;m(a,b);c=1<=a.version?8:4;a.Ng=b.mc(c);a.modificationTime=b.mc(c);a.eb=b.Na();b.skip(4);a.duration=b.mc(c);b.skip(8);a.pfb=b.Ab();a.oZa=b.Ab();a.volume=b.kV();b.skip(2);b.skip(36);a.width=b.aL();a.height=b.aL();},mdhd:function(a,b){var c;m(a,b);c=1<=a.version?8:4;a.Ng=b.mc(c);a.modificationTime=b.mc(c);a.Mba=b.Na();a.duration=b.mc(c);c=b.Ab();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){m(a,b);a.VJb=b.Na();},tfdt:function(a,b){m(a,b);a.PH=b.mc(1<=a.version?8:4);8==b.oj()&&b.skip(8);},saiz:function(a,b){m(a,b);a.Je&1&&(a.o_a=b.Na(),a.p_a=b.Na());for(var c=b.he(),f=b.Na(),d=[];f--;)d.push(c||b.he());a.LJb=d;},trun:function(a,b){var c,f;m(a,b);c=b.Na();f=a.Je;f&1&&(a.tFb=b.Na());f&4&&(a.oGb=t(b));for(var d=[],k;c--;)k={},f&256&&(k.duration=b.Na()),f&512&&(k.size=b.Na()),f&1024&&(k.Je=b.Na()),f&2048&&(k.XEb=b.Na()),d.push(k);a.Hn=d;},sdtp:function(a,b){m(a,b);for(var c=[];0<b.oj();)c.push(h({},b.he()));a.Hn=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){m(a,b);a.fileSize=b.Pf();a.Mba=b.Pf();a.duration=b.Pf();a.bya=b.Pf();a.ZJb=b.Pf();1<=a.version&&(a.sIb=b.Pf(),a.tIb=b.Na(),a.cya=b.Pf(),a.Ira=b.Na(),a.tra=b.ew());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){m(a,b);a.Je&1&&(a.cEb=b.mc(3),a.FHb=b.he(),a.Yeb=b.ew());a.GJb=b.Na();a.n_a=b.vd(b.oj());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){m(a,b);a.xU=b.Na();a.zI=b.Ab();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":p,"636F6D2E-6E65-7466-6C69-782E6974726B":u,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){m(a,b);a.Dna=b.ew();a.Ng=b.Pf();a.M=b.Pf();a.zn=b.Pf();a.zV=b.Ab();a.AV=b.Ab();a.$eb=b.vd(16);a.Xrb=b.vd(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){m(a,b);a.DEb=b.vd(b.oj());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;m(a,b);a.rpb=b.Pf();c=b.Na();a.je=[];for(var f=0;f<c;f++)a.je.push({duration:b.Na(),size:b.Ab()});},"636F6D2E-6E65-7466-6C69-782E69736567":u,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;m(a,b);a.Dna=b.ew();a.duration=b.Na();c=b.Na();a.Hn=[];for(var f=0;f<c;f++)a.Hn.push({Fi:b.Na(),duration:b.Na(),EU:b.Ab(),FU:b.Ab(),$V:b.Ab(),aW:b.Ab(),Xp:b.Pf(),oD:b.Na()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,f,k,g;m(a,b);c=b.Na();f=b.he();a.Hn=[];for(var d=0;d<c;d++){k=b.he();g=k>>6;k=k&63;0!=g&&0===k&&(k=f);a.Hn.push({Xqa:g,xv:b.vd(k)});}}};g.T={qJb:function(a,b){a=new y(a);b&&a.seek(b);return f(a);},H$:function(a,b){var c;if(!a)throw Error("mp4-badinput");a=new y(a);c=[];for(b&&a.seek(b);b=f(a);)c.push(b);return c;}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uda="ChunkMediaSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tga="MediaHttpSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$ha="PrefetchEventsConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uja="WindowUtilsSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mga="NfCryptoSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Sfa="LogDisplayConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jea="DxManagerSymbol";d.iea="DxManagerProviderSymbol";},function(g,d,a){var f,h,m,c,k;function b(a,b,f){this.pc=a;this.is=b;this.prefix=f;this.SK=this.$l=!1;this.ioa=new c.TRa(b);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);m=a(21);c=a(608);k=a(8);d.DGa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";d.EGa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.FGa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.yF="";b.prototype.show=function(){this.$l||(this.X1a(),this.nC&&k.Ld.body.appendChild(this.nC),this.Yg&&k.Ld.body.appendChild(this.Yg),this.RH&&k.Ld.body.appendChild(this.RH),this.Uz&&k.Ld.getElementsByTagName("head")[0].appendChild(this.Uz),this.$l=!0,this.refresh());};b.prototype.nD=function(){this.$l&&(this.Yg&&k.Ld.body.removeChild(this.Yg),this.RH&&k.Ld.body.removeChild(this.RH),this.nC&&k.Ld.body.removeChild(this.nC),this.Uz&&k.Ld.getElementsByTagName("head")[0].removeChild(this.Uz),this.Uz=this.cM=this.nC=this.RH=this.Yg=void 0,this.$l=!1);};b.prototype.toggle=function(){this.$l?this.nD():this.show();};b.prototype.Usb=function(){(this.SK=!this.SK)||this.refresh();};b.prototype.p$a=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.X1a=function(){var a;a=this;this.Uz=k.Ld.createElement("style");this.Uz.type="text/css";this.Uz.innerHTML=this.p$a(this.prefix);this.RH=this.pc.createElement("div",d.DGa,void 0,{"class":this.prefix+"-display-blur"});this.Yg=this.pc.createElement("div",d.EGa,void 0,{"class":this.prefix+"-display"});this.nC=this.pc.createElement("div",d.FGa,void 0,{"class":this.prefix+"-display"});this.Esa().forEach(function(b){return a.nC.appendChild(b);});};b.prototype.Y1a=function(a){a=this.pc.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(x){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return!this.$l||this.SK?Promise.resolve():this.gAa().then(function(b){if(b&&(b=a.Y1a(b),a.Yg)){a.cM&&(a.Yg.removeChild(a.cM),a.cM=void 0);a.cM=b;a.Yg.appendChild(a.cM);b=a.Yg.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.QAa);(b=a.Yg.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.cf)),g.__param(1,f.l(m.ue)),g.__param(2,f.bh())],a);d.XN=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hea="DxDisplaySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oZ={TJ:"keepAlive",splice:"splice"};d.uha="PboEventSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uha="PlaydataConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sha="PboCachedPlaydataSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wha="PboLicenseResponseTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vha="PboLicenseRequestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fha="PboReleaseLicenseCommandSymbol";},function(g,d,a){var c,k,p,q,t,A;function b(a){var b;a=new p.wA(a);if(1481462272!=a.Na())throw Error("Invalid header");b={XMR:{Version:a.Na(),RightsID:a.bf(16)}};f(a,b.XMR,a.buffer.length);return b;}function f(a,b,c){var d,k,g,q,p;for(;a.position<c;){d=a.Ab();k=a.Na();k=k-8;switch(d){case 1:g="OuterContainer";break;case 2:g="GlobalPolicy";break;case 3:g="MinimumEnvironment";break;case 4:g="PlaybackPolicy";break;case 5:g="OutputProtection";break;case 6:g="UplinkKID";break;case 7:g="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:g="AnalogVideoOutputConfiguration";break;case 9:g="KeyMaterial";break;case 10:g="ContentKey";break;case 11:g="Signature";break;case 12:g="DeviceIdentification";break;case 13:g="Settings";break;case 18:g="ExpirationRestriction";break;case 42:g="ECCKey";break;case 48:g="ExpirationAfterFirstPlayRestriction";break;case 50:g="PlayReadyRevocationInformationVersion";break;case 51:g="EmbeddedLicenseSettings";break;case 52:g="SecurityLevel";break;case 54:g="PlayEnabler";break;case 57:g="PlayEnablerType";break;case 85:g="RealTimeExpirationRestriction";break;default:g="Other";}q={Type:h(d)};p=b[g];p?A.isArray(p)?p.push(q):(b[g]=[],b[g].push(p),b[g].push(q)):b[g]=q;switch(d){case 1:case 2:case 4:case 7:case 9:case 54:f(a,q,a.position+k);break;case 5:q.Reserved1=a.Ab();q.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Ab();q.MinimumAnalogVideoOutputProtectionLevel=a.Ab();q.Reserved2=a.Ab();q.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Ab();break;case 10:q.Reserved=a.bf(16);q.SymmetricCipherType=a.Ab();q.AsymmetricCipherType=a.Ab();k=a.Ab();q.EncryptedKeyLength=k;d=a.bf(k);q.EncryptedKeyData=10>=k?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 11:q.SignatureType=a.bf(2);k=a.Ab();d=a.bf(k);q.SignatureData=10>=k?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 13:q.Reserved=a.Ab();break;case 18:q.BeginDate=a.Na();q.EndDate=a.Na();break;case 42:q.CurveType=a.bf(2);k=a.Ab();d=a.bf(k);q.Key=10>=k?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 48:q.ExpireAfterFirstPlay=a.Na();break;case 50:q.Sequence=a.Na();break;case 51:q.LicenseProcessingIndicator=a.Ab();break;case 52:q.MinimumSecurityLevel=a.Ab();break;case 57:q.PlayEnablerType=m(a.bf(16));break;case 85:break;default:q.OtherData=a.bf(k);}}}function h(a){return"0x"+a.toString(16);}function m(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(d,"__esModule",{value:!0});c=a(9);k=a(4);p=a(131);q=a(124);t=a(192);A=a(16);d.EFb=function(a,f,d){switch(f){case c.FX:a&&(a=k.D_a(a),t.tEa(a,function(a){a.W&&(a=a.object)&&(a=q.L$a(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=q.Ikb(a))&&(a=k.Kk(a))&&(a=b(a))&&d(a);}));}};d.FFb=b;d.GFb=f;d.IFb=h;d.HFb=m;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qha="PboAcquireLicenseCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zha="PboManifestCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uea="HttpRequesterSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gea="FtlDataParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lga="NetworkMonitorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vja="XhrFactorySymbol";},function(g,d,a){var f,h,m,c,k,p,q,t,A;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(148);h=a(75);m=a(18);c=a(2);k=a(14);p=a(8);q=a(16);t=a(1);a=a(17);b.prototype.construct=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.url;f[b]||(f[b]=[]);f[b].push(a);});d=[];m.Uc(f,function(a,f){d.push(c.kcb(f,b));});return{urls:d};};b.prototype.kcb=function(a,b){var c,f,d,k;c=this;f=a[0];d={url:f.url,bitrate:f.P,cdnid:q.Xe(f.Wb)?f.Wb.id:f.Wb,dltype:f.p6a,id:f.Tc};k={};a.forEach(function(a){var b;b=c.leb(a)?"fail":"success";k[b]||(k[b]=[]);k[b].push(a);});m.Uc(k,function(a,f){"fail"===a?d.failures=c.eab(f,b):"success"===a&&(d.downloads=c.V$a(f,b));});return d;};b.prototype.V$a=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.u1a;f[b]||(f[b]=[]);f[b].push(a);});d=[];m.Uc(f,function(a,f){var k;k=[];f.forEach(function(f){k.push(f);c.feb(f)&&(d.push(c.Jsa(k,b,a)),k=[]);});0<k.length&&d.push(c.Jsa(k,b,a));});return d;};b.prototype.Jsa=function(a,b,c){var p;for(var f=a.sort(function(a,b){return a.rj.eg<b.rj.eg?-1:a.rj.eg>b.rj.eg?1:0;}),d=f[0].rj,k=d.requestTime,g=d.eg,d=d.kl,q=1;q<a.length;q++){p=a[q].rj;p.requestTime<k&&(k=p.requestTime);p.eg<g&&(g=p.eg);p.kl>d&&(d=p.kl);}q=this.qbb(f);p=f[f.length-1];b={time:k-b,tcpid:c?parseInt(c):-1,tresp:g-k,first:q,ranges:this.rbb(f,q),dur:d-g,trace:this.ccb(a),status:this.yS(p)};this.config().EI&&this.config().EI.length&&(b.servertcp=this.Hbb(a));return b;};b.prototype.Hbb=function(a){var b;b=this.config().EI||[];return a.reduce(function(a,c){var f,d;f=[];if(c.ICa){d={};c.ICa.split(";").forEach(function(a){a=a.split("=");2==a.length&&(d[a[0]]=a[1]);});b.forEach(function(a){f.push(d[a]);});}a.push(f);return a;},[]);};b.prototype.qbb=function(a){var b;b=0;a.forEach(function(a){a.wq&&(b=p.Wn(b,a.wq[0]));});return b;};b.prototype.rbb=function(a,b){var c;c=[];a.forEach(function(a){a.wq?c.push([a.wq[0]-b,a.wq[1]-b]):c.push([0,-1]);});return c;};b.prototype.ccb=function(a){var b,c;b=[];a.forEach(function(a){var f;a=a.rj;if(c){f=a.requestTime-c.kl;0<f&&b.push([f,-2]);f=p.xm(c.kl,a.requestTime);f=a.eg-f;0<f&&b.push([f,-3]);}b.push([a.kl-a.eg,a.Mu||0]);c=a;});return b;};b.prototype.feb=function(a){if(a.Y===c.u.Gt||a.Y===c.u.Qw)return!0;};b.prototype.yS=function(a){if(a.W)return"complete";if(a.Y===c.u.Gt)return"abort";if(a.Y===c.u.Qw)return"stall";k.Ga(!1,"download status should never be: other");return"other";};b.prototype.eab=function(a,b){var c,d;c=this;d=[];a.forEach(function(a){var k;k=a.rj;a={time:k.eg-b,tresp:k.eg-k.requestTime,dur:k.kl-k.eg,range:a.wq,reason:c.sbb(a),httpcode:a.Vh,nwerr:f.jta(a.Y)};d.push(a);});return d;};b.prototype.sbb=function(a){return a.Vh||a.Y===c.u.OF?"http":a.Y===c.u.PF?"timeout":"network";};b.prototype.leb=function(a){return a.W||void 0===a.W||a.Y===c.u.Gt||a.Y===c.u.Qw?!1:!0;};b.prototype.k2a=function(a){var b,c,f,d,k,g;b=a.request;c=b.stream;f=b.track;d=b.url;k=this.S$a(f,d);switch(k){case h.jg.audio:case h.jg.video:g=b.stream.Tc;break;case h.jg.sW:case h.jg.aca:g=f.Tc;}a={P:c&&c.P,p6a:k,Tc:g,rj:a.rj,Wb:b.Wb,url:d,Gc:a.Gc,Vh:a.Vh,Y:a.Y,W:a.W,ICa:a.headers&&(a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]),u1a:this.y8a(a)};void 0!==b.offset&&void 0!=b.length&&(a.wq=[b.offset,b.offset+b.length-1]);return a;};b.prototype.S$a=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};b.prototype.y8a=function(a){if(a.headers&&(a=a.headers["X-Session-Info"]||a.headers["x-session-info"]))return a=(a?a.split(";"):[]).filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0],m.Sd(a);};A=b;A=g.__decorate([t.N(),g.__param(0,t.l(a.ld))],A);d.IIa=A;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bea="DownloadReportBuilderSymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(35);d.DX=function(a,d){this.w6a=a;this.size=d.ava()?b.Ef:d;};},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,L,x,G,N,l,n,X,D,U,P,r,Z,ea,Y;function b(a,b,c,f,d,g,q,u,y,R,S,P,r,ia,E,C,Q,Ra){var O;O=this;this.j=a;this.iw=b;this.RCa=f;this.zQ=d;this.yh=g;this.S8=q;this.z4=u;this.bl=y;this.Vd=R;this.pR=S;this.Gd=P;this.config=r;this.Jc=ia;this.Ra=E;this.ya=C;this.platform=Q;this.cK=Ra;this.gM=[];this.Thb=this.hT=this.uAa=0;this.HC=[];this.tn=function(a){a.index===O.ca&&O.lCa(a.sD);};this.JT=function(a){a.index===O.ca&&O.y1a();};this.T7=function(a){return function(b){var c;c=b.manifestIndex;if("number"!==typeof c)throw"Event "+JSON.stringify(b)+" does not have manifestIndex property";c===O.ca&&a(b);};};this.XE=function(){O.uc(Z.Ge.JRa,!1,Y.fh|Y.ig,{track:O.j.vc.value.cg});};this.ZCa=function(a){a.newValue&&O.fl&&(a={track:a.newValue.cg},O.Ay(a,O.j.Le.value&&O.j.Le.value.stream,O.j.zf.value&&O.j.zf.value.stream),O.uc(Z.Ge.KRa,!1,Y.fh|Y.ig,a));};this.Tm=function(a){O.uc(Z.Ge.RFa,!1,Y.fh|Y.ig,a.newValue);};this.qqa=function(){var a,b,c;if(O.j.Ei)try{a=!1;O.oa%O.config().DI&&!O.j.vR&&(a=!0,O.HC=O.HC.filter(function(a){return!a.W;}));if(0<O.HC.length){b=O.pR.construct(O.HC,O.j.el.fa(A.ma));O.HC=[];b.erroronly=a;O.config().EI.length&&(b.tcpinfo=O.config().EI.join(","));c={};t.Uc(b,function(a,b){c[a]=JSON.stringify(b);});O.uc(Z.Ge.FIa,!1,Y.ig,c);}}catch(of){O.log.error("Exception in dlreport.",of);}};this.fxa=function(){var a,b;if(O.j.state.value==U.jb.$c){a=O.Yya();O.config().W$&&(a.avtp=O.$z.Uk().Zz,O.j.nl&&O.XS(a));a.midplayseq=O.Thb++;b=O.j.Ob.value;a.prstate=b===U.ib.ad?"playing":b===U.ib.oi?"paused":b===U.ib.Wq?"ended":"waiting";O.config().Epb&&O.xCa("midplay");O.config().Cn&&O.Jc()&&O.b7(a);O.Z6(a);O.a7(a);O.uc(Z.Ge.gNa,!1,Y.fh|Y.ig|Y.xt|Y.RN,a);}};this.rja=/-?l(\d\d)/i;this.Aqa=function(a){O.HC.push(O.pR.k2a(a.response));};this.rqa=function(a){var b,c,f,d,g,q;a=a.response;b=a.request;c=a.request.Go;f=b.track;if(f){d=!a.W&&a.Y!=L.u.Gt;g=f.type;q=a.rj;if(d||O.j.e8){c={dltype:g,url1:b.url,url2:a.url||"",cdnid:b.Wb&&b.Wb.id,tresp:t.Tl(q.eg-q.requestTime),brecv:t.w9a(q.Mu),trecv:t.Tl(q.kl-q.eg),sbr:c&&c.P};a.wq&&(c.range=a.wq);switch(g){case k.jg.audio:c.adlid=b.stream.Tc;break;case k.jg.video:c.vdlid=b.stream.Tc;break;case k.jg.sW:c.ttdlid=f.Tc;}(b=ea.jta(a.Y))&&(c.nwerr=b);a.Vh&&(c.httperr=a.Vh);O.uc(Z.Ge.GIa,d,Y.ig,c);}}};this.jj=function(){O.uc(Z.Ge.SFa,!1,Y.fh|Y.xt,{browserua:X.Oj});};this.Soa=function(a){var b,c,f;a=a.response;b=a.rj;c=A.Cb(b.eg);f=A.Cb(b.kl);b=G.aa(b.Mu||0);b.qva()||b.ava()||(c=new N.mia(c,f),O.$z.YP(new l.DX(c,b)),a&&a.request&&a.request.Go&&a.request.Go.Db&&O.zQ.YP(new n.MGa(c,b,a.request.Go.Db)));};this.Iya=function(a){var b;b=a.newValue;a.Ou&&a.Ou.x9&&b||b==O.J7||(O.prb(O.J7,b),O.J7=b);};this.ho=function(a){function b(a){var b;if(O.j.xb&&O.j.xb.sourceBuffers){b=O.j.xb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.nj(),updating:b.updating(),ranges:b.mS()};}}O.wE="rebuffer";a={cause:a.cause};a.cause&&a.cause===m.Kha&&(a.mediaTime=O.j.Qb.value,a.buf_audio=b(h.NY),a.buf_video=b(h.WF));O.beb(O.gM[U.ib.ad]||0,O.gM[U.ib.oi]||0,a);O.pF=O.getTime();D.zb(O.BQ);};this.iDa=function(a){var b;a=a.oldValue;b=O.getTime();a===U.ib.og?O.gM=[]:O.gM[a]=(O.gM[a]||0)+(b-O.jfb);O.jfb=b;};this.Dn=function(a){switch(a.cause){case U.kg.ex:case U.kg.WN:O.wE&&O.pF?O.wlb(O.getTime()-O.pF,O.wE):O.fl||O.Wya(),O.wE="repos",O.job(a.yU,a.zf,a.Le),O.pF=O.getTime(),D.zb(O.BQ);}};this.BQ=function(){var a;if(O.pF&&O.j.Ob.value!==U.ib.og){a=O.getTime()-O.pF;O.Eob(a,O.Ri);O.E7&&O.E7!=O.j.Nc.value&&O.b_a();O.pF=void 0;O.wE=void 0;O.Ri=void 0;}};this.s2=function(){O.j.Ob.value===U.ib.ad&&O.ca===O.j.ca&&(O.j.Ob.removeListener(O.s2),O.wj());};this.IH=function(a){O.dfb=O.getTime();O.E7=a.oldValue;};this.wj=function(){O.fl||(O.fl=!0,O.qCa(!1),O.Pdb(),O.config().Iua&&(O.cT=J.setTimeout(function(){O.yh.flush(!1)["catch"](function(){return O.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});O.cT=void 0;},O.config().Iua)));};this.Ie=function(){O.cT&&(J.clearTimeout(O.cT),O.cT=void 0);if(O.config().DI||O.config().BH)O.W3&&(J.clearInterval(O.W3),O.W3=void 0),O.qqa();O.ADa&&O.ADa();O.fl?O.$7a(!!O.j.Xh):O.j.Xh?O.qCa(!0):O.Wya();O.ipb||(O.uc=h.le);};this.fEa=function(a){a.oldValue&&a.Ou&&a.Ou.Foa&&O.f1a(a.oldValue,a.newValue,a.Ou.Foa,a.Ou.x_a);};this.rza=function(a){var b;if(a.newValue){b=a.newValue.stream;O.K7!=b&&(O.K7&&O.Znb(O.K7,b,a.newValue.Vm.startTime),O.K7=b);}};this.bq=function(a){function b(a,b){var c;if(!a||a.Z7!==b.location){c={Z7:b.location,Zva:b.locationlv,Ppb:b.serverid,Pz:b.servername};O.T0a(a,b);return c;}}if("audio"===a.mediaType){if(a=b(O.cfb,a))O.cfb=a;}else if(a=b(O.UJ,a))O.UJ=a;};this.GE=function(a){var b,c;b=a.mediatype;c=a.reason;"video"===b?"serverswitchaway"===c?(O.$g.summary.jEa++,O.$g.yT=O.Ra.Ve.fa(A.ma)):"serverswitchback"===c&&(O.$g.summary.kEa++,O.$g.yT&&(O.$g.summary.lEa.push(O.Ra.Ve.fa(A.ma)-O.$g.yT),O.$g.yT=void 0)):"audio"===b&&("serverswitchaway"===c?(O.$g.summary.zna++,O.$g.tT=O.Ra.Ve.fa(A.ma)):"serverswitchback"===c&&(O.$g.summary.Ana++,O.$g.tT&&(O.$g.summary.Bna.push(O.Ra.Ve.fa(A.ma)-O.$g.tT),O.$g.tT=void 0)));O.uc(Z.Ge.$Qa,!1,Y.fh|Y.ig,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});};this.$B=function(a){O.uc(Z.Ge.CEa,!1,Y.ig,{strmsel:a.strmsel});};this.ZB=function(a){O.uc(Z.Ge.BEa,!1,Y.ig,{msg:a.msg});};this.SE=function(a){a=x.EL(a);a.details&&(a.details=JSON.stringify(a.details));O.uc(Z.Ge.qRa,!0,Y.fh|Y.TA|Y.VM,a);};this.Mjb=function(){O.yh.flush(!0)["catch"](function(){return O.log.warn("failed to flush logbatcher on midplay interval");});};this.$z=f();this.log=p.$f(a,"LogblobBuilder");this.J7=a.paused.value;this.ca=b.ca;this.oa=this.iw.oa;this.$g={summary:{jEa:0,kEa:0,lEa:[],zna:0,Ana:0,Bna:[]},yT:void 0,tT:void 0};this.Ac();c&&this.lCa();}Object.defineProperty(d,"__esModule",{value:!0});f=a(49);h=a(9);m=a(56);c=a(28);k=a(75);p=a(4);q=a(14);t=a(18);A=a(3);y=a(60);L=a(2);x=a(19);G=a(35);N=a(336);l=a(322);n=a(641);X=a(8);D=a(45);U=a(15);P=a(16);r=a(640);Z=a(639);ea=a(148);b.prototype.Ac=function(){this.j.addEventListener(U.S.tn,this.tn);this.j.addEventListener(U.S.JT,this.JT);this.j.addEventListener(U.S.bq,this.T7(this.bq));this.j.addEventListener(U.S.GE,this.T7(this.GE));this.j.addEventListener(U.S.Ie,this.T7(this.Ie));};b.prototype.lCa=function(a){var b;b=this;if(!this.pxa){this.j.Ob.value!==U.ib.ad||(void 0===a?0:a)?this.j.Ob.addListener(this.s2):this.wj();this.j.Di.addListener(this.ZCa);this.j.Nc.addListener(this.IH);this.j.paused.addListener(this.Iya);this.j.Le.addListener(this.rza);this.j.Ob.addListener(this.BQ);this.j.Ob.addListener(this.iDa);this.j.te.addListener(this.fEa);this.j.addEventListener(U.S.Ru,this.rqa,h.eZ);this.j.addEventListener(U.S.jj,this.jj);this.j.addEventListener(U.S.ZB,this.ZB);this.j.addEventListener(U.S.$B,this.$B);this.j.addEventListener(U.S.SE,this.SE);this.j.addEventListener(U.S.ho,this.ho);this.j.addEventListener(U.S.Dn,this.Dn);this.j.addEventListener(U.S.XE,this.XE);this.j.addEventListener(U.S.Ri,function(){b.Ri=!0;});this.iw.Tm&&this.iw.Tm.addListener(this.Tm);this.config().ii&&(this.ipb=!0);if(this.config().DI||this.config().BH)this.j.addEventListener(U.S.Ru,this.Aqa),this.W3=J.setInterval(this.qqa,this.config().v6a);this.config().W$&&this.j.addEventListener(U.S.Ru,this.Soa);this.pxa=!0;}};b.prototype.y1a=function(){this.Ie();this.pxa&&(this.j.removeEventListener(U.S.bq,this.bq),this.j.removeEventListener(U.S.GE,this.GE),this.j.Di.removeListener(this.ZCa),this.j.Nc.removeListener(this.IH),this.j.paused.removeListener(this.Iya),this.j.Le.removeListener(this.rza),this.j.Ob.removeListener(this.BQ),this.j.Ob.removeListener(this.s2),this.j.Ob.removeListener(this.iDa),this.j.te.removeListener(this.fEa),this.j.removeEventListener(U.S.Ru,this.rqa),this.j.removeEventListener(U.S.Ie,this.Ie),this.j.removeEventListener(U.S.jj,this.jj),this.j.removeEventListener(U.S.ZB,this.ZB),this.j.removeEventListener(U.S.$B,this.$B),this.j.removeEventListener(U.S.SE,this.SE),this.j.removeEventListener(U.S.ho,this.ho),this.j.removeEventListener(U.S.Dn,this.Dn),this.j.removeEventListener(U.S.XE,this.XE),this.iw.Tm&&this.iw.Tm.removeListener(this.Tm),this.j.removeEventListener(U.S.Ru,this.Aqa),this.j.removeEventListener(U.S.Ru,this.Soa));};b.prototype.qCa=function(a){var b,f,p,m,h,u,x,L,G,N,l,R,n,S,D,O,ia,ea,E,C,ib,Q,T;b={};try{b={browserua:X.Oj,browserhref:location.href,playdelaysdk:t.Tl(this.j.roa()),applicationPlaydelay:t.Tl(this.j.r0a()),playdelay:t.Tl(this.j.x0a()),trackid:this.j.ah,bookmark:t.Tl(this.j.Rx||0),pbnum:this.j.index,endianness:c.$$a()};this.config().t7a&&(b.transitiontime=this.j.pm,b.uiplaystarttime=this.j.Ya.xW,b.playbackrequestedat=this.j.el.fa(A.ma),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Ra.Ve.fa(A.ma),b.clockgetpreciseappepoch=this.ya.Oy.fa(A.ma),b.absolutestarttime=this.j.jS(),b.relativetime=this.j.W5());this.g5(b,"startplay");}catch(Za){this.log.error("error in startplay log fields",Za);}this.j.jj&&(b.blocked=this.j.jj);this.config().endpoint||(b.configendpoint="error");this.j.Nf&&(b.playbackcontextid=this.j.Nf);this.zua(b);if(this.config().PW&&this.j.Ya.wca){for(var d={},k=Object.keys(this.j.Ya.wca),g,q=k.length;q--;)g=k[q],d[g.toLowerCase()]=this.j.Ya.wca[g];b.vui=d;}P.pa(this.j.$na)&&(b.bookmarkact=t.Tl(this.j.$na));(d=this.j.Bc.at&&this.j.Bc.ats?this.j.Bc.at-this.j.Bc.ats:void 0)&&(b.nccpat=d);(d=this.j.Bc.lr&&this.j.Bc.lc?this.j.Bc.lr-this.j.Bc.lc:void 0)&&(b.nccplt=d);(d=this.A6a())&&(b.downloadables=d);J._cad_global.device&&P.Tb(J._cad_global.device.UC)&&(b.esnSource=J._cad_global.device.UC);(d=J._cad_global.platformExtraInfo)&&t.Wa(b,d,{prefix:"pi_"});(d=X.sk&&X.sk.connection&&X.sk.connection.type)&&(b.nettype=d);this.j.Um&&this.j.Um.initBitrate&&(b.initvbitrate=this.j.Um.initBitrate);this.j.Um&&this.j.Um.selector&&(b.selector=this.j.Um.selector);b.fullDlreports=this.j.Qqa;if(this.j.state.value>=U.jb.$c)try{p=this.j.lo();p&&(this.vn=c.Sca(p.map(function(a){return a.P;})),this.Mwa=c.Sca(p.map(function(a){return a.height;})),f=0<p.length?r.Wgb(p,function(a){return a.P;}):void 0,b.maxbitrate=this.vn,b.maxresheight=this.Mwa);}catch(Za){this.log.error("Exception computing max bitrate",Za);}try{m=c.wS();m&&(b.pdltime=m);}catch(Za){}try{t.Wa(b,this.j.Bc,{prefix:"sm_"});t.Wa(b,this.j.FS(),{prefix:"vd_"});}catch(Za){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.Po&&(b.pssh=this.j.Po);this.j.hf&&this.j.hf.fk&&this.j.hf.fk.keySystem&&(b.keysys=this.j.hf.fk.keySystem);if(this.config().Cn&&this.Jc())try{p={};h=this.Jc().getStats(void 0,void 0,this.j.M);u=this.j.jS();x=h.ww.N1a;p.attempts=h.nza||0;p.num_completed_tasks=x.length;L=this.Vd.P8a;m={};G=y.Zc.ve.Dia;N=y.Zc.ve.Et;l=y.Zc.ve.UM;R=y.Zc.ve.wF;n=y.Zc.ve.TM;h.Hi&&(m.scheduled=h.Hi-u);S=this.j.Ja;S&&P.Tb(S.Iz)&&(m.preauthsent=S.Iz-this.j.Ze,m.preauthreceived=S.sE-this.j.Ze);D=x.filter(L("type","manifest"));p.mf_succ=D.filter(L("status",G)).length;p.mf_fail=D.filter(L("status",N)).length;O=this.j.Bc;P.Tb(O.lg)&&0>O.lg&&this.j.Ze&&(m.ldlsent=O.lc,m.ldlreceived=O.lr);ia=x.filter(L("type","ldl"));p.ldl_succ=ia.filter(L("status",G)).length;p.ldl_fail=ia.filter(L("status",N)).length;h=!0;if(!m.preauthreceived||0<=m.preauthreceived)h=!1;this.config().m4||(h=!1);ea=ia.filter(L("status",l)).length;E=ia.filter(L("status",R)).length;C=ia.filter(L("status",n)).length;this.config().m4&&0===ea+E+C&&(!m.ldlreceived||0<=m.ldlreceived)&&(h=!1);if(this.config().xR){ib=this.j.Wl&&this.j.Wl.stats;if(ib){if(ib.VR&&(m.headersent=ib.VR-this.j.Ze),ib.AT&&(m.headerreceived=ib.AT-this.j.Ze),ib.jE&&(m.prebuffstarted=ib.jE-this.j.Ze),ib.WU&&(m.prebuffcomplete=ib.WU-this.j.Ze),!m.prebuffcomplete||0<=m.prebuffcomplete)h=!1;}else h=!1;}Q=x.filter(L("type","getHeadersAndMedia"));p.hm_succ=Q.filter(L("status",G)).length;p.hm_fail=Q.filter(L("status",N)).length;t.Wa(b,p,{prefix:"pr_"});b.eventlist=JSON.stringify(m);b.prefetchCompleted=h;this.b7(b);}catch(Za){this.log.warn("error in collecting video prepare data",Za);}b.avtp=this.$z.Uk().Zz;this.j.nl&&this.XS(b);if(this.j.vc.value)try{b.ttTrackFields=this.j.vc.value.cg;}catch(Za){}if(x=this.j.Nc&&this.j.Nc.value&&this.j.Nc.value.oc){T={};x.forEach(function(a){T[a.ff]=void 0;});b.audioProfiles=Object.keys(T);}this.c7(b);this.j.Ja&&"boolean"===typeof this.j.Ja.isSupplemental&&(b.isSupplemental=this.j.Ja.isSupplemental);b.headerCacheHit=!!this.j.Wl;this.j.Wl&&(b.headerCacheDataAudio=this.j.Wl.audio,b.headerCacheDataAudioFromMediaCache=this.j.Wl.audioFromMediaCache,b.headerCacheDataVideo=this.j.Wl.video,b.headerCacheDataVideoFromMediaCache=this.j.Wl.videoFromMediaCache);this.j.Ja&&(b.packageId=this.j.Ja.packageId);this.j.Ja&&this.j.Ja.choiceMap&&(b.hasChoiceMap=!0);this.config().Qra&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.bl.Hy;this.Xeb(f);this.Web();this.xua(this.j,b);this.yua(this.j,b);this.Cy(this.j,b);this.By(this.j,b);this.Z6(b);this.a7(b);this.Cua(b);this.wua(b);this.Dua(b);this.uc(Z.Ge.iRa,a,Y.fh|Y.TA|Y.ig|Y.RN|Y.xt|Y.VM|Y.MX,b);};b.prototype.Eob=function(a,b){b={playdelay:t.Tl(a),reason:this.wE,intrplayseq:this.hT-1,skipped:b};this.Cy(this.j,b);this.uc(Z.Ge.qQa,!1,Y.fh|Y.TA|Y.ig,b);"rebuffer"==this.wE&&this.j.cl.LYa(Number(t.Tl(a)));};b.prototype.f1a=function(a,b,c,f){a={moff:t.my(c),vbitrate:b.P,vbitrateold:a.P,vdlid:b.Tc,vdlidold:a.Tc,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.Cy(this.j,a);this.By(this.j,a);this.uc(Z.Ge.QGa,!1,Y.ig,a);};b.prototype.Znb=function(a,b,c){a={moff:t.my(c),vdlidold:a.Tc,vbitrateold:a.P};this.Cy(this.j,a);this.By(this.j,a);this.Ay(a,b,this.j.zf.value&&this.j.zf.value.stream);this.uc(Z.Ge.iQa,!1,Y.ig,a);};b.prototype.Wya=function(){var a,b;a={waittime:t.Tl(this.j.W5()),abortedevent:"startplay",browserua:X.Oj,browserhref:location.href,trackid:this.j.ah};this.j.Nf&&(a.playbackcontextid=this.j.Nf);this.j.Um&&this.j.Um.initBitrate&&(a.initvbitrate=this.j.Um.initBitrate);try{b=c.wS();b&&(a.pdltime=b);t.Wa(a,this.j.Bc,{prefix:"sm_"});}catch(va){}this.X6(a,!0);this.Dua(a);this.c7(a);this.Aua(a);this.Ay(a,this.j.te.value,this.j.ij.value);this.uc(Z.Ge.Sha,!1,Y.fh|Y.ig|Y.xt,a);};b.prototype.wlb=function(a,b){a={waittime:t.Tl(a),abortedevent:"resumeplay",browserua:X.Oj,resumeplayreason:b};this.j.Nf&&(a.playbackcontextid=this.j.Nf);this.j.Um&&this.j.Um.initBitrate&&(a.initvbitrate=this.j.Um.initBitrate);this.Ay(a,this.j.te.value,this.j.ij.value);this.uc(Z.Ge.Sha,!1,Y.fh|Y.ig,a);};b.prototype.prb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.Cy(this.j,a);this.By(this.j,a);this.Ay(a,this.j.Le.value&&this.j.Le.value.stream,this.j.zf.value&&this.j.zf.value.stream);this.uc(Z.Ge.jRa,!1,Y.fh|Y.ig,a);};b.prototype.beb=function(a,b,c){a=t.Wa({vdlid:this.j.te.value.Tc,playingms:a,pausedms:b,intrplayseq:this.hT++},c);this.g5(a,"intrplay");b=this.j.Wb[f.qc.L.VIDEO].value;c=this.j.Wb[f.qc.L.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=c&&c.id;a.locid=this.UJ&&this.UJ.Z7;a.loclv=this.UJ&&this.UJ.Zva;a.avtp=this.$z.Uk().Zz;this.j.nl&&(this.X6(a,!0),this.XS(a),this.Bua(a));try{t.Wa(a,this.j.FS(),{prefix:"vd_"});}catch(wa){}this.Cy(this.j,a);this.By(this.j,a);this.Ay(a,this.j.Le.value&&this.j.Le.value.stream,this.j.zf.value&&this.j.zf.value.stream);this.uc(Z.Ge.tLa,!1,Y.fh|Y.ig,a);};b.prototype.job=function(a,b,c){a={moffold:t.my(a),reposseq:this.uAa++};this.By(this.j,a);this.Ay(a,c&&c.stream,b&&b.stream);this.uc(Z.Ge.mQa,!1,Y.fh|Y.ig,a);};b.prototype.b_a=function(){this.uc(Z.Ge.sFa,!1,Y.fh|Y.ig,{switchdelay:t.Tl(this.getTime()-this.dfb),newtrackinfo:this.j.Nc.value.eb,oldtrackinfo:this.E7.eb});};b.prototype.T0a=function(a,b){var c,f,d,k;c=b.serverid;f=b.serverrtt;d=b.serverbw;k={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};k.mediatype=b.mediatype;k.selcdnrtt=f;k.selcdnbw=d;k.selreason=b.selreason||"unknown";k.testreason=b.testreason;k.fastselthreshold=b.fastselthreshold;k.seldetail=b.seldetail;k.cdnbwdata=JSON.stringify([{id:c,rtt:f,bw:d}]);a&&(k.oldlocid=a.Z7,k.oldloclv=a.Zva,k.oldocaid=a.Ppb,k.oldocaname=a.Pz);this.uc(Z.Ge.OGa,!1,Y.VM,k);};b.prototype.xCa=function(a){var b,c;b={};b.trigger=a;try{c=this.j.P5();b.subtitleqoescore=this.j.Nn.Rbb(c);b.metrics=JSON.stringify(this.j.Nn.f6(c));}catch(wa){this.log.error("error getting subtitle qoe data",wa);}this.uc(Z.Ge.sRa,!1,Y.fh|Y.xt|Y.TA,b,"info");};b.prototype.transition=function(a){this.uc(Z.Ge.QRa,!1,0,a);};b.prototype.Fbb=function(a,b){if(a=a.nS())if(b=a[b])return b.jm;};b.prototype.xua=function(a,b){a.Ya.ag&&(b.isBranching=!0);};b.prototype.yua=function(a,b){b.cachedManifest=a.Fu;b.cachedLicense=a.Ux;};b.prototype.Cy=function(a,b){var c,f;if(this.config().Jdb){c=a.Q5();if(c){b.segment=c;f=a.ty();b.segmenttime=f;a=this.Fbb(a,c);null!==f&&void 0!==a&&(b.segmentoffset=f-a);}}};b.prototype.By=function(a,b){b.pxid=a.Nmb;};b.prototype.Bua=function(a){var b,c;b=this.j.H6;c=b&&b.iob;b&&b.sua&&(a.htwbr=b.sua,a.pbtwbr=b.NU,a.hptwbr=b.ndb);b&&b.SAa&&(a.rr=b.SAa,a.ra=b.Vmb);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));};b.prototype.c7=function(a){var b,c,f,d,k;b=this;c=this.j.Df&&this.j.Df.value&&this.j.Df.value.oc;if(c){f=new Set();d=new Set();k=new Set();c.forEach(function(a){a=a.ff;f.add(a);d.add(a.replace(b.rja,""));(a=a.match(b.rja))&&0<a.length&&k.add(a[1]);});a.videoProfiles=[].concat(da(f));a.videoProfile=0===d.size?"none":[].concat(da(d))[0];a.videoProfileLevels=[].concat(da(k));}};b.prototype.Aua=function(a){var b,c,f;try{b=this.Vd.createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){f=c.getExtension("WEBGL_debug_renderer_info");f&&(a.WebGLRenderer=c.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(M){}};b.prototype.Kdb=function(a){a.switchAwaySummary={vsa:this.$g.summary.jEa,vsb:this.$g.summary.kEa,vsbt:this.$g.summary.lEa,asa:this.$g.summary.zna,asb:this.$g.summary.Ana,asbt:this.$g.summary.Bna};};b.prototype.$7a=function(a){var b,c,f,d,y;b=this;c=this.Yya();this.g5(c,"endplay");c.browserua=X.Oj;this.j.qt&&"downloaded"===this.j.qt.yS()&&(c.trickplay_ms=this.j.nM.offset,c.trickplay_res=this.j.nM.AAa);this.config().YDa&&(c.rtinfo=this.j.zbb());if(this.config().W$){f=this.$z.Uk().Zz;void 0!==c.avtp?c.avtp_retired=f:c.avtp=f;f=this.zQ.u$a().map(function(a){return{cdnid:a.Iu,avtp:a.Zz,tm:a.X3};});void 0!=c.cdnavtp?c.cdnavtp_retired=f:c.cdnavtp=f;this.j.nl&&this.XS(c);}this.zua(c);c.endreason=a?"error":this.j.Ob.value===U.ib.Wq?"ended":"stopped";f=J._cad_global.platformExtraInfo;this.Edb(f);f&&t.Wa(c,f,{prefix:"pi_"});f=this.j.Xh;a&&f&&L.uJa(f.errorCode)&&(d="info");try{t.Wa(c,this.j.Bc,{prefix:"sm_"});}catch(eb){}this.j.W6&&(c.inactivityTime=this.j.W6);this.X6(c,"info"!==d&&a);this.Bua(c);if(this.j.Sx){for(var f=this.j.Sx,k=this.config().cC,g=this.j.Ze,q={iv:k,seg:[]},p=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},m=f.Ur.map(p),p=f.tt.map(p),h,u=0;u<m.length;u++){if(m[u]||p[u])h?(h.ams.push(m[u]),h.vms.push(p[u])):h={ams:[f.Ur[u]],vms:[f.tt[u]],soffms:f.startTime+u*k-g};u!==m.length-1&&m[u]&&p[u]||!h||(q.seg.push(h),h=void 0);}c.bt=JSON.stringify(q);}if(this.j.UT&&0<this.j.UT.length){y=[];this.j.UT.forEach(function(a){y.push({soffms:a.time-b.j.Ze,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});c.maxvbevents=y;}this.j.Dza&&(c.psdConservCount=this.j.Dza);a&&this.Aua(c);this.xCa("endplay");this.config().Cn&&this.Jc()&&this.b7(c);c.isNonMember=this.bl.Hy;this.c7(c);this.xua(this.j,c);this.yua(this.j,c);this.Cy(this.j,c);this.By(this.j,c);this.Z6(c);this.a7(c);this.Cua(c);this.Fdb(c);this.wua(c);this.Hdb(c);this.Gdb(c);this.Kdb(c);this.uc(Z.Ge.rJa,a,Y.fh|Y.TA|Y.ig|Y.xt|Y.RN|Y.MX,c,d);};b.prototype.$Ta=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};b.prototype.A6a=function(){var a,b;a=this;if(this.j.Lq&&this.j.Qm){b=[];this.j.Lq.concat(this.j.Qm).forEach(function(c){c.oc.forEach(function(c){b.push({dlid:c.Tc,type:c.type,bitrate:c.P,vmaf:c.wc,cdn_ids:a.$Ta(c.Mp)});});});return JSON.stringify(b);}};b.prototype.R0a=function(){var b,c,f;function a(a,b){var d,k,g;d=a.cdnId;k=f[d];g=a.vmaf;k||(k={cdnid:d,dls:[]},f[d]=k,c.push(k));q.rI(a.bitrate);q.rI(a.duration);d={bitrate:a.bitrate,tm:X.Jh(a.duration)};g&&(q.rI(a.vmaf),d.vf=g);d[b]=t.Sd(a.downloadableId);k.dls.push(d);}b=this.j.cl.a$a();c=[];f={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};b.prototype.Yya=function(){var a,b,c,f,d,k,g,p,m,y,A;a=this.j.cl;b={totaltime:t.my(a.rJ()),cdndldist:this.R0a(),reposcount:this.uAa,intrplaycount:this.hT};try{c={numskip:0,numlowqual:0};f=this.j.zg;d=f.tS();P.pa(d)&&(b.totfr=d,c.numren=d);d=f.ry();P.pa(d)&&(b.totdfr=d,c.numrendrop=d);d=f.iJ();P.pa(d)&&(b.totcfr=d,c.numrenerr=d);d=f.uS();P.pa(d)&&(b.totfdl=d);b.playqualvideo=JSON.stringify(c);k=this.j.te.value;k&&(b.videofr=k.eS.toFixed(3));g=a.qsa();g&&(b.abrdel=g);p=a.Vcb()&&a.e$a();p&&(b.tw_vmaf=p);m=a.d$a();m&&t.Wa(b,m);b.rbfrs=this.hT;b.maxbitrate=this.vn;b.maxresheight=this.Mwa;for(var h=this.j.yy(),u,a=0;a<h.length;a++){y=h[a];A=this.iw.mK.ft(y);if(A){q.Ga(u);b.maxbitrate=u?u.P:0;b.maxresheight=u?u.height:0;b.bitratefilters=A.join("|");break;}u=y;}this.j.qt&&(b.trickplay=this.j.qt.yS());null!==this.j.Nn.Pna&&(b.avg_subt_delay=this.j.Nn.Pna);}catch(eb){this.log.error("Exception reading some of the endplay fields",eb);}t.Wa(b,this.j.FS(),{prefix:"vd_"});return b;};b.prototype.getTime=function(){return this.ya.Xb().fa(A.ma);};b.prototype.KV=function(a){a.browserua=X.Oj;this.uc(Z.Ge.UQa,!a.success,Y.fh|Y.xt,a);this.uc=h.le;};b.prototype.Pdb=function(){var a,b,c,f;a=this;c=[];if(this.config().Rhb){f={axa:function(){},uBa:function(){a.fxa();}};this.yh.addListener(f);this.config().Shb.forEach(function(b){c.push(J.setTimeout(a.fxa,b));});this.config().gxa&&(b=J.setInterval(this.Mjb,this.config().gxa));this.ADa=function(){a.yh.removeListener(f);c.forEach(function(a){J.clearTimeout(a);});b&&J.clearInterval(b);};}};b.prototype.b7=function(a){var b;try{b=this.Jc().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.dsa);}catch(va){}};b.prototype.Z6=function(a){this.log.debug("httpstats",this.Gd.Kb);t.Wa(a,this.Gd.Kb,{prefix:"http_"});};b.prototype.X6=function(a,b){this.config().Ppa&&!(this.oa%this.config().Ppa)&&this.j.nb&&this.j.nb.j7&&(a.ASEstats=JSON.stringify(this.j.nb.j7(b)));};b.prototype.XS=function(a){Object.assign(a,this.j.nl.$e.Zbb());};b.prototype.a7=function(a){var b;try{b=X.br.memory;P.Meb(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(va){}};b.prototype.Cua=function(a){var b;b=this.j.hf;this.config().K0a&&b&&!this.config().cp&&(a.keystatuses=this.j.Uib(b.DGb()),this.log.trace("keystatuses",a.keystatuses));};b.prototype.wua=function(a){try{this.config().$H&&(a.battery=this.j.j$a(),this.log.trace("batterystatuses",a.battery));}catch(W){}};b.prototype.Fdb=function(a){this.j.YQ&&(a.dqec=this.j.YQ);};b.prototype.Edb=function(a){this.j.yQ&&t.Wa(a,{cast_interaction_counts:this.j.yQ.P0});};b.prototype.Dua=function(a){var b;b=this.j.Ya.hm;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};b.prototype.Gdb=function(a){this.y4&&(a.externaldisplay=this.y4.WI);};b.prototype.Hdb=function(a){this.Bw&&this.Bw.Sc&&(a.media_capabilities_smooth=this.Bw.Sc.brb,a.media_capabilities_efficient=this.Bw.Sc.Plb,a.media_capabilities_bitrate=this.Bw.Sc.P,a.media_capabilities_height=this.Bw.Sc.height,a.media_capabilities_width=this.Bw.Sc.width);};b.prototype.Ay=function(a,b,c){c&&(a.adlid=c.Tc,a.abitrate=c.P);b&&(a.vdlid=b.Tc,a.vbitrate=b.P);};b.prototype.zua=function(a){var b,c;if(this.j.gI){b=this.j.gI;b.LQ&&(a.controllerESN=b.LQ);b.g2a&&(a.controllerUiVer=b.g2a);if(b.f2a)try{c=JSON.parse(b.f2a);a.controllerGroupNames=c;}catch(wa){this.log.error("Exception parsing controller group names",wa);}}};b.prototype.Web=function(){void 0===this.y4&&(this.y4=this.z4.L8a());};b.prototype.Xeb=function(a){void 0===this.Bw&&void 0!==a&&(this.Bw=this.S8.F4(a));};b.prototype.g5=function(a,b){var c;c=this.j.As(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});};b.prototype.uc=function(a,b,c,f,d){this.EYa(f,this.j,b,c);a=this.cK.Ml(a,d||(b?"error":"info"),f,this.iw);this.yh.uc(a);};b.prototype.EYa=function(a,b,c,d){var k,g,p,m,h;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.oC&&(a.pbcid=b.oC);d&Y.fh&&(q.Ga(!a||void 0===a.moff),0<=b.Qb.value&&(a.moff=t.my(b.Qb.value)));if(d&Y.TA){k=b.Wb[f.qc.L.VIDEO].value;g=b.Wb[f.qc.L.AUDIO].value;p=b.zf.value;m=b.Le.value;k&&(a.cdnid=k.id,a.cdnname=k.name);g&&(a.acdnid=g.id,a.acdnname=g.name);p&&(a.adlid=p.stream.Tc,a.abitrate=p.stream.P);m&&(a.vdlid=m.stream.Tc,a.vbitrate=m.stream.P,a.vheight=m.stream.height,a.vwidth=m.stream.width);}d&Y.ig&&b.nb&&(a.abuflbytes=b.G1(),a.abuflmsec=b.EH(),a.vbuflbytes=b.uca(),a.vbuflmsec=b.AM());if(d&Y.RN){Object.assign(a,ea.wta());try{h=b.Yg.getBoundingClientRect();a.rendersize=h.width+"x"+h.height;a.renderpos=h.left+"x"+h.top;}catch(la){}}d&Y.xt&&(k=X.sk.hardwareConcurrency,0<=k&&(a.numcores=k),k=this.iw.a4)&&(g=k.f$a(),a.droppedFrames=JSON.stringify(g),k=k.pJ(this.config().R6a),t.Uc(k,function(b,c){a["droppedFramesP"+b]=JSON.stringify(c);}));if(d&Y.VM)try{b.Ei&&(a.cdninfo=JSON.stringify(b.Ei.map(function(a){return{id:a.id,nm:a.name,rk:a.fe,wt:a.location.weight,lv:a.location.level};})));}catch(la){}c&&d&Y.MX&&(q.Ga(b.Xh),(c=b.Xh)?a=Object.assign(a,ea.ota(this.platform.SC,c)):a.errorcode=L.I.bj,a.errorcode===this.platform.SC+L.I.dha&&(a.lastSyncWithVideoElement=this.getTime()-b.aM));};d.VLa=b;(function(a){a[a.fh=1]="MOFF";a[a.TA=2]="PRESENTEDSTREAMS";a[a.ig=4]="BUFFER";a[a.RN=8]="SCREEN";a[a.xt=16]="CPU";a[a.VM=32]="CDN";a[a.MX=64]="FATALERROR";}(Y||(Y={})));},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xfa="LogblobBuilderFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qca="AppLogSinkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ija="UuidProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yha="PboLogblobCommandSymbol";},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.Xf=function(a,b){var c;c=this;return a.map(function(a){return b.call(c,a);});};b.prototype.OC=function(a,b){var c,f;c={};for(f in a)c[f]=b.call(this,a[f]);return c;};f=b;f=g.__decorate([a.N()],f);d.hN=f;},function(g,d,a){var c,k,p;function b(){this.Uu=new c.QLa();}function f(a){var c;c=k.hN.call(this)||this;c.kq=a;c.Uu=new b();return c;}function h(a,b){this.kq=a;this.profile=b;this.VP=this.profile.TB.id;this.OD={};}function m(a){this.kq=a;this.JE=p.aa(0);this.OD=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(648);k=a(328);p=a(35);m.prototype.Pr=function(a){this.JE=this.JE.add(this.kq.measure([a.message]));this.OD.push(a);};m.prototype.Bz=function(a){var b,c;b=this;this.JE=p.aa(0);c=[];this.OD.forEach(function(f){0>a.indexOf(f.id)&&(b.JE=b.JE.add(b.kq.measure([f.message])),c.push(f));});this.OD=c;};qa.Object.defineProperties(m.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.JE;}},de:{configurable:!0,enumerable:!0,get:function(){return this.OD;}}});h.prototype.Pr=function(a,b,c,f){var d;d=this.de[a];d||(d=new m(this.kq),this.de[a]=d);d.Pr({id:b,url:c,message:f});};h.prototype.Bz=function(a){var c;for(var b in this.de){c=this.de[b];c&&(c.Bz(a),0===c.de.length&&delete this.de[b]);}};qa.Object.defineProperties(h.prototype,{de:{configurable:!0,enumerable:!0,get:function(){return this.OD;}}});d.dNa=h;ca(f,k.hN);f.prototype.encode=function(a){return{accountId:a.VP,messages:this.H7a(a.de)};};f.prototype.decode=function(a){return{VP:a.accountId,de:this.d5a(a.messages)};};f.prototype.H7a=function(a){var b,c,f,d;b=this;c={};f={};for(d in a)f.AR=[],a[d].de.forEach(function(a){return function(c){0<c.id&&a.AR.push(b.Uu.encode(c));};}(f)),c[d]=f.AR,f={AR:f.AR};return c;};f.prototype.d5a=function(a){var b,c,f,d;b=this;c={};f={};for(d in a)f.cV=new m(this.kq),a[d].forEach(function(a){return function(c){a.cV.Pr(b.Uu.decode(c));};}(f)),c[d]=f.cV,f={cV:f.cV};return c;};d.cNa=f;b.prototype.encode=function(a){return{id:a.id,url:a.url,message:this.Uu.encode(a.message)};};b.prototype.decode=function(a){var b;b=this.Uu.decode(a.message);return{id:a.id,url:a.url,message:b};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yga="MessageQueueSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yfa="LogblobSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rha="PboBindDeviceCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Eda="CryptoKeysSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dda="CryptoDeviceIdSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$da="DeviceProviderSymbol";},function(g,d){function a(b,f,d){if(null!=d){if(0<d(b,f))throw a.xpa(b,f);}else if(b.Pk&&0<b.Pk(f))throw a.xpa(b,f);this.start=b;this.end=f;}Object.defineProperty(d,"__esModule",{value:!0});a.xpa=function(a,f){return new RangeError("end ["+f+"] must be >= start ["+a+"]");};d.mia=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zda="DeviceIdGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ega="MslDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dga="MslClientSendStrategySymbol";},function(g,d,a){var b,f,h,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(18);h=a(16);m=a(75);d.HGa=function(a,b,d,g,t,m,u,L,x,G){var c,k;c=this;k={Type:b,Bitrate:g,DownloadableId:d};f.Wa(c,{track:a,type:b,Tc:d,P:g,wc:t,ff:L,size:m,Mp:u,Wp:null,xqb:function(a,b){if(h.Tb(a)||h.Tb(b))c.width=a,c.height=b,k.Resolution=(c.width||"")+":"+(c.height||"");},Xpb:function(a,b,f,d){h.Tb(a)&&h.Tb(b)&&h.Tb(f)&&h.Tb(d)&&(c.E4a=a,c.Dpa=b,c.Cpa=f,c.Bpa=d);},eS:x,qn:G,cg:k,toJSON:function(){return k;}});};d.Pwb=function(a,f,d,g,t){if(a==b.NY||a===m.jg.audio)return f;if(a==b.WF||a===m.jg.video)return d;if(a==m.jg.sW)return g;if(a==m.jg.aca)return t;};},function(g,d,a){var f;function b(a){var g,c,k,p,q,t,h;k={};k[f.VW]=a.localName;p={};k[f.Vi]=p;q=[];k[f.UW]=q;t=a.attributes;g=t.length;for(c=0;c<g;c++){h=t[c];p[h.localName]=h.value;}a=a.childNodes;g=a.length;p={};for(c=0;c<g;c++)switch(t=a[c],t.nodeType){case d.svb:t=b(t);h=t[f.VW];t[f.sEa]=k;q.push(t);k[h]?p[h][f.rF]=t:k[h]=t;p[h]=t;break;case d.tvb:case d.qvb:t=t.text||t.nodeValue,q.push(t),k[f.Qq]||(k[f.Qq]=t);}return k;}Object.defineProperty(d,"__esModule",{value:!0});f=a(124);d.pvb=function(a){return b(a.nodeType==d.rvb?a.documentElement:a);};d.QKb=b;d.svb=1;d.PKb=2;d.tvb=3;d.qvb=4;d.rvb=9;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(16);d.ovb=function(a){var d,c;if(f.Ly(a)){d=new DOMParser().parseFromString(a,"text/xml");c=d.getElementsByTagName("parsererror");if(c&&c[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(c[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(k){}throw Error("xml parser error");}return d;}throw Error("bad xml text");};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(193);f=a(192);d.ykb=function(a,d,c,k){return new Promise(function(g,q){f.tEa(a,function(a){a.W?b.pkb(a.object,d,c,k,function(a){a.W?g(a.entries):q(a);}):q(a);});});};},function(g){(function(){var M0d,I0d;M0d=2;function d(){var N0d;N0d=2;while(N0d!==5){switch(N0d){case 2:this.nu=this.Vb=0;this.Pa=this.ne=void 0;N0d=5;break;}}}while(M0d!==8){I0d="1SIY";I0d+="bZrN";I0d+="J";I0d+="Cp";I0d+="9";switch(M0d){case 2:d.prototype.start=function(a){var D0d;D0d=2;while(D0d!==1){switch(D0d){case 2:this.ne?a<this.ne?(this.nu+=this.ne-a,this.ne=a):a>this.Pa&&(this.Pa=this.ne=a):this.Pa=this.ne=a;D0d=1;break;}}};d.prototype.stop=function(a){var R0d;R0d=2;while(R0d!==1){switch(R0d){case 2:this.Pa&&a>this.Pa&&(this.nu+=a-this.Pa,this.Pa=a);R0d=1;break;}}};d.prototype.add=function(a,b,f){var f0d;f0d=2;while(f0d!==4){switch(f0d){case 2:this.start(b);this.stop(f);this.Vb+=a;f0d=4;break;}}};d.prototype.get=function(){var l0d;l0d=2;while(l0d!==1){switch(l0d){case 2:return{Fa:this.nu?Math.floor(8*this.Vb/this.nu):null,R3:this.nu?this.nu:0};break;}}};g.T=d;I0d;M0d=8;break;}}}());},function(g,d,a){var f,h;function b(a){this.G={gK:a.maxc||25,N2:a.c||.5,fvb:a.w||15E3,Lk:a.b||5E3};f.call(this,this.G.fvb,this.G.Lk);this.hH();}f=a(152);h=a(196).TDigest;b.prototype=Object.create(f.prototype);b.prototype.shift=function(){var a;a=this.bE(0);f.prototype.shift.call(this);null!==a&&(this.Xd.push(a,1),this.Pm=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.Xd.push(a,1);this.Pm=!0;f.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.Eta();};b.prototype.As=function(){var a;a=this.Eta();return{min:a.min,p10:a.N9,p25:a.tj,p50:a.ci,p75:a.uj,p90:a.O9,max:a.max,centroidSize:a.U0a,sampleSize:a.Nz,centroids:a.rg};};b.prototype.Eta=function(){var a;if(0===this.Xd.size())return null;a=this.Xd.Ag([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.Pm||!this.Wd)this.Pm=!1,this.Wd={min:a[0],N9:a[1],tj:a[2],ci:a[3],uj:a[4],O9:a[5],max:a[6],Ag:this.Xd.Ag.bind(this.Xd),U0a:this.Xd.size(),Nz:this.Xd.n,rg:this.v$a(),As:this.As.bind(this)};return this.Wd;};b.prototype.v$a=function(){var a;if(0===this.Xd.size())return null;if(!this.Pm&&this.Wd)return this.Wd.centroids;a=this.Xd.Ag([.25,.75]);if(a[0]===a[1])return null;this.Xd.size()>this.G.gK&&this.Xd.js();a=this.Xd.cA(!1).map(function(a){return{mean:a.Ke,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.Xd.size();};b.prototype.toString=function(){return"btdtput("+this.RB+","+this.yc+","+this.th+"): "+this.Xd.summary();};b.prototype.hH=function(){this.Xd=new h(this.G.N2,this.G.gK);};g.T=b;},function(g,d,a){var f,h;function b(a,b,d,g){f.call(this,d,g);this.wp=new h(a);this.jVa=b;}f=a(152);h=a(208);b.prototype=Object.create(f.prototype);b.prototype.shift=function(){var a;a=this.bE(0);f.prototype.shift.call(this);null!==a&&this.wp.wH(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.wp.wH(a);f.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.pJ();return{Nz:this.vy(),OU:a,xK:a.ci?(a.uj-a.tj)/a.ci:void 0};};b.prototype.vy=function(){return this.wp.vy();};b.prototype.pJ=function(){return this.wp.vy()<this.jVa?{tj:void 0,ci:void 0,uj:void 0,Nz:void 0,Ag:void 0}:{tj:this.wp.Jl(25),ci:this.wp.Jl(50),uj:this.wp.Jl(75),Nz:this.wp.vy(),Ag:this.wp.Jl.bind(this.wp)};};b.prototype.toString=function(){return"biqr("+this.RB+","+this.yc+","+this.th+")";};g.T=b;},function(g,d,a){var h;function b(a){this.Gx=a;this.reset();}function f(a){this.th=new b(a);this.Bd=0;this.Lb=null;}h=a(6);b.prototype.lP=function(a,b){this.Pa+=a;this.Fm+=a;this.Vb+=b;this.Kg.push({d:a,N1:b});};b.prototype.cH=function(){var a;for(;this.Fm>this.Gx;){a=this.Kg.shift();this.Vb-=a.N1;this.Fm-=a.d;}};b.prototype.reset=function(){this.Kg=[];this.Pa=null;this.Fm=this.Vb=0;};b.prototype.setInterval=function(a){this.Gx=a;this.cH();};b.prototype.start=function(a){h.Qa(this.Pa)&&(this.Pa=a);};b.prototype.add=function(a,b,f){h.Qa(this.Pa)&&(this.Pa=b);b>this.Pa&&this.lP(b-this.Pa,0);this.lP(f>this.Pa?f-this.Pa:0,a);this.cH();};b.prototype.get=function(){return{Fa:Math.floor(8*this.Vb/this.Fm),dh:0};};f.prototype.reset=function(){this.th.reset();this.Bd=0;this.Lb=null;};f.prototype.add=function(a,b,f){!h.Qa(this.Lb)&&f>this.Lb&&(b>this.Lb&&(this.Bd+=b-this.Lb),this.Lb=null);this.th.add(a,b-this.Bd,f-this.Bd);};f.prototype.start=function(a){!h.Qa(this.Lb)&&a>this.Lb&&(this.Bd+=a-this.Lb,this.Lb=null);this.th.start(a-this.Bd);};f.prototype.stop=function(a){this.Lb=h.Qa(this.Lb)?a:Math.min(a,this.Lb);};f.prototype.get=function(){return this.th.get();};f.prototype.setInterval=function(a){this.th.setInterval(a);};g.T={Ywb:b,CIa:f};},function(g,d,a){var m;function b(a){this.reset();this.jqb(a);}function f(a){this.setInterval(a);this.reset();}function h(a){this.eu=new f(a);this.Bd=0;this.Lb=null;}m=a(6);b.prototype.jqb=function(a){this.eB=Math.pow(.5,1/a);this.NG=a;};b.prototype.reset=function(a){a&&a.Fa&&m.pa(a.Fa)?a.dh&&m.pa(a.dh)?(this.qp=this.GUa,this.vl=a.Fa,this.Wt=a.dh+a.Fa*a.Fa):(this.qp=this.GUa,this.vl=a.Fa,this.Wt=a.Fa*a.Fa):this.Wt=this.vl=this.qp=0;};b.prototype.add=function(a){var b;if(m.pa(a)){this.qp++;b=this.eB;this.vl=b*this.vl+(1-b)*a;this.Wt=b*this.Wt+(1-b)*a*a;}};b.prototype.get=function(){var a,b,f;if(0===this.qp)return{Fa:0,dh:0};a=this.vl;b=this.Wt;f=1-Math.pow(this.eB,this.qp);a=a/f;b=b/f;f=a*a;return{Fa:Math.floor(a),dh:Math.floor(b>f?b-f:0)};};b.prototype.gd=function(){return 0===this.qp?null:{a:Math.round(this.vl),s:Math.round(this.Wt),n:this.qp};};b.prototype.Jd=function(a){if(m.Qa(a)||!m.has(a,"a")||!m.has(a,"s")||!m.isFinite(a.a)||!m.isFinite(a.s))return this.Wt=this.vl=this.qp=0,!1;this.vl=a.a;this.Wt=a.s;m.has(a,"n")&&m.pa(a.n)?this.qp=a.n:this.qp=16*this.NG;return!0;};f.prototype.setInterval=function(a){this.NG=a;this.eB=-Math.log(.5)/a;};f.prototype.reset=function(a){this.Pa=this.ne=null;a&&m.isFinite(a.Fa)?this.vl=a.Fa:this.vl=0;};f.prototype.start=function(a){m.Qa(this.ne)&&(this.Pa=this.ne=a);};f.prototype.add=function(a,b,f){var c,d;m.Qa(this.ne)&&(this.Pa=this.ne=b);this.ne=Math.min(this.ne,b);b=Math.max(f-b,1);c=this.eB;d=f>this.Pa?f:this.Pa;this.vl=this.vl*(d>this.Pa?Math.exp(-c*(d-this.Pa)):1)+8*a/b*(1-Math.exp(-c*b))*(f>d?Math.exp(-c*(d-f)):1);this.Pa=d;};f.prototype.get=function(a){var b;a=Math.max(a,this.Pa);b=this.vl*Math.exp(-this.eB*(a-this.Pa));a=1-Math.exp(-this.eB*(a-this.ne));0<a&&(b/=a);return{Fa:Math.floor(b)};};f.prototype.toString=function(){return"ewmav("+this.NG+")";};h.prototype.setInterval=function(a){this.eu.setInterval(a);};h.prototype.reset=function(a){this.eu.reset(a);this.Bd=0;this.Lb=null;};h.prototype.start=function(a){!m.Qa(this.Lb)&&a>this.Lb&&(this.Bd+=a-this.Lb,this.Lb=null);this.eu.start(a-this.Bd);};h.prototype.add=function(a,b,f){!m.Qa(this.Lb)&&f>this.Lb&&(this.Bd+=b>this.Lb?b-this.Lb:0,this.Lb=null);this.eu.add(a,b-this.Bd,f-this.Bd);};h.prototype.stop=function(a){this.Lb=Math.max(m.Qa(this.eu.Pa)?0:this.eu.Pa+this.Bd,m.Qa(this.Lb)?a:Math.min(this.Lb,a));};h.prototype.get=function(a){return this.eu.get((m.Qa(this.Lb)?a:this.Lb)-this.Bd);};h.prototype.toString=function(){return this.eu.toString();};g.T={DIa:b,Zwb:f,BIa:h};},function(g,d,a){g.T={fGb:a(348),$Jb:a(347),Dwb:a(674),Cwb:a(346),Ewb:a(345),Eea:a(671)};},function(g,d,a){var c,k,p,q,t,A;function b(a){var b;b=a.H_;this.G=a;this.ih=k.Ad.HAVE_NOTHING;this.tB=a.tB;a=new t(this.tB);this.mH=a.create("throughput-location-history",b);this.Dr=a.create("respconn-location-history",b);this.ur=a.create("respconn-location-history",b);this.GP=a.create("throughput-tdigest-history",b);this.SO=a.create("throughput-iqr-history",b);this.Pa=null;}function f(a,c,f,d,k){this.qr=new b(k);this.Nm=[];this.iVa=p.time.ea()-Date.now()%864E5;this.or=null;this.G=k;for(a=0;a<d;++a)this.Nm.push(new b(k));}function h(a,b,f){return c.has(a,b)?a[b]:a[b]=f;}function m(a,c){var f;this.G=a;this.IP=c;this.f8a();this.MG=new b(this.G);this.TG();f=a.v3;f&&(f={Fc:k.Ad.JF,va:{Fa:parseInt(f,10),dh:0},Dg:{Fa:0,dh:0},yo:{Fa:0,dh:0}},this.get=function(){return f;});}c=a(6);k=a(11);d=a(24);p=a(5);q=d.RJa;t=a(349).Eea;new p.Console("ASEJS_LOCATION_HISTORY","media|asejs");A={Fc:k.Ad.HAVE_NOTHING};b.prototype.Jx=function(a,b){this.ih=b;this.mH.add(a);this.GP.add(a);this.Pa=p.time.ea();};b.prototype.lA=function(a,b){this.SO.set(a,b);};b.prototype.Qr=function(a){this.Dr.add(a);};b.prototype.Or=function(a){this.ur.add(a);};b.prototype.gd=function(){var a,b,f,d,k,g;a=this.mH.gd();b=this.Dr.gd();f=this.ur.gd();d=this.SO.gd();k=this.GP.gd();if(c.Qa(a)&&c.Qa(b)&&c.Qa(f))return null;g={c:this.ih,t:p.time.h9(this.Pa)};c.Qa(a)||(g.tp=a);c.Qa(b)||(g.rt=b);c.Qa(f)||(g.hrt=f);c.Qa(d)||(g.iqr=d);c.Qa(k)||(g.td=k);return g;};b.prototype.Jd=function(a){var b;b=p.time.now();if(!(a&&c.has(a,"c")&&c.has(a,"t")&&c.has(a,"tp")&&c.isFinite(a.c)&&c.isFinite(a.t))||0>a.c||a.c>k.Ad.JF||a.t>b||!this.mH.Jd(a.tp))return this.ih=k.Ad.HAVE_NOTHING,this.or=this.Pa=null,this.mH.Jd(null),this.Dr.Jd(null),this.ur.Jd(null),!1;this.ih=a.c;this.Pa=p.time.C9(a.t);this.Dr.Jd(c.has(a,"rt")?a.rt:null);this.ur.Jd(c.has(a,"hrt")?a.hrt:null);c.has(a,"iqr")&&this.SO.Jd(a.iqr);c.has(a,"td")&&this.GP.Jd(a.td);return!0;};b.prototype.get=function(){var a,b,f,d,g,t;a=this.G;if(c.Qa(this.Pa))return A;b=(p.time.ea()-this.Pa)/1E3;b>a.CUa?this.ih=k.Ad.HAVE_NOTHING:b>a.bUa&&(this.ih=Math.min(this.ih,k.Ad.Ft));a=this.mH.get();f=this.Dr.get();d=this.ur.get();g=this.SO.get();t=this.GP.get();b={Ik:b,Fc:this.ih,va:a,Dg:f,yo:d,Ao:g,km:t};a&&(b.jKb=q.prototype.m$.bind(a));f&&(b.DJb=q.prototype.m$.bind(f));d&&(b.iHb=q.prototype.m$.bind(d));return b;};b.prototype.time=function(){return this.Pa;};b.prototype.bu=function(){this.get();p.time.ea();};f.prototype.wi=function(){return((p.time.ea()-this.iVa)/1E3/3600/(24/this.Nm.length)|0)%this.Nm.length;};f.prototype.gd=function(){var a;a={g:this.qr.gd(),h:this.Nm.map(function(a){return a.gd();})};c.Qa(this.or)||(a.f=p.time.h9(this.or));return a;};f.prototype.Jd=function(a){var b,f;if(!this.qr.Jd(a.g))return!1;b=this.Nm.length;f=!1;this.Nm.forEach(function(c,d){f=!c.Jd(a.h[d*a.h.length/b|0])||f;});this.or=c.has(a,"f")?p.time.C9(a.f):null;return f;};f.prototype.Jx=function(a,b){this.qr.Jx(a,b);this.Nm[this.wi()].Jx(a,b);this.or=null;};f.prototype.lA=function(a,b){this.qr.lA(a,b);this.Nm[this.wi()].lA(a,b);};f.prototype.Qr=function(a){this.qr.Qr(a);this.Nm[this.wi()].Qr(a);};f.prototype.Or=function(a){this.qr.Or(a);this.Nm[this.wi()].Or(a);};f.prototype.fail=function(a){this.or=a;};f.prototype.get=function(){var a,b;if(!c.Qa(this.or)){if((p.time.ea()-this.or)/1E3<this.G.aUa)return{Fc:k.Ad.HAVE_NOTHING,iy:!0};this.or=null;}a=this.Nm[this.wi()].get();b=this.qr.get();a=a.Fc>=b.Fc?a:b;a.iy=!1;return a;};f.prototype.time=function(){return this.qr.time();};f.prototype.bu=function(a){this.qr.bu(a+": global");this.Nm.forEach(function(b,f,d){c.Qa(b.time())||(f=24*f/d.length,b.bu(a+":  "+((10>f?"0":"")+f+"00")+"h"));});};m.prototype.Lka=function(a,b){var c;c=this.G;a=h(this.xB,a,{});return h(a,b,new f(0,0,0,c.Lla||4,c));};m.prototype.TG=function(){var a,b;a=p.storage.get("lh");b=p.storage.get("gh");a&&this.I0(a);b&&this.mXa(b);};m.prototype.K_=function(){var a;a={};c.dd(this.xB,function(b,f){c.dd(b,function(b,c){h(a,f,{})[c]=b.gd();},this);},this);return a;};m.prototype.mXa=function(a){this.MG.Jd(a);};m.prototype.I0=function(a){var b,d;b=null;d=this.G;c.dd(a,function(a,k){c.dd(a,function(a,g){var q;q=new f(0,0,0,d.Lla||4,d);q.Jd(a)?(h(this.xB,k,{})[g]=q,b=!0):c.Qa(b)&&(b=!1);},this);},this);return c.Qa(b)?!0:b;};m.prototype.save=function(){var a;a=this.K_();p.storage.set("lh",a);p.storage.set("gh",this.MG.gd());this.IP&&this.IP.Raa(this.MG.gd());};m.prototype.f8a=function(){this.xB={};this.rB=this.eka="";this.jh=null;};m.prototype.QV=function(a){this.eka=a;this.jh=null;};m.prototype.PV=function(a){this.rB=a;this.jh=null;};m.prototype.MO=function(){c.Qa(this.jh)&&(this.jh=this.Lka(this.eka,this.rB));return this.jh;};m.prototype.Jx=function(a,b){this.MO().Jx(a,b);this.MG.Jx(a,b);};m.prototype.lA=function(a,b){a&&a.tj&&a.ci&&a.uj&&(this.MO().lA(a,b),this.MG.lA(a,b));};m.prototype.Qr=function(a){this.MO().Qr(a);};m.prototype.Or=function(a){this.MO().Or(a);};m.prototype.fail=function(a,b){this.Lka(a,this.rB).fail(b);};m.prototype.get=function(a,b){var f,d,g,q;a=(a=this.xB[a])?a[this.rB]:null;f=null;if(a&&(f=a.get(),f.Fc>k.Ad.HAVE_NOTHING))return f;if(!1===b)return A;d=f=null;g=!1;q=null;c.dd(this.xB,function(a){c.dd(a,function(a,b){var c;if(!g||b==this.rB){c=a.get();c&&(!d||d<=c.Fc)&&(!q||d<c.Fc||q<a.time())&&(d=c.Fc,g=b==this.rB,q=a.time(),f=c);}},this);},this);return f?f:A;};m.prototype.bu=function(){c.dd(this.xB,function(a,b){c.dd(a,function(a,c){a.bu(b+":"+c);});});};g.T=m;},function(g,d,a){var f,h,m,c,k,p;function b(a){return a.ke(c.gc.E9a(Math.floor(a.yf)));}Object.defineProperty(d,"__esModule",{value:!0});g=a(25);f=a(6);g=g.EventEmitter;h=a(11);m=a(54);c=a(59);k=a(5);p=a(685);d.txa=b;a=function(){function a(a,b,c,f,d,k,g){this.X=a;this.K=b;this.Sj=c;this.Re=f;this.Mc=d;this.up=k;this.G=g;this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.reset();}Object.defineProperties(a.prototype,{oQ:{get:function(){return this.Mc?this.Mc.oQ:-1;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Zub:{get:function(){return this.Ai.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bfb:{get:function(){return this.iu;},enumerable:!0,configurable:!0}});a.prototype.reset=function(a){this.Ar=!1;a||(this.Ai=[]);this.YO=this.iu=this.J_=this.U_=void 0;this.bH=c.gc.Ef;this.ux=void 0;this.eBa=new p.TQa(this.G,this.K);this.C_=!1;this.J0(c.gc.Ef);};a.prototype.r9a=function(){this.J_=!0;};a.prototype.pause=function(){this.Ar=!0;};a.prototype.resume=function(){this.Ar=!1;this.ox();};a.prototype.Eab=function(){return this.iu&&this.iu.Te;};a.prototype.Fab=function(){return this.iu&&this.iu.ee;};a.prototype.I0a=function(a,b){var f;for(var c=0;c<this.Ai.length;c++){f=this.Ai[c];f.Mf.Rb.xa.id===a&&f.Oc>=b&&(f.abort(),this.Ai.splice(c,1),c--);}};a.prototype.VZa=function(a){var b;if(this.G.KI){b=a.Mf.Rb;if(a.Oc>=b.ba)return;a.dm!==b.Rc&&a.MBa(new c.gc(b.Rc,1E3));}this.Ai.push(a);this.ox();};a.prototype.bp=function(){this.ox();};a.prototype.tV=function(a){a=this.Ai.indexOf(a);-1!==a&&this.Ai.splice(a,1);};a.prototype.Xib=function(){this.ox();};a.prototype.yK=function(){this.C_||(this.C_=!0,this.ox(),this.Mc.endOfStream());};a.prototype.J0=function(a){this.PXa=a;this.Mc.sqb(a.yd,a.ga);};a.prototype.ox=function(){var a,b,c,d,g,q,p;b=this.G;c=Object.getOwnPropertyNames(this.up);b.v1&&f.R(this.U_)&&1===c.length&&(a=this.up[c[0]],a.complete&&!f.R(a.za)&&this.Gja(a));if(this.Ai.length)if(this.Mc)if(c=this.Ai[0],this.Ar)this.GB("@"+k.time.ea()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(c));else if(!c.complete&&c.Pua())this.Ha("aborted MediaRequest should not appear in the toAppend list"),this.GB("@"+k.time.ea()+", append: removing aborted request from toAppend: "+c.toString()),this.Ai.shift();else{d=c.za;if((a=this.up[d])&&a.data)if(this.J_||d!==this.U_)this.J_=!1,this.Gja(a);else if(a=this.X.gf,a=this.X.ja.pv(a.Oa.M)||a.hs,!b.QW||a){a=c.Mf;g=c.Hc-this.X.ja.kf();if(!(this.Sj===h.L.AUDIO&&c.aq&&c.Ta&&!b.En&&!this.C_&&1===this.Ai.length&&g>b.d9)){if(b.KI||b.Rqa)if(d=a.Rb.fo){q=a.Rb.sg;p=c.Te>=d;g=g>b.d9;if(d<a.Rb.ba&&p&&g&&!q)return;}b.Okb&&(b=this.X.jc(a.Rb.ca))&&!b.Lx?this.pause():(this.Ai.shift(),this.KSa(c));}}}else this.GB("@"+k.time.ea()+", append: not appending, sourceBuffer not ready");};a.prototype.GSa=function(a){this.G.Mx&&this.G.dn&&a.stream.yj&&(this.bH=a.stream.yj);};a.prototype.Gja=function(a){if(this.Mc.appendBuffer(a.data,{Yb:!0,profile:a.stream.profile}))this.GB("@"+k.time.ea()+", header appended, streamId: "+a.za),this.U_=a.za,this.TWa(a.ca||0,a.za),this.GSa(a),this.ox();else throw this.Ha("appendHeader error: "+this.Mc.error),this.GB("@"+k.time.ea()+", appendHeader error: "+this.Mc.error),Error("appendHeaderError");};a.prototype.KSa=function(a){var b,f;b=a.Imb||c.gc.Ef;f=a.Mf.Rb.xa;f.ba&&Infinity!==f.ba&&(f=new c.gc(f.ba,1E3).add(b).Eg,Infinity===this.Re.duration||this.Re.duration<f)&&(this.Re.duration=f);if(void 0===this.YO||b&&!b.equal(this.YO))f=this.bH.add(this.eBa.Vt).add(b),this.J0(f),this.YO=b;b=this.eBa.qaa(this.Sj,a,this.ux,this.bH,this.YO,this.iu,this.QUa,this.J0.bind(this),this.VWa.bind(this));f=b.d_a;if(a.XB(this.Mc,this.iu,this.Ai[0],b.qaa,b.K6a))void 0===this.ux||this.Sj!==h.L.AUDIO||a.g$.equal(this.ux.add(f))||(this.OWa(a,this.ux.add(f)),this.ux=void 0),this.GB("@"+k.time.ea()+", request appended, type: "+a.O+", streamId: "+a.za+", pts: "+a.Hc+"-"+a.ee),this.iu=a,a.aq?(this.ux=a.Flb,this.QUa=this.eTa(a,this.PXa||c.gc.Ef)):this.ux=void 0,this.UWa(a),this.ox();else{if(void 0!==this.Mc.error){if("done"===this.Mc.error)return;this.bd("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.Mc.error);throw this.Mc.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.Mc.error);this.bd(a.message);throw a;}};a.prototype.eTa=function(a,c){var f,d;f=a.stream.Ia;d=a.$1a;this.G.eo&&a.stream.yj&&(d=d.ke(a.stream.yj));return b(d.ke(f)).add(b(f)).add(b(c));};a.prototype.TWa=function(a,b){a={type:"headerAppended",mediaType:this.Sj,manifestIndex:a,streamId:b};this.na(a.type,a);};a.prototype.UWa=function(a){a={type:"requestAppended",mediaType:this.Sj,request:a};this.na(a.type,a);};a.prototype.GB=function(a){a={type:"managerdebugevent",message:a};this.na(a.type,a);};a.prototype.OWa=function(a,b){var c;c=a.Oc;a=a.g$.ke(b).yf;c={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[c,a]}}};this.na(c.type,c);};a.prototype.VWa=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.yf,minavsyncerror:b.yf}};this.na(a.type,a);};return a;}();d.bGa=a;m(g,a.prototype);},function(g,d,a){var m;function b(){}function f(a,b,f){void 0===f&&(f=!1);m(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8<h(a),"bitrate zero, won't be able to send anything.");this.zu=a;this.Hqa=b;this.repeat=f;this.lj=this.Rk=0;}function h(a){return a.reduce(function(a,b){return a+b;},0);}m=a(13).assert;b.prototype=Error();f.prototype.constructor=f;f.prototype.Lp=function(){var a;a=new f(this.zu,this.Hqa,this.repeat);a.Rk=this.Rk;a.lj=this.lj;return a;};f.prototype.o6=function(){return this.zu[this.Rk%this.zu.length];};f.prototype.mv=function(){return this.Hqa[this.Rk%this.zu.length];};f.prototype.y6a=function(a){m(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.Rk&&this.Rk<this.zu.length))throw new b();m(this.lj<this.mv(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var c;;){c=this.mv()-this.lj;c=a<c?a:c;a-=c;this.lj+=c;if(this.lj<this.mv())break;this.lj-=this.mv();this.Rk+=1;if(!this.repeat&&this.Rk>=this.zu.length){if(0<a)throw new b();break;}}};f.prototype.Hya=function(a){this.y6a(a);};f.prototype.z6a=function(a){m(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.Rk&&this.Rk<this.zu.length))throw new b();m(this.lj<this.mv(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var c,f=0;;){c=this.mv()-this.lj;c=a<c*this.o6()?a/this.o6():c;a-=this.o6()*c;f+=c;this.lj+=c;if(this.lj<this.mv())return f;this.lj-=this.mv();this.Rk+=1;if(!this.repeat&&this.Rk>=this.zu.length){if(0<a)throw new b();return f;}}};g.T={DRa:f,ERa:b};},function(g,d,a){var h;function b(a,b,f){this.aa=a;this.In=b;this.VK=f;}function f(a,b){this.w8=b;void 0===b&&(this.w8=!0);this.Sh=a;this.OSa();}h=a(13).assert;b.prototype.constructor=b;b.prototype.Cs=function(){return 8*this.aa/1E3/this.In;};f.prototype.constructor=f;f.prototype.Lp=function(a,b,d,g,q){void 0===b&&(b=0);void 0===d&&(d=a.lD());void 0===g&&(g=0);void 0===q&&(q=a.Sh.length);for(var c=[],k,p=g;p<q;p++){g=[];for(var h=b;h<d;h++)k=a.Sh[p][h],g.push(k);c.push(g);}return new f(c,a.w8);};f.prototype.OSa=function(){var a,b;a=this.Sh[0].length;for(b in this.Sh.slice(1))h(this.Sh[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.Sh[b].length+" and "+a);this.w8&&this.PSa();this.QSa();};f.prototype.lD=function(){return this.Sh[0].length;};f.prototype.PSa=function(){for(var a=0;a<this.Sh.length-1;a++)for(var b=0;b<this.lD();b++)h(this.Sh[a][b].aa<=this.Sh[a+1][b].aa,"Chunk size for epoch "+b+" is not monotonic");};f.prototype.QSa=function(){for(var a=0;a<this.Sh.length-1;a++)for(var b=0;b<this.lD();b++)h(1E-8>Math.abs(this.Sh[a][b].In-this.Sh[a+1][b].In),"Chunk duration for epoch "+b+" is not consistent");};f.prototype.qcb=function(){var a;a=[];this.Sh[0].forEach(function(b){a.push(b.In);});return a;};g.T={TGa:b,UGa:f};},function(g,d,a){var m,c,k;function b(a,b,c){this.Bn=b;this.Il=c;this.jt=this.IJ=this.NU=this.Kya=this.Jya=this.WD=this.$b=this.Elb=this.Il=this.Gg=this.bb=this.U=this.yM=this.zM=this.$=this.Kua=this.xu=void 0;}function f(a,b,c){this.ba=b;this.iva=c;this.xna=this.iEa=this.c1=this.zM=this.hq=this.Zj=void 0;}function h(a,c,f,d,g,h){var q;q=new b(0,c,a.Il);a.forEach(function(a){var b,f;b=a.buffer;f=b.$;a.O===m.L.AUDIO?q.xu=f.length?f[0].P:void 0:a.O===m.L.VIDEO&&(q.Kua=f.length?f[0].P:void 0,q.$=f,q.zM=b.Qk-b.sf,q.yM=b.mm,q.U=b.sf,q.bb=b.bb,q.Gg=a.pw,q.Il=a.Il,q.Elb=c-a.Il,q.$b=a.$b.filter(function(a){return k(a);}),q.WD=f.filter(function(a){return q.U<=a.nE;}).length);});this.Fg=q;this.Sk=void 0;this.Qpa=d;this.W1=g;this.M$=this.nV=this.mya=this.Xo=this.WB=this.vra=this.nk=this.$b=this.Sk=void 0;this.kZa=h;}m=a(11);d=a(44);c=d.assert;k=d.Ky;b.prototype.constructor=b;f.prototype.constructor=f;h.prototype.constructor=h;h.prototype.jy=function(a,b){var c,d,k,g,q,p,h,u,l,n,D,U,P,r,Z,ea,O,W,va,wa,M,ja;c=this.Fg;d=[];g=a[m.L.VIDEO];q=a[m.L.AUDIO];if(void 0===g||void 0===q)return!1;p=g.buffer;h=q.buffer;u=g.headers;l=c.$b.filter(function(a){return u&&u[a.id]&&u[a.id].$;});if(void 0===p||void 0===h||void 0===u||void 0===l||0===l.length)return!1;k=new f(0,g.sf,b===m.Ma.Qt);n=0;D=0;U=0;P=0;Z=c.U;a=a[m.L.VIDEO].sf;ea=c.$;r=c.WD;for(var Y=0;Y<r;Y++){O=ea[Y];W=O.offset;va=O.offset+O.aa-1;M=O.qs;wa=O.Xs;ja=wa+M;O&&wa<=a&&ja>Z&&(M=O.qs,wa=Math.min(M,Math.min(a,ja)-Math.max(wa,Z)+1),P+=wa,n+=wa/M*(va-W+1),D+=O.P*wa,U+=O.wc*wa);}c.Jya=n;c.Kya=P;c.NU=0<P?D/P:0;c.Wkb=0<P?U/P:0;c.IJ||(c.IJ=0,l.some(function(a,b){if(a.P===c.Kua)return c.IJ=b,!0;}));l.forEach(function(a){var b,f;a=u[a.id].$;b=[];c.jt||(c.jt=a.Gi(c.U,void 0,!0));k.Zj||(k.Zj=a.Gi(k.ba,void 0,!0),k.hq=a.length-1);c.Gg!==c.jt+c.WD&&(c.Gg=c.jt+c.WD);r=Math.min(k.hq,k.Zj+1);for(var g=c.jt;g<=r;g++)f=a.get(g),b[g]=f;d.push(b);});b===m.Ma.Qt&&(k.zM=p.Qk-p.sf,k.c1=h.Qk-h.sf,k.iEa=g.Yza,k.xna=q.Yza);this.Sk=k;this.$b=l;this.nk=d;return this.vra=!0;};h.prototype.As=function(){var a,b,f,d,k,g,h,m,u,l,n,D,U,P;if(this.ED)return this.ED;b=this.Xo;a=this.Fg;d=this.Sk;k=this.$b;g=this.mya;n=this.kZa;c(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)d.iva?(u=!1,h=!0):d.Zj-a.jt+1<=a.WD?h=u=!0:(u=!0,h=!1),m=!0;if(g){l=g.Yp;for(var X=0;X<n.length;X++)f=n[X],(b=g[f])&&b.Tv&&(h=!0);}a={bst:a.Il,pst:a.Bn,s:a.jt,e:d.Zj,prebuf:a.WD,brsi:a.Gg,pbdlbytes:a.Jya,pbdur:a.Kya,pbtwbr:a.NU,pbvmaf:a.Wkb};m&&(a.nt=m);h&&(a.nd=h);l&&(a.invalid=l);this.M$&&(a.rr=this.M$);this.nV&&(a.ra=this.nV);if(!h&&!l&&this.Qpa){a.bitrate=k.map(function(a){return a.P;});b=this.Xo;f=b.trace;D=[];U=0;f.forEach(function(a){a=Number(a).toFixed(0);D.push(a-U);U=a;});a.tput={ts:b.timestamp,trace:D,bkms:b.Lk};}if(h||m||l)a.feasible=u;else for(a.sols={},X=0;X<n.length;X++){f=n[X];b=g[f];h={};if(b&&b.Dq&&(h.f=b&&b.Ki||!1,h.dltwbr=b.o6a,h.dlvmaf=b.sqa,h.dlvdur=b.U3,h.dlvbytes=b.T3,h.dlabytes=b.S3,this.Qpa)){U=0;P=[];b.Dq.filter(function(a){return a;}).map(function(a){return a.wd;}).forEach(function(a){P.push(a-U);U=a;});h.strmsel=P;}a.sols[f]=h;}return this.ED=a;};g.T=h;},function(g,d,a){var h,m,c,k,p,q;function b(a,b,c,f){k(!h.R(f),"Must have at least one selected stream");return new q(f);}function f(a,b,c,f){k(!h.R(f),"Must have at least one selected stream");return new q(f);}h=a(6);d=a(44);m=d.console;c=d.debug;k=d.assert;p=d.Ky;q=d.op;g.T={STARTING:function(a,b,f){var k,g,t,h;function d(f,d){var k,g,q,p;k=f.id;g=f.P;q=f.va||0;p=!!q;c&&m.log("Checking feasibility of ["+d+"] "+k+" ("+g+" Kbps)");if(!f.lf)return c&&m.log("  Not available"),!1;if(!f.inRange)return c&&m.log("  Not in range"),!1;if(f.Sg)return c&&m.log("  Failed"),!1;if(g>a.fK)return c&&m.log("  Above maxInitAudioBitrate ("+a.fK+" Kbps)"),!1;if(!(g*a.fU/8<b.buffer.Hu))return c&&m.log("  audio buffer too small to handle this stream"),!1;if(p){c&&m.log("  Have throughput history = "+p+" : available throughput = "+q+" Kbps");if(g<q/t)return c&&m.log(" +FEASIBLE: bitrate less than available throughput"),!0;c&&m.log(" bitrate requires more than available throughput");return!1;}f=a.rK;b.q7&&(f=Math.max(f,a.qK));if(g<=f)return c&&m.log("  Bitrate is less than max of minInitAudioBitrate ("+a.rK+" Kbps) "+(b.q7?" and also minHCInitAudioBitrate ("+a.qK+" Kbps)":"")),c&&m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;c&&m.log("  No throughput history");return!1;}k=new q();t=a.iEb||1;for(h=f.length-1;0<=h;--h){g=f[h];if(d(g,h)){k.wd=h;break;}p(g)&&(k.wd=h);}return k;},BUFFERING:b,REBUFFERING:b,PLAYING:f,PAUSED:f};},function(g){function d(){}function a(a){this.sma=a;this.tl=[];this.Qe=null;}d.prototype.clear=function(){this.Cd=null;this.size=0;};d.prototype.find=function(a){var d;for(var b=this.Cd;null!==b;){d=this.Rj(a,b.data);if(0===d)return b.data;b=b.tf(0<d);}return null;};d.prototype.lowerBound=function(a){var c;for(var b=this.Cd,d=this.iterator(),g=this.Rj;null!==b;){c=g(a,b.data);if(0===c)return d.Qe=b,d;d.tl.push(b);b=b.tf(0<c);}for(c=d.tl.length-1;0<=c;--c)if(b=d.tl[c],0>g(a,b.data))return d.Qe=b,d.tl.length=c,d;d.tl.length=0;return d;};d.prototype.upperBound=function(a){for(var b=this.lowerBound(a),d=this.Rj;null!==b.data()&&0===d(b.data(),a);)b.next();return b;};d.prototype.min=function(){var a;a=this.Cd;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};d.prototype.max=function(){var a;a=this.Cd;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};d.prototype.iterator=function(){return new a(this);};d.prototype.dd=function(a){for(var b=this.iterator(),d;null!==(d=b.next());)a(d);};a.prototype.data=function(){return null!==this.Qe?this.Qe.data:null;};a.prototype.next=function(){var a;if(null===this.Qe){a=this.sma.Cd;null!==a&&this.pla(a);}else if(null===this.Qe.right){do if(a=this.Qe,this.tl.length)this.Qe=this.tl.pop();else{this.Qe=null;break;}while(this.Qe.right===a);}else this.tl.push(this.Qe),this.pla(this.Qe.right);return null!==this.Qe?this.Qe.data:null;};a.prototype.tz=function(){var a;if(null===this.Qe){a=this.sma.Cd;null!==a&&this.kla(a);}else if(null===this.Qe.left){do if(a=this.Qe,this.tl.length)this.Qe=this.tl.pop();else{this.Qe=null;break;}while(this.Qe.left===a);}else this.tl.push(this.Qe),this.kla(this.Qe.left);return null!==this.Qe?this.Qe.data:null;};a.prototype.pla=function(a){for(;null!==a.left;)this.tl.push(a),a=a.left;this.Qe=a;};a.prototype.kla=function(a){for(;null!==a.right;)this.tl.push(a),a=a.right;this.Qe=a;};g.T=d;},function(g,d,a){var f,h;function b(a){this.G={gK:a.maxc||25,N2:a.c||.5,knb:a.rc||"none",xcb:a.hl||7200};this.hH();this.MWa=this.G.knb;this.NG=this.G.xcb;this.e_=Math.exp(Math.log(2)/this.NG);this.e_=Math.max(this.e_,1);this.CO=1;}f=a(6);h=a(196).TDigest;new(a(5)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.gd=function(){var a;if(0===this.Xd.size())return null;a=this.Xd.Ag([.25,.75]);if(a[0]===a[1])return null;this.Xd.size()>this.G.gK&&this.Xd.js();a=this.Xd.cA(!1).reduce(function(a,b){f.pa(b.Ke)&&f.pa(b.n)&&a.push({mean:b.Ke,n:b.n/this.CO});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.Jd=function(a){var b;if(f.Qa(a)||!f.has(a,"tdigest")||!f.Qd(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(k){return!1;}b.forEach(function(a){f.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{Ke:a.mean,n:a.n};});this.CO=1;this.Xd.C$(a);void 0===this.Xd.Ag(0)&&this.hH();};b.prototype.get=function(){var a,b;a=this.Xd;b=a.Ag([0,.1,.25,.5,.75,.9,1]);return{min:b[0],N9:b[1],tj:b[2],ci:b[3],uj:b[4],O9:b[5],max:b[6],rg:a.cA(!1)};};b.gbb=function(a){var c;c=new b({});f.Qa(a)||f.R(a)||!f.isArray(a.rg)||(c.Xd.C$(a.rg),void 0===c.Xd.Ag(0)&&c.hH());a=c.Xd.Ag([.25,.75]);return a[0]===a[1]?null:function(a){return c.Xd.Ag(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.MWa&&(this.CO=b=this.CO*this.e_);this.Xd.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.Xd.summary()+")";};b.prototype.hH=function(){this.Xd=new h(this.G.N2,this.G.gK);};g.T=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(728),d);},function(g,d,a){(function(){var J0d,k,p,q,t,A,y,L,l9o,C9o,z9o;function f(a,b,c){var Z0d;Z0d=2;while(Z0d!==5){switch(Z0d){case 2:b=b.va?b.va.Fa:0;return a.A_a?(a=A(a.z_a,c.Qk-c.sf,1),b*(1-a)):b*a.qW/100;break;}}}function b(a,b,c){var X0d,f,d,k;X0d=2;while(X0d!==3){switch(X0d){case 5:a.some(function(a){var c0d,c;c0d=2;while(c0d!==6){switch(c0d){case 2:c=a.b;a=a.m;c0d=4;break;case 3:return f=k&&c!==d?k+(a-k)/(c-d)*(b-d):a,!0;break;case 4:c0d=b<=c?3:9;break;case 9:d=c;f=k=a;return!1;break;}}});X0d=4;break;case 1:X0d=c?5:9;break;case 4:return f;break;case 2:X0d=1;break;case 9:a.some(function(a){var g0d;g0d=2;while(g0d!==5){switch(g0d){case 2:f=a.m;return b<=a.b;break;}}});X0d=4;break;}}}function h(a,b){var i0d;i0d=2;while(i0d!==1){switch(i0d){case 2:d.call(this,a,b);i0d=1;break;case 4:d.call(this,a,b);i0d=2;break;i0d=1;break;}}}function c(a,b){var W0d;W0d=2;while(W0d!==7){switch(W0d){case 2:d.call(this,a,b);Array.isArray(a.Sm.curves)?(this.ika=t(a.Sm.curves[0],0,0,1),this.hka=t(a.Sm.curves[1],0,0,1)):this.gka=t(a.Sm.curves,0,0,1);this.USa=q(a.Sm.threshold||6E3,1,1E5);this.TSa=q(a.Sm.gamma||1,.1,10);W0d=3;break;case 3:this.wka=a.Sm.filter;this.vXa=!!a.Sm.simpleScaling;a.Sm.niqrfilter&&a.Sm.niqrcurve&&(this.j0=a.Sm.niqrfilter,this.zVa=t(a.Sm.niqrcurve,1,0,4));W0d=7;break;}}}J0d=2;function d(a,b){var w0d;w0d=2;while(w0d!==9){switch(w0d){case 3:this.jza=function(a,b){var v0d;v0d=2;while(v0d!==1){switch(v0d){case 2:return this.Qla(a,b);break;case 4:return this.Qla(a,b);break;v0d=1;break;}}}.bind(this);w0d=9;break;case 2:this.BG=null;this.G=a;this.gla=b;this.iza=function(a,b){var x0d;x0d=2;while(x0d!==1){switch(x0d){case 2:return this.Pla(a,b);break;case 4:return this.Pla(a,b);break;x0d=1;break;}}}.bind(this);w0d=3;break;}}}while(J0d!==23){l9o="1S";l9o+="IY";l9o+="bZ";l9o+="rNJCp9";C9o="med";C9o+="ia|a";C9o+="sejs";z9o="AS";z9o+="E";z9o+="JS_PR";z9o+="EDICTOR";switch(J0d){case 3:p=a(74);q=p.iC;J0d=8;break;case 14:L=p.Vob;d.prototype.HE=function(a){var s0d;s0d=2;while(s0d!==1){switch(s0d){case 4:this.BG=a;s0d=9;break;s0d=1;break;case 2:this.BG=a;s0d=1;break;}}};d.prototype.ica=function(a){var T0d;T0d=2;while(T0d!==1){switch(T0d){case 4:this.G=a;T0d=5;break;T0d=1;break;case 2:this.G=a;T0d=1;break;}}};d.prototype.x_=function(a){var h0d,b,c;h0d=2;while(h0d!==9){switch(h0d){case 2:b=this.G;k.Qa(this.BG)?c=a*(100-b.qW)/100:(c=this.BG,c=a<2*c?a/2:a-c);b.S7&&this.gla?(b=this.gla,a=Math.max(a<2*b?a/2:a-b,c)):a=c;return a;break;}}};h.prototype=Object.create(d.prototype);h.prototype.gUa=function(a,c){var P0d,f,d;P0d=2;while(P0d!==8){switch(P0d){case 5:d=c?f.Q2:f.P1;c=c?f.R2:f.R1;k.isArray(c)&&(d=b(c,a.Qk-a.sf,f.Q1));return d;break;case 2:f=this.G;P0d=5;break;}}};h.prototype.Pla=function(a,b){var k0d;k0d=2;while(k0d!==1){switch(k0d){case 4:return f(this.G,a,b);break;k0d=1;break;case 2:return f(this.G,a,b);break;}}};J0d=18;break;case 8:t=p.m1a;A=p.k8a;y=p.l8a;J0d=14;break;case 2:k=a(6);a(11);new(a(5)).Console(z9o,C9o);J0d=3;break;case 27:c.prototype.Pla=function(a,b){var r3d;r3d=2;while(r3d!==1){switch(r3d){case 2:return f(this.G,a,b);break;case 4:return f(this.G,a,b);break;r3d=1;break;}}};c.prototype.Qla=function(a,b){var m3d,c,f,d;m3d=2;while(m3d!==13){switch(m3d){case 2:c=a.va&&a.va.Fa||0;f=Math.pow(Math.max(1-(a[this.wka]&&a[this.wka].Fa||c)/this.USa,0),this.TSa);d=b.Qk-b.sf;m3d=3;break;case 3:m3d=a.Tlb?9:8;break;case 9:return this.x_((1-a.Tlb)*c);break;case 8:this.gka?f*=A(this.gka,d,f):this.vXa?(b=A(this.ika,d,1),d=A(this.hka,d,1),f=b*f+d*(1-f)):f=A(L(this.ika,this.hka,f),d,1);a=this.j0&&a[this.j0]&&a[this.j0].xK;void 0!==a&&(a=y(this.zVa,a),f=Math.min(f*a,1));B6kk.K9o(0);return this.x_(B6kk.Q9o(f,1,c));break;}}};J0d=25;break;case 18:h.prototype.Qla=function(a,b){var C0d,c;C0d=2;while(C0d!==3){switch(C0d){case 5:a=a.va?a.va.Fa*(100-this.gUa(b,c))/100|0:0;return this.x_(a);break;case 2:c=this.tXa(a,this.G);C0d=5;break;}}};h.prototype.tXa=function(a,b){var F0d,c,f;F0d=2;while(F0d!==9){switch(F0d){case 2:c=!1;F0d=5;break;case 5:f=b.eI;a.Bo?c=!0:b.Bba&&a.va&&a.va.Fa<f&&(c=!0);return c;break;}}};Object.create(h.prototype);c.prototype=Object.create(d.prototype);J0d=27;break;case 25:g.T=function(a,b){var V3d,u3d,V9o;V3d=2;while(V3d!==5){V9o="mani";V9o+="f";V9o+="old";switch(V3d){case 1:return new c(a,b);break;case 2:u3d=a.y8;V3d=u3d===V9o?1:4;break;case 4:return new h(a,b);break;}}};l9o;J0d=23;break;}}}());},function(g,d,a){var m,c;function b(a,b,c,f,d,g){return new h(a,b,c,f,d,g);}function f(a){return a&&0<=a.indexOf(".__metadata__");}function h(a,b,c,f,d,g){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=f;this.creationTime=d;this.lastRefresh=g;return this.hDa();}m=a(6);c=a(109);a(108);new c.Console("MEDIACACHE","media|asejs");h.prototype.refresh=function(){this.lastRefresh=c.time.now();return this.hDa();};h.prototype.OBa=function(a){this.size=a;};h.prototype.$oa=function(){var a;a=c.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};h.prototype.hDa=function(){this.lastMetadataUpdate=c.time.now();return this;};h.prototype.constructor=h;g.T={create:b,c5:function(a){var c;c=a;"string"===typeof a&&(c=JSON.parse(a));if(c&&c.partition&&!m.R(c.lifespan)&&c.resourceIndex&&c.creationTime&&c.lastRefresh)return a=b(c.partition,c.resourceIndex,c.lifespan,-1,c.creationTime,c.lastRefresh),c.lastMetadataUpdate&&(a.lastMetadataUpdate=c.lastMetadataUpdate),!m.R(c.size)&&0<=c.size&&a.OBa(c.size),a.$oa(),a.convertToBinaryData=c.convertToBinaryData,a;},d3:function(a){return a+".__metadata__";},JR:function(a){return f(a)?a.slice(0,a.length-13):a;},tD:f};},function(g,d,a){var L,x,G,l,R,n,X,D,U,P,r,Z,ea;function b(){}function f(a,c){var f,d,k,g;f=L.Nb(c)?c:b;this.G=a||{};(function(a,b,c){this.ph[a].qd[b]=c;}.bind(this));(function(a,b){return this.ph[a].qd?this.ph[a].qd[b]:void 0;}.bind(this));this.on=this.addEventListener=Z.addEventListener;this.removeEventListener=Z.removeEventListener;this.emit=this.na=a.WFb?Z.na:b;d=l.b4a(a);k=this.G.dailyDiskCacheWriteLimit;if(d){this.rp=d;g=t(a.Q8||ea,l.O$a());this.Lr=function(a){return L.R(g)||null===g||void 0===this.ph[a]?!1:!L.R(g[a]);};g?(this.ph={},c=x.Promise.all(Object.keys(g).map(function(b){return new x.Promise(function(c,f){var q;q=g[b];q.WDa=a.WDa;new R(b,d,q,function(a,b){a?f(a):c(b);},k);});})).then(function(a){a.map(function(a){var b;b=a.ku;this.ph[b]=a;g[b].B9a=g[b].Hu-a.Kr;this.ph[b].on(R.zd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.na("mediacache",a);}.bind(this));this.ph[b].on(R.zd.sja,function(a){a=a||{};a.partition=b;a.type="save";this.na("mediacache",a);}.bind(this));this.ph[b].on(R.zd.ERROR,function(a){a=a||{};a.partition=b;a.type=R.zd.ERROR;this.na("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){p(d,x.storage.PA,Object.keys(g));return a;}.bind(this)).then(function(a){Object.keys(a.ph).map(function(b){a.ph[b].z5().map(function(c){a["delete"](b,c);});});a.pn=!0;f(null,a);}.bind(this))["catch"](function(a){G.error("Failed to initialize media cache ",a);this.Dy=P.Lda;f(this.Dy,this);}.bind(this)),r.uq(c)):(this.Dy=P.eLa,f(this.Dy,this));}else this.Dy=P.Lda,f(this.Dy,this);}function h(a,b,c,f,d,k){var g;g=k?"mediacache-error":"mediacache";b={partition:c,type:b,resource:f,time:x.time.now()};k&&(b.error=k);d&&(L.pa(d.duration)&&(b.duration=d.duration),L.pa(d.cs)&&(b.bytesRead=d.cs));try{a.na(g,b);}catch(ka){G.warn("caught exception while emitting basic event",ka);}}function m(a,b,c,f,d){var k;k=d?"mediacache-error":"mediacache";b={partition:c,type:b,resources:f,time:x.time.now()};d&&(b.error=d);try{a.na(k,b);}catch(ja){G.warn("caught exception while emitting basic event",ja);}}function c(a){return!L.R(a)&&!L.Qa(a)&&L.pa(a.lifespan);}function k(a){return!n.tD(a)&&!D.qeb(a);}function p(a,c,f){a.query(c,"",function(d,k){d||Object.keys(k).filter(function(a){return 0>f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(c,f,b);});});}function q(a,b,c){var d,k;function f(b){a["delete"](d,function(f){f?c(f):(delete a.qd[k],f=Object.keys(b.resourceIndex),f=x.Promise.all(f.map(function(b){return new x.Promise(function(c,f){a["delete"](b,function(a){a?f(a):c(b);});});})).then(function(){c();},function(a){c(a);}),r.uq(f));});}n.tD(b)?(d=b,k=n.JR(b)):(d=n.d3(b),k=b);(b=a.qd[k])?f(b):a.read(d,function(a,b){a?c(a):f(b);});}function t(a,b){var c,f,d;c={};f=a.partitions.reduce(function(a,b){return a+b.capacity;},0);d=b/f;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].Hu=Math.floor(d*a.capacity);c[b].J4a=a.dailyWriteFactor||1;c[b].KIb=a.owner;c[b].o8a=a.evictionPolicy;});return c;}function A(a,b,c){if(c)return D.l6a(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function y(a,b,c,f,d,k,g,q,p,t,h){return function(m,u){m?L.isArray(m)?(u=m.map(function(a){return a.error;}),u.some(function(a){return a.code===P.uA.code;})&&!u.some(function(a){return a.code===P.gO.code;})?h(t,m,function(){p.save(b,c,f,d,k,g);}):(t["delete"](q),delete t.qd[c],k({error:m[0].error,Ss:m[0].Ss,type:m[0].type,ena:m}))):k({error:m,Ss:b,type:"save"}):(m=u.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.rT;},0),t.qd[c].OBa(m),m={B9a:u.Ii,pFb:u.vC,Rh:0,items:u},0<u.Rh&&(m.Rh=u.Rh),0<u.duration&&(m.duration=u.duration),k(null,m));};}L=a(6);x=a(109);G=new x.Console("MEDIACACHE","media|asejs");l=a(738);R=a(737);n=a(360);X=a(108);D=a(732);U=a(731);P=a(199);r=a(198);Z=a(25).EventEmitter;ea={TIb:[]};f.prototype.xz=function(a,c,f){var d;d=L.Nb(f)?f:b;this.Lr(a)?this.ph[a].query(c,function(a,b){a?(G.error("Failed to query resources",a),d([])):d(b.filter(k));}):d([]);};f.prototype.read=function(a,c,f){var d,k,g,q;d=L.Nb(f)?f:b;if(this.Lr(a)){k=this.ph[a];g=k.qd[c];if(!n.tD(c)&&this.G.zhb){q=function(b){k.lV(Object.keys(b),function(b,f,k){b?d(P.VA.rm("Failed to read "+c,b)):(h(this,"read",a,c,k),d(null,D.Ydb(f)));}.bind(this),b);}.bind(this);g?q(g.resourceIndex):this.anb(a,c,function(a,b){a?d(P.VA.rm("Failed to read "+c,a)):q(b.resourceIndex);});}else k.read(c,function(b,f,k){b?d(P.VA.rm("Failed to read "+c,b)):(g&&g.convertToBinaryData&&(f=U.h2a(f)),h(this,"read",a,c,k),d(null,f));}.bind(this));}else d(P.It);};f.prototype.lV=function(a,c,f){var d,k;d=L.Nb(f)?f:b;if(this.Lr(a)){k={};c=x.Promise.all(c.map(function(b){return new x.Promise(function(c,f){this.read(a,b,function(a,d){a?(d={},d[b]=a,f(d)):(k[b]=d,c());});}.bind(this));}.bind(this))).then(function(){d(null,k);},function(a){d(a);});r.uq(c);}else d(P.It);};f.prototype.ZAa=function(a,c,f){var d;d=L.Nb(f)?f:b;this.Lr(a)?"[object Object]"!==Object.prototype.toString.call(c)?d(P.fO.rm("items must be a map of keys to objects")):(f=new x.Promise(function(b){var f,d;f=this.ph[a].z5();d=Object.keys(c);(f=f.filter(function(a){return-1===d.indexOf(a);}))&&0<f.length?this.hqa(a,f,function(){b();}):b();}.bind(this)).then(function(){return x.Promise.all(Object.keys(c).map(function(b){return new x.Promise(function(f,d){this.save(a,b,c[b].fm,c[b].kd,function(a,c){a?(G.error("Received an error saving",b,a),d(a)):f(c);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(b){var f,k,g;try{f=Number.MAX_VALUE;k=Number.MAX_VALUE;g=b.reduce(function(a,b){b.Ii&&b.Ii<f&&(f=b.Ii);b.vC&&b.vC<k&&(k=b.vC);f<Number.MAX_VALUE&&(a.freeSize=f);k<Number.MAX_VALUE&&(a.dailyBytesRemaining=k);L.pa(b.Rh)&&(a.bytesWritten+=b.Rh);L.pa(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(c),time:x.time.now(),bytesWritten:0,duration:0});this.na("mediacache",g);d(null,g);}catch(ra){d(err);}}.bind(this),function(b){L.isArray(b.ena)?b.ena.forEach(function(b){this.na("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.mL});}.bind(this)):this.na("mediacache-error",{partition:a,type:"saveMultiple",error:b});d(b);}.bind(this)),r.uq(f)):(L.Nb(f)?f:b)(P.It);};f.prototype.save=function(a,f,d,k,g,q){var p,t,u,l,N,R,S,D,r;p=L.Nb(g)?g:b;if(this.Lr(a)){t=this.ph[a];u=n.d3(f);g=t.z5();g=g.filter(function(a){return a!==f;});if(c(k)){l=A(f,d,this.G.zhb);N=t.qd[f]||{};R=N.resourceIndex;R&&Object.keys(R).map(function(a){L.R(l[a])&&t["delete"](a);});k.convertToBinaryData&&(d=U.i2a(l),l=A(f,d,!1));R=x.time.now();S={};S.partition=a;S.resourceIndex=Object.keys(l).reduce(function(a,b){a[b]=X.m6(l[b]);return a;},{});S.creationTime=N.creationTime||R;S.lastRefresh=R;S.lifespan=k.lifespan;S.lastMetadataUpdate=R;S.size=N.size;S.convertToBinaryData=k.convertToBinaryData;D=function(a,b,c){a.K5a(function(d,k){d&&G.error("Evicting","Failed to delete some orphaned records",d);k.Q$?c():(d=a.bab())?this["delete"](a.getName(),d,function(d){d?(q||(L.isArray(b)?b.forEach(function(b){m(this,"save",a.getName,b.mL,b.error);}.bind(this)):h(this,"save",a.getName(),f,void 0,b)),p(b)):c();}.bind(this)):p(P.uA);}.bind(this));}.bind(this);r=function(){var a,b,c;a=this.ph;b=0;c=x.time.now();if(!L.R(a))for(var f in a)b+=a[f].o$a(c);return b;}.bind(this);this.hqa(a,g,function(){t.replace(u,S,function(b,c){c?(t.qd[f]=n.c5(S),t.cob(l,y(l,a,f,d,k,p,q,u,this,t,D),q,r)):b.code===P.uA.code?D(t,b,function(){this.save(a,f,d,k,p,q);}.bind(this)):p(b);}.bind(this),q,r);}.bind(this));}else p(P.hMa);}else p(P.It);};f.prototype["delete"]=function(a,c,f){var d;d=L.Nb(f)?f:b;this.Lr(a)?q(this.ph[a],c,function(b){h(this,"delete",a,c,void 0,b);d(b);}.bind(this)):d(P.It);};f.prototype.hqa=function(a,c,f){var d,k;d=L.Nb(f)?f:b;if(this.Lr(a)){k=this.ph[a];f=x.Promise.all(c.map(function(a){return new x.Promise(function(b){q(k,a,function(c){b({W:L.R(c),error:c,fm:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var q,p;for(var c=[],f=[],k=[],g=0;g<b.length;g++){q=b[g];q.W?c.push(q.fm):q.error&&f.push(q);}0<c.length&&m(this,"delete",a,c);0<f.length&&(k=f.map(function(a){return a.fm;}),b=r.Ota(f),p=b[0],b.forEach(function(b){G.error("Failed to delete resources ",b.error,b.mL);m(this,"delete",a,b.mL,b.error);}.bind(this)));b={};b.BJb=c;0<k.length&&(b.CJb=k);p?d(p,b):d(void 0,b);}.bind(this),function(b){m(this,"delete",a,c,b);d(b);}.bind(this));r.uq(f);}else d(P.It);};f.prototype.clear=function(a,c){var f;f=L.Nb(c)?c:b;this.Lr(a)?this.ph[a].clear(function(a){f(a.filter(k));}):f(P.It);};f.prototype.anb=function(a,c,f){var d,k;d=L.Nb(f)?f:b;if(this.Lr(a)){f=n.d3(c);k=this.ph[a];k.read(f,function(a,b){var f;if(a)d(P.iMa);else{f=n.c5(b)||{};k.nta(Object.keys(f.daa),function(a){f.size=a;(a=k.qd[c])&&(f.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=f.lastMetadataUpdate?k.qd[c]=f:a.lastMetadataUpdate&&(a.lastMetadataUpdate>f.lastMetadataUpdate||L.R(f.lastMetadataUpdate))&&(f=a));d(null,f);});}});}else d(P.It);};f.prototype.KDa=function(a){x.FJ(a);};f.prototype.constructor=f;g.T=f;},function(g,d,a){d=a(741);g.T=d;},function(g,d,a){var b,f,h,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);f=a(5);h=a(742);m=f.xA;g=function(){function a(){this.Zo=[];this.console=new f.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(a,{sv:{get:function(){void 0===a.Wka&&(a.Wka=new a());return a.Wka;},enumerable:!0,configurable:!0}});a.prototype.QQ=function(a,b,c,f,d,g){var k,q,p;q=g.Eqb?this.X8a(c,b,a):-1;if(-1===q){k={track:this.d4a(c,f,a,d,g),rq:c,M:b,Iza:a,pE:[],mo:!1,lqa:!1};this.Zo.push(k);p=function(){k.mo=!0;k.track.removeListener("created",p);};k.track.on("created",p);k.track.Ac&&k.track.Ac();}else k=this.Zo[q];a=new h.pQa(k.track,k.mo);k.pE.push(a);return a;};a.prototype.L3=function(a){var b,c;a.cn();b=this.RR(function(b){return b.track===a.track;});if(-1!==b)if(b=this.Zo[b],1===b.pE.length)b.track.cn(),b.lqa=!0;else{c=b.pE.indexOf(a);0<=c&&b.pE.splice(c,1);}else a.track.cn();};a.prototype.We=function(){a.xja.We();};a.prototype.d4a=function(c,f,d,g,h){var k,q;k=this;c?1===d?(c=!1,f=1,h.An?(c=!0,f=h.JD):h.gq&&2<h.gq&&(c=!0,f=h.gq),h={type:m.VIDEO,openRange:!c,pipeline:c,connections:f,socketBufferSize:h.lF,minRequestSize:h.SD}):0===d?(c=h.An&&f&&h.wub,h={type:m.AUDIO,openRange:!c,pipeline:c,connections:1,socketBufferSize:h.lQ,minRequestSize:h.SD}):h={type:m.bKa,openRange:!1,pipeline:!0,connections:1,socketBufferSize:h.A6,minRequestSize:h.SD}:h={type:0===d?b.L.AUDIO:b.L.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===d?h.lQ:h.lF,minRequestSize:h.SD};q=new a.xja(h,g);q.on("transportreport",function(a){var b;b=k.RR(function(a){return a.track===q;});-1!==b&&(b=k.Zo[b],b.pE.length&&b.pE[0].emit("transportreport",a));});q.on("destroyed",function(){var a;a=k.RR(function(a){return a.track===q;});-1!==a&&k.Zo.splice(a,1);q.removeAllListeners();});return q;};a.prototype.X8a=function(a,b,c){return this.RR(function(f){return!f.lqa&&(a?f.rq&&f.M===b&&f.Iza===c:!f.rq&&f.Iza===c);});};a.prototype.RR=function(a){for(var b=0;b<this.Zo.length;++b)if(a(this.Zo[b]))return b;return-1;};a.xja=m;return a;}();d.zt=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gpa=function(a,b){var f;if(!Array.isArray(a.fpa))return a;f=Object.create(a);a.fpa.forEach(function(a){if(void 0!==a.kib&&b.duration>=a.kib&&a.config)for(var d in a.config)f[d]=a.config[d];});return f;};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(13);g=function(a){function d(b,f,d){b=a.call(this,b,f)||this;b.xk=f.Fs;b.R0=!!f.gA;b.uka=f.Pl;b.K=d;return b;}b.__extends(d,a);Object.defineProperties(d.prototype,{Yb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{data:{get:function(){return this.xk;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Fs:{get:function(){return this.xk;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$:{get:function(){return this.stream.$;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{On:{get:function(){return this.$&&this.$.On;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gA:{get:function(){return this.R0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Pl:{get:function(){return this.uka;},enumerable:!0,configurable:!0}});d.prototype.iZa=function(a){f.assert(this.Dc.za===a.za);!a.jd&&this.Dc.jd&&a.NQ(this.Dc);!a.location&&this.Dc.location&&(a.location=this.Dc.location,a.Ub=this.Dc.Ub,a.Pz=this.Dc.Pz,a.url=this.Dc.url,a.Ka=this.Dc.Ka);this.Dc=a;};d.prototype.toJSON=function(){return b.__assign({},a.prototype.toJSON.call(this),{isHeader:!0,fragments:this.$});};return d;}(a(156).Ew);d.aX=g;},function(g,d,a){var b,f,h,m,c,k,p,q,t;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);h=a(5);m=a(374);c=a(365);k=a(201);g=a(25);p=a(202);q=a(24);a=a(40);t=h.MediaSource;h=function(a){function d(b,f,d,k,g,q,p){g=a.call(this,b,k,g,p)||this;c.aX.call(g,b,k,p);g.Mb=f;g.HO=d;g.fUa=!!k.xs;g.OTa=!!k.dy;g.JL=!!k.JL;g.rWa=k.aa;g.S_=(q?"(cache)":"")+g.za+" header";g.KB(b.url||k.url,k.offset,k.aa);return g;}b.__extends(d,a);Object.defineProperties(d.prototype,{Yb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{track:{get:function(){return this.HO;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{xs:{get:function(){return this.fUa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{dy:{get:function(){return this.OTa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ekb:{get:function(){return this.rWa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{parseError:{get:function(){return this.RDb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{GK:{get:function(){return this.uWa;},enumerable:!0,configurable:!0}});d.prototype.Zd=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.Zd.call(this);};d.prototype.$nb=function(){if(!this.R0)return!0;this.R0=!1;return this.Jla();};d.prototype.bi=function(b){this.xk=this.xk?q.Wm(this.xk,b.response):b.response;b.eL();this.Jla()?a.prototype.bi.call(this,b):this.Fja?(this.KB(b.url,b.offset+b.aa,this.Fja),a.prototype.bi.call(this,b)):this.bS(this);};d.prototype.tVa=function(a,b){a.LU=!1;a.parseError=b.errormsg;};d.prototype.wVa=function(a,b){a.LU=!1;a.cZa=b.bytes;};d.prototype.uVa=function(a,b){a.$=b.fragments;a.Qv=b.movieDataOffsets;a.qg=b.additionalSAPs;a.gA=b.truncated;a.$Q=b.defaultSampleDuration;a.ga=b.timescale;};d.prototype.yVa=function(a,b){this.Mb.IK.enabled&&(a.On=b.vmafs);};d.prototype.xVa=function(a,b){b.frameDuration&&(a.Ia=b.frameDuration);};d.prototype.vVa=function(a,b){a.BR={dFb:b.keyId,xva:b.offset,IHb:b.flipped};};d.prototype.sVa=function(a,b){a.LU=!0;a.rib=b.moovEnd;a.GK=b.parsedEnd;};d.prototype.KB=function(a,b,c){a=new k.NM(this.stream,this.HO,this.S_+" ("+this.ta.length+")",{offset:b,aa:c,url:a,location:this.location,Db:this.Db,responseType:0},this,this.K);this.push(a);this.Vb=this.ta.reduce(function(a,b){return a+b.aa;},0);};d.prototype.Jla=function(){var a,b,c;b=this.Mb.Pub;c=this.Mb.YZa;this.O===f.L.VIDEO&&b&&!this.Mb.rs?a=b:this.O===f.L.AUDIO&&c&&(a=c);a=new p.mNa(this.stream,this.xk,["sidx"],this.O===f.L.VIDEO&&this.Mb.rs||this.O===f.L.AUDIO&&this.Mb.dn,{truncate:this.gA,YJb:this.stream.track.Z3,WV:a,Dya:void 0===this.Ia,Xba:!t.Sc||!t.Sc.Noa,Yba:this.Mb.Yba,eo:this.Mb.eo&&this.Mb.dn,mA:this.Mb.mA,Py:this.Mb.Py,N8:this.Mb.N8});b={};a.addEventListener("error",this.tVa.bind(this,b));a.addEventListener("requestdata",this.wVa.bind(this,b));a.addEventListener("fragments",this.uVa.bind(this,b));a.addEventListener("vmafs",this.yVa.bind(this,b));a.addEventListener("sampledescriptions",this.xVa.bind(this,b));a.addEventListener("keyid",this.vVa.bind(this,b));a.addEventListener("done",this.sVa.bind(this,b));a.parse({Ia:this.Ia});this.Bub=this.Mb.mA&&a.Tcb;b.LU?(this.xk=a.ytb(b.rib||b.GK),this.uWa=b.GK,this.uka=!!b.BR,void 0===this.Ia&&void 0===b.Ia&&this.K.error("No frame duration available for "+this.za),void 0===this.Ia&&void 0===b.Ia&&this.K.error("No frame duration available for "+this.za),this.stream.zU(b.ga,b.Ia||this.Ia,b.$,b.Qv,b.qg,b.On)):this.Fja=b.cZa||0;return!!b.LU;};return d;}(m.MM);d.Vca=h;a.mi(c.aX,h,!1);a.mi(g.EventEmitter,h);},function(g,d,a){var f;function b(a,b){a=b.indexOf(a);-1!==a&&b.splice(a,1);}Object.defineProperty(d,"__esModule",{value:!0});f=a(93);g=function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.Sra=function(){return this.done;};a.prototype.xqa=function(a,b,f){return this.done=b+f>=this.endOffset;};return a;}();d.Yda=g;g=function(){function a(a,b,f,d){void 0===b&&(b=[]);void 0===f&&(f=[]);void 0===d&&(d=!1);this.So=a;this.fR=b;this.JCa=f;this.Eya=d;this.done=!1;this.Pi={};}a.prototype.Sra=function(b,c,f){-1!==a.Ycb.indexOf(b)&&(this.Pi[b]={offset:c,size:f});if(-1!==this.JCa.indexOf(b))if(this.Pi[b]={offset:c,size:f},this.Eya)this.endOffset=c+f;else return this.endOffset=c,this.done=!0;else this.So&&-1!==this.So.indexOf(b)?(b=1<this.So.length?4096:0,this.endOffset=Math.max(c+f+b,this.endOffset||0)):-1!==this.fR.indexOf(b)&&(b=this.So?4096:0,this.endOffset=Math.max(c+f+b,this.endOffset||0));return this.done;};a.prototype.xqa=function(a,c,d,g){var k;k=this;if(-1!==this.JCa.indexOf(a))return this.done=!0;a===f.XY&&this.LBa(g.Pi);a===f.YY&&this.LBa(g.Pi);this.So&&b(a,this.So);b(a,this.fR);return this.So&&0===this.So.length&&!this.fR.some(function(a){return k.Pi[a];})?this.done=!0:this.done;};a.prototype.LBa=function(a){var b;b=this;this.Pi=a;this.endOffset=(this.So||[]).concat(this.fR).reduce(function(a,c){return b.Pi[c]?(c=b.Pi[c],Math.max(c.offset+(c.size||4096),a)):a;},this.endOffset||0);};a.Ycb=["moov","sidx"];return a;}();d.lKa=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(93);a=a(32);f=g.YY;a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a,d,g;this.nf();1<=this.version&&(this.tra=this.J.mV());a=this.J.ub();this.Pi={};for(var b=this.startOffset+this.length,f=0;f<a;++f){d=this.J.$K();"uuid"===d&&(d=this.J.mV());g=this.J.gi();this.Pi[d]={offset:b,size:g};b+=g;}return!0;};d.Xj=f;d.Sb=!1;return d;}(a.Fh);d["default"]=a;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(93);g=a(32);h=f.XY;g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.nf();this.fileSize=this.J.gi();this.ga=this.J.gi();this.duration=this.J.gi(!1,!0);this.bya=this.J.gi();this.J.gi();this.Ajb=this.J.gi();this.Pib=this.J.ub();this.cya=this.J.gi();this.Ira=this.J.ub();this.tra=this.J.mV();this.Pi={moof:{offset:this.bya},sidx:{offset:this.cya,size:this.Ira}};this.Pi[f.Hga]={offset:this.Ajb,size:this.Pib};this.J.offset-this.startOffset<=this.length-24&&(this.zjb=this.J.gi(),this.Gib=this.J.ub(),this.yjb=this.J.gi(),this.Eib=this.J.ub(),this.Pi[f.GN]={offset:this.zjb,size:this.Gib},this.Pi[f.FN]={offset:this.yjb,size:this.Eib});return!0;};c.Xj=h;c.Sb=!1;return c;}(g.Fh);d["default"]=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(32);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.J.offset+=8;this.X0a=this.J.Of();this.Pob=this.J.Of();this.J.offset+=4;this.XAa=this.J.Of();this.J.offset+=2;f.tX&&this.J.console.trace("MP4AudioSampleEntry: channelcount: "+this.X0a+", samplesize: "+this.Pob+", samplerate: "+this.XAa);return b;};return d;}(a(371)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.J.offset+=6;this.J.Of();return!0;};f.Sb=!1;return f;}(a(32).Fh);d["default"]=g;},function(g,d,a){var M,ja,ka,ra,xa,la,Fa,E,C,J,Q,Ua,T,Ra,aa,ca,da,fa,ha,ga;function b(a,b,c,f,d){la.call(this,a,b,c,f,d);}function f(a,b,c,f,d){la.call(this,a,b,c,f,d);}function h(a,b,c,f,d){la.call(this,a,b,c,f,d);}function m(a,b,c,f,d){la.call(this,a,b,c,f,d);this.WV=a.config.WV;this.cd=this.sizes=void 0;}function c(a,b,c,f,d){la.call(this,a,b,c,f,d);}function k(a,b,c,f,d){la.call(this,a,b,c,f,d);}function p(a,b,c,f){Ra.call(this,a,b,c,f);}function q(a,b,c,f,d){la.call(this,a,b,c,f,d);}function t(a,b,c,f,d){la.call(this,a,b,c,f,d);}function A(a,b,c,f,d){T.call(this,a,b,c,f,d);}function y(a,b,c,f,d){la.call(this,a,b,c,f,d);}function L(a,b,c,f,d){la.call(this,a,b,c,f,d);}function x(){for(var a=new DataView(this),b="",c,f=0;f<this.byteLength;f++)c=a.getUint8(f),b+=("00"+c.toString(16)).slice(-2);return b;}function G(a,b,c,f,d){la.call(this,a,b,c,f,d);}function l(a,b,c,f,d){la.call(this,a,b,c,f,d);}function R(a,b,c,f,d){la.call(this,a,b,c,f,d);}function n(a,b,c,f,d){la.call(this,a,b,c,f,d);}function X(a,b,c,f,d){la.call(this,a,b,c,f,d);}function D(a){function b(b,c,f,d,k){la.call(this,b,c,f,d,k);this.Fxa=a;}b.Sb=!1;b.prototype=new la();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Nda:{get:function(){return this.Fxa;}}});b.prototype.parse=function(){this.J.console.trace("renaming '"+this.type+"' to draft type '"+this.Fxa+"'");this.J.offset=this.startOffset+4;this.Ua.pEa(this.Nda);this.type=this.Nda;return!0;};return b;}function r(a,b,c,f,d){la.call(this,a,b,c,f,d);}function P(a,b,c,f,d){la.call(this,a,b,c,f,d);}function ia(a,b,c,f,d){la.call(this,a,b,c,f,d);}function Z(a,b,c,f,d){la.call(this,a,b,c,f,d);}function ea(a,b,c,f,d){la.call(this,a,b,c,f,d);}function Y(a,b,c,f,d){la.call(this,a,b,c,f,d);}function O(a,b,c,f,d){la.call(this,a,b,c,f,d);}function W(a,b,c,f,d){la.call(this,a,b,c,f,d);}function va(a,b,c,f,d){la.call(this,a,b,c,f,d);}function wa(a,b,c,f,d){la.call(this,a,b,c,f,d);}M=a(13).assert;ja=a(93);a(5);ka=a(59).gc;ra=a(376);xa=a(126);a(58);a(58);a(58);la=a(32).Fh;d=a(755)["default"];Fa=a(754)["default"];E=a(753)["default"];C=a(752)["default"];J=a(751)["default"];Q=a(750)["default"];Ua=a(749)["default"];T=a(371)["default"];Ra=a(370)["default"];aa=a(748)["default"];ca=a(747)["default"];da=a(746)["default"];fa=a(369)["default"];ha=a(368)["default"];a(125);a(204);a(203);a(205);a=a(745)["default"];b.Sb=!0;b.prototype=new la();b.prototype.constructor=b;f.Sb=!0;f.prototype=new la();f.prototype.constructor=f;h.Sb=!1;h.prototype=new la();h.prototype.constructor=h;h.prototype.parse=function(){var a;this.nf();1===this.version?(this.J.gi(),this.J.gi(),this.ga=this.J.ub(),this.duration=this.J.gi()):(this.J.ub(),this.J.ub(),this.ga=this.J.ub(),this.duration=this.J.ub());a=this.J.Of()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));return!0;};m.Sb=!1;m.prototype=new la();m.prototype.constructor=m;m.prototype.tWa=function(){this.nf();this.J.ub();this.ga=this.J.ub();0===this.version?(this.d4=this.J.ub(),this.O4=this.J.ub()):(this.d4=this.J.gi(),this.O4=this.J.gi());this.pob=this.J.Of();this.qE=this.J.Of();};m.prototype.yTa=function(a,b){var c,f,d;c=this.ga;a=a&&a.ga||c;f=a/c;c=this.J.iV(b,12,!1);d=1===f?this.J.iV(b,12,!1):ra.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.J.ub()*f);this.J.offset+=8;return a;},this);this.yma(b,d,c,a);};m.prototype.aka=function(a){var b,c,f,d,k;b=this.ga;a=a&&a.ga||b;c=a/b;b=this.qE;f=this.J.config.mA&&xa.Jta||xa.xy;d=f(this.XV,0,b,12,!1);k=4;f=1===c?f(this.XV,k,b,12,!1):ra.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.XV.getUint32(k,!1)*c);k+=12;return a;},this);this.yma(b,f,d,a);this.XV=void 0;};m.prototype.yma=function(a,b,c,f){if(this.WV){f=this.WV*f/1E3;for(var d=0,k=1;k<a;k++)Math.abs(b[d]-f)>Math.abs(b[d]+b[k]-f)?(b[d]+=b[k],c[d]+=c[k]):(++d,d!==k&&(b[d]=b[k],c[d]=c[k]));++d;b=new Uint32Array(b.buffer.slice(0,4*d));c=new Uint32Array(c.buffer.slice(0,4*d));}this.sizes=c;this.cd=b;};m.prototype.parse=function(a){var b,c,f,d,k,g;this.tWa();this.Ia=a.Ia;b=this.ga;c=this.Ia&&this.Ia.ga||b;f=this.J.config.truncate&&60<this.qE;d=f?60:this.qE;k=this.startOffset+this.length+this.O4;b=new ka(this.d4,b).lm(c).yd;this.$={ga:c,Fj:b,offset:k};c=this.J.config.N8;if(this.J.config.Py&&!f&&this.qE<c){this.XV=this.J.Nza(12*this.qE);g=this;Object.defineProperty(this.$,"durations",{get:function(){void 0===g.cd&&g.aka(g.Ia);return g.cd;}});Object.defineProperty(this.$,"sizes",{get:function(){void 0===g.sizes&&g.aka(g.Ia);return g.sizes;}});}else this.yTa(this.Ia,d),this.$.cd=this.cd,this.$.sizes=this.sizes;a.Bq=this;return!0;};c.Sb=!1;c.prototype=new la();c.prototype.constructor=c;c.prototype.parse=function(){this.On=[];for(var a=(this.length-8)/2,b=0;b<a;b++)this.On.push(this.J.Of()/100);return!0;};k.Sb=!0;k.prototype=new la();k.prototype.constructor=k;k.prototype.parse=function(){this.nf();this.J.ub();return!0;};k.prototype.jy=function(a){var b;b=Object.keys(this.Ec);b.length&&this.Ec[b[0]].length&&(this.Ec[b[0]][0]instanceof Ra?this.Ia=new ka(this.Ec[b[0]][0].dS,this.Ec[b[0]][0].XAa):this.Ec[b[0]][0]instanceof A&&(b=this.Ec[b[0]][0].Ec[ja.WY])&&b.length&&(b=b[0].fd,1E3!==b.zI&&1001!==b.zI||0!==b.xU%1E3?this.J.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+b.xU+"/"+b.zI):this.Ia=new ka(b.zI,b.xU)),this.Ia&&(a.Ia=this.Ia));return!0;};p.Sb=!0;p.prototype=Object.create(Ra.prototype);p.prototype.constructor=p;p.prototype.parse=function(a){return Ra.prototype.parse.call(this,a);};p.prototype.jy=function(){this.dS=1536;return!0;};q.Sb=!1;q.prototype=Object.create(la.prototype);q.prototype.parse=function(){this.J.Af(2);this.J.Af(5);this.J.Af(3);this.J.Af(3);this.di.pJb(1);this.J.Af(5);this.J.Af(5);return!0;};t.Sb=!1;t.prototype=Object.create(la.prototype);t.prototype.parse=function(){this.ijb=this.J.Of()&7;for(var a=0;a<this.ijb;a++)this.J.Af(2),this.J.Af(5),this.J.Af(5),this.J.Af(3),this.di.Af(1),0<this.J.Af(4)?this.di.Af(9):this.J.Af(1);return!0;};A.Sb=!0;A.prototype=Object.create(T.prototype);A.constructor=A;A.prototype.parse=function(a){T.prototype.parse.call(this,a);this.fd=this.yq([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{$Gb:"int32"},{JKb:"int32"},{offset:32,type:"offset"},{A9a:"int16"},{O1a:{type:"int8",zZa:32}},{depth:"int16"},{offset:16,type:"offset"}]);return!0;};y.Sb=!1;y.prototype=Object.create(la.prototype);y.constructor=y;y.prototype.parse=function(){var a;this.J.ge();this.TEa=this.J.ge();this.J.ge();this.J.ge();this.J.ge();this.iCa=this.x0(this.J.ge()&31);this.x0(this.J.ge());this.z$=this.iCa.length?this.iCa[0][0]:this.TEa;this.Vla=this.J.offset;this.startOffset+this.length<this.J.offset&&(100===this.lJb||110===this.z$||122===this.z$||144===this.z$)&&(this.J.ge(),this.J.ge(),this.x0(this.J.ge()));a=this.startOffset+this.length-this.Vla;0<a&&this.Aj(a,this.Vla);return!0;};y.prototype.x0=function(a){var b,c,f;b=[];for(c=0;c<a;++c)f=this.J.Of(),b.push(this.J.jV(f));return b;};L.Sb=!1;L.prototype=Object.create(la.prototype);L.constructor=L;L.prototype.parse=function(){this.nf();this.Zob=this.J.$K();"cenc"==this.Zob&&(this.J.offset-=4,this.Ua.pEa("piff"));this.J.ub();return!0;};G.Sb=!1;G.prototype=new la();G.prototype.constructor=G;G.prototype.parse=function(){this.nf();this.J.offset+=4;this.xva=this.J.offset;this.yv=this.J.Nza(16);this.yv.toString=x;return!0;};l.Sb=!1;l.prototype=new la();l.prototype.constructor=l;l.prototype.parse=function(){this.nf();this.Ql=this.J.Of();this.phb=this.J.iV(this.Ql,void 0,!0);return!0;};R.Sb=!1;R.prototype=new la();R.prototype.constructor=R;R.prototype.parse=function(a){var b,c,f,d,k,g;d=a.Bq;M(d);a=a.Ia;b=d.ga;d=d.qE;M(a);M(b);M(d);this.nf();M(2>this.version);this.Ql=this.J.Of();this.hE=new Uint16Array(d+1);c=a.acb(b);k=c/b;g=a.lm(c).yd;if(0===this.version)for(this.yE=new Uint16Array(),this.bm=new Uint32Array(),a=b=0;a<=d;++a){if(this.hE[a]=b,a<this.Ql&&(f=this.J.ge(),0!==f))for(c=0;c<f;++c,++b)this.yE[b]=Math.floor((this.J.ub()+1)*k)/g,this.bm[b]=this.J.ub();}else if(1===this.version)for(c=this.J.Wmb(this.Ql),this.J.offset+=4,this.bm=this.J.iV(this.Ql,10,!1),this.J.offset-=8,this.yE=ra.from(Uint16Array,{length:this.Ql},function(){var a;a=Math.floor((this.J.ub()+1)*k)/g;this.J.offset+=6;return a;},this),b=a=0;a<=d;++a){for(;b<c.length&&c[b]<a;)++b;this.hE[a]=b;}this.qg={hE:this.hE,yE:this.yE,bm:this.bm};return!0;};n.Sb=!0;n.prototype=Object.create(b.prototype);n.prototype.constructor=n;X.Sb=!0;X.prototype=Object.create(b.prototype);X.prototype.constructor=X;X.prototype.jy=function(){var a;a=this.$o("tfhd");a&&(this.Xr=a.Sna?a.Xr:this.parent.startOffset);return!0;};r.Sb=!1;r.prototype=new la();r.prototype.constructor=r;r.prototype.parse=function(){var a,p,t,c,d;a=this.J.offset;this.nf();if(1===this.version){this.J.console.trace("translating vpcC box to draft equivalent");this.J.offset+=2;for(var b=this.J.offset,c=this.J.ge(),f=this.J.ge(),d=this.J.ge(),k=this.J.ge(),g=this.J.Of(),q=[],p=0;p<g;++p)q=this.J.ge();p=(c&240)>>>4;t=(c&14)>>>1;c=c&1;d=16===d?1:0;f!=k&&this.J.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+f+" and matrixCoefficients "+k+" should be the same value!");k=2;switch(f){case 1:k=2;break;case 6:k=1;break;case 9:k=5;break;default:this.J.console.warn("VP9: Unknown colourPrimaries "+f+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Ua.TW(this.version,a);this.Ua.TW(p<<4|k,b++);this.Ua.TW(t<<4|d<<1|c,b++);g+=2;q.push(0,0);this.Ua.lvb(g,b);b+=2;q.forEach(function(a){this.Ua.TW(a,b++);});}return!0;};P.Sb=!1;P.prototype=new la();P.prototype.constructor=P;P.Xj="tfhd";Object.defineProperties(P.prototype,{Sna:{get:function(){return this.Je&1;}},Oob:{get:function(){return this.Je&2;}},C5a:{get:function(){return this.Je&8;}},F5a:{get:function(){return this.Je&16;}},D5a:{get:function(){return this.Je&32;}}});P.prototype.parse=function(){this.nf();this.Vba=this.J.ub();this.Xr=this.Sna?this.J.gi():void 0;this.Oob&&this.J.ub();this.aR=this.C5a?this.J.ub():void 0;this.cR=this.F5a?this.J.ub():void 0;this.bR=this.D5a?this.J.ub():void 0;return!0;};ia.Sb=!1;ia.prototype=new la();ia.prototype.constructor=ia;ia.prototype.parse=function(){this.nf();this.PH=1===this.version?this.J.gi():this.J.ub();return!0;};ia.prototype.Ta=function(a){var b;b=this.startOffset+12;this.PH+=a;1===this.version?this.Ua.mvb(this.PH,b):this.Ua.sm(this.PH,!1,b);};Z.Sb=!1;Z.prototype=new la();Z.prototype.constructor=Z;Object.defineProperties(Z.prototype,{Npa:{get:function(){return this.Je&1;}},R4:{get:function(){return this.Je&4;}},CV:{get:function(){return this.Je&256;}},DV:{get:function(){return this.Je&512;}},WAa:{get:function(){return this.Je&1024;}},maa:{get:function(){return this.Je&2048;}}});Z.prototype.parse=function(){this.nf();this.aoa=this.J.offset;this.Ud=this.J.ub();this.ns=this.Npa?this.J.K$():0;this.R4&&this.J.ub();this.nL=(this.CV?4:0)+(this.DV?4:0)+(this.WAa?4:0)+(this.maa?4:0);this.UR=this.J.offset;M(this.Npa,"Expected data offset to be present in Track Run");M(this.length-(this.J.offset-this.startOffset)===this.Ud*this.nL,"Expected remaining data in box to be sample information");return!0;};Z.prototype.dH=function(a,b,c){var f,d,k;f=this.CV?this.J.ub():a.aR;d=this.DV?this.J.ub():a.cR;a=this.WAa?this.J.ub():a.bR;k=0===this.version?this.maa?this.J.ub():0:this.maa?this.J.K$():0;return{Nob:k,PJb:a,gJb:c+k-(void 0!==b?b:k),ct:d,oL:f};};Z.prototype.Ta=function(a,b,c,f,d,k,g){var q,p,t,h;q=0;p=0;this.Ua.offset=this.UR;for(f=0;f<d;++f)h=this.dH(b,t,p),0==f&&(t=h.Nob),q+=h.ct,p+=h.oL;f=d;d=this.J.offset;h=this.dH(b,t,p);this.KE=f;this.Zqb=p;if(g){if(this.rE=this.ns+q,this.Ys=0,f===this.Ud)return!0;}else if(this.rE=this.ns,this.Ys=q,0===f)return!0;if(0===f||f===this.Ud)return!1;this.Lqa=!0;if(g){this.Ys+=h.ct;for(g=f+1;g<this.Ud;++g)h=this.dH(b,t,p),this.Ys+=h.ct;this.Ua.offset=this.aoa;this.Ud=f;this.Ua.sm(this.Ud);this.Ua.A8(k);this.R4&&(this.J.offset+=4);this.Aj(this.length-(d-this.startOffset),d);}else b=d-this.UR,this.Ua.offset=this.aoa,this.Ud-=f,this.Ua.sm(this.Ud),this.ns+=q,this.Ua.A8(k),this.Ua.rEa(this.ns),this.R4&&(this.J.offset+=4),this.Aj(b,this.J.offset);c.Aj(this.Ys,a.Xr+this.rE);return!0;};Z.prototype.dob=function(a,b,c,f,d,k){var q;if(f){f=this.rE;for(var g=this.Ud-1;0<=g&&this.Ud-g<=d;--g){this.Ua.offset=this.UR+g*this.nL;q=this.dH(b);if(q.oL!=k.duration){this.J.console.warn("Could not replace sample of duration "+q.oL+" with silence of duration "+k.duration);break;}if(this.DV)this.Ua.offset-=this.nL-(this.CV?4:0),this.Ua.sm(k.ht.byteLength);else if(k.ht.byteLength!==q.ct){this.J.console.warn("Cannot replace sample with default size with silence of different size");break;}f-=q.ct;c.hL(q.ct,k.ht,a.Xr+f);}}else for(f=this.rE+this.Ys,g=0;g<this.Ud&&g<d;++g){this.Ua.offset=this.UR+(g+this.KE)*this.nL;q=this.dH(b);if(q.oL!=k.duration){this.J.console.warn("Could not replace sample of duration "+q.oL+" with silence of duration "+k.duration);break;}if(this.DV)this.Ua.offset-=this.nL-(this.CV?4:0),this.Ua.sm(k.ht.byteLength);else if(k.ht.byteLength!==q.ct){this.J.console.warn("Cannot replace sample with default size with silence of different size");break;}c.hL(q.ct,k.ht,a.Xr+f);f+=q.ct;}};ea.Sb=!1;ea.prototype=Object.create(la.prototype);ea.prototype.constructor=ea;Object.defineProperties(ea.prototype,{Px:{get:function(){return this.Je&1;}}});ea.prototype.parse=function(){this.nf();this.Px&&this.J.$K();this.Px&&this.J.ub();this.E5a=this.J.ge();this.Ud=this.J.ub();this.J.jV(this.Ud);return!0;};ea.prototype.Ta=function(a,b){if(a&&0===this.E5a){a=b?this.Ud-a:a;this.Ua.offset=this.startOffset+13+(this.Px?8:0);this.Ud-=a;this.Ua.sm(this.Ud);this.kaa=0;if(b)this.Ua.offset+=this.Ud;else{for(b=0;b<a;++b)this.kaa+=this.Ua.ge();this.Ua.offset-=a;}this.Aj(a,this.J.offset);}return!0;};Y.Sb=!1;Y.prototype=Object.create(la.prototype);Y.prototype.constructor=Y;Object.defineProperties(Y.prototype,{Px:{get:function(){return this.Je&1;}}});Y.prototype.parse=function(){this.nf();this.Px&&this.J.$K();this.Px&&this.J.ub();this.Ql=this.J.ub();M(1===this.Ql,"Expected a single entry in Sample Auxiliary Information Offsets box");this.ns=0===this.version?this.J.K$():this.J.dnb();return!0;};Y.prototype.Ta=function(a,b){this.ns+=a;this.Ua.offset=this.startOffset+16+(this.Px?8:0)+(0===this.version?0:4);this.Ua.A8(b);this.Ua.rEa(this.ns);return!0;};O.Sb=!1;O.prototype=Object.create(la.prototype);O.prototype.constructor=O;Object.defineProperties(O.prototype,{xya:{get:function(){return this.Je&1;}},Aub:{get:function(){return this.Je&2;}}});O.prototype.parse=function(){this.nf();this.xya&&(this.J.ub(),this.Yeb=this.J.jV(16));this.Ud=this.J.ub();return!0;};O.prototype.Ta=function(a,b){var c,f;c=b?this.Ud-a:a;this.Ua.offset=this.startOffset+28+(this.xya?20:0);this.Ud-=c;this.Ua.sm(this.Ud);a=this.Ua.offset;if(this.Aub)for(c=b?this.Ud:c;0<c;--c){this.Ua.offset+=8;f=this.Ua.Of();this.Ua.offset+=6*f;}else this.Ua.offset+=8*(b?this.Ud:c);b?this.Aj(this.length-(this.J.offset-this.startOffset),this.J.offset):this.Aj(this.J.offset-a,a);};W.Sb=!1;W.prototype=Object.create(la.prototype);W.prototype.constructor=W;W.prototype.parse=function(){this.nf();return!0;};W.prototype.Ta=function(a,b,c){c?this.Aj(b-a,this.startOffset+12+a):this.Aj(a,this.startOffset+12);return!0;};va.Sb=!1;va.prototype=Object.create(la.prototype);va.prototype.constructor=va;va.prototype.parse=function(){this.nf();this.J.$K();1===this.version&&this.J.ub();this.Ql=this.J.ub();this.pL=[];for(var a=0;a<this.Ql;++a)for(var b=this.J.ub(),c=this.J.ub(),f=0;f<b;++f)this.pL.push(c);return!0;};va.prototype.Ta=function(a,b){this.pL=b?this.pL.slice(0,a):this.pL.slice(a);a=this.pL.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.Ua.offset=this.startOffset+16+(1===this.version?4:0);this.Ua.sm(a.length);a.forEach(function(a){this.Ua.sm(a.count);this.Ua.sm(a.group);}.bind(this));this.Ql>a.length&&this.Aj(8*(this.Ql-a.length));this.Ql=a.length;return!0;};wa.Sb=!1;wa.prototype=Object.create(la.prototype);wa.prototype.constructor=wa;ga={Ec:{moov:f,trak:b,mdia:b,mdhd:h,minf:b,encv:A,schi:b,sidx:m,sinf:b,stbl:b,stsd:k,tenc:G,mvex:b,moof:n,traf:X,tfhd:P,trun:Z,sbgp:va,sdtp:W,saiz:ea,saio:Y,tfdt:ia,mdat:wa,vmaf:c},otb:{vpcC:r,SmDm:D("smdm"),CoLL:D("coll")},itb:{avcC:y,schm:L},laa:{"ac-3":p,"ec-3":p,dac3:q,dec3:t,avc1:A,avc3:A,avc2:A,avc4:A,hvc1:A,hev1:A}};[Ua,Fa,E,d,C,J,Q,a,fa,ha].forEach(function(a){ga.Ec[a.Xj]=a;});[aa,ca].forEach(function(a){ga.laa[a.Xj]=a;});ga.Ec[ja.aha]=G;ga.Ec[ja.GN]=l;ga.Ec[ja.FN]=R;ga.Ec[ja.$ga]=O;ga.laa[ja.WY]=da;ga.Fh=la;g.T={uK:ga};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(32);h=a(58);g=function(a){function c(b,c,f,d,g){f=a.call(this,f,d,g)||this;f.R_a=b;f.OE=c;f.Ec={};return f;}b.__extends(c,a);c.prototype.parse=function(a){var b,c,f,d,k,g;this.offset=0;b=[];for(a=a||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){c=this.offset;f=this.ub();if(0===f)return{done:!1,offset:this.offset,error:"Invalid zero-length box"};d=h.GG(this.ub());if(null===d)return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===d){if(16>this.view.byteLength-this.offset)break;d=this.mV();}if(0===b.length&&this.OE.Sra(d,c,f))break;if(c+f>this.view.byteLength)break;k=this.R_a[d];g=void 0;if(k)if(g=new k(this,d,c,f,b[0]),(b[0]||this).tH(g),g.parse(a))this.config.S9&&k.Sb?b.unshift(g):this.offset=c+f;else return{done:!1,offset:this.offset,error:"parse error in "+d+" box"};else this.offset=c+f;for(;b.length&&this.offset>b[0].byteOffset+b[0].mz-8;){g=b.shift();if(!g.jy(a))return{done:!1,offset:this.offset,error:"finalize error in "+g.type+" box"};this.offset=g.byteOffset+g.mz;}if(0===b.length&&this.OE.xqa(d,c,f,g))break;}return!this.OE.done&&(a=this.OE.endOffset?this.OE.endOffset-this.view.byteLength:4096,0<a)?{done:!1,offset:this.offset,Bxa:a}:{done:!0,offset:Math.min(this.OE.endOffset||Infinity,this.offset)};};c.prototype.tH=function(a){f.Fh.tH(this,a);};return c;}(a(757).rSa);d.kX=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(5);h=a(154);g=function(a){function c(b,c,f,d){b=a.call(this,b,c,f,d)||this;b.ta=[];b.n0=!1;b.QG=!1;b.pd=!1;b.Lg=!1;b.ic=!1;b.bB=!1;b.Fka=!1;b.Eka=!1;b.xp=void 0;b.zl=void 0;b.sp=void 0;return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{active:{get:function(){return this.pd;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{dAa:{get:function(){return this.Lg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return this.ic||(this.ic=this.ta.every(function(a){return a.complete;}));},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{El:{get:function(){return this.bB;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{mm:{get:function(){return this.ta.reduce(function(a,b){return a+b.mm;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{pe:{get:function(){return this.ta.reduce(function(a,b){return a+b.pe;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{tc:{get:function(){return this.xp||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uT:{get:function(){return this.zl;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{url:{get:function(){return this.ta[0]&&this.ta[0].url;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.rf||this.ta.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{status:{get:function(){return this.sp&&this.sp.status||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wh:{get:function(){return this.sp&&this.sp.Wh;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{WC:{get:function(){return this.sp&&this.sp.WC;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{sj:{get:function(){return this.sp&&this.sp.sj;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{bk:{get:function(){return!!this.ta.length&&this.ta[0].bk;},enumerable:!0,configurable:!0}});c.prototype.push=function(a){this.QG&&a.Ac(this.yb,this.wu,this.Mb,this.Mf);this.ta.push(a);this.n0&&a.Vv();};c.prototype.Ac=function(a,b,c,f){h.Dw.prototype.Ac.call(this,a,b,c,f);this.ta.forEach(function(d){return d.Ac(a,b,c,f);});this.QG=!0;};c.prototype.Pua=function(){return 7===this.rf;};c.prototype.Vv=function(){return this.n0=this.ta.every(function(a){return a.Vv();});};c.prototype.Zd=function(){this.ta.forEach(function(a){return a.Zd();});};c.prototype.ZL=function(a){this.rf=this.sp=void 0;return this.ta.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.ZL(a):!0;});};c.prototype.abort=function(){var a,b;a=this.active;this.rf=7;this.bB=!0;this.Lg=this.pd=!1;b=this.ta.map(function(a){return a.abort();}).every(function(a){return a;});this.aS(this,a);return b;};c.prototype.getResponseHeader=function(a){var b;b=null;this.ta.some(function(c){return!!(b=c.getResponseHeader(a));});return b;};c.prototype.getAllResponseHeaders=function(){var a;a=null;this.ta.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};c.prototype.kz=function(a){this.pd||(this.pd=!0);this.Fka||(this.Fka=!0,this.hk=0,this.xp=this.gl=a.tc,this.zl=f.time.ea()-this.xp,this.oy(this));};c.prototype.Uv=function(a){this.Lg||(this.Lg=!0);this.Eka||(this.Eka=!0,this.xp=a.tc,this.zl=f.time.ea()-this.xp,this.ny(this));};c.prototype.EK=function(a){this.xp=a.tc;this.$C(this);this.hk=this.pe;this.gl=a.tc;};c.prototype.bi=function(a){this.xp=a.tc;this.zl=f.time.ea()-this.xp;this.complete?(this.ic=!0,this.rf=5,this.Lg=this.pd=!1,this.$u(this)):this.$C(this);this.hk=this.pe;this.gl=a.tc;};c.prototype.YD=function(a){this.xp=a.tc;this.zl=f.time.ea()-this.xp;this.sp=a;this.rf=6;this.bS(this);};c.prototype.DU=function(){};c.prototype.ak=function(){return this.ta[0].ak()+"-"+this.ta[this.ta.length-1].ak();};c.prototype.toString=function(){return"Compound["+this.ta.map(function(a){return a.toString();}).join(",")+"]";};c.prototype.toJSON=function(){return{requests:this.ta};};return c;}(h.Dw);d.MM=g;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(382),d);},function(g){var d;d=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),f*a.byteLength/a.length);}:function(a,b,f){a.set(b,f);};g.T={from:function(a,b,f,d){a=new a(b.length);for(var g="function"===typeof f,c=0;c<b.length;++c)a[c]=g?f.call(d,b[c],c,b):b[c];return a;},set:d};},function(g,d,a){var b,f,h,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(13);h=a(126);m=a(376);g=a(5);a=a(379);c=new g.Console("FRAGMENTS","media|asejs");try{k=!0;}catch(t){k=!1;}p=function(a){function c(b,c){c=a.call(this,b.Yo,c)||this;c.Bx=b;return c;}b.__extends(c,a);Object.defineProperties(c.prototype,{aa:{get:function(){return this.Bx.Wqb(this.wi);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Bx.bm(this.wi);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{i9:{get:function(){return this.Bx.Qv&&this.Bx.Qv[this.wi];},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{qg:{get:function(){return this.Bx.V9a(this.wi);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wc:{get:function(){return this.Bx.On&&this.Bx.On[this.wi];},enumerable:!0,configurable:!0}});c.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.ab,contentEndTicks:this.wb,durationTicks:this.Ol,timescale:this.ga,startPts:this.U,endPts:this.ba,duration:this.duration,additionalSAPs:this.qg};};return c;}(a.PRa);d.LCb=p;q=function(){function a(a,b,c){this.ga=c;this.cd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.Vb=void 0;}a.from=function(b){for(var c=new Uint32Array(b.length),f=new Uint32Array(b.length),d=0,k,g,q=0;q<b.length;++q)k=b[q],g=k.Vb,c[q]=k.kr-k.pB,f[q]=g,d+=g;b=new a(c,f,b.length?b[0].ga:1E3);b.Vb=d;return b;};Object.defineProperties(a.prototype,{aa:{get:function(){return void 0!==this.Vb?this.Vb:this.m_();},enumerable:!0,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.cd.subarray(b,c),this.sizes.subarray(b,c),this.ga);};a.prototype.concat=function(){var c,b,f,d;for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];c=[this];b=c.concat.apply(c,b);c=b.reduce(function(a,b){return a+b.length;},0);f=new Uint32Array(c);d=new Uint32Array(c);c=b.reduce(function(a,b){return a||b.ga;},void 0);b.reduce(function(a,b){m.set(f,b.cd,a);m.set(d,b.sizes,a);return a+b.length;},0);return new a(f,d,c);};a.prototype.m_=function(){for(var a=this.sizes,b=this.length,c=0,f=0;f<b;++f)c+=a[f];return this.Vb=c;};return a;}();d.cRa=q;g=function(){function a(a,b,f,d,k,g,q){this.EB=16;this.Gb=a;this.Bd=b.offset;q?(this.Ck=void 0,this.sa=b):this.Ck=b.sizes;this.lB=this.EG=this.Tf=this.rma=this.K0=void 0;this.qVa=f;this.b_=d&&d.bm;this.Cma=k;this.ju=this.Ck?Math.min(this.Gb.length,this.Ck.length):this.Gb.length;this.e0=q?void 0:this.qoa();this.Ck&&this.Yo.Gm.length!==this.Ck.length&&c.error("Mis-matched stream duration ("+this.Yo.Gm.length+","+this.Ck.length+") for movie id "+g);this.Yo.aQ&&!this.b_&&c.error("Mis-matched additional SAPs information for movie id "+g);}a.kFb=function(a,b){var c,f;b=b.ga;c=b/1E3;f=new DataView(a);a=Math.floor(a.byteLength/16);return{ga:b,Fj:f.getUint32(4)*c,offset:65536*f.getUint32(8)+f.getUint16(12),sizes:h.xy(f,0,a,16),cd:m.from(Uint32Array,{length:a},function(a,b){return f.getUint16(16*b+14)*c;})};};Object.defineProperties(a.prototype,{O:{get:function(){return this.Gb.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.ju;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Fj:{get:function(){return this.Gb.Fj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Yqa:{get:function(){return this.Gb.Yqa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.Gb.U;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.Gb.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vr:{get:function(){return this.Gb.Vr;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{G8:{get:function(){return this.Gb.G8;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ST:{get:function(){return this.e0||this.qoa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.Gb.Ia;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Gb.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mm:{get:function(){return this.rma||this.m_();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Qv:{get:function(){return this.qVa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ana:{get:function(){return this.b_;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{On:{get:function(){return this.Cma;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Yo:{get:function(){return this.Gb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{IE:{get:function(){return this.K0||this.ATa();},enumerable:!0,configurable:!0}});a.prototype.Wqb=function(a){void 0===this.Ck&&this.sa&&(this.Ck=this.sa.sizes,this.sa=void 0);if(this.Ck)return this.Ck[a];c.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.sizes=function(){void 0===this.Ck&&this.sa&&(this.Ck=this.sa.sizes,this.sa=void 0);if(this.Ck)return this.Ck;c.error("sizes _sizes is undefined");return new Uint32Array(1);};a.prototype.gg=function(a){return this.Gb.gg(a);};a.prototype.QC=function(a){return this.Gb.gg(a)+this.Gb.cd(a);};a.prototype.bm=function(a){if(this.EG!==a||void 0===this.lB){if(0===a)return this.Bd;if(this.EG===a-1&&void 0!==this.lB)this.lB+=this.sizes()[this.EG],++this.EG;else{for(var b=this.Tf||this.gTa(),c=Math.floor(a/this.EB),f=c*this.EB,b=b[c];f<a;++f)b+=this.sizes()[f];this.EG=a;this.lB=b;}}return this.lB;};a.prototype.cd=function(a){return this.Gb.cd(a);};a.prototype.get=function(a){return new p(this,a);};a.prototype.V9a=function(a){var b,c,d;f.assert(0<=a);b=this.Yo.aQ;c=this.Yo.bna;d=this.b_;if(!d||!b||!c||a>=b.length)return[];for(var k=[],g=a===b.length-1?c.length:b[a+1],b=b[a];b<g;++b)k.push({gm:c[b],Hd:this.gg(a)+this.Ia.k9(c[b]).yf,offset:d[b]});return k;};a.prototype.vqb=function(a){this.Cma=a;};a.prototype.Gi=function(a,b,c){return this.Gb.Gi(a,b,c);};a.prototype.NR=function(a,b,c){return this.Gb.NR(a,b,c);};a.prototype.Z2=function(a,b){return this.Gb.Z2(a,b);};a.prototype.qT=function(a,b,c){var f,d,k,g,q,p,h,t,m;f=!0;d=0;g=this.Gb.Gm;q=this.sizes();p=Math.floor(a*this.ga/1E3);h=0;t=0;m=0;if(this.Gb.fca&&this.Gb.eca)for(d=this.Gb.fca;d<=this.Gb.eca;++d)h+=g[d],t+=q[d];if(t>b)f=!1;else for(;d<this.length&&(!c||d<c);){k=q[d];a=g[d];if(t+k>b&&h<p){f=!1;this.Gb.fca=m;this.Gb.eca=d;break;}for(;0<d-m&&t+k>b;)h-=g[m],t-=q[m],++m;h+=a;t+=k;++d;}return f;};a.prototype.subarray=function(b,c){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===c||c>b&&c<=this.length);return new a(this.Gb.subarray(b,c),{offset:this.bm(b),sizes:this.sizes().subarray(b,c)},this.Qv&&this.Qv.subarray(b,c),this.ana&&{bm:this.ana});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.Vr};};a.prototype.dump=function(){var b;c.trace("StreamFragments: "+this.length+", averageFragmentDuration: "+this.Vr+"ms");for(var a=0;a<this.length;++a){b=this.get(a);c.trace("StreamFragments: "+a+": ["+b.U+"-"+b.ba+"] @ "+b.offset+", "+b.aa+" bytes");}};a.prototype.qoa=function(){var a,b,c,f,d;b=0;c=this.Gb.Dwa;f=this.Gb.Gm;d=this.sizes();if(void 0===c||c>=this.length){for(var k=0;k<this.length;++k)a=d[k]/f[k],a>b&&(b=a,c=k);void 0===this.Gb.Dwa&&(this.Gb.Dwa=c);}else b=d[c]/f[c];return this.e0=Math.floor(b*this.ga/125);};a.prototype.m_=function(){for(var a=0,b=0;b<this.length;++b)a+=this.sizes()[b];return this.rma=a;};a.prototype.ATa=function(){return this.K0=new q(this.Gb.Gm,this.sizes(),this.Gb.ga);};a.prototype.gTa=function(){var a;if(!this.Tf){a=k?new Float64Array(Math.ceil(this.length/this.EB)):Array(Math.ceil(this.length/this.EB));for(var b=this.Bd,c=0;c<a.length;++c){a[c]=b;for(var f=0;f<this.EB;++f)b+=this.sizes()[c*this.EB+f];}this.Tf=a;}return this.Tf;};return a;}();d.mRa=g;g.prototype.pCa=a.v8(g.prototype.gg);},function(g,d,a){var f,h,m;function b(a){return void 0===a?!0:a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(59);h=a(377);m=a(94);a(13);g=function(){function a(a,c,d){this.G=c;this.K=d;this.Om=a.track;this.DXa=a.Qf;this.VG=a.Lgb;this.KUa=-1===this.profile.indexOf("none");this.sa=this.sr=void 0;this.lf=b(a.lf);this.inRange=b(a.inRange);this.CC=a.CC;this.fu=void 0;this.jla=this.jr=0;this.url=this.Pz=this.Ub=this.ll=this.Y7=this.location=this.va=this.Ka=void 0;this.Sg=!1;this.Leb=this.Od=void 0;a=this.G&&"object"===typeof this.G.Aza&&this.G.Aza[this.profile];"object"===typeof a&&(a=a[this.P])&&(this.bH=new f.gc(a));}Object.defineProperties(a.prototype,{jd:{get:function(){return!!this.sa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oa:{get:function(){return this.Om.Oa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Om.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Om.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.Om.Ia;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Om.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rv:{get:function(){return this.Om.Rv;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{eb:{get:function(){return this.Om.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.Om;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Qf:{get:function(){return this.DXa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.VG.downloadable_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.za;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{qn:{get:function(){return this.KUa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.VG.bitrate;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wc:{get:function(){return this.VG.vmaf||null;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.VG.content_profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ff:{get:function(){return this.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bq:{get:function(){return this.VG.sidx;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yj:{get:function(){return this.bH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.sa||this.kUa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ST:{get:function(){return this.sa&&this.sa.ST;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{a5:{get:function(){return this.Om.a5;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Z4:{get:function(){return this.Om.Z4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{FH:{get:function(){return this.Om.FH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{HH:{get:function(){return this.Om.HH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{i7:{get:function(){return this.Ia.yf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{YBa:{get:function(){return this.Geb();},enumerable:!0,configurable:!0}});a.prototype.zU=function(a,b,c,f,d,g){this.G.Py&&this.track.jd?this.sr={Rv:a,Ia:b,$:c,Qv:f,qg:d,On:g}:this.Xja(c,a,b,d,f,g,this.G.Py);};a.prototype.NQ=function(a){this.jd||(this.track.m2a(a.track),this.sa=a.$);};a.prototype.Zf=function(a){return new m.pk(this,this.$.get(a));};a.prototype.Qsa=function(a){var b;b=this.Zf(a.index);a.Ta&&(b.Ej(a.Ta),b.CL(a.vw));return b;};a.prototype.qT=function(){var a;if(!this.jd)return!0;if(this.track.G6>=this.P)return this.fu=!0;if(this.track.mwa<=this.P)return this.fu=!1;a=this.sa.qT(this.G.gU,this.jr,this.jla);if(a){if(!this.track.Z3||this.qn)this.track.G6=this.P;}else this.track.mwa=this.P;return this.fu=a;};a.prototype.Geb=function(){return void 0!==this.fu?!this.fu:!this.qT();};a.prototype.DDa=function(a,b){this.jr=a;this.jla=b;};a.prototype.s1a=function(){this.va=this.Ka=this.Ub=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.M,mediaType:this.O,streamId:this.za,bitrate:this.P};};a.prototype.toString=function(){return(0===this.O?"a":"v")+":"+this.za+":"+this.P;};Object.defineProperties(a.prototype,{Zu:{get:function(){return void 0!==this.fu?this.fu:this.qT();},set:function(a){this.fu=a;},enumerable:!0,configurable:!0}});a.prototype.kUa=function(){if(!this.sr)return this.sa;this.Xja(this.sr.$,this.sr.Rv,this.sr.Ia,this.sr.qg,this.sr.Qv,this.sr.On,this.G.Py);this.sr=void 0;return this.sa;};a.prototype.Xja=function(a,b,c,f,d,g,m){a&&void 0!==a.Fj&&(this.track.jd||m||void 0!==a.cd&&a.cd.length)&&void 0!==a.offset&&(m||void 0!==a.sizes&&a.sizes.length)?(this.G.eo&&this.yj&&0===a.Fj&&(a.Fj+=this.yj.lm(a.ga).yd),this.jd||(this.track.zU(this,b,c,a,f),this.sa=new h.mRa(this.track.Yo,a,d,f,g,this.M,m))):a?this.K.error("AseStream._constructFragments with missing fragments data:"+(void 0!==a.Fj)+","+this.track.jd+","+this.track.Z3+","+(void 0!==a.cd)+","+!(!a.cd||!a.cd.length)+","+(void 0!==a.offset)+","+(void 0!==a.sizes)+","+!(!a.sizes||!a.sizes.length)):this.K.error("AseStream._constructFragments fragments was undefined:");};return a;}();d.pFa=g;},function(g,d,a){var f,h,m;function b(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}Object.defineProperty(d,"__esModule",{value:!0});f=a(13);h=new(a(5)).Console("FRAGMENTS","media|asejs");m=function(){function a(a,b){this.Gb=a;this.wi=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.wi;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ab:{get:function(){return this.Gb.lH+this.Gb.Fr[this.wi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wb:{get:function(){return this.ab+this.Gb.Gm[this.wi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ol:{get:function(){return this.Gb.Gm[this.wi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.Gb.Ia;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Gb.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{FH:{get:function(){return this.Gb.Ia.yd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{HH:{get:function(){return this.Gb.Ia.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return Math.floor(1E3*this.ab/this.ga);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return Math.floor(1E3*(this.ab+this.Ol)/this.ga);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return Math.floor(1E3*this.Ol/this.ga);},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{startPts:1E3*this.ab/this.Ia.ga,endPts:1E3*this.wb/this.Ia.ga,duration:1E3*this.Ol/this.Ia.ga,index:this.index};};return a;}();d.PRa=m;g=function(){function a(a,b,c,f){this.O=a;this.length=c.cd.length;this.Ir=c.ga;this.Gm=c.cd;this.aQ=f&&f.hE;this.bna=f&&f.yE;this.uB=b;this.eca=this.fca=this.hla=void 0;this.lH=c.Fj;this.Fr=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.Fr[b]=a,a+=this.Gm[b];this.Fr[b]=a;this.ba=this.gg(this.length);this.Vr=Math.floor((this.ba-this.U)/this.length);}}Object.defineProperties(a.prototype,{Fj:{get:function(){return this.lH+this.Fr[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Yqa:{get:function(){return this.lH+this.Fr[this.length];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.gg(0);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{G8:{get:function(){return this.hla||this.dTa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.uB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Ir;},enumerable:!0,configurable:!0}});a.prototype.gg=function(a){return Math.floor(1E3*(this.lH+this.Fr[a])/this.ga);};a.prototype.QC=function(a){return a<this.length-1?this.gg(a+1):this.ba;};a.prototype.cd=function(a){return this.QC(a)-this.gg(a);};a.prototype.get=function(a){return new m(this,a);};a.prototype.Gi=function(a,b,c){if(0===this.length||a<this.gg(0))return-1;a=Math.max(a,b||0);for(var f=0,d=this.length-1,k,g;d>=f;)if(k=f+(d-f>>1),g=this.gg(k),a<g)d=k-1;else if(a>=g+this.cd(k))f=k+1;else{for(;b&&k<this.length&&this.gg(k)<b;)++k;return k<this.length?k:c?this.length-1:-1;}return c?this.length-1:-1;};a.prototype.NR=function(a,b,c){a=this.Gi(a,b,c);return 0<=a?this.get(a):void 0;};a.prototype.Z2=function(a,b){var c,f;c=Math.floor(b*this.ga/1E3);b=Math.min(a+Math.ceil(b/this.Vr),this.length);f=this.Fr[b]-this.Fr[a];if(f>c){for(;f>=c;)--b,f-=this.Gm[b];return b-a+1;}for(;f<c&&b<=this.length;)f+=this.Gm[b],++b;return b-a;};a.prototype.subarray=function(b,c){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===c||c>b&&c<=this.length);return new a(this.O,this.Ia,{ga:this.ga,Fj:this.lH+this.Fr[b],cd:this.Gm.subarray(b,c)},this.aQ&&{hE:this.aQ.subarray(b,c+1),yE:this.bna});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.Vr};};a.prototype.dump=function(){var b;h.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.Vr+"ms");for(var a=0;a<this.length;++a){b=this.get(a);h.trace("TrackFragments: "+a+": ["+b.U+"-"+b.ba+"]");}};a.prototype.dTa=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.Gm[b],a);return this.hla=a;};return a;}();d.$ia=g;d.v8=b;g.prototype.pCa=b(g.prototype.gg);d.hEb=function(a){return"["+Array(a.length).map(function(b,c){return a[c].toString();}).join(",")+"]";};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(763);h=a(11);g=function(){function a(a,d){var c,k,g,m,u,L,x,G,l,n,S,X,D,r;c=this;k=a.Kc;g=a.ca;m=a.Ja;u=a.Aya;L=a.Fya;x=a.wg;G=a.$r;l=a.config;n=a.K;this.Uka=[];this.Jja=[];this.ila=[];this.bo=1;this.tka=!1;this.w5a=function(){c.bo--;0>=c.bo&&c.UTa();};this.Kc=k;this.M=m.movieId;this.Ja=m;this.ca=g||0;this.UTa=d;S=[];["audio_tracks","video_tracks"].forEach(function(a,b){var d;d=b===h.L.VIDEO;b===h.L.AUDIO&&!u||d&&!L||m[a].forEach(function(a){a=new f.qFa({M:String(m.movieId),Oa:c,Sy:a,O:b,wg:x,$r:G},l,n);S.push(a);});});X=[{},{}];D=[0,0];r=!1;S.forEach(function(a){X[a.O]=b.__assign({},X[a.O],a.Bs());a.vn>D[a.O]&&(D[a.O]=a.vn);r=r||a.vJ;});this.Cna=S;this.Hrb=X;this.eK=D;this.vJ=r;l&&l.l4&&l.Q6&&0<l.Q6.length&&-1!==l.Q6.indexOf(String(this.M))&&(this.tka=!0);}Object.defineProperties(a.prototype,{Vc:{get:function(){return this.Uka;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Qna:{get:function(){return this.Jja;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{chb:{get:function(){return this.ila;},enumerable:!0,configurable:!0}});a.prototype.Zp=function(){return void 0!==this.Ja.choiceMap;};a.prototype.getTracks=function(a){return this.Cna.filter(function(b){return b.O===a;});};a.prototype.DS=function(a){var b;this.Cna.some(function(c){return c.eb===a?(b=c,!0):!1;});return b;};a.prototype.Up=function(a,b){return(a=this.Bs(a))&&a[b];};a.prototype.Bs=function(a){return this.Hrb[a];};a.prototype.jca=function(a,b){this.Uka[a]=b;b.$&&this.Qta(a,b.$);};a.prototype.Qta=function(a,b){this.Jja[a]=b.Vr;this.ila[a]=b.G8;};a.prototype.LC=function(a){return void 0===a||a===h.L.VIDEO?this.tka:!1;};return a;}();d.Wca=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);d.x1=function(a,d,g){var c,f;c=!0;g.some(function(k){var g;if(a===k.profile){g=k.ranges;c=b.R(g)?d>=k.min&&d<=k.max:g.some(function(a){return d>=a.min&&d<=a.max;});!c&&k.disallowed&&k.disallowed.some(function(a){if(a.stream.bitrate===d)return f=a.disallowedBy,!0;});return!0;}});return{inRange:c,CC:f};};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(0);g.__exportStar(a(768),d);g.__exportStar(a(381),d);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nga="ManifestVerifyErrorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cja="TrickPlayFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aja="TrackStreamFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vha="PlayerTextTrackFactorySymbol";},function(g,d){function a(a,f){this.log=a;this.vW=f;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.lDa=function(a,f){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+f.type+" track - "+f.eb),[];a=a.map(function(a){var c;c=b.vW(f,f.type,a.IC,a.P,a.wc,a.size,b.T$a(a.Yc),a.mC,a.$ra/a.Zra,a.qn);c.xqb(a.CAa,a.BAa);c.Xpb(a.Gpa,a.Hpa,a.Fpa,a.Epa);f.Yj&&(c.Yj=f.Yj);a.mC&&(c.ff=a.mC);return c;});a.sort(function(a,b){return a.P-b.P;});return a;};a.prototype.T$a=function(a){return a.reduce(function(a,b){a[b.woa]=b.url;return a;},{});};d.CN=a;},function(g,d,a){var b,f,h;b=a(216);f=a(110);d=a(50);h=a(786);a=d(function(a,c){return 1===a?f(c):b(a,h(a,[],c));});g.T=a;},function(g){g.T=function(d,a){for(var b=0,f=a.length,g=Array(f);b<f;)g[b]=d(a[b]),b+=1;return g;};},function(g,d,a){var b,f,h,m,c;d=a(110);b=a(218);f=a(789);h=!{toString:null}.propertyIsEnumerable("toString");m="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");c=function(){return arguments.propertyIsEnumerable("length");}();a=d("function"!==typeof Object.keys||c?function(a){var d,k,g,u;if(Object(a)!==a)return[];g=[];k=c&&f(a);for(d in a)!b(d,a)||k&&"length"===d||(g[g.length]=d);if(h)for(k=m.length-1;0<=k;){d=m[k];if(u=b(d,a)){a:{for(u=0;u<g.length;){if(g[u]===d){u=!0;break a;}u+=1;}u=!1;}u=!u;}u&&(g[g.length]=d);--k;}return g;}:function(a){return Object(a)!==a?[]:Object.keys(a);});g.T=a;},function(g){g.T={Ac:function(){return this.IM["@@transducer/init"]();},result:function(d){return this.IM["@@transducer/result"](d);}};},function(g){g.T=Array.isArray||function(d){return null!=d&&0<=d.length&&"[object Array]"===Object.prototype.toString.call(d);};},function(g,d,a){var b,f;b=a(392);f=a(796);g.T=function(a,d,c){return function(){var k,g;if(0===arguments.length)return c();k=Array.prototype.slice.call(arguments,0);g=k.pop();if(!b(g)){for(var q=0;q<a.length;){if("function"===typeof g[a[q]])return g[a[q]].apply(g,k);q+=1;}if(f(g))return d.apply(null,k)(g);}return c.apply(this,arguments);};};},function(g,d,a){var b,f,h,m,c,k;d=a(50);b=a(393);f=a(795);h=a(395);m=a(217);c=a(790);k=a(390);a=d(b(["filter"],c,function(a,b){return h(b)?m(function(c,f){a(b[f])&&(c[f]=b[f]);return c;},{},k(b)):f(a,b);}));g.T=a;},function(g){g.T=function(d){return"[object Object]"===Object.prototype.toString.call(d);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lga="ManifestProviderConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mga="ManifestParserFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jda="CDMAttestedDescriptorStore";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fda="BookmarkConfigParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gda="BookmarkConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aea="DiskStorageRegistrySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xga="MemoryStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ofa="LocalStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cda="CorruptedStorageValidatorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.JZ="Storage";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yN="IndexedDBConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cia="PresentationAPISymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pga="MediaCapabilitiesLogHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qga="MediaCapabilitiesSymbol";},function(g,d,a){var f,h,m;function b(a,b){var c;c=h.WM.call(this,a,b,f.bG.Audio)||this;c.config=a;c.V8=b;c.type=f.Fw.Kw;return c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);h=a(412);m=a(66);a(129);new(a(97)).hx();ca(b,h.WM);b.prototype.SL=function(){return!1;};b.prototype.$x=function(){var a;a={};a[m.Xi.rN]="mp4a.40.2";a[m.Xi.bY]="mp4a.40.5";this.config().i4&&(a[m.Xi.sN]="mp4a.40.2");this.config().g4&&(a[m.Xi.XM]="ec-3");this.config().f4&&(a[m.Xi.sX]="ec-3");this.config().JI&&(a[m.Xi.YM]="ec-3");return a;};b.prototype.rta=function(){return this.config().GH;};b.dF="audio/mp4;codecs={0};";d.AX=b;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.Mea=/^hevc-main/;a.Lea=/^hevc-hdr-|hevc-dv/;a.Yq=/^hevc-hdr-/;a.Uq=/^hevc-dv/;a.HF=/-h264mpl/;a.qA=/-h264hpl/;a.Tt=/^vp9-/;a.Ch=/^av1-/;a.WW=/^heaac-2-/;a.eKa=/^heaac-2hq-dash/;a.nHa=/ddplus-2/;a.oHa=/ddplus-5/;a.pHa=/ddplus-atmos/;d.ni=a;},function(g,d,a){var f,h,m;function b(a,b,d){this.config=a;this.V8=b;this.O=d;this.W8={};this.W8[f.bG.Audio]="audio";this.W8[f.bG.pja]="video";}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);g=a(97);h=a(411);m=new g.hx().format;b.prototype.Dta=function(){return this.Z5a(this.rta());};b.prototype.ds=function(a){return this.V8.isTypeSupported(a);};b.prototype.f7=function(){this.il=[];this.tq=[];this.config().vya&&this.tq.push(h.ni.Mea);this.config().uya&&this.tq.push(h.ni.Lea);this.config().HU&&this.tq.push(h.ni.qA);this.config().wya&&this.tq.push(h.ni.Tt);this.config().M9&&this.tq.push(h.ni.Ch);this.tq=this.tq.concat([h.ni.WW,h.ni.HF]);!this.config().g4&&this.il.push(h.ni.nHa);!this.config().f4&&this.il.push(h.ni.oHa);!this.config().JI&&this.il.push(h.ni.pHa);!this.config().i4&&this.il.push(h.ni.eKa);!this.config().n7a&&this.il.push(/prk$/);this.config().vya||this.config().e7a||this.il.push(h.ni.Mea);this.config().uya||this.config().d7a||this.il.push(h.ni.Lea);this.config().M9||this.config().wR||this.il.push(h.ni.qA);this.config().wya||this.config().s7a||this.il.push(h.ni.Tt);this.config().M9||this.config().a7a||this.il.push(h.ni.Ch);};b.prototype.G4=function(a){var b;b=this;return a.filter(function(a){for(var c=Q(b.tq),f=c.next();!f.done;f=c.next())if(f.value.test(a))return!0;c=Q(b.il);for(f=c.next();!f.done;f=c.next())if(f.value.test(a))return!1;a=b.x$[a];f="";if(a)return Array.isArray(a)&&(f=1<a.length?" "+a[1]:"",a=a[0]),a=m("{0}/mp4;codecs={1};{2}",b.W8[b.O],a,f),b.ds(a);});};b.prototype.Z5a=function(a){var b;b={};this.f7();this.G4(a).forEach(function(a){return b[a]=1;});return Object.keys(b);};qa.Object.defineProperties(b.prototype,{x$:{configurable:!0,enumerable:!0,get:function(){this.Ula||(this.Ula=this.$x());return this.Ula;}}});d.WM=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yca={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qda="CapabilityDetectorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aea="ExtraPlatformInfoProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tda="CdnThroughputTracker";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yia="ThroughputTrackerConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qja="VideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tha="PlaybackFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gia="SegmentConfigFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bga="MomentObserverFactory";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aga="MomentFactorySymbol";},function(g,d,a){var f;function b(a,b,c,f,d,g){this.level=a;this.Mk=b;this.timestamp=c;this.message=f;this.fd=d;this.index=void 0===g?0:g;this.zLa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(d,"__esModule",{value:!0});f=a(3);b.prototype.tW=function(a,b){var c;c=""+this.message;this.fd.forEach(function(f){c+=f.eA(a,b);});return(this.timestamp.fa(f.ma)/1E3).toFixed(3)+"|"+this.index+"|"+(this.zLa[this.level]||this.level)+"|"+this.Mk+"| "+c;};d.Tfa=b;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(434);a=a(1);b.prototype.create=function(){return new f.Lj();};h=b;h=g.__decorate([a.N()],h);d.AJa=h;d.iN="EventSourceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.iN="EventSourceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gja="UserAgentUtilities";},function(g,d,a){var f,h,m;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);h=a(17);m=a(9);b.prototype.Rp=function(){return this.ieb()?m.SIa:/widevine/i.test(this.config().Rd)?m.gea:/fps/i.test(this.config().Rd)?"fairplay":m.FX;};b.prototype.ieb=function(){return/clearkey/i.test(this.config().Rd);};qa.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.G||(this.G=f.V.get(h.ld));return this.G;}}});d.rga=new b();},function(g,d,a){var f,h,m,c;function b(a,b,c,f,d,g,u){this.debug=a;this.config=b;this.platform=c;this.Xwa=f;this.debug.assert(d&&d!=h.I.bj,"There should always be a specific error code");this.errorCode=d||h.I.bj;g&&m.Xe(g)?(this.Y=g.Y||g.Ic,this.Gc=g.Gc||g.vg,this.GR=g.GR||g.ey,this.Sa=g.Sa||g.zC,this.BI=g.en,this.RC=g.RC||g.wxa||g.lq,this.vs=g.vs||g.data,g.kK&&(this.kK=g.kK),this.Vh=g.Vh,this.method=g.method,this.pU=g.pU,this.alert=g.alert,this.debug.assert(!this.Vh||this.Vh==this.Gc)):(this.Y=g,this.Gc=u);this.stack=[this.errorCode];this.Y?this.stack.push(this.Y):this.Gc&&this.stack.push(h.u.bj);this.Gc&&this.stack.push(this.Gc);this.kR=this.platform.SC+this.stack.join("-");}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);h=a(2);m=a(19);c=a(16);a(18);b.prototype.toString=function(){var a;a="[PlayerError #"+this.kR+"]";this.Sa&&(a+=" "+this.Sa);this.BI&&(a+=" (CustomMessage: "+this.BI+")");return a;};b.prototype.Sba=function(){var a,b;this.BI&&(a=["streaming_error"]);a||this.Xwa.Rp()!==f.FX||("80080017"==this.Gc&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.Gc&&(a=["pause_timeout"]));a||this.Xwa.Rp()!==f.gea||this.errorCode!==h.I.mea&&this.errorCode!==h.I.lea||(a=["no_cdm","platform_error","plugin_error"]);this.Eeb()&&(a=["received_soad"]);b=this.s$a();b&&(a=[b],this.BI=void 0);if(!a)switch(this.errorCode){case h.I.LN:case h.I.wN:case h.I.OEa:case h.I.eha:a=["pause_timeout"];break;case h.I.tfa:case h.I.ufa:a=this.Y?["platform_error"]:["multiple_tabs"];break;case h.I.DLa:case h.I.NQa:case h.I.XKa:case h.I.WKa:case h.I.ZKa:a=["should_signout_and_signin"];break;case h.I.EY:case h.I.hha:case h.I.gha:case h.I.lZ:case h.I.oOa:a=["platform_error","plugin_error"];break;case h.I.yOa:a=["no_cdm","platform_error","plugin_error"];break;case h.I.jZ:a=this.Y?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case h.I.gN:case h.I.NN:case h.I.iha:switch(this.Gc){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case h.I.fha:case h.I.iZ:a=["unsupported_output"];}!a&&h.yJa(this.Y)&&(a=this.Y==h.u.CA?["geo"]:["internet_connection_problem"]);if(!a)switch(this.wCa(this.Y)){case h.u.WZ:a=["should_upgrade"];break;case h.u.sNa:case h.u.hga:a=["should_signout_and_signin"];break;case h.u.tNa:a=["internet_connection_problem"];break;case h.u.lha:case h.u.jha:case h.u.mha:case h.u.kha:case h.u.Jda:a=["platform_error","plugin_error"];break;case h.u.vX:case h.u.Xea:case h.u.Yea:a=["private_mode"];}a=a||[];a.push(this.platform.SC+this.errorCode);if(this.Y)switch(this.wCa(this.Y)){case h.u.Zga:a.push("incorrect_pin");break;default:a.push(""+this.Y);}a={display:{code:this.kR,text:this.BI},messageIdList:a,alert:this.alert};if(this.RC||this.wxa)a.mslErrorCode=this.RC||this.wxa||this.lq;return a;};b.prototype.wCa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};b.prototype.Eeb=function(){var a;a=c.pa(this.Gc)?this.Gc.toString():c.Qd(this.Gc)?this.Gc:"";return this.RC===h.VY.TZ&&(a.endsWith("2018")||a.endsWith("2020"));};b.prototype.s$a=function(){if(this.errorCode===h.I.Rw&&(this.Y===h.u.hZ||this.Y===h.u.Yga))return this.t$a(this.Y===h.u.hZ);};b.prototype.t$a=function(a){var b,c,f;b=(this.config().browserInfo||{}).os||{};c=b.name;f=(b.version||"").split(".");b=parseInt(f&&f[0]);f=parseInt(f&&f[1]);switch(c){case"Windows":return 6>b||6===b&&1>f?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>f?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};d.GPa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fja="UrlFactorySymbol";},function(g,d,a){var f;function b(a){this.OUa=void 0===a?!1:a;this.Cd={0:[]};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.Cd[b];c?this.OUa&&-1!==c.indexOf(a)||c.push(a):this.Cd[b]=[a];};b.prototype.remove=function(a,b){this.Cr(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.Cr(a);};b.prototype.j9a=function(){var a;a=this;return Object.keys(this.Cd).sort().reduce(function(b,c){return b.concat(a.Cd[c]);},[]);};b.prototype.Cr=function(a,b){var c;c=this;Object.keys(this.Cd).forEach(function(f){var d;if(void 0===b||b===parseInt(f)){f=c.Cd[f];-1<(d=f.indexOf(a))&&f.splice(d,1);}});};f=b;f=g.__decorate([a.N()],f);d.dia=f;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uzb=function(){};d.Cga="MseConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xda="DecoderTimeoutPathologistSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fda="CsvEncoderSymbol";},function(g,d,a){var f,h;function b(){this.Rl={};this.id="$es$"+f.p2a++;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.addListener=function(a,b,f){var c,d;c="$netflix$player$order"+this.id+"$"+a;if(this.Rl){d=this.Rl[a]?this.Rl[a].slice():[];f&&(b[c]=f);0>d.indexOf(b)&&(d.push(b),d.sort(function(a,b){return(a[c]||0)-(b[c]||0);}));this.Rl[a]=d;}};b.prototype.removeListener=function(a,b){if(this.Rl&&this.Rl[a]){for(var c=this.Rl[a].slice(),f;0<=(f=c.indexOf(b));)c.splice(f,1);this.Rl[a]=c;}};b.prototype.Ib=function(a,b,f){var c;if(this.Rl){c=this.y5(a);for(a={Ji:0};a.Ji<c.length;a={Ji:a.Ji},a.Ji++)f?function(a){return function(){var f;f=c[a.Ji];setTimeout(function(){f(b);},0);};}(a)():c[a.Ji].call(this,b);}};b.prototype.FC=function(){this.Rl=void 0;};b.prototype.on=function(a,b,f){this.addListener(a,b,f);};b.prototype.y5=function(a){return this.Rl&&(this.Rl[a]||(this.Rl[a]=[]));};h=f=b;h.p2a=0;h=f=g.__decorate([a.N()],h);d.Lj=h;},function(g,d,a){var f,h,m,c;function b(a,b){this.is=a;this.uh=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a(2);h=a(21);m=a(99);c=a(8);b.prototype.gk=function(a,b,c){var f,d,k,g;f=this;if(b)if(c){d=c.GD;k=c.prefix;g=c.pq;this.Vu(b,function(b,c){if(!g||f.is.Dd(c))a[(k||"")+(d?b.toLowerCase():b)]=c;});}else this.Vu(b,function(b,c){a[b]=c;});return a;};b.prototype.Vu=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};b.prototype.Ku=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};b.prototype.Z1a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};b.prototype.ud=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}};b.prototype.Iqa=function(a,b){var c,f;a=a.target.keyStatuses.entries();for(c=a.next();!c.done;)f=c.value[0],c=c.value[1],b&&b(f,c),c=a.next();};b.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};b.prototype.Dsa=function(a){return this.getFunctionName(a.constructor);};b.prototype.$xa=function(a){var b,c;b=this;c="";this.is.Sr(a)||this.is.jna(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.Ci(a)?c=a:this.Vu(a,function(a,f){c+=(c?", ":"")+"{"+a+": "+(b.is.pH(f)?b.getFunctionName(f)||"function":f)+"}";});return"["+this.Dsa(a)+" "+c+"]";};b.prototype.createElement=function(a,b,f,d){var k;k=c.Ld.createElement(a);b&&(k.style.cssText=b);f&&(k.innerHTML=f);d&&this.Vu(d,function(a,b){k.setAttribute(a,b);});return k;};b.prototype.P8a=function(a,b){return function(c){return c[a]===b;};};b.prototype.KU=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.ue)),g.__param(1,f.l(m.Hw))],a);d.hja=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tga="OneWayCounterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wda="ClockConfigSymbol";},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Lva=0]="licenseStarted";a[a.$za=1]="receivedLicenseChallenge";a[a.Zza=2]="receivedLicense";a[a.aAa=3]="receivedRenewalChallengeComplete";a[a.bAa=4]="receivedRenewalLicenseComplete";a[a.cAa=5]="receivedRenewalLicenseFailed";a[a.inb=6]="receivedIndivChallengeComplete";a[a.jnb=7]="receivedIndivLicenseComplete";a[a.Qma=8]="addLicenseComplete";a[a.Vma=9]="addRenewalLicenseComplete";a[a.Wma=10]="addRenewalLicenseFailed";}(a=d.gp||(d.gp={})));d.H6a=function(b){switch(b){case a.Lva:return"lg";case a.$za:return"lc";case a.Zza:return"lr";case a.aAa:return"renew_lc";case a.bAa:return"renew_lr";case a.cAa:return"renew_lr_failed";case a.inb:return"ilc";case a.jnb:return"ilr";case a.Qma:return"ld";case a.Vma:return"renew_ld";case a.Wma:return"renew_ld_failed";default:return"unknown";}};},function(g,d,a){var f,h,m,c,k,p,q;function b(a,b){this.oU=a;this.is=b;m.Yk(this,"nav");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(47);c=a(2);k=a(37);p=a(21);q=a(87);b.prototype.hv=function(){if(this.X)return this.X.sessionId;};b.prototype.vAa=function(a,b){return this.oU.requestMediaKeySystemAccess(a,b);};b.prototype.spa=function(a,b){return b.createMediaKeys();};b.prototype.ks=function(a,b){this.X=a.createSession(b);};b.prototype.kva=function(){return!!this.X;};b.prototype.NBa=function(a,b){return this.is.pH(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.fsa=function(a,b){return this.X?this.X.generateRequest(a,b):Promise.reject(new q.Ff(c.I.nea,c.u.DF,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.X?this.X.update(a):Promise.reject(new q.Ff(c.I.gN,c.u.DF,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.X?this.X.load(a):Promise.reject(new q.Ff(c.I.bJa,c.u.DF,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.X)return Promise.reject(new q.Ff(c.I.WIa,c.u.DF,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.hv()&&(a=this.X.close());this.X=void 0;return a;};b.prototype.remove=function(){return this.X?this.X.remove():Promise.reject(new q.Ff(c.I.rea,c.u.DF,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.Rma=function(a){if(!this.X)throw ReferenceError("Unable to add message handler, key session is not valid");this.X.addEventListener(f.AA,a);};b.prototype.Oma=function(a){if(!this.X)throw ReferenceError("Unable to add key status handler, key session is not valid");this.X.addEventListener(f.tea,a);};b.prototype.Lma=function(a){if(!this.X)throw ReferenceError("Unable to add error handler, key session is not valid");this.X.addEventListener(f.zA,a);};b.prototype.nAa=function(a){if(!this.X)throw ReferenceError("Unable to remove message handler, key session is not valid");this.X.removeEventListener(f.AA,a);};b.prototype.lAa=function(a){if(!this.X)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.X.removeEventListener(f.tea,a);};b.prototype.kAa=function(a){if(!this.X)throw ReferenceError("Unable to remove error handler, key session is not valid");this.X.removeEventListener(f.zA,a);};a=f=b;a.AA="message";a.tea="keystatuseschange";a.zA="error";a=f=g.__decorate([h.N(),g.__param(0,h.l(k.QA)),g.__param(1,h.l(p.ue))],a);d.AZ=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uea="EmeSessionFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eea="DrmProviderSymbol";},function(g,d,a){var b;b=a(101);d.cva=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(g,d,a){var b,f,h,m,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(448);h=a(101);g=a(79);m=a(78);d.jz=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);return function(b){return b.bg(new c(a));};};d.Ljb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);b=a.shift();return new f.Fea(b,null).bg(new c(a));};c=function(){function a(a){this.t9=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.t9));};return a;}();k=function(a){function c(b,c){a.call(this,b);this.destination=b;this.t9=c;}b(c,a);c.prototype.y9=function(){this.nW();};c.prototype.al=function(){this.nW();};c.prototype.bd=function(){this.nW();};c.prototype.ic=function(){this.nW();};c.prototype.nW=function(){var a;a=this.t9.shift();a?this.add(m.kt(this,a)):this.destination.complete();};return c;}(g.fr);},function(g,d){d.m7=function(a){return a instanceof Date&&!isNaN(+a);};},function(g,d,a){var b,f,h,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(78);g=a(79);d.ND=function(a,b,f){void 0===f&&(f=Number.POSITIVE_INFINITY);return function(c){"number"===typeof b&&(f=b,b=null);return c.bg(new h(a,b,f));};};h=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.Cg=a;this.jk=b;this.O2=c;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.Cg,this.jk,this.O2));};return a;}();d.Szb=h;m=function(a){function c(b,c,f,d){void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b);this.Cg=c;this.jk=f;this.O2=d;this.mD=!1;this.buffer=[];this.index=this.active=0;}b(c,a);c.prototype.oh=function(a){this.active<this.O2?this.TXa(a):this.buffer.push(a);};c.prototype.TXa=function(a){var b,c;c=this.index++;try{b=this.Cg(a,c);}catch(A){this.destination.error(A);return;}this.active++;this.O_(b,a,c);};c.prototype.O_=function(a,b,c){this.add(f.kt(this,a,b,c));};c.prototype.ic=function(){this.mD=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};c.prototype.hz=function(a,b,c,f){this.jk?this.TVa(a,b,c,f):this.destination.next(b);};c.prototype.TVa=function(a,b,c,f){var d;try{d=this.jk(a,b,c,f);}catch(L){this.destination.error(L);return;}this.destination.next(d);};c.prototype.al=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.oh(b.shift()):0===this.active&&this.mD&&this.destination.complete();};return c;}(g.fr);d.Tzb=m;},function(g,d,a){var b;b=a(235);d.dI=function(){return b.Nv(1);};},function(g,d,a){var h,m;function b(a){var b;b=a.value;a=a.Bf;a.closed||(a.next(b),a.complete());}function f(a){var b;b=a.hy;a=a.Bf;a.closed||a.error(b);}h=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};m=a(80);g=function(a){function c(b,c){a.call(this);this.mE=b;this.ka=c;}h(c,a);c.create=function(a,b){return new c(a,b);};c.prototype.Uf=function(a){var c,d,g;c=this;d=this.mE;g=this.ka;if(null==g)this.vr?a.closed||(a.next(this.value),a.complete()):d.then(function(b){c.value=b;c.vr=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){m.root.setTimeout(function(){throw a;});});else if(this.vr){if(!a.closed)return g.Jb(b,0,{value:this.value,Bf:a});}else d.then(function(f){c.value=f;c.vr=!0;a.closed||a.add(g.Jb(b,0,{value:f,Bf:a}));},function(b){a.closed||a.add(g.Jb(f,0,{hy:b,Bf:a}));}).then(null,function(a){m.root.setTimeout(function(){throw a;});});};return c;}(a(10).Da);d.fia=g;},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y,L;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(101);h=a(452);m=a(451);c=a(447);k=a(982);p=a(100);q=a(981);t=a(165);A=a(10);y=a(457);L=a(240);g=function(a){function d(b,c){a.call(this,null);this.Oeb=b;this.ka=c;}b(d,a);d.create=function(a,b){if(null!=a){if("function"===typeof a[L.observable])return a instanceof A.Da&&!b?a:new d(a,b);if(f.isArray(a))return new p.Cw(a,b);if(m.gva(a))return new c.fia(a,b);if("function"===typeof a[t.iterator]||"string"===typeof a)return new k.wLa(a,b);if(h.Qua(a))return new q.eFa(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};d.prototype.Uf=function(a){var b,c;b=this.Oeb;c=this.ka;return null==c?b[L.observable]().subscribe(a):b[L.observable]().subscribe(new y.Sga(a,c,0));};return d;}(A.Da);d.Fea=g;},function(g,d,a){g=a(448);d.from=g.Fea.create;},function(g,d,a){g=a(100);d.of=g.Cw.of;},function(g,d){d.gva=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(g,d){d.Qua=function(a){return a&&"number"===typeof a.length;};},function(g,d){d.vna=function(a,b){var q;for(var f=0,d=b.length;f<d;f++)for(var g=b[f],c=Object.getOwnPropertyNames(g.prototype),k=0,h=c.length;k<h;k++){q=c[k];a.prototype[q]=g.prototype[q];}};},function(g,d){d.qG=function(){return function(a){this.Wrb=a;};}();},function(g,d,a){var b;b=a(454);g=function(){function a(){this.RL=[];}a.prototype.cwa=function(){this.RL.push(new b.qG(this.ka.now()));return this.RL.length-1;};a.prototype.dwa=function(a){var f;f=this.RL;f[a]=new b.qG(f[a].Wrb,this.ka.now());};return a;}();d.Nia=g;},function(g,d,a){var b,f,h,m,c,k,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(166);f=a(10);h=a(46);m=a(71);c=a(994);a=function(a){function f(b,c){a.call(this);this.source=b;this.mW=c;this.bo=0;this.UO=!1;}b(f,a);f.prototype.Uf=function(a){return this.AS().subscribe(a);};f.prototype.AS=function(){var a;a=this.DP;if(!a||a.Ye)this.DP=this.mW();return this.DP;};f.prototype.connect=function(){var a;a=this.Zt;a||(this.UO=!1,a=this.Zt=new m.uk(),a.add(this.source.subscribe(new k(this.AS(),this))),a.closed?(this.Zt=null,a=m.uk.EMPTY):this.Zt=a);return a;};f.prototype.pV=function(){return c.pV()(this);};return f;}(f.Da);d.xda=a;a=a.prototype;d.U1a={K9:{value:null},bo:{value:0,writable:!0},DP:{value:null,writable:!0},Zt:{value:null,writable:!0},Uf:{value:a.Uf},UO:{value:a.UO,writable:!0},AS:{value:a.AS},connect:{value:a.connect},pV:{value:a.pV}};k=function(a){function c(b,c){a.call(this,b);this.Ll=c;}b(c,a);c.prototype.bd=function(b){this.Jr();a.prototype.bd.call(this,b);};c.prototype.ic=function(){this.Ll.UO=!0;this.Jr();a.prototype.ic.call(this);};c.prototype.Jr=function(){var a,b;a=this.Ll;if(a){this.Ll=null;b=a.Zt;a.bo=0;a.DP=null;a.Zt=null;b&&b.unsubscribe();}};return c;}(g.pRa);(function(){function a(a){this.Ll=a;}a.prototype.call=function(a,b){var c;c=this.Ll;c.bo++;a=new p(a,c);b=b.subscribe(a);a.closed||(a.jo=c.connect());return b;};return a;}());p=function(a){function c(b,c){a.call(this,b);this.Ll=c;}b(c,a);c.prototype.Jr=function(){var a,b;a=this.Ll;if(a){this.Ll=null;b=a.bo;0>=b?this.jo=null:(a.bo=b-1,1<b?this.jo=null:(b=this.jo,a=a.Zt,this.jo=null,!a||b&&a!==b||a.unsubscribe()));}else this.jo=null;};return c;}(h.ri);},function(g,d,a){var b,f,h,m,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);f=a(237);d.EIb=function(a,b){void 0===b&&(b=0);return function(c){return c.bg(new h(a,b));};};h=function(){function a(a,b){void 0===b&&(b=0);this.ka=a;this.Ed=b;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.ka,this.Ed));};return a;}();d.SAb=h;m=function(a){function d(b,c,f){void 0===f&&(f=0);a.call(this,b);this.ka=c;this.Ed=f;}b(d,a);d.zb=function(a){a.notification.observe(a.destination);this.unsubscribe();};d.prototype.oaa=function(a){this.add(this.ka.Jb(d.zb,this.Ed,new c(a,this.destination)));};d.prototype.oh=function(a){this.oaa(f.Notification.f3(a));};d.prototype.bd=function(a){this.oaa(f.Notification.ppa(a));};d.prototype.ic=function(){this.oaa(f.Notification.a3());};return d;}(g.ri);d.Sga=m;c=function(){return function(a,b){this.notification=a;this.destination=b;};}();d.RAb=c;},function(g,d,a){var b,f,h,m,c,k,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(166);f=a(999);h=a(71);m=a(457);c=a(460);k=a(459);a=function(a){function d(b,c,f){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.ka=f;this.pg=[];this.ZSa=1>b?1:b;this.kYa=1>c?1:c;}b(d,a);d.prototype.next=function(b){var c;c=this.Nka();this.pg.push(new p(c,b));this.tma();a.prototype.next.call(this,b);};d.prototype.Uf=function(a){var b,f,d;b=this.tma();f=this.ka;if(this.closed)throw new c.SA();this.wJ?d=h.uk.EMPTY:this.Ye?d=h.uk.EMPTY:(this.Ps.push(a),d=new k.Mia(this,a));f&&a.add(a=new m.Sga(a,f));for(var f=b.length,g=0;g<f&&!a.closed;g++)a.next(b[g].value);this.wJ?a.error(this.Lba):this.Ye&&a.complete();return d;};d.prototype.Nka=function(){return(this.ka||f.fi).now();};d.prototype.tma=function(){for(var a=this.Nka(),b=this.ZSa,c=this.kYa,f=this.pg,d=f.length,g=0;g<d&&!(a-f[g].time<c);)g++;d>b&&(g=Math.max(g,d-b));0<g&&f.splice(0,g);return f;};return d;}(g.aj);d.QN=a;p=function(){return function(a,b){this.time=a;this.value=b;};}();},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b,c){a.call(this);this.QL=b;this.Bf=c;this.closed=!1;}b(f,a);f.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.QL;b=a.Ps;this.QL=null;!b||0===b.length||a.Ye||a.closed||(a=b.indexOf(this.Bf),-1!==a&&b.splice(a,1));}};return f;}(a(71).uk);d.Mia=g;},function(g,d){var a;a=this&&this.__extends||function(a,f){function b(){this.constructor=a;}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b());};g=function(b){function f(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(f,b);return f;}(Error);d.SA=g;},function(g,d){d.Wu={e:{}};},function(g,d){d.Nb=function(a){return"function"===typeof a;};},function(g,d){d.Xe=function(a){return null!=a&&"object"===typeof a;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kga="NetworkMonitorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.BZ="QueryStringDataProviderSymbol";},function(g,d,a){var f,h;function b(a,b,f,d,g){this.version=a;this.cE=b;this.uCa=f;this.Ah=d;this.Gq=g;this.Ip=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);h=a(55);b.prototype.load=function(a){return this.Mfb(a);};b.prototype.add=function(a){this.Ip.push(a);return this.V9();};b.prototype.remove=function(a,b){a=this.ysa(this.uo(a,b));return 0<=a?(this.Ip.splice(a,1),this.V9()):Promise.resolve();};b.prototype.update=function(a,b){b=this.ysa(this.uo(a,b));return 0<=b?(this.Ip[b]=a,this.V9()):Promise.resolve();};b.prototype.Mfb=function(a){var b;b=this;this.Sva||(this.Sva=new Promise(function(c,d){function g(a){b.I5a().then(function(){d(a);})["catch"](function(){d(a);});}b.e6().then(function(a){b.storage=a;return b.storage.load(b.cE);}).then(function(f){var d;f=f.value;try{d=a(f);b.version=d.version;b.Ip=d.data;c();}catch(y){g(y);}})["catch"](function(a){a.Y!==f.u.np?d(a):c();});}));return this.Sva;};b.prototype.V9=function(){var a,b,f,d,g;a=this;if(!this.uCa)return Promise.resolve();if(this.jW){d=new Promise(function(a,c){b=a;f=c;});g=function(){a.jW=d;a.tCa().then(function(){b();})["catch"](function(a){f(a);});};this.jW.then(g)["catch"](g);return d;}return this.jW=this.tCa();};b.prototype.tCa=function(){var a,c;a=this;c=this.Gq();return new Promise(function(d,g){a.e6().then(function(b){return b.save(a.cE,c,!1);}).then(function(){d();})["catch"](function(a){g(b.Qsb(f.I.mOa,a));});});};b.prototype.I5a=function(){var a;a=this;return this.uCa?new Promise(function(b,f){a.e6().then(function(b){return b.remove(a.cE);}).then(function(){b();})["catch"](function(a){f(a);});}):Promise.resolve();};b.prototype.e6=function(){return this.storage?Promise.resolve(this.storage):this.Ah.create();};b.prototype.uo=function(a,b){for(var c=0;c<this.Ip.length;++c)if(b(this.Ip[c],a))return this.Ip[c];};b.prototype.ysa=function(a){return a?this.Ip.indexOf(a):-1;};b.Qsb=function(a,b){var c;if(b.Y&&b.cause)return new h.Qc(a,b.Y,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0!==b.Ic){c=(b.message?b.message+" ":"")+"";b.code=a;b.message=""===c?void 0:c;return b;}return b instanceof Error?new h.Qc(a,f.u.eh,void 0,void 0,void 0,void 0,b.stack,b):new h.Qc(a,f.u.bj,void 0,void 0,void 0,void 0,void 0,b);};d.wfa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dea="DrmDataFactorySymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.QOa="PSK";a.jMa="MGK";a.Hzb="MGK_WITH_FALLBACK";a.Gzb="MGK_JWE";a.nzb="JWEJS_RSA";a.Gfa="JWK_RSA";a.ozb="JWK_RSAES";d.PM=a;},function(g,d,a){var h;function b(a,b){this.Ne=b;this.Js=Math.floor(a);this.display=this.Js+" "+this.Ne.name;}function f(a,b,f){this.Ne=a;this.name=b;this.Gl=f?f:this;h.Yk(this,"base");}Object.defineProperty(d,"__esModule",{value:!0});h=a(47);f.prototype.RI=function(a){return this.Ne==a.Ne;};f.prototype.toJSON=function(){return this.name;};d.cO=f;b.prototype.fa=function(a){return this.Ne.RI(a)?this.Js:Math.floor(this.Js*this.Ne.Ne/a.Ne);};b.prototype.XU=function(a){return this.Ne.RI(a)?this.Js:this.Js*this.Ne.Ne/a.Ne;};b.prototype.to=function(a){return new b(this.fa(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.Js,units:this.Ne.name};};b.prototype.add=function(a){return this.Toa(a);};b.prototype.ke=function(a){return this.Toa(a,function(a){return-a;});};b.prototype.scale=function(a){return new b(this.fa(this.Ne.Gl)*a,this.Ne.Gl);};b.prototype.Pk=function(a){return this.fa(this.Ne.Gl)-a.fa(this.Ne.Gl);};b.prototype.RI=function(a){return 0==this.Pk(a);};b.prototype.qva=function(){return 0==this.Js;};b.prototype.ava=function(){return 0>this.Js;};b.prototype.eva=function(){return 0<this.Js;};b.prototype.Toa=function(a,c){c=void 0===c?function(a){return a;}:c;return new b(this.fa(this.Ne.Gl)+c(a.fa(this.Ne.Gl)),this.Ne.Gl);};d.kp=b;},function(g,d,a){var h;function b(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.C8(a)(b);}c.dxa=new h.Metadata(a,b);return c;};}function f(a,b){a=a.Rs;return null!==a?b(a)?!0:f(a,b):!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(31);h=a(67);d.pDa=f;d.GCa=b;d.Axa=b(g.Ot);d.uDa=function(a){return function(b){var c;return null!==b?(c=b.QH[0],"string"===typeof a?c.Me===a:a===b.QH[0].pj):!1;};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(249);f=a(248);g=function(){function a(a){this.Fb=a;this.g_=new f.iX(this.Fb);this.f_=new b.hX(this.Fb);}a.prototype.EM=function(){return this.g_.EM();};a.prototype.oq=function(a){return this.f_.oq(a);};return a;}();d.Iw=g;},function(g,d,a){var b,f,h,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(103);h=a(67);m=a(1044);g=function(){function a(a,c,d,g){this.id=f.id();this.type=a;this.Me=d;this.name=new m.ZPa(c||"");this.kd=[];a=null;"string"===typeof g?a=new h.Metadata(b.Ot,g):g instanceof h.Metadata&&(a=g);null!==a&&this.kd.push(a);}a.prototype.bua=function(a){for(var b=0,c=this.kd;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.bua(b.Vw);};a.prototype.Ogb=function(a){return this.C8(b.Vw)(a);};a.prototype.s7=function(){return this.bua(b.Ot);};a.prototype.v7=function(){return this.kd.some(function(a){return a.key!==b.RF&&a.key!==b.Vw&&a.key!==b.EN&&a.key!==b.sG&&a.key!==b.Ot;});};a.prototype.dva=function(){return this.C8(b.Rga)(!0);};a.prototype.Xab=function(){return this.s7()?this.kd.filter(function(a){return a.key===b.Ot;})[0]:null;};a.prototype.G$a=function(){return this.v7()?this.kd.filter(function(a){return a.key!==b.RF&&a.key!==b.Vw&&a.key!==b.EN&&a.key!==b.sG&&a.key!==b.Ot;}):null;};a.prototype.C8=function(a){var b;b=this;return function(c){var g;for(var f=0,d=b.kd;f<d.length;f++){g=d[f];if(g.key===a&&g.value===c)return!0;}return!1;};};return a;}();d.YN=g;},function(g,d,a){var b,f,h,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);f=a(31);h=a(67);m=a(88);g=function(){function a(a){this.nTa=a;}a.prototype.Mtb=function(){return this.nTa();};return a;}();d.LY=g;d.l=function(a){return function(c,d,g){var k;if(void 0===a)throw Error(b.bSa(c.name));k=new h.Metadata(f.RF,a);"number"===typeof g?m.Yz(c,d,g,k):m.dM(c,d,k);};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);d.lva=function(a){return a instanceof RangeError||a.message===b.GQa;};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);g=function(){function a(){}a.prototype.Csa=function(a){var f;f=Reflect.getMetadata(b.gZ,a);a=Reflect.getMetadata(b.Pia,a);return{Voa:f,Dub:a||{}};};a.prototype.pbb=function(a){return Reflect.getMetadata(b.Qia,a)||[];};return a;}();d.UY=g;},function(g,d,a){var b,f,h,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(247);f=a(1025);h=a(246);m=a(245);c=a(1019);k=a(1011);p=a(1006);q=a(891);a=a(518);d.Wc=new g.AF({lw:!0});q.Nfb(d.Wc);d.Wc.load(f.platform);d.Wc.load(c.config);h.d1.load(k.TB);m.II.load(p.Y6a);d.Wc.load(a.t1);d.Wc.bind(b.yfa).Bh(d.Wc);},function(g,d,a){var b,f,h,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(122);f=a(9);g=a(2);h=a(4);m=a(112);c=a(60);a=a(20);h.V.get(a.Fe).register(g.I.ifa,function(a){var d,g;d=J._cad_global.videoPreparer;g=J._cad_global.playerPredictionModel;d&&J._cad_global.playerPredictionModel&&(k=h.V.get(m.aia).create(g,d.$lb.bind(d)),J._cad_global.prefetchEvents=k,d.Mg.on("deletedCacheItem",function(a){k.XH(c.Zc.iG[a.type],parseInt(a.movieId,10),a.reason);}),b.Jk.addEventListener("cacheEvict",function(a){k.XH(m.we.Wi.KF,a.movieId,"ase_cacheEvict");k.XH(m.we.Wi.MEDIA,a.movieId,"ase_cacheEvict");}),b.Jk.addEventListener("flushedBytes",function(){b.Jk.h2().forEach(function(a){k.XH(m.we.Wi.MEDIA,a.M,"ase_flushedBytes");},this);}),d.Mn.addEventListener(d.Mn.events.Tia,function(a){k.l0a(c.Zc.iG[a.type],a.M,a.reason);}),d.Mn.addEventListener(d.Mn.events.Ria,function(a){k.h0a(c.Zc.iG[a.type],a.M,a.reason);}),d.Mn.addEventListener(d.Mn.events.Sia,function(a){k.j0a(c.Zc.iG[a.type],a.M,a.reason);}),d.Mn.addEventListener(d.Mn.events.Uia,function(a){k.n0a(c.Zc.iG[a.type],a.M,a.reason);}));a(f.xc);});},function(g,d,a){var h,m,c,k,p,q,t,A,y,L;function b(a,b){this.zh=a;this.kj=b;}function f(a){this.K=a;this.reset();}h=a(170);m=a(169);d=a(252);c=a(251).config;k=d.z$a;p=d.k$a;q=d.Y5a;t=d.wjb;A=d.vjb;y=d.ujb;L=d.Dra;f.prototype.constructor=f;f.prototype.reset=function(){this.Rla=void 0;this.Nh=[];this.Bla=this.Cla=!1;};f.prototype.update=function(a,b){var f;this.Nh&&(this.Nh=this.Nh.filter(this.Kqb,this));if(!1===this.Cla){f=k(a.Ca).slice(0,c.Lpa);0<f.length&&(this.Zy(f,m.Tq.pi),this.Cla=!0,this.Nh=this.jA(f.concat(this.Nh)));}!1===this.Bla&&(f=p(a.Ca).slice(0,c.Lpa),0<f.length&&(this.Zy(f,m.Tq.pi),this.Bla=!0,this.Nh=this.jA(f.concat(this.Nh))));switch(b){case m.Rq.Bea:b=this.Acb(a);break;case m.Rq.qia:b=this.Kcb(a);break;case m.Rq.SN:b=this.Lcb(a);break;case m.Rq.gG:b=this.Gcb(a);break;default:b=this.zcb(a);}this.Rla=a;return b;};f.prototype.Acb=function(a){a=t(a.Ca,c.PAa,c.Qoa);this.Zy(a,m.Tq.pi);return this.Nh=this.jA(this.Nh.concat(a));};f.prototype.Kcb=function(a){var b,f;this.K.log("handleScrollHorizontal");b=a.Ca;a=t(b,c.RAa,c.Roa);f=q(b,this.Rla.Ca);b=b[f].list.slice(0,c.Job);b.concat(a);this.Zy(b,m.Tq.PZ);return this.jA(b.concat(this.Nh));};f.prototype.Zy=function(a,b){a.forEach(function(a){if(void 0===a.Eu||a.Eu<b)a.Eu=b;void 0===a.WE&&(a.WE=h());void 0===a.Hi&&(a.Hi=h());});};f.prototype.Lcb=function(a){this.K.log("handleSearch");a=A(a.Ca,c.epb);this.Zy(a,m.Tq.sia);this.Nh=a.concat(this.Nh);return this.Nh=this.jA(this.Nh);};f.prototype.Gcb=function(a){var f,d,g,k,q;this.K.log("handlePlayFocus: ",c.zJ);f=a.direction;d=a.Ca;a=[];g=L(d);if(void 0!==g.zh)switch(a.push(g),f){case m.jp.lia:for(f=1;f<c.zJ;f++)a.push(new b(g.zh,g.kj+f));a.push(new b(g.zh-1,g.kj));a.push(new b(g.zh+1,g.kj));break;case m.jp.Kfa:for(f=1;f<c.zJ;f++)a.push(new b(g.zh,g.kj-f));a.push(new b(g.zh-1,g.kj));a.push(new b(g.zh+1,g.kj));break;case m.jp.eSa:a.push(new b(g.zh-1,g.kj));for(f=1;f<=c.zJ/2;f++)a.push(new b(g.zh,g.kj+f)),a.push(new b(g.zh,g.kj-f));break;case m.jp.kIa:for(a.push(new b(g.zh+1,g.kj)),f=1;f<=c.zJ/2;f++)a.push(new b(g.zh,g.kj+f)),a.push(new b(g.zh,g.kj-f));}k=[];a.forEach(function(a){q=y(d,a.zh,a.kj);void 0!==q&&k.push(q);});this.Zy(k,m.Tq.PZ);return this.jA(k.concat(this.Nh));};f.prototype.zcb=function(a){this.K.log("ModelOne: handleDefaultCase");a=t(a.Ca,c.RAa,c.Roa);this.Zy(a,m.Tq.PZ);return this.jA(a.concat(this.Nh));};f.prototype.Kqb=function(a){return a.Eu==m.Tq.pi|a.Eu==m.Tq.sia&h()-a.WE<c.kdb;};f.prototype.jA=function(a){var b,c,f,d,g,k,q;b=[];c={};k=0;q=a.length;for(g=0;g<q;g++)f=a[g].Kc,d=a[g],!1===f in c?(b.push(d),c[f]=k,k++):(f=b[c[f]],d.Hi<f.Hi&&(f.Hi=d.Hi),d.Eu>f.Eu&&(f.Eu=d.Eu),d.WE>f.WE&&(f.WE=d.WE));return b;};g.T=f;},function(g,d,a){var m,c,k,p,q,t,A;function b(a,b,c,f,d,g){this.M=this.Kc=a;this.Td=b;this.Hd=c;g&&g.se&&(this.se=g.se);void 0!==f&&(this.oz=f);this.Hi=d;this.$a=g;}function f(a,b,c,f,d){k(void 0!==f,"video preparer is null");k(void 0!==d,"ui preparer is null");this.K=b||console;this.K=b;this.rb=c;this.gYa=f;this.XXa=d;this.Ola=t.n$;this.MB=[];this.Y0=!1;this.Em=0;new A().on(t,"changed",h,this);this.reset();}function h(){this.K.log("config changed");t.n$&&(this.Ola=t.n$);t.sK!==this.CB&&(this.reset(),this.eob());}m=a(170);c=a(169);d=a(252);k=d.assert;p=d.Dra;q=a(478);t=a(251).config;A=a(25).Ow;t.declare({n$:["ppmConfig",{Awb:{Yxa:0,Xxa:2,Vxa:0,Wxa:5,SBa:0},DCb:{Yxa:0,Xxa:1,Vxa:0,Wxa:3,SBa:1E3},Rwb:{Yxa:0,Xxa:1,Vxa:0,Wxa:3,SBa:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.I_=!0;this.CB=t.sK;this.K.log("create model: "+t.sK,t.PAa,t.Qoa);switch(t.sK){case"modelone":this.CB=new q(this.K);break;default:this.CB=new q(this.K);}};f.prototype.eob=function(){var b,c;if(!1===this.Y0){this.Y0=!0;for(var a=0;a<this.MB.length;a++){this.K.log("PlayPredictionModel replay: ",JSON.stringify(this.MB[a]));b=this.lpa(this.MB[a]);c=this.isa(b);this.CB.update(b,c);this.I_=!1;}this.MB=[];}};f.prototype.update=function(a){var b,c,f;this.K.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.Ca&&a.Ca[0]){!1===this.Y0&&this.MB.length<t.ghb&&this.MB.push(a);b=this.lpa(a);c=this.isa(b);this.K.log("actionType",c);b="mlmodel"==t.sK?this.CB.update(a,c):this.CB.update(b,c);b=this.O9a(b,t.Qeb||1);this.K.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.Em&&(this.Em=m(),this.rb&&this.rb.jL&&this.rb.jL({gR:this.Em}));if(this.rb&&this.rb.tAa){f={gR:this.Em,offset:this.rS(),kza:[]};b.forEach(function(a){f.kza.push({Wo:a.Kc});});f.fza=JSON.stringify(a);f.gza=JSON.stringify(b);this.rb.tAa(f);}this.gYa.cw(b);this.XXa.cw(b);this.I_=!1;}};f.prototype.qob=function(){this.Em=0;};f.prototype.rS=function(){return m()-this.Em;};f.prototype.jL=function(){this.Em=m();this.rb&&this.rb.jL&&this.rb.jL({gR:this.Em});};f.prototype.lpa=function(a){var b,f,d,g,k;b={};g=a.Ca||[];k=function(a){var g,k;g={};f=c.SF.name.indexOf(a.context);g.context=0<=f?f:c.SF.er;g.rowIndex=a.rowIndex;g.requestId=a.requestId;g.list=[];d=a.list||[];d.forEach(function(a){k={Kc:a.Kc,Hd:a.Hd,index:a.index,oz:a.oz,lE:a.lE,list:a.list,$a:a.$a};void 0!==a.property&&(f=c.GA.name.indexOf(a.property),k.property=0<=f?f:c.GA.er);g.list.push(k);}.bind(this));b.Ca.push(g);}.bind(this);void 0!==a.direction&&(f=c.jp.name.indexOf(a.direction),b.direction=0<=f?f:c.jp.er);void 0!==a.cJ&&(b.rGb=a.cJ.rowIndex,b.qGb=a.cJ.C1a);b.cJ=a.cJ;b.Ca=[];g.forEach(k);return b;};f.prototype.isa=function(a){var b,f,d;b=a.direction||c.jp.er;f=a.cJ;d=a.Ca||[];!0===this.I_?a=c.Rq.Bea:!0===d.some(this.Ucb)?(a=c.Rq.gG,this.sV(d,b,f)):a=d[0].context===c.SF.SN?c.Rq.SN:b===c.jp.lia||b===c.jp.Kfa?c.Rq.qia:c.Rq.er;return a;};f.prototype.Ucb=function(a){return(a.list||[]).some(function(a){return a.property===c.GA.gG||a.property===c.GA.Hda;});};f.prototype.sV=function(a,b,f){var d,g;this.K.log("reportPlayFocusEvent: ",b,f);d={};g=p(a);this.rb&&this.rb.sV&&(d.eGb=m(),d.direction=c.jp.name[b],f&&(d.rowIndex=f.rowIndex,d.H2=f.C1a),void 0!==g.zh&&(d.requestId=a[g.zh].requestId),this.rb.sV&&this.rb.sV(d));};f.prototype.O9a=function(a,b){for(var c=a.length,f=[],d,g,k,q,h=0;h<c;h++){g=a[h];d=Math.floor(h/b)+1;if(void 0!==g.list){k=g.list;q=k.length;for(var p=0;p<Math.min(t.A1a,q)&&!(k[p].Hi=g.Hi,this.Tma(k[p],d,f),f.length>=t.Jwa);p++);}else this.Tma(g,d,f);if(f.length>=t.Jwa)break;}return f;};f.prototype.Tma=function(a,c,f){var g,k;function d(a){a.se&&(a.$a||(a.$a={}),a.$a.se=a.se);return a.$a;}g=a.lE;void 0!==g&&g instanceof Array?g.forEach(function(g){void 0!==g.Kc&&(k=d(g),f.push(new b(g.Kc,c,g.Hd,g.oz,a.Hi,k)));}):void 0!==g&&void 0!==g.Kc&&(g=a.lE,k=d(g),f.push(new b(g.Kc,c,g.Hd,g.oz,a.Hi,k)));void 0!==a.Kc&&(k=d(a),f.push(new b(a.Kc,c,a.Hd,a.oz,a.Hi,k)));};f.prototype.cv=function(a){var b;b=this.Ola;return a?b[a]:b;};g.T=f;},function(g,d,a){var b,f,h,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(9);g=a(2);h=a(4);d=a(20);h.V.get(d.Fe).register(g.I.jfa,function(c){var d,g;if(b.config.Glb){d=h.Kf("PlayerPredictionModel");J._cad_global.videoPreparer||(d.error("videoPreparer is not defined"),c(f.xc));g=a(479);d.log=d.trace.bind(d);m=new g({},d,{jL:function(a){J._cad_global.prefetchEvents.X5a(a.gR);},tAa:function(a){J._cad_global.prefetchEvents.amb(a);}},J._cad_global.videoPreparer,{cw:function(){}});J._cad_global.playerPredictionModel=m;d.info("ppm v2 initialized");}c(f.xc);});},function(g){g.T={Xu:{Ja:12E5,VJ:9E5,kd:12E5},Du:{Ja:10,VJ:10,kd:10},Cu:{Ja:10240,VJ:10240,kd:10240}};},function(g){function d(a){var b;b=[];return function u(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var c in a)if(a.hasOwnProperty(c)&&u(a[c]))return!0;}return!1;}(a);}g.T=function(a,b){var g;if(b&&d(a))return-1;b=[];a=[a];for(var f=0;a.length;){g=a.pop();if("boolean"===typeof g)f+=4;else if("string"===typeof g)f+=2*g.length;else if("number"===typeof g)f+=8;else if("object"===typeof g&&-1===b.indexOf(g)){b.push(g);for(var h in g)a.push(g[h]);}}return f;};},function(g,d,a){var c,k;function b(){return Object.create(null);}function f(a){this.log=a.log;this.Ra=a.Ra;this.$y=b();this.Promise=a.Promise;this.js=a.js;this.dca=a.dca;this.Ug=a.Ug||!1;this.Xu=b();this.Du=b();this.Cu=b();this.pXa(a);a.VC&&(this.VC=a.VC,c(this.VC,f.prototype));}function h(a){return"undefined"!==typeof a;}function m(a){var f;for(var b=0,c=arguments.length;b<c;){f=arguments[b++];if(h(f))return f;}}c=a(48);a(482);k=a(481);f.prototype.pXa=function(a){this.Xu.manifest=m(a.x4,k.Xu.Ja);this.Xu.ldl=m(a.w4,k.Xu.VJ);this.Xu.metadata=m(a.jGb,k.Xu.kd);this.Du.manifest=m(a.j2,k.Du.Ja);this.Du.ldl=m(a.i2,k.Du.VJ);this.Du.metadata=m(a.JEb,k.Du.kd);this.Cu.manifest=m(a.HEb,k.Cu.Ja);this.Cu.ldl=m(a.GEb,k.Cu.VJ);this.Cu.metadata=m(a.IEb,k.Cu.kd);};f.prototype.LS=function(a,b,c){this.Og("undefined"!==typeof a);this.Og("undefined"!==typeof b);return!!this.Aka(a,b,c).value;};f.prototype.Aka=function(a,b,c){var f,d;f={value:null,reason:"",log:""};d=this.$y[b];if("undefined"===typeof d)return f.log="cache miss: no data exists for field:"+b,f.reason="unavailable",f;"undefined"===typeof d[a]?(f.log="cache miss: no data exists for movieId:"+a,f.reason="unavailable"):(c=d[a][c?c:"DEFAULTCAPS"])&&c.value?this.jT(b,c.Ng)?(f.log="cache miss: "+b+" data expired for movieId:"+a,f.reason="expired"):(f.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,f.value=c.value):(f.log="cache miss: "+b+" data not available for movieId:"+a,f.reason="unavailable");return f;};f.prototype.getData=function(a,b,c){this.Og("undefined"!==typeof a);this.Og("undefined"!==typeof b);a=this.Aka(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.dca?JSON.parse(this.dca(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};f.prototype.setData=function(a,c,f,d,g){var k;this.Og("undefined"!==typeof a);this.Og("undefined"!==typeof c);k=this.$y;g=g?g:"DEFAULTCAPS";k[c]||(k[c]=b(),Object.defineProperty(k[c],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(k[c],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));f=this.js?this.js(JSON.stringify(f),"gzip",!0):f;k=k[c];this.$Ua(a,c,g,k);c={Ng:this.Ra.getTime(),value:f,size:0,type:c,K3:d};k[a]=k[a]||b();k[a][g]=k[a][g]||b();k[a][g]=c;k.size+=0;k.numEntries++;this.VC&&this.emit("addedCacheItem",c);return c;};f.prototype.$Ua=function(a,b,c,f){var d,g,k,q,h,p,t,m,u;d=this;g=f.numEntries;k=this.Du[b];p=f[a]&&f[a][c];if(p&&p.value)q=a,h="promise_or_expired";else if(g>=k){m=Number.POSITIVE_INFINITY;Object.keys(f).every(function(a){var g;g=f[a]&&f[a][c];g&&g.value&&d.jT(b,g.Ng)&&(u=a);g&&g.value&&g.Ng<m&&(m=g.Ng,t=a);return!0;});q=u||t;h="cache_full";}this.Ug&&this.log.debug("makespace ",{maxCount:k,currentCount:f.numEntries,field:b,movieId:a,movieToBeRemoved:q});q&&(d.clearData(q,b,c,void 0,h),this.log.debug("removed from cache: ",q,b));};f.prototype.x2=function(a,b){var c,f;c=this;c.Og("undefined"!==typeof a);f=a+"";b.forEach(function(a){var b;b=c.$y[a];b&&Object.keys(b).forEach(function(b){b!=f&&c.clearData(b,a,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(a,b,c,f,d){var g;this.Og("undefined"!==typeof a);this.Og("undefined"!==typeof b);g=this.$y[b];b=g?g[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){g.size-=b[c].size;g.numEntries--;if(g=b&&b[c])b[c]=void 0,!f&&g.K3&&g.K3();this.VC&&(a={creationTime:g.Ng,destroyFn:g.K3,size:g.size,type:g.type,value:g.value,reason:d,movieId:a},this.emit("deletedCacheItem",a));}};f.prototype.flush=function(a){var c;this.Og("undefined"!==typeof a);c=this.$y;c[a]=b();c[a].numEntries=0;c[a].size=0;};f.prototype.jT=function(a,b){return this.Ra.getTime()-b>this.Xu[a];};f.prototype.getStats=function(a,b,c){var f,d,g,k,q;f={};d=this;g=d.$y;k=h(a)&&h(b);q=c||"DEFAULTCAPS";Object.keys(g).forEach(function(c){var p,t;p=Object.keys(g[c]);t=g[c];p.forEach(function(g){!(g=t&&t[g]&&t[g][q])||!h(g.value)||g.value instanceof this.Promise||(f[c]=(f[c]|0)+1,d.jT(g.type,g.Ng)&&(f[c+"_expired"]=(f[c+"_expired"]|0)+1),k&&g.Ng>=a&&g.Ng<b&&(f[c+"_delta"]=(f[c+"_delta"]|0)+1));});});return f;};f.prototype.gd=function(a){var b,c,f,d;b=[];c=this;f=c.$y;d=a||"DEFAULTCAPS";Object.keys(f).forEach(function(a){var g,k;g=Object.keys(f[a]);k=f[a];g.forEach(function(f){var g,q;g=k&&k[f]&&k[f][d];g&&h(g.value)&&(q=c.jT(g.type,g.Ng)?"expired":g.value instanceof this.Promise?"loading":"cached",b.push({movieId:f,state:q,type:a,size:g.size}));});});return b;};f.prototype.IBa=function(a,b){this.Og("undefined"!==typeof a);this.Og("undefined"!==typeof b);this.Cu[a]=b;};f.prototype.Og=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.Ug))throw Error("Debug Assert Failed ");};g.T=f;},function(g,d,a){var f,h;function b(a,b,d,g,q,t,u){this.M=a;this.Td=b;this.type=d;this.id=++h;this.mo=g;this.status=f.ve.oda;this.elb=void 0===q?!1:q;this.Oxa=u;}Object.defineProperty(d,"__esModule",{value:!0});f=a(60);h=0;b.prototype.Tp=function(){var a;a={id:this.id,type:this.type,created:this.mo,status:this.status,movieId:this.M};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.al=function(a){this.Oxa&&this.Oxa(a);};d.ZN=b;},function(g,d,a){var m,c,k;function b(){}function f(a){this.log=a.log;this.Ra=a.Ra;this.SQ=this.oI=0;this.ww=[];this.paused=!1;this.gW=[];this.Yoa=[];this.NJ=a.NJ||b.Cca;this.Wc=a.Wc;this.dj=this.Wc.get(c.jN);this.addEventListener=this.dj.addListener.bind(this.dj);this.events={Tia:"taskstart",Ria:"taskabort",Sia:"taskfail",Uia:"tasksuccess"};}function h(a){return a.Tp();}Object.defineProperty(d,"__esModule",{value:!0});g=a(139);m=a(60);c=a(70);b.MOa="prepend";b.Cca="append";b.sKa="ignore";k=g.Jt;d.yRa=f;f.prototype.Yma=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.ww=this.JUa(a);this.oI=0;this.SQ+=1;this.zb();};f.prototype.JUa=function(a){var c,f;c=this.ww.filter(function(a){return a.elb&&a.status===m.ve.oda;});f=this.NJ;if(f===b.sKa)return[].concat(a);if(f===b.MOa)return c.concat(a);if(f===b.Cca)return a.concat(c);};f.prototype.pause=function(){this.paused=!0;};f.prototype.zb=function(){var a,b;if(this.oI===this.ww.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.oI,numberOfTasks:this.ww.length});else{a=this.Zab();b=this.SQ;a.startTime=this.Ra.getTime();a.status=m.ve.xia;this.dj.Ib(this.events.Tia,{M:a.M,type:a.type});this.gW.push(a);a.mf(function(c){a.endTime=this.Ra.getTime();c?0<=[m.ve.tA,m.ve.UM,m.ve.wF,m.ve.TM].indexOf(c.status)?(a.status=c.status,this.v0(a,this.events.Ria,"cancelled task")):(a.status=m.ve.Et,this.v0(a,this.events.Sia,"task failed",c)):(a.status=m.ve.Dia,this.v0(a,this.events.Uia,"task succeeded"));this.Yoa.push(a);this.gW.splice(this.gW.indexOf(a),1);this.SQ===b&&(this.oI++,this.zb());}.bind(this));}};f.prototype.Zab=function(){return this.ww[this.oI];};f.prototype.v0=function(a,b,c,f){var d;d=a.Tp();f?this.log.warn(c,d,f):this.log.trace(c,d);this.dj.Ib(b,{M:a.M,type:a.type,reason:a.status});a.al(d);};f.prototype.getStats=function(a,b,c){var f,d,g,q;f=this.Yoa.map(h);d=this.gW.map(h);g=k.Dd(a)&&k.Dd(b);q={};if(k.Dd(c))return q.N1a=f.filter(function(a){return a.movieId===c;}),q;f.concat(d).forEach(function(c){var f;q[c.type+"_"+c.status]=(q[c.type+"_"+c.status]|0)+1;f=c.status==m.ve.xia?c.startTime:c.endTime;g&&f>=a&&f<b&&(q[c.type+"_"+c.status+"_delta"]=(q[c.type+"_"+c.status+"_delta"]|0)+1);});return q;};},function(g,d,a){var f,h,m,c,k,p,q,t,A,y;function b(a){this.log=a.log;this.Ra=a.Ra;this.fD=a.fD;this.vS=a.vS;this.fv=a.fv;this.gD=a.gD;this.Ry=a.Ry;this.u2=a.u2;this.vI=a.vI;this.Wc=a.Wc;this.config=this.Wc.get(p.ld)();this.xI=a.xI;this.wI=a.wI;this.zca=a.zca;this.G9=a.G9;this.H9=a.H9;this.BK=a.BK;this.w5=a.w5;this.Ug=a.Ug||!1;this.Z0={};this.cP={};this.zP={num_of_calls:0,num_of_movies:0};this.t2=a.t2;this.j9=a.j9;this.X9a=a.X9a;this.j5=a.j5;this.Mg=new q({log:this.log,Ra:this.Ra,Promise:Promise,Ug:this.Ug,j2:a.j2,i2:a.i2,x4:a.x4,w4:a.w4,VC:t});this.Mn=new f.yRa({log:this.log,Ra:this.Ra,NJ:a.NJ,Wc:this.Wc});this.uo=this.Mg.getData.bind(this.Mg);this.kw=this.Mg.setData.bind(this.Mg);this.JS=this.Mg.LS.bind(this.Mg);}Object.defineProperty(d,"__esModule",{value:!0});f=a(485);h=a(484);g=a(139);m=a(233);c=a(435);k=a(112);p=a(17);q=a(483);t=a(25).EventEmitter;A=g.Jt;y=new c.hja(A,new m.fX());d.oSa=b;b.prototype.xsa=function(a){var b;b=this.Mg.getData(a,"ldl");this.Mg.clearData(a,"ldl",void 0,!0);return b;};b.prototype.cw=function(a,b){var c,f,d;c=this;a=a.map(function(a){a.$a=a.$a||{JH:{Oya:!1},ah:0};A.Nl(a.$a.ah)||(a.$a.ah=0);A.Nl(a.Hd)&&(a.$a.U=a.Hd);return a;});f=a.map(function(a){return c.bka(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=f.map(function(a){return a.M+"-"+a.type;});this.log.trace("prepare tasks",d);this.Mn.Yma(f);this.zP.num_of_calls++;this.zP.num_of_movies+=a.length;};b.prototype.Xlb=function(a,b){var c,f,d;c=this;f=a.map(function(a){return a.M+"";});a=a.map(function(a){a.$a=a.$a||{JH:{Oya:!1},ah:0};a.$a.ie=!0;a.$a.rxa=f;return c.bka(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=a.map(function(a){return a.M+"-"+a.type;});this.log.trace("predownload tasks",d);this.Mn.Yma(a);};b.prototype.$tb=function(a,b){this.cP[a]||(this.cP[a]={});a=this.cP[a];a.nza=(a.nza|0)+1;a.Hi=b;};b.prototype.getStats=function(a,b,c){var f;f=c&&this.cP[c]||{};f.ww=this.Mn.getStats(a,b,c);f.cache=this.Mg.getStats(a,b);f.dsa=y.gk(this.w5(),this.zP);return f||{};};b.prototype.bka=function(a,b){var c,f,d,g,k;a.se&&(a.$a.se=a.se);c=[];f=a.M;d=!!a.$a.ie;this.$tb(f,a.Hi);g=null;if(this.Mg.LS(f,"manifest"))this.log.trace("manifest exists in cache for "+f);else{k=new h.ZN(f,a.Td,"manifest",this.Ra.getTime(),d,void 0,b);g=k.id;k.mf=this.fD.bind(this,f,a);c.push(k);}this.vS&&this.u2()&&(this.Mg.LS(f,"ldl")?this.Ug&&this.log.trace("ldl exists in cache for "+f):(k=new h.ZN(f,a.Td,"ldl",this.Ra.getTime(),d,g,b),k.mf=this.vS.bind(this,f,a),c.push(k)));this.fv&&this.gD&&this.t2()&&(this.j9(f)?this.Ug&&this.log.trace("headers/media exists in cache for "+f):(f=new h.ZN(a.M,a.Td,"getHeaders",this.Ra.getTime(),d,g,b),f.mf=this.fv.bind(this,a.M,a),c.push(f),b=new h.ZN(a.M,a.Td,"getMedia",this.Ra.getTime(),d,g,b),b.mf=this.gD.bind(this,a.M,a),c.push(b)));return c;};b.prototype.Jcb=function(a){this.H9(a);};b.prototype.Icb=function(a){this.log.trace("task scheduler paused on playback created");this.Mn.pause();this.xI&&this.Mg.x2(a,["manifest"]);this.wI&&this.Mg.x2(a,["ldl"]);this.G9(a);};b.prototype.Sta=function(){this.log.info("track changed, clearing all manifests from cache");this.Mg.x2("none",["manifest"]);};b.prototype.Hcb=function(a){var b;b=this;this.vI?this.Mg.clearData(a,"manifest"):this.Mg.LS(a,"manifest")&&this.Mg.getData(a,"manifest").then(function(c){c.isSupplemental||b.Mg.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.B2(a);this.BK();};b.prototype.B2=function(a){this.Z0[a]=void 0;};b.prototype.n6=function(a){return this.Z0[a];};b.prototype.Apa=function(a){return this.Z0[a]=this.zca();};b.prototype.$lb=function(){var a;a=[];a=this.Mg.gd().map(function(a){return{Wo:parseInt(a.movieId,10),state:a.state,Tr:a.type,size:a.size||void 0};});this.j5().map(function(b){2===b.xo?a.push({Wo:b.M,state:"cached",Tr:k.we.Wi.KF,size:void 0}):b.i9a&&!b.ifb&&a.push({Wo:b.M,state:"loading",Tr:k.we.Wi.KF,size:void 0});b.cEa&&0<b.cEa&&b.Hna&&0<b.Hna?a.push({Wo:b.M,state:"cached",Tr:k.we.Wi.MEDIA,size:void 0}):b.Slb&&!b.Rlb&&a.push({Wo:b.M,state:"loading",Tr:k.we.Wi.MEDIA,size:void 0});});return a;};b.prototype.Rua=function(a){return a&&0<=a.indexOf("billboard");};},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y,L,x,l,N,n,S,X,D,r,P,ia,Z,ea,Y,O,W;Object.defineProperty(d,"__esModule",{value:!0});b=a(49);f=a(122);h=a(90);m=a(12);c=a(9);k=a(28);p=a(26);g=a(2);q=a(4);t=a(21);A=a(220);y=a(3);L=a(77);x=a(119);l=a(113);N=a(60);n=a(173);S=a(19);X=a(33);D=a(486);r=a(160);P=a(189);ia=a(147);Z=a(123);ea=a(39);Y=a(57);d=a(20);O=a(135);q.V.get(d.Fe).register(g.I.nfa,function(a){var U,la,va,E,C,eb,Q,Ua,T,Ra,aa,ca,da,fa;function d(){var a,b,c;if(m.config.Cn){a={};a.trigger=N.Zc.LOa.kOa;b=U.getTime();c=W.getStats(da,b);a.startoffset=da;da=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.ww);a.general=JSON.stringify(c.dsa);b=q.V.get(ea.Mj);a=q.V.get(Y.Vn).Ml("prepare","info",a);b.uc(a);}}function g(a,b,c){var d,g;g=a.video_tracks;g&&g.length&&g[0].streams&&g[0].streams.length&&(d=g[0].streams[0].content_profile);g=m.dpa(b.se);d=m.cpa(!!a.choiceMap,!1,d);d=f.Mb.Lp(Object.assign({},g,d));return{M:c,Td:0,Nab:function(){return{Ja:a,wg:!1,aC:a.defaultTrackOrderList[0].audioTrackId};},config:d,ie:!!b.ie,rxa:b.rxa};}function u(a,b,c){W.uo(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Q.trace("ldl not available in cache",f);W.uo(a,"manifest").then(function(f){var g,k,p;function d(b){Q.warn("ldl is now invalid",b);k.close();W.kw(a,"ldl",void 0);W.B2(a);}if(W.JS(a,"ldl"))c({status:N.Zc.ve.tA});else if(f.hasDrmStreams)if(m.config.uqa&&Ua&&Ua!==a&&!b.force)c({status:N.Zc.ve.UM});else if(m.config.vqa&&T&&T!==a&&!b.force)c({status:N.Zc.ve.wF});else{Ua&&Ua!==a&&(Ra[a]=(Ra[a]|0)+1);T&&T!==a&&(aa[a]=(aa[a]|0)+1);g=f.video_tracks[0].drmHeader.bytes;k=R({Ndb:"cenc",Oqa:Q,nJ:function(b){var c;c=[];b.Kp.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:q.Wr(a.data)});});b={Kp:c,qR:[f.drmContextId],xh:N.Zc.kpa(b.xh),Nf:f.playbackContextId,oa:W.Apa(a),wf:f.wf};Q.trace("xid created ",{MovieId:a,xid:b.oa});return E.Hx(b,h.hj.profile);},xrb:void 0,g8a:d,Pc:void 0,A9:S.le,Ra:C});W.kw(a,"ldl",k,function(){k.close();});p=eb.shift();q.log.trace("cached mediakeys count "+eb.length);return k.create(m.config.Rd,p).then(function(){return k.Lf(L.Zi.Lt,[q.Kk(g)],!0);}).then(function(){c(null,k);})["catch"](function(a){d(a);c(a);});}else c({status:N.Zc.ve.TM});})["catch"](function(a){Q.warn("Manifest not available for ldl request",a);c({status:N.Zc.ve.tA});});});}function G(a,b,c){W.uo(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Q.trace("ldl not available in cache",f);W.uo(a,"manifest").then(function(f){var g,k;function d(b,c){Q.warn(b+" LDL is now invalid.",c);W.kw(a,"ldl",void 0);W.B2(a);}if(W.JS(a,"ldl"))c({status:N.Zc.ve.tA});else if(f.hasDrmStreams)if(m.config.uqa&&Ua&&Ua!==a&&!b.force)c({status:N.Zc.ve.UM});else if(m.config.vqa&&T&&T!==a&&!b.force)c({status:N.Zc.ve.wF});else{Ua&&Ua!==a&&(Ra[a]=(Ra[a]|0)+1);T&&T!==a&&(aa[a]=(aa[a]|0)+1);g=f.video_tracks[0].drmHeader.bytes;k=q.V.get(x.fN)().then(function(b){var c;c={type:L.Zi.Lt,ZS:q.Kk(g),context:{Rd:m.config.Rd},Bg:{M:a,oa:W.Apa(a),Nf:f.playbackContextId,Yj:f.drmContextId,profileId:h.hj.profile.id,wf:f.wf}};return b.cw(c,q.V.get(O.$F)());}).then(function(a){c(null,a);return a;})["catch"](function(a){d("Unable to prepare an EME session.",a);});W.kw(a,"ldl",k,function(){try{k.then(function(a){a.close().subscribe(void 0,function(a){d("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){d("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(Je){d("Unable to cleanup LDL session, unexpected exception.",Je);}});}else c({status:N.Zc.ve.TM});})["catch"](function(a){Q.warn("Manifest not available for ldl request",a);c({status:N.Zc.ve.tA});});});}function R(a){var b,c;b=new X.Ig.At(a.Oqa,a.nJ,a.xrb,{Ug:!1,PJ:!1});c=q.V.get(l.XA);return X.Ig.Ct(a.Oqa,a.Ndb,a.Pc,{Ug:!1,PJ:!1,jva:m.config.ii,jBa:{cxa:m.config.iBa,Boa:m.config.uaa},kL:b,Bza:m.config.A$,La:void 0,gF:m.config.gF,nA:m.config.h4,onerror:a.g8a,A9:a.A9,Ra:a.Ra,xlb:!1,WS:m.config.WS,Ina:c.hI([]),dEa:c.nI([]),qD:m.config.qD});}U={getTime:p.Wf,zGb:p.EQ};la=q.V.get(t.ue);va=q.V.get(P.QY);E=q.V.get(ia.UF);C=U;eb=[];Q=q.Kf("VideoPreparer");Ra={};aa={};if(!X.Ig.Ct||!X.Ig.At){ca={};X.Ig.Ct=ca.yb;X.Ig.At=ca.request;}Q.info("instance created");W=new D.oSa({log:Q,Ra:U,zca:p.v1a,fD:function(a,b,c){var d;function f(){var b,c;la.Kx(d)||(d={trackingId:d});b={Ya:d,Kc:a,bJ:N.Zc.Yn.oha};Q.trace("manifest request for:"+a);c=q.V.get(Z.jG)();return va.fD(b,c);}d=b.$a;Q.trace("getManifest: "+a);m.config.vYa&&d&&d.Ja&&!W.JS(a,"manifest")&&(!d.Ja.clientGenesis||Date.now()-d.Ja.clientGenesis<m.config.oza)?(d.Ja.Iz=U.getTime(),d.Ja.sE=U.getTime(),b=d.Ja.runtime?q.V.get(r.RY).decode(d.Ja):d.Ja,W.kw(a,"manifest",b),c(null,b)):W.uo(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var d;Q.trace("manifest not available in cache",b);if(W.JS(a,"manifest"))c({status:N.Zc.ve.tA});else{d=U.getTime();b=f();W.kw(a,"manifest",b);b.then(function(b){b.Iz=d;b.sE=U.getTime();W.kw(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);W.kw(a,"manifest",void 0);});}});},vS:m.config.cp?G:u,u2:function(){return m.config.m4&&k.r7(m.config);},fv:function(a,b,c){var d;d=b.$a;W.uo(a,"manifest").then(function(b){b=g(b,d,a);f.Jk.moa(b,function(){c(null,{});});})["catch"](function(a){Q.error("Exception in getHeaders",a);c(a);});},gD:function(a,b,c){var d;d=b.$a;W.uo(a,"manifest").then(function(k){var h,p,m;h=g(k,d,a);p=k.duration;k=q.V.get(A.jX).cna({kA:y.Cb(k.bookmark),M:a,LK:y.Cb(p),Ya:d}).fa(y.ma);q.V.get(t.ue).Cp(d.U)&&(k=d.U);h.Hd=k;if(Ua!=a||d.ie||b.force){m=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(f.Jk.removeEventListener("prebuffstats",m),c(null,{}));};f.Jk.addEventListener("prebuffstats",m);f.Jk.moa(h);}else c({status:N.Zc.ve.wF});})["catch"](function(a){Q.error("Exception in getMedia",a);c(a);});},Ry:function(){return f.Jk.Ry();},t2:function(){return m.config.xR;},j9:function(a){var b;b=!1;f.Jk.h2().forEach(function(c){c.M==a&&(b=!0);});return b;},j5:function(){return f.Jk.h2().map(function(a){var c,d;c=f.Jk.ygb(a.M);d=c[b.qc.Ih.AUDIO]&&c[b.qc.Ih.AUDIO].data;c=c[b.qc.Ih.VIDEO]&&c[b.qc.Ih.VIDEO].data;return{M:a.M,xo:a.xo,Hna:d&&d.length,cEa:c&&c.length,i9a:la.Cp(a.Kb.VR),ifb:la.Cp(a.Kb.AT),Slb:la.Cp(a.Kb.jE),Rlb:la.Cp(a.Kb.WU)};});},G9:function(a){Ua=a;},H9:function(a){fa&&(fa.A2(),d());T=a;},BK:function(){fa&&fa.Yaa();T=Ua=void 0;},w5:function(){return{ldls_after_create:Ra,ldls_after_start:aa};},vI:m.config.vI,xI:m.config.xI,wI:m.config.wI,NJ:m.config.bmb,j2:m.config.emb,i2:m.config.cmb,x4:m.config.oza,w4:m.config.dmb,Ug:!1,Wc:q.V});J._cad_global.videoPreparer=W;ca=m.config.dlb;da=U.getTime();ca&&(fa=new n.nia(ca,d),fa.Yaa());a(c.xc);});},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y,L;Object.defineProperty(d,"__esModule",{value:!0});b=a(120);f=a(104);h=a(90);m=a(171);c=a(9);k=a(28);g=a(2);p=a(4);q=a(131);t=a(14);A=a(19);y=a(8);d=a(20);L=a(26);p.V.get(d.Fe).register(g.I.pfa,function(a){function d(a,b){function c(a){a=new q.wA(p.Kk(a));a.he();return{xv:a.Lza(),X7a:a.Lza()};}return{encrypt:function(b,c){var f;b=A.Qd(b)?p.vM(b):b;f=y.Pt.getRandomValues(new Uint8Array(16));k.ZD(y.Zm.encrypt({name:"AES-CBC",iv:f},a,b)).then(function(a){var b,d;a=new Uint8Array(a);b=[];d=new q.wA(b);d.HM(2);d.qEa(f);d.qEa(a);a=p.Wr(b);c({success:!0,encryptedDataAsn1Base64:a});},function(a){t.Ga(!1,"Encrypt error: "+a);c({success:!1});});},decrypt:function(b,f){b=c(b);k.ZD(y.Zm.decrypt({name:"AES-CBC",iv:b.xv},a,b.X7a)).then(function(a){a=new Uint8Array(a);f({success:!0,text:p.HW(a)});},function(a){t.Ga(!1,"Decrypt error: "+a);f({success:!1});});},hmac:function(a,c){a=A.Qd(a)?p.vM(a):a;k.ZD(y.Zm.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);c({success:!0,hmacBase64:p.Wr(a)});},function(a){t.Ga(!1,"Hmac error: "+a);c({success:!1});});}};}b.eO.CH.mdx={getEsn:function(){return f.vh.Qg;},createCryptoContext:function(a){var b,c,f;b=m.xn.Xg.getStateForMdx(h.hj.profile.id);c=b.cryptoContext;f=b.masterToken;b=b.userIdToken;f&&b?(t.Ga(c),f=["1",p.Wr(JSON.stringify(f.toJSON())),p.Wr(JSON.stringify(b.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:f,encrypt:function(a,b){a=A.Qd(a)?p.vM(a):a;c.encrypt(a,{result:function(a){a=p.Wr(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){t.Ga(!1,"Encrypt error: "+a);b({success:!1});}});},decrypt:function(a,b){a=p.Kk(a);c.decrypt(a,{result:function(a){b({success:!0,text:p.HW(a)});},timeout:function(){b({success:!1});},error:function(a){t.Ga(!1,"Decrypt error: "+a);b({success:!1});}});},hmac:function(a,b){a=A.Qd(a)?p.vM(a):a;c.sign(a,{result:function(a){b({success:!0,hmacBase64:p.Wr(a)});},timeout:function(){b({success:!1});},error:function(a){t.Ga(!1,"Hmac error: "+a);b({success:!1});}});}}})):(t.Ga(!1,"Must login first"),a({success:!1}));},createCryptoContextFromSharedSecret:function(a,b){var c;c=p.Kk(a);a=c.subarray(32,48);c=c.subarray(0,32);if(16!=a.length||32!=c.length)throw Error("Bad shared secret");Promise.all([k.ZD(y.Zm.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),k.ZD(y.Zm.importKey("raw",c,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){b({success:!0,cryptoContext:d(a[0],a[1])});},function(){b({success:!1});});},getServerEpoch:function(){return L.C2();}};a(c.xc);});},function(g,d,a){var b,f,h,m,c,k,p,q,t;Object.defineProperty(d,"__esModule",{value:!0});g=a(120);b=a(9);f=a(12);h=a(56);d=a(7);m=a(4);c=a(39);k=a(95);p=a(14);q=a(19);t=a(8);J.netflix=J.netflix||{};p.Ga(!J.netflix.player);J.netflix.player={VideoSession:g.eO,diag:{togglePanel:function(a,b){var c;if(!f.config||f.config.gL){switch(a){case"info":c=h.gr.map(function(a){return a.RU;});break;case"streams":c=h.gr.map(function(a){return a.Clb;});break;case"log":c=[];}c&&c.forEach(function(a){q.Tb(b)?b?a.show():a.nD():a.toggle();});}},addLogMessageSink:function(a){m.V.get(c.Mj).addListener({uBa:function(){},axa:function(b){a({data:b.data});}});}},log:m.Kf("Ext"),LogLevel:d.Hh,addLogSink:function(a,b){m.V.get(k.IA).qV(a,b);},getVersion:function(){return"6.0018.714.011";},isWidevineSupported:function(a){var f;function c(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");f=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.rl,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.Uw,robustness:"SW_SECURE_CRYPTO"}]}];try{t.sk.requestMediaKeySystemAccess("com.widevine.alpha",f).then(function(f){var d;d=f.getConfiguration();f=d.videoCapabilities||[];d=(d.audioCapabilities||[]).reduce(c(b.Uw),!1);f=f.reduce(c(b.rl),!1);a(d&&f);})["catch"](function(){a(!1);});}catch(x){a(!1);}}};},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(20);d=a(2);b=a(7);f=a(72);h=a(142);m=a(9);c=a(12);k=a(4);p=a(122);q=a(56);t=a(120);A=a(178);y=a(90);k.V.get(g.Fe).register(d.I.qfa,function(a){var g,u,L;function d(a,b){return void 0===a||void 0===b?Promise.reject("Invalid email and/or password"):k.V.get(A.nZ).We(this.log,y.hj.profile,{},{uR:a,password:b}).then(function(){});}if(c.config.v8a){g=k.V.get(h.PN);u=k.V.get(f.lp);L=k.V.get(b.ob).lb("Test");t.eO.CH.test={pboRequests:g.kL,playbacks:q.gr,aseManager:{cacheDestroy:function(){return p.Jk.loa();}},device:{esn:J._cad_global.device.Qg,esnPrefix:u.gn,errorPrefix:u.SC},log:{info:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return L.info(a,c);},error:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return L.error(a,c);},warn:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return L.warn(a,c);},trace:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return L.trace(a,c);},log:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return L.log(a,c);},debug:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return L.debug(a,c);}},login:d};}a(m.xc);});},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y,L,x,l,N,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(104);f=a(90);h=a(120);m=a(179);c=a(171);k=a(69);p=a(9);q=a(12);t=a(2);A=a(4);y=a(14);L=a(18);x=a(19);l=a(16);N=a(39);n=a(57);g=a(20);A.V.get(g.Fe).register(t.I.ofa,function(a){var g,u;function d(a,b){var c;c={profile:f.hj.profile,log:g,Gd:k.Gd};a.email&&(c.uR=a.email,c.password=a.password||"");a.sendNetflixIdUserAuthData&&(c.useNetflixUserAuthData=a.sendNetflixIdUserAuthData);a.vz&&(c.vz=a.vz);b({W:!0,yn:c});}g=A.Kf("NccpApi");u=L.BZa();h.eO.CH.nccp={getEsn:function(){return b.vh.Qg;},getPreferredLanguages:function(){return q.config.wh.kE;},setPreferredLanguages:function(a){y.Ga(l.isArray(a)&&x.Ly(a[0]));q.config.wh.kE=a;},netflixId:function(a,b){d(a,function(a){m.Ym.U1(a.yn).then(function(){b&&b({success:!0});})["catch"](function(a){b({success:!1,error:A.wZ(t.I.Gga,a)});});});},getDeviceTokens:function(a){y.Ga(l.Nb(a));m.Ym.U1({log:g,Gd:k.Gd}).then(function(b){a&&a(b);})["catch"](function(b){a({success:!1,error:A.wZ(t.I.Gga,b)});});},getRegistered:function(a,b){var d;try{d=c.xn.Xg.hasUserIdToken(a.id||f.hj.profile.id);b({success:!0,registered:d});}catch(ea){b({success:!1});}},unregister:function(a,b){try{c.xn.Xg.removeUserIdToken(a.id||f.hj.profile.id);b({success:!0});}catch(Z){b({success:!1});}},queueLogblob:function(a,b,c){var f;if(a&&b)if(b=b.toLowerCase(),u[b]){f=A.V.get(N.Mj);a=A.V.get(n.Vn).Ml(a,b,c);f.uc(a);}else g.warn("Invalid severity",{severity:b});},flushLogblobs:function(){A.V.get(N.Mj).flush(!0);}};a(p.xc);});},function(g,d,a){var b,f,h,m,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(69);f=a(28);h=a(14);m=a(18);c=a(19);d.aHa=function(a,b){h.Ga(a);h.Ga(b);h.sI(b.a8a,"endpointURL property is required");h.Ga(b.Gp);this.log=a;this.aza=b;};d.aHa.prototype.cv=function(){var a,d,g;a=this;a.log.trace("Downloading config data.");d={browserInfo:JSON.stringify(a.aza.Gp)};g=a.aza.a8a+"?"+f.AK(d);return new Promise(function(f,d){function k(b){var c;try{if(b.W){c=new Uint8Array(b.content);return{W:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{W:!1,message:"Unable to download the config. "+b.Sa,AJ:b.Vh};}catch(S){return b=m.ud(S),a.log.error("Unable to download the config. Received an exception parsing response",{message:S.message,exception:b,url:g}),{W:!1,Sa:b,message:"Unable to download the config. "+S.message};}}function h(b,f,d){return f>d?(a.log.error("Config download failed, retry limit exceeded, giving up",c.Wa({Attempts:f-1,MaxRetries:d},b)),!1):!0;}function q(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function p(g,t,u){b.Gd.download(g,function(b){var A;b=k(b);if(b.W)f(b);else{a.log.warn("Config download failed, retrying",c.Wa({Attempt:t,WaitTime:A,MaxRetries:u},b));if(h(b,t+1,u))return A=m.Jza(1E3,1E3*Math.pow(2,Math.min(t-1,u))),q(A).then(function(){return p(g,t+1,u);});d(b);}});}return b.Gd?p({url:g,responseType:3,withCredentials:!0,BC:"config-download"},1,3):Promise.reject({W:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(g,d,a){var b,f,h,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(9);g=a(2);h=a(4);m=a(167);a=a(20);h.V.get(a.Fe).register(g.I.dfa,function(a){b.config.J9a&&h.V.get(m.Iea).start();a(f.xc);});},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y,L,x,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(148);f=a(253);g=a(56);h=a(12);m=a(53);c=a(9);k=a(28);p=a(26);q=a(18);t=a(8);A=a(4);y=a(85);L=a(15);x=a(33);l=a(20);g.Rha(g.Mha,function(a){var Z,ea,Y,O,W,va;function d(b){b.newValue>=L.jb.LOADING&&(a.state.removeListener(d),r("type=openplay&sev=info&locstor="+t.$Y(N())),Y=p.Wf(),G());}function g(){va("type=startplay&sev=info&outcome=success");}function u(){var c,f;c=a.Xh;if(c){f="type=startplay&sev=error&outcome=error";c=b.ota(x.fJa,c);q.Uc(c,function(a,b){f+="&"+t.$Y(a)+"="+t.$Y(b||"");});va(f);}else va("type=startplay&sev=info&outcome=abort");}function G(){var a,b;a=O.shift();if(0<a){b=t.xm(a-(p.Wf()-Y),0);ea=setTimeout(function(){r("type=startstall&sev=info&kt="+a);G();},b);}}function n(){va("type=startplay&sev=info&outcome=unload");}function N(){var a,b,c;try{b=""+p.EQ();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(ka){a="ex: "+ka;}return a;}function r(b){b=W+"&soffms="+a.W5()+"&"+b;a.Bc&&Object.keys(a.Bc).length&&(b+="&"+k.AK(q.Wa({},a.Bc,{prefix:"sm_"})));f.Zsb("playback",b,Z);}Z=A.V.get(y.ut).host+h.config.Wba;if(h.config.jDa&&Z&&h.config.kDa.playback){O=h.config.$sb.slice();W="xid="+a.oa+"&pbi="+a.index+"&uiLabel="+(a.se||"");a.state.addListener(d);a.addEventListener(L.S.wj,g);a.addEventListener(L.S.Ie,u);m.Ce.addListener(m.Vk,n,c.RA);va=function(b){var f;va=c.le;f=A.V.get(l.Fe);b+="&initstart="+f.startTime+"&initend="+f.endTime;r(b);clearTimeout(ea);a.removeEventListener(L.S.wj,g);a.removeEventListener(L.S.Ie,u);m.Ce.removeListener(m.Vk,n);};}});},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(89);b=a(12);f=a(4);g.aG(function(a,d){var c,g,h,q;c={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480};Object.assign(c,b.config.Ctb);g=c[d.se];if(b.config.Dtb&&g){h={};q=f.$f(a,"MediaStreamFilter");return{ZI:"uiLabel",ft:function(a){if(a.lower&&a.height>g)return h[a.height]||(h[a.height]=!0,q.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:a.height}),d.Tm.set({reason:"uiLabel",height:a.height})),!0;}};}});},function(g,d,a){var f,h,m,c;function b(a){var d,g;function b(f){f=f.Jp;a.removeEventListener(c.S.l9,b);try{h.Aeb(f.data)&&(g=!0,a.tqb());d.trace("RA check",{HasRA:g});}catch(y){d.error("RA check exception",y);}}d=f.$f(a,"RAF");a.addEventListener(c.S.l9,b);return{ZI:"ra",ft:function(a){if(!g&&a.qn)return a=a.ff,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(89);f=a(4);h=a(254);m=a(33);c=a(15);m.jia&&g.aG(b);d.Rzb=b;},function(g,d,a){var f,h;function b(a,b){var c,d;c=h.$f(a,"MSS");if(f.config.Phb)return{ZI:"mss",ft:function(a){var f,g;if(a.lower&&2160<=a.height)a:{for(f=a;f.lower;){if(2160>f.height&&1080<f.height){f=!0;break a;}if(1080>=f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0===d){try{g=J.MSMediaKeys;d=g&&g.isTypeSupportedWithFeatures?"probably"===g.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(y){c.error("hasUltraHdDisplay exception");d=!0;}d||(c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.Tm.set({reason:"microsoftScreenSize",height:a.height}));}return!d;}}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(89);f=a(12);h=a(4);g.aG(b);d.Qzb=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(89).aG(function(){return{ZI:"op",ft:function(){}};});},function(g,d,a){var f,h,m,c,k,p,q,t,A;function b(a,b){var u,y,L,l,n,r,P,ia,Z,ea,Y;function d(){var c;c=a.Ob.value===t.ib.ad&&a.state.value===t.jb.$c&&a.ca===b.ca;Y?c||(clearInterval(Y),r=Y=void 0):c&&(Y=J.setInterval(g,1E3));}function g(){var b,f,d,g,k,h;b=a.Le.value;b=(b=b&&b.stream)&&b.height;if(null!==b&&0<b){f=c.Wf();d=a.zg.ry();if(d){if(r&&2E3>f-r.time&&b===r.height){g=d-r.M6a;k=y[b];k||(y[b]=k=[],b>ia&&(n.push(b),m.XW(n)));0<g&&!(ea&&ea<b)&&(ea=b);k.push(g);k.length>P&&k.shift();(k=l[b])||(l[b]=k={});h=k[g];k[g]=h?h+1:1;}r={time:f,M6a:d,height:b};a.RU&&a.RU.Ypb(y);}}}u=k.$f(a,"DFF");y={};L=f.config.Q6a;l={};n=[];P=f.config.O6a;ia=f.config.P6a;Z=h.cMa;if(f.config.N6a)return b.a4={f$a:function(){var a;a={};l&&n.forEach(function(b){var c,f,d;c=l[b];if(c){f=0;d=0;A.Uc(c,function(a,b){d+=p.Sd(a);f+=b;});a[b]=d/f;}});return a;},pJ:function(a){var b;b={};a.forEach(function(a){b[a]={};});l&&(m.XW(a),n.forEach(function(c){var f,d,g,k;f=l[c];if(f){d=0;g=0;A.Uc(f,function(a,b){d+=b;});k=Object.keys(f).map(Number);m.XW(k);for(var h=k.length-1,p=k[h],t=a.length-1;0<=t;t--){for(var u=a[t];p>=u&&0<=h;)(p=f[p])&&(g+=p),p=k[--h];b[u][c]=q.Jh(g/d*100);}}}));return b;}},a.state.addListener(d),a.Ob.addListener(d),a.addEventListener(t.S.tn,d),{ZI:"df",ft:function(a){var c,d,g,k;if(a.lower&&a.height>ia){a=a.height;a:{if(ea){c=n.length;for(var f=0;f<c;f++){d=n[f];if(d>=ea&&d<Z){g=y[d];if(k=g)b:{k=L.length;for(var h=g.length,q=0;q<k;q++)for(var p=L[q],t=p[0],p=p[1],m=0;m<h;m++)if(g[m]>=p&&0>=--t){k=!0;break b;}k=!1;}if(k&&Z!=d){u.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:d});b.Tm.set({reason:"droppedFrames",height:d});c=Z=d;break a;}}}ea=void 0;}c=Z;}a=a>=c;}else a=!1;return a;}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(89);f=a(12);h=a(9);m=a(28);c=a(26);k=a(4);p=a(19);q=a(8);t=a(15);A=a(18);g.aG(b);d.Pzb=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);a=a(325);a=g.V.get(a.Qca);a;},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y,L,x,l,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(148);f=a(9);h=a(12);m=a(56);c=a(26);g=a(2);k=a(4);p=a(114);q=a(8);t=a(45);A=a(16);y=a(39);L=a(57);a=a(20);n=k.V.get(a.Fe);n.register(g.I.ffa,function(a){var g;function d(){var a,f,d,k;a=n.startTime;f={browserua:q.Oj,browserhref:q.aZ.href,initstart:a,initdelay:n.endTime-a};(a=q.Ld.documentMode)&&(f.browserdm=""+a);"undefined"!==typeof J.nrdp&&J.nrdp.device&&(f.firmware_version=J.nrdp.device.firmwareVersion);A.Ly(h.config.sra)&&(f.fesn=h.config.sra);Object.assign(f,b.wta());d=q.br&&q.br.timing;d&&h.config.mgb.map(function(a){var b;b=d[a];b&&(f["pt_"+a]=b-c.w1a());});k=g.ata();Object.keys(k).forEach(function(a){return f["m_"+a]=k[a];});a=l.Ml("startup","info",f,m.mG.P4);x.uc(a);}l=k.V.get(L.Vn);x=k.V.get(y.Mj);g=k.V.get(p.jx);n.aK(function(){x.Ac();t.zb(d);});a(f.xc);});},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(12);h=a(26);d.Bwb=function(a){var c;c={ZDb:a,ira:!0,Lnb:!1,afb:h.Wf(),load:function(a){(a||b.le)(b.xc);},save:function(){c.ira=!0;},remove:function(a){c.ira=!1;(a||b.le)(b.xc);},dDb:f.config.wh.kE,sHb:!0};return c;};},function(g,d,a){var m,c,k,p;function b(a,b,d,g){var q,t,u;m.Ga(p.Xe(a)&&!p.isArray(a));g=g||"";q="";t=a.hasOwnProperty(k.Vi)&&a[k.Vi];t&&c.Uc(t,function(a,b){q&&(q+=" ");q+=a+'="'+h(b)+'"';});d=(b?b+":":"")+d;t=g+"<"+d+(q?" "+q:"");u=a.hasOwnProperty(k.Qq)&&a[k.Qq].trim&&""!==a[k.Qq].trim()&&a[k.Qq];if(u)return t+">"+h(u)+"</"+d+">";a=f(a,b,g+"  ");return t+(a?">\n"+a+"\n"+g+"</"+d+">":"/>");}function f(a,f,d){var g;m.Ga(p.Xe(a)&&!p.isArray(a));d=d||"";g="";c.Uc(a,function(a,k){var m;if("$"!=a[0])for(var q=c.v8(k),t=0;t<q.length;t++)if(k=q[t],g&&(g+="\n"),p.Xe(k))g+=b(k,f,a,d);else{m=(f?f+":":"")+a;g+=d+"<"+m+">"+h(k)+"</"+m+">";}});return g;}function h(a){if(p.Qd(a))return c.M6(a);if(p.pa(a))return m.VQ(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";m.Ga(!1,"Invalid xml value.");return"";}Object.defineProperty(d,"__esModule",{value:!0});m=a(14);c=a(18);k=a(124);p=a(16);d.GHb=b;d.HHb=f;d.nKb=h;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(2);b=a(4);f=a(304);a=a(20);b.V.get(a.Fe).register(g.I.efa,function(a){b.V.get(f.iea)().then(function(){a({W:!0});})["catch"](function(f){b.log.error("error in initializing indexedDb debug tool",f);a({W:!0});});});},function(g,d,a){var b,f,h,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(28);f=a(9);h=a(12);m=a(2);c=a(468);k=a(33);p=a(8);g=a(4);a=a(20);q=g.V.get(a.Fe);k.PY&&q.register(m.I.rfa,function(a){p.Zm&&p.Zm.generateKey&&p.Zm.importKey&&p.Zm.unwrapKey?!k.Ig.Ida&&h.config.KH!=c.PM.QOa&&h.config.KH!=c.PM.jMa||p.ZY?(q.Pc("wcs"),b.ZD(p.Zm.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){q.Pc("wcdone");a(f.xc);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=m.u.WZ:0<=b.indexOf("timeout waiting for iframe to load")&&(c=m.u.wSa);a({Y:c,Sa:b});})):a({Y:m.u.vSa}):a({Y:m.u.WZ});});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(12);a(9);g=a(4);a(95);a(185);a(2);a(96);a(3);a=a(20);g.V.get(a.Fe);},function(g,d,a){var p,q,t,A,y;function b(a){var b,f;q.sI(a);if(t.Qd(a)&&d.gLa.test(a)){b=a.split(".");if(4===b.length){for(var c=0;c<b.length;c++){f=t.Sd(b[c]);if(0>f||!y.uv(f,0,255)||1!==b[c].length&&0===b[c].indexOf("0"))return;}return a;}}}function f(a){var c;c=0;if(b(a)===a)return a=a.split("."),c+=t.Sd(a[0])<<24,c+=t.Sd(a[1])<<16,c+=t.Sd(a[2])<<8,c+t.Sd(a[3]);}function h(a){var b;q.sI(a);if(t.Qd(a)&&a.match(d.hLa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=m(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?c(a):b,a=b.length,8===a)){for(;a--;)if(!y.uv(parseInt(b[a],16),0,p.dMa))return;return b.join(":");}}}function m(a){var b;a=f(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function c(a){var b,c,f;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(f=0;f<c;f++)b.push("0");for(f=0;f<a.length;f++)b.push(a[f]);return b;}function k(a){return-1<<32-a;}Object.defineProperty(d,"__esModule",{value:!0});p=a(9);q=a(14);t=a(19);A=a(8);y=a(16);d.gLa=/^[0-9.]*$/;d.hLa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;d.FA="0000000000000000";d.gzb=b;d.czb=f;d.hzb=h;d.ezb=m;d.fzb=c;d.izb=function(a,c,g){var q,p,t,m;q=b(a);p=h(a);t=b(c);m=h(c);if(!q&&!p||!t&&!m||q&&!t||p&&!m)return!1;if(a===q)return g=k(g),(f(a)&g)!==(f(c)&g)?!1:!0;if(a===p){a=a.split(":");c=c.split(":");for(q=A.Ww(g/d.FA.length);q--;)if(a[q]!==c[q])return!1;g%=d.FA.length;if(0!==g)for(a=parseInt(a[q],16).toString(2),c=parseInt(c[q],16).toString(2),a=d.FA.substring(0,d.FA.length-a.length)+a,c=d.FA.substring(0,d.FA.length-c.length)+c,q=0;q<g;q++)if(a[q]!==c[q])return!1;return!0;}return!1;};d.dzb=k;},function(g,d,a){var b,f,h,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(14);a(18);h=a(19);m=a(2);c=a(33);k=a(45);p=a(8);a(16);q=a(130);d.OHb=function(a,d){var u,A,l;function g(a){var b;b=d;d=h.le;b(a);}function t(a){var b,c,d,h;try{b=JSON.parse(a.data);c=b.method;d=b.success;h=b.payload;f.Ga("ready"==c);"ready"==c&&(A.removeEventListener("message",t),l.Zg(),k.zb(function(){u.info("Plugin sent ready message");d?g({success:!0,pluginObject:A,pluginVersion:h&&h.version}):g({Y:m.u.jha,Gc:b.errorCode});}));}catch(P){u.error("Exception while parsing message from plugin",P);g({Y:m.u.kha});}}u=b.Kf("Plugin");f.Ga(a);if(a){a=a[0].type;u.info("Injecting plugin OBJECT",{Type:a});A=h.createElement("OBJECT",c.Ig.IOa,void 0,{type:a,"class":"netflix-plugin"});A.addEventListener("message",t);l=b.V.get(q.ZA)(8E3,function(){u.error("Plugin load timeout");g({Y:m.u.mha});});p.Ld.body.appendChild(A);l.us();}else g({Y:m.u.lha});};d.QHb=function(){};d.PHb=function(a){var c,f,d;c=b.Kf("Plugin");f=1;d={};a.addEventListener("message",function(a){var b,f,g,k;try{b=JSON.parse(a.data);f=b.success;g=b.payload;k=d[b.idx];k&&(f?k({W:!0,fEb:g}):k({W:!1,Y:m.u.GOa,Sa:b.errorMessage,Gc:b.errorCode}));}catch(X){c.error("Exception while parsing message from plugin",X);}},!1);return function(g,k,h){var t,u,A,y;function p(a){a.W||c.info("Plugin called back with error",{Method:g},m.Un(a));A.Zg();delete d[t];h(a);}try{t=f++;u={idx:t,method:g};u.argsObj=k||{};A=b.V.get(q.ZA)(8E3,function(){c.error("Plugin never called back",{Method:g});delete d[t];h({Y:m.u.HOa});});A.us();y=JSON.stringify(u);d[t]=p;a.postMessage(y);}catch(P){c.error("Exception calling plugin",P);h({Y:m.u.JOa});}};};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);d=a(95);a=a(185);g.V.get(d.IA).qV(a.Zfa.wGa,function(a){var b,d;b=a.level;if(!J._cad_global.config||b<=J._cad_global.config.qgb){a=a.tW();d=J.console;1>=b?d.error(a):2>=b?d.warn(a):d.log(a);}});},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);f=a(8);d.OCb=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};d.MCb=function(a,f,c){c=b.Qd(c)?c:"...";return a.length<=f?a:a.substr(0,a.length-(a.length+c.length-f))+c;};d.NCb=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=f.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};d.PCb=function(a){for(var b=a.length,c=new Uint16Array(b),f=0;f<b;f++)c[f]=a.charCodeAt(f);return c.buffer;};d.FKb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,f){b[f]=a.charCodeAt(0);});return b;};},function(g){function d(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}g.T={F1a:function(a,b,d){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return d.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},j3:function(a,b,d){var c;c={};c.displayTime=a.Fi;c.duration=a.duration;c.originX=a.EU;c.originY=a.FU;c.sizeX=a.$V;c.sizeY=a.aW;c.imageData=b;c.id=a.Xp;c.rootContainerExtentX=d.zV;c.rootContainerExtentY=d.AV;return c;},R$a:function(a,b){return"o_"+a+"s_"+b;},aEa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},Tb:function(a){return"undefined"!==typeof a;},dpb:function(a,b){return a.some(function(a){return a.id===b;});},T6a:function(f,g){return f.filter(d.bind(null,g)).map(a).reduce(b,0);},lJ:function(a,b){var f,c;f=Object.create({});for(c in a)f[c]=a[c];a instanceof Error&&(f.message=a.message,f.stack=a.stack);f.errorString=b;return f;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(g){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},oj:function(){return this.buffer.length-this.position;},he:function(){return this.buffer[this.position++];},vd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},mc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},xq:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},J$:function(){for(var a="",b;b=this.he();)a+=String.fromCharCode(b);return a;},Ab:function(){return this.mc(2);},Na:function(){return this.mc(4);},Pf:function(){return this.mc(8);},kV:function(){return this.mc(2)/256;},aL:function(){return this.mc(4)/65536;},bf:function(a){for(var b,f="";a--;)b=this.he(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;},ew:function(){return this.bf(4)+"-"+this.bf(2)+"-"+this.bf(2)+"-"+this.bf(2)+"-"+this.bf(6);},bL:function(a){for(var b=0,f=0;f<a;f++)b+=this.he()<<(f<<3);return b;},Az:function(){return this.bL(4);},qF:function(a){this.Oq(a,2);},Pq:function(a){this.Oq(a,4);},HM:function(a){this.buffer[this.position++]=a;},Oq:function(a,b){this.position+=b;for(var f=1;f<=b;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},Nq:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},oA:function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];},pA:function(a,b){this.oA(a.vd(b));}};g.T=d;},function(g,d,a){var D,r,P,ia,Z,ea;function b(a){D.call(this);this.D$a=p;this.Bi=a.url;this.gH=a.request;this.kP=a.Hd||0;this.VO=a.Ug;this.rb=a.ia;this.fj=this.mh=null;this.IG={};this.$t=0;this.WG=a.bufferSize||4194304;this.p0={};this.Bma=a.version||1;a.key&&(this.dka=a.crypto,this.sx=this.dka.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.Io?this.mh=a.Io:(this.Bd=a.offset,this.wXa=a.size);}function f(){}function h(){}function m(a,b){var d,g,k,h,q,p,t,m;if(a)this.emit(Z.ERROR,ia.lJ(a,ea.kMa));else try{if(2===this.Bma){g=new f();k=P.H$(b)[0];h=k.dv("636F6D2E-6E65-7466-6C69-782E68696E66");q=k.dv("636F6D2E-6E65-7466-6C69-782E6D696478");g.YS=h.Dna;g.Ng=h.Ng;g.zn=h.zn;g.M=h.M;g.zV=h.zV;g.AV=h.AV;g.language=h.$eb;g.usb=h.Xrb;g.startOffset=q.rpb;p=[];t=0;for(a=0;a<q.je.length;a++){m=q.je[a];b={};b.duration=m.duration;b.size=m.size;p.push(b);t+=b.duration;}g.entries=p;g.endTime=t;d=g;}else{p=new r(b);t=new f();t.identifier=p.xq(4);ia.assert("midx"===t.identifier);t.version=p.mc(4);ia.assert(0===t.version);t.YS=p.vd(36);t.Ng=p.Pf();t.zn=p.Pf();t.M=p.Pf();t.zV=p.Ab();t.AV=p.Ab();t.language=p.vd(16);t.usb=p.vd(16);t.startOffset=p.Pf();t.Op=p.Ab();g=[];for(m=q=0;m<t.Op;m++)a={},a.duration=p.mc(4),a.size=p.Ab(),g.push(a),q+=a.duration;t.entries=g;t.endTime=q;d=t;}this.mh=d;c.call(this);}catch(la){this.emit(Z.ERROR,ia.lJ(la,ea.lMa));}}function c(){var a,b;a=this.mh;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.Bi,offset:b,size:a},this.emit(Z.mMa,this.mh),this.gH(b,k.bind(this))):this.emit(Z.ERROR,ia.lJ({},ea.vNa));}function k(a,b){var c,f,d,g;c=this;if(a)c.emit(Z.ERROR,ia.lJ(a,ea.AQa));else{f=0;d=[];g=0;try{c.mh.entries.forEach(function(a){var k,q,p,t,m,A,y;q=f;p=c.mh.YS;t=c.rb;if(2===c.Bma){k=new h();m=P.H$(b);k.entries=[];k.images=[];for(var u=0;u<m.length;u++)for(p=m[u],q=p.dv("636F6D2E-6E65-7466-6C69-782E73696478"),p=p.dv("636F6D2E-6E65-7466-6C69-782E73656E63"),t=0;t<q.Hn.length;t++){A={};y=q.Hn[t];A.Fi=y.Fi;A.duration=y.duration;A.EU=y.EU;A.FU=y.FU;A.$V=y.$V;A.aW=y.aW;A.Xp=y.Xp;A.oD=y.oD;if(y=p&&p.Hn[t])A.BR={xv:y.xv.slice(0),mode:y.Xqa};k.entries.push(A);}}else{k=new r(b);m=new h();u=0;k.position=q;m.identifier=k.xq(4);ia.assert("sidx"===m.identifier);m.YS=k.vd(36);ia.F1a(m.YS,p,t);m.duration=k.mc(4);m.Op=k.Ab();m.entries=[];for(m.images=[];u<m.Op;)q={},q.Fi=k.mc(4),q.duration=k.mc(4),q.EU=k.Ab(),q.FU=k.Ab(),q.$V=k.Ab(),q.aW=k.Ab(),q.Xp=k.Pf(),q.oD=k.mc(4),u++,m.entries.push(q);k=m;}d.push(k);a.bba=k;k.F$=g;k.ZK=g+a.duration;g=k.ZK;m=k.entries;m.length&&(k.startTime=m[0].Fi,k.endTime=m[m.length-1].Fi+m[m.length-1].duration);f+=a.size;});}catch(ja){c.emit(Z.ERROR,ia.lJ(ja,ea.BQa));return;}c.fj=d;c.emit(Z.CQa,this.fj);a=q.call(c,c.kP,2);a.length?L.call(c,a,c.kP,function(a){a&&c.rb.error("initial sidx download failed");c.emit(Z.iia);}):c.emit(Z.iia);}}function p(a){var b,c,f,d,g;b=q.call(this,a,2);c=(c=this.mh)?c.endTime:void 0;if(a>c)return[];f=this.IG.Bq;d=this.IG.index;c=[];d=ia.Tb(d)&&this.fj[d+1];if(!(d&&d.entries.length||f&&!(a>f.endTime)))return[];b.length&&L.call(this,b,a);f&&f.images.length&&(c=A(f,a,[],this.mh));d&&d.images.length&&(b=A(d,a,c,this.mh),c.push.apply(c,b));b=y(c);if(this.fj&&0!=this.fj.length){c=this.fj[Math.floor(a/6E4)];if(!(c.F$<=a&&a<=c.ZK))a:{c=this.fj.length;if(!this.h8a){this.h8a=!0;b:{try{g=String.fromCharCode.apply(String,this.mh.language);break b;}catch(ja){}g="";}this.rb.error("bruteforce search for ",{movieId:this.mh.M,packageId:this.mh.zn,lang:g});}for(g=0;g<c;g++)if(f=this.fj[g],f.F$<=a&&a<=f.ZK){c=f;break a;}c=void 0;}g=c;}else g=void 0;if(c=g&&0<g.entries.length&&0===g.images.length)a:{c=g.entries.length;for(d=0;d<c;d++)if(f=g.entries[d],f.Fi<=a&&f.Fi+f.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function q(a,b){var c,g;c=[];if(a=t.call(this,a))this.IG=a;else return this.IG={},c;for(var f=0,d=this.fj?this.fj.length:0;f<b&&a.index+f<d;){g=this.fj[a.index+f];g&&!g.images.length&&c.push(g);f++;}return c;}function t(a){var b,c,f,d,g,k,h;c=this.IG;f=c.Bq;d=c.index;g=this.fj;this.Og(ia.Tb(a));f&&(0===d&&a<=f.startTime?(h=!0,b=c):a>=f.startTime&&a<=f.endTime?(h=!0,b=c):(k=g[d-1],g=g[d+1],k&&a>k.endTime&&a<=f.startTime?(h=!0,b=c):g&&a>=f.endTime&&a<=g.endTime&&(h=!0,b={Bq:g,index:d+1})));if(!h)for(c=this.mh.entries,f=c.length,d=0;d<f;d++)if(k=c[d].bba,a<=k.startTime||a>k.startTime&&a<=k.endTime){b={Bq:c[d].bba,index:d};break;}return b;}function A(a,b,c,f){var d,g,k,h,q,p;d=a.entries;g=d.length;k=[];q=0;if(!d.length)return k;for(;q<g;){h=d[q];if(h.Fi<=b)h.Fi+h.duration>=b&&k.push(ia.j3(h,a.images[q].data,f));else{p=k.length&&k[k.length-1]||c.length&&c[c.length-1];if(p&&p.Fi>b&&p.Fi!==h.Fi)break;p.Xp!==h.Xp&&k.push(ia.j3(h,a.images[q].data,f));}q++;}return k;}function y(a){return a.map(function(b,c){b.duration+=ia.T6a(a.slice(c+1),b);return b;}).reduce(function(a,b){ia.dpb(a,b.id)||a.push(b);return a;},[]);}function L(a,b,c){var f,d,g,k,h,q;f=this;d=a[0];g=a[a.length-1];0<d.entries.length&&(k=d.entries[0].Xp,h=d.entries[d.entries.length-1]);0<g.entries.length&&(ia.Tb(k)||(k=g.entries[0].Xp),h=g.entries[g.entries.length-1]);if(k){d=h.Xp+h.oD-k;q=ia.R$a(k,d);f.p0[q]||(f.p0[q]=!0,x.call(f,a,b),f.gH({url:f.Bi,offset:k,size:d},function(b,d){var g,h,p,t;setTimeout(function(){delete f.p0[q];},1E3);if(b)c&&c(b);else{g=new r(d);h=0;t=[];a.forEach(function(a){a.entries.forEach(function(b,c){var d,q;g.position=b.Xp-k;d={data:g.vd(b.oD)};q=b.BR;q&&(d.xv=q.xv,d.Xqa=q.mode,p=!0,t.push(d));a.images[c]=d;!b.BR&&ia.aEa(a.images[c].data,f.Og.bind(f));h+=a.images[c].data.length;});});f.$t+=h;p?f.sx.then(function(a){return X.call(f,t,a);}).then(function(){c&&c(null);})["catch"](function(a){f.rb.error("decrypterror",a);c&&c({W:!1});}):c&&c(null);}}));}else c&&c(null);}function x(a,b){var g,k,h,q,p,m;function c(){return{pts:b,hasEnoughSpace:g.$t+k<=g.WG,required:k,currentSize:g.$t,max:g.WG,currentIndex:t.call(g,b).index,sidxWithImages:n.call(g),newSidxes:a.map(function(a){return g.fj.indexOf(a);})};}function f(a,b){g.VO&&!a&&g.rb.info("not done in iteration",b);}function d(a){var b,c,f;b=g.fj[a];c=b.images&&b.images.length;if(0<c){f=l([b]);b.images=[];g.$t-=f;g.VO&&g.rb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:f,images:c});if(g.$t+k<=g.WG)return!0;}}g=this;k=l(a);g.rb.info("make space start:",c());if(!(g.$t+k<=g.WG)){h=t.call(g,b).index;q=!1;p=0;m=g.fj.length-1;if(0>h){g.rb.error("inconsistent sidx index");return;}for(;!q&&p<h-2;)q=d(p),p++;for(f(q,1);!q&&m>h+2;)q=d(m),m--;for(f(q,2);!q&&p<h;)q=d(p),p++;for(f(q,3);!q&&m>h;)q=d(m),m--;f(q,4);q||g.rb.error("could not make enough space",{maxBuffer:this.WG});}g.rb.info("make space end",c());}function l(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.oD+a;},0);},0);}function n(){var a;a=[];this.mh&&this.mh.entries&&this.mh.entries.reduce(function(b,c,f){var d;c=c.bba;d=0;c&&c.images.length&&(a.push(f),d=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+d;},0);return a.join(", ");}function R(a,b){return a&&a.F$<=b&&a.ZK>=b;}function S(a,b){var c,f,d,g,k,h;c=this;f=c.mh;d=c.fj;g=d&&d.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(f&&d){if(0===g)return[];f=d[0].duration;if(ia.Tb(f)&&0<f)f=Math.floor(a/f),k=f<g&&R(d[f],a)?d[f]:void 0;else for(c.VO&&c.rb.warn("duration not defined, so use brute force to get starting sidx"),f=0;f<g;f++){h=d[f];if(R(h,a)){k=h;break;}}if(ia.Tb(k)){k=[];for(var q=function(c){var f;f=c.Fi<=a&&a<=c.Fi+c.duration;return a<=c.Fi&&c.Fi<=b||f;};f<g;){h=d[f];k=k.concat(h.entries.filter(q));if(b<h.ZK)break;f++;}k=k.map(function(a){return ia.j3(a,null,c.mh);});return y(k);}}}function X(a,b){var f,d;function c(a,b){var c,f;c=this;f=new Uint8Array(16);f.set(a.xv);return c.dka.decrypt({name:"AES-CTR",counter:f,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));ia.aEa(a.data,c.Og.bind(c));});}f=this;try{d=[];a.forEach(function(a){a.xv&&(a=c.call(f,a,b),d.push(a));});return(void 0).all(d);}catch(M){return f.rb.error("decrypterror",M),(void 0).reject(M);}}D=a(144).EventEmitter;r=a(513);P=a(297);ia=a(512);Z=b.events={mMa:"midxready",CQa:"sidxready",iia:"ready",ERROR:"error"};ea=b.cGb={kMa:"midxdownloaderror",lMa:"midxparseerror",vNa:"nosidxfoundinmidx",AQa:"sidxdownloaderror",BQa:"sidxparseerror"};b.prototype=Object.create(D.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.mh)this.rb.warn("midx was prefectched and provided"),c.call(this);else{a={url:this.Bi,offset:this.Bd,size:this.wXa,responseType:"binary"};this.rb.warn("downloading midx...");this.gH(a,m.bind(this));}};b.prototype.close=function(){};b.prototype.Og=function(a){this.VO&&ia.assert(a,this.rb);};b.prototype.jv=function(a,b){return S.call(this,a,b);};b.prototype.g6=function(a,b){return(a=this.jv(a,b))?a.length:a;};g.T=b;},function(g,d,a){var h;function b(a,b){return b.reduce(f.bind(this,a),[]);}function f(a,b,f){var c,d;c=f.displayTime-a;a=f.displayTime+f.duration-a;d=0<b.length?b[0].timeout:Infinity;return 0<c&&c<d?[{timeout:c,type:"showsubtitle",ce:f}]:c===d?b.concat([{timeout:c,type:"showsubtitle",ce:f}]):0<a&&a<d?[{timeout:a,type:"removesubtitle",ce:f}]:a===d?b.concat([{timeout:a,type:"removesubtitle",ce:f}]):b;}h=a(144).EventEmitter;d=a(255)({});a=function c(a,b,f){if(!(this instanceof c))return new c(a,b,f);h.call(this);this.pr=a;this.rUa=b;this.Er={};this.JB={};this.rb=f||console;this.qO=!1;};a.prototype=Object.create(h.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.Uj);Object.keys(a.Er).forEach(function(b){a.emit("removesubtitle",a.Er[b]);});a.Er={};};a.prototype.pause=function(){clearTimeout(this.Uj);};a.prototype.bp=function(a,f){var c,d;c=this;d=c.pr();clearTimeout(this.Uj);a=c.rUa(d);null!==a&&c.qO&&(c.qO=!1,c.emit("bufferingComplete"));f="number"===typeof f?f:0;Object.keys(c.Er).forEach(function(a){a=c.Er[a];a.displayTime<=d&&d<a.displayTime+a.duration||(delete c.Er[a.id],c.emit("removesubtitle",a));});Object.keys(c.JB).forEach(function(a){a=c.JB[a];d>=a.displayTime+a.duration&&delete c.JB[a.id];});null!==a&&0<a.length?(f=a.length,c.rb.info("found "+f+" entries for pts "+d),a.forEach(function(a){a.displayTime<=d&&d<a.displayTime+a.duration&&!c.Er[a.id]&&(c.emit("showsubtitle",a),c.Er[a.id]=a,delete c.JB[a.id]);}),f=a[a.length-1],c.Er[f.id]||c.JB[f.id]||(c.emit("stagesubtitle",f),c.JB[f.id]=f),f=b(d,a),0<f.length?c.sP(f[0].timeout):c.sP(2E4)):null===a?(a=250*Math.pow(2,f),2E3<a&&(a=2E3),c.rb.warn("checking buffer again in "+a+"ms"),c.qO||(c.qO=!0,c.emit("underflow")),c.sP(a,f+1)):c.sP(2E4);};a.prototype.sP=function(a,b){var c;c=this;c.rb.trace("Scheduling pts check.");c.Uj=setTimeout(function(){c.bp(c.pr(),b);},a);};g.T=d(["function","function","object"],a);},function(g,d,a){var c,k,p;function b(a){var b;b=1;"dfxp-ls-sdh"===this.jP&&(b=a.vEb.length);this.rb.info("show subtitle called at "+this.pr()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.gu[this.gu.length-1].TV+=b;}function f(a){this.rb.info("remove subtitle called at "+this.pr()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function h(){this.rb.info("underflow fired by the subtitle timer");this.emit("underflow");}function m(){this.rb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}c=a(144).EventEmitter;k=a(515);d=a(255)();p=a(514);a=function t(a,d){var g,u;g=this;u=a.Ug||!1;if(!(g instanceof t))return new t(a,d);c.call(g);g.rb=a.ia||console;g.gH=a.request;g.pr=a.sta;g.Uj=null;g.Ar=!0;g.gu=[];g.jP=d.profile;g.Bi=d.url;g.kP=d.Hd;g.BWa=d.Zlb;g.HTa=d.bn;a={url:g.Bi,request:g.gH,Hd:g.kP,xml:d.xml,Zlb:g.BWa,bn:g.HTa,ia:g.rb,Ug:u,bufferSize:d.bufferSize,crypto:d.crypto,key:d.key,Io:d.Io};if("nflx-cmisc"===g.jP)a.offset=d.pK,a.size=d.ZT,g.Dc=new p(a);else if("nflx-cmisc-enc"===g.jP)a.version=2,a.offset=d.pK,a.size=d.ZT,g.Dc=new p(a);else throw Error("SubtitleManager: "+g.jP+" is an unsupported profile");g.Dc.on("ready",function(){var a,c;a=!!d.m_a;g.rb.info("ready event fired by subtitle stream");g.emit("ready");c=g.Dc.D$a.bind(g.Dc);g.Uj=new k(g.pr,c,g.rb);g.Uj.on("showsubtitle",b.bind(g));g.Uj.on("removesubtitle",f.bind(g));g.Uj.on("underflow",h.bind(g));g.Uj.on("bufferingComplete",m.bind(g));a&&(g.rb.info("autostarting subtitles"),setTimeout(function(){g.bp(g.pr());},10));});g.Dc.on("error",g.emit.bind(g,"error"));};a.prototype=Object.create(c.prototype);a.prototype.start=function(){this.Dc.start();};a.prototype.bp=function(a){this.Ar&&(this.Ar=!1,this.rb.info("creating a new subtitle interval at "+a),this.gu.push({U:a,TV:0}));null!==this.Uj&&this.Uj.bp(a);};a.prototype.stop=function(){var a;this.pr();this.rb.info("stop called");this.Ar||this.pause();this.Dc.removeAllListeners(["ready"]);null!==this.Uj&&this.Uj.stop();a=this.gu.reduce(function(a,b){a.XBa+=b.TV;a.VI+=b.jra;a.$db.push(b);return a;},{XBa:0,VI:0,$db:[]});"object"===typeof this.Dc&&this.Dc.close();this.rb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.pr();if(this.Ar)this.rb.warn("pause called on subtitle manager, but it was already paused!");else{this.rb.info("pause called at "+a);this.Ar=!0;this.rb.info("ending subtitle interval at "+a);b=this.gu[this.gu.length-1];b.ba=a;b.ba<b.U&&(this.rb.warn("correcting for interval where endPts is smaller than startPts"),b.U=0<b.ba?b.ba-1:0);b.jra=this.Dc.g6(b.U,b.ba);this.rb.info("showed "+b.TV+" during this interval");this.rb.info("expected "+b.jra+" for this interval");}null!==this.Uj&&this.Uj.pause();};a.prototype.jv=function(a,b){return this.Dc.jv(a,b);};a.prototype.g6=function(a,b){return this.Dc.g6(a,b);};a=d([{request:"function",sta:"function",ia:"object"},"object"],a);g.T=a;},function(g,d,a){var f,h,m,c,k,p;function b(a,b,f,d){a=c.xe.call(this,a,void 0===d?"AppInfoConfigImpl":d)||this;a.config=b;a.Zba=f;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(51);m=a(34);c=a(36);k=a(27);a=a(219);ca(b,c.xe);qa.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},$qa:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq"+(this.Zba.GW?"/msl_v1":"");}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.QI){case h.Dt.gRa:a="www.stage";break;case h.Dt.Wia:a="www-qa.test";break;case h.Dt.Afa:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},Vna:{configurable:!0,enumerable:!0,get:function(){return"pbo_events";}}});p=b;g.__decorate([m.config(m.string,"apiEndpoint")],p.prototype,"endpoint",null);g.__decorate([m.config(m.string,"nqEndpoint")],p.prototype,"$qa",null);g.__decorate([m.config(m.string,"bindService")],p.prototype,"Vna",null);p=g.__decorate([f.N(),g.__param(0,f.l(k.cj)),g.__param(1,f.l(h.vm)),g.__param(2,f.l(a.aO)),g.__param(3,f.l(k.vA)),g.__param(3,f.optional())],p);d.YEa=p;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(517);f=a(85);g=a(1);d.t1=new g.ac(function(a){a(f.ut).to(b.YEa).Z();});},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);f=[b.I.LKa,b.I.mfa,b.I.kfa,b.I.lfa,b.I.rfa,b.I.gfa,b.I.efa,b.I.EY,b.I.sfa,b.I.hfa,b.I.$ea,b.I.cfa,b.I.ffa,b.I.Ht,b.I.afa,b.I.dfa,b.I.ofa,b.I.pfa,b.I.qfa,b.I.MKa,b.I.OKa,b.I.SKa,b.I.QKa,b.I.PKa,b.I.NKa,b.I.RKa,b.I.nfa,b.I.jfa,b.I.ifa,b.I.bfa];(function(a){a.FNa=function(a){var d;for(var c={},f=0;f<a.length;f++){d=a[f];if(c[d.errorCode])return{errorCode:d.errorCode,Y:b.u.GEa};c[d.errorCode]=1;}};a.GNa=function(a){var d;for(var c=0;c<a.length;c++){d=a[c];if(-1===f.indexOf(d.errorCode))return{errorCode:d.errorCode,Y:b.u.HEa};}};}(h||(h={})));d.omb=function(a){return new Promise(function(b,d){var c;c=h.GNa(a);c&&d(c);(c=h.FNa(a))&&d(c);b(a.sort(function(a,b){return f.indexOf(a.errorCode)-f.indexOf(b.errorCode);}));});};},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l,x,G;function b(a,b,c,f,d,g){var k;k=this;this.ki=a;this.config=c;this.zj=f;this.debug=d;this.ya=g;this.bDa=[];this.Bc={};this.log=b.lb("loadAsync");this.Ggb=l.QJa(function(a){k.Mnb=!0;k.startTime=k.ya.Xb().fa(A.ma);k.load(k.bDa).then(function(){k.endTime=k.ya.Xb().fa(A.ma);a(G.xc);})["catch"](function(b){k.endTime=k.ya.Xb().fa(A.ma);a(b);});});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(114);h=a(2);m=a(519);c=a(60);k=a(1);p=a(7);q=a(17);t=a(62);A=a(3);y=a(86);l=a(256);x=a(23);G=a(9);b.prototype.aK=function(a){this.Ggb(a);};b.prototype.register=function(a,b){this.debug.assert(!this.Mnb);this.bDa.push({Sfb:this.E0a(b),errorCode:a});};b.prototype.Pc=function(a){this.debug.assert(void 0===this.Bc[a]);this.Bc[a]=this.ya.Xb().fa(A.ma);};b.prototype.load=function(a){var b;b=this;return m.omb(a).then(function(a){b.ki.mark(c.Zc.si.MEa);return a.reduce(function(a,c){return a.then(function(){return b.Ofb(c);});},Promise.resolve()).then(function(){b.ki.mark(c.Zc.si.KEa);});});};b.prototype.Ofb=function(a){var b,f;b=this;f=a.Sfb;return this.zj.jl(A.Cb(this.config().SZa),f())["catch"](function(f){b.log.error("Failed to load component "+a.errorCode,f);b.ki.mark(c.Zc.si.LEa);if(f instanceof t.Bm)throw{Y:h.u.JEa,errorCode:a.errorCode};f.errorCode=f.errorCode||a.errorCode;f.Y=f.Y||h.u.IEa;throw f;});};b.prototype.E0a=function(a){return function(){return new Promise(function(b,c){a(function(a){a.W?b():c(a);});});};};a=b;a=g.__decorate([k.N(),g.__param(0,k.l(f.jx)),g.__param(1,k.l(p.ob)),g.__param(2,k.l(q.ld)),g.__param(3,k.l(t.bx)),g.__param(4,k.l(y.yt)),g.__param(5,k.l(x.Oe))],a);d.rFa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(520);f=a(20);d.TZa=new g.ac(function(a){a(f.Fe).to(b.rFa).Z();});},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.jtb=function(a){return{KJ:a.initialSegment,je:this.ntb(a.segments)};};b.prototype.ntb=function(a){var b;b=this;return Object.keys(a).reduce(function(c,f){c[f]=b.ktb(a[f]);return c;},{});};b.prototype.ktb=function(a){var b;b={};b=a.next&&this.mtb(a.next)||a.defaultNext&&(b[a.defaultNext]={},b)||void 0;return{Kc:a.viewableId,jm:a.startTimeMs,PC:a.endTimeMs,uI:a.defaultNext,next:b};};b.prototype.mtb=function(a){var b;b=this;return Object.keys(a).reduce(function(c,f){c[f]=b.ltb(a[f]);return c;},{});};b.prototype.ltb=function(a){return{weight:a.weight,V6a:a.earliestSkipRequestOffset};};f=b;f=g.__decorate([a.N()],f);d.MPa=f;},function(g,d,a){var f,h,m,c;function b(a){return h.xe.call(this,a,"PlaylistConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);m=a(27);a=a(34);ca(b,h.xe);qa.Object.defineProperties(b.prototype,{pza:{configurable:!0,enumerable:!0,get:function(){return 2;}},sca:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([a.config(a.zw,"prepareSegmentsUpfront")],c.prototype,"pza",null);g.__decorate([a.config(a.Yd,"usePlaylistForPostPlay")],c.prototype,"sca",null);c=g.__decorate([f.N(),g.__param(0,f.l(m.cj))],c);d.IPa=c;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(261);b.prototype.s4a=function(a){var d,g;for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];d=this;if(0===b.length)throw Error("Empty playlist");return{KJ:this.hS(b[0]),je:b.reduce(function(a,b){var c;c=d.hS(b);a[c]={Kc:b,jm:0};g&&(a[g].uI=c);g=c;return a;},{})};};b.prototype.hS=function(a,b){return a+":["+(void 0===b?0:b)+"..-1]";};b.prototype.uZa=function(a,b,f){f=void 0===f?this.hS(b.M,b.U):f;a=this.D2(a);a.je[f]={Kc:b.M,jm:b.U||0,Xqb:b.ba,htb:h.Yha.Xga};return a;};b.prototype.Ztb=function(a,b,f){a=this.D2(a);a.je[b].Xqb=f;return a;};b.prototype.tZa=function(a,b,f){var c,d;c=this.D2(a);d={};c.je[b].next=Object.assign({},a.je[b].next||{},(d[f]={},d));c.je[b].uI=f;return c;};b.prototype.D2=function(a){return JSON.parse(JSON.stringify(a));};a=b;a=g.__decorate([f.N()],a);d.JPa=a;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);b.prototype.create=function(b,c,f,d,g){return new(a(258)).mSa(b,c,f,d,g);};h=b;h=g.__decorate([f.N()],h);d.NPa=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.aB||(d.aB={});g[g.HNa=0]="None";g[g.MJa=1]="Fetching";g[g.HIa=2]="Done";g[g.Error=3]="Error";},function(g,d,a){var f,h,m,c,k;function b(a,b,c,f,d,g,k,h,m,u,l,n){b=void 0===b?{}:b;this.ya=f;this.fE=u;this.OK=l;this.fA=n;this.nF={};this.Sv={};this.gQ={};this.Hb=h.create();this.log=d.lb("PlaylistManager");this.KBa(a);this.Th=a.KJ;this.fz={ji:this.Sv[this.Th],$a:b};this.zq=k.n4a(m);this.gQ[this.Th]=this.msa(0);a=this.ya.Xb();this.eEa=g.create(this.ha.Kc,Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||this.ha.jm,endPts:this.ha.PC,uiPlayStartTime:Date.now()},b,{isPlaylist:!0}),c,a,this);this.Cqb();this.Dva=this.Gsa();}Object.defineProperty(d,"__esModule",{value:!0});f=a(49);h=a(526);m=a(15);c=a(261);k=a(3);b.prototype.Gsa=function(){return this.Th;};b.prototype.R5=function(){return this.$v;};b.prototype.Taa=function(a){var f;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];f=this;b.filter(function(a){return f.sL(a.ji);}).filter(function(a){a=a.uU;return!a||f.sL(a);}).forEach(function(a){f.Sv[a.ji]=f.Uxa(a.uU);});};b.prototype.r1a=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Ena(b);};b.prototype.nca=function(a){if(!this.sL(this.Th,a.je))throw Error("Provided playlistMap does not contain the current segmentId "+this.Th);this.KBa(a);};b.prototype.Jq=function(a,b){var c,f;c=this;f=this.iD(a);f&&f.next&&Object.keys(b).filter(function(a){return c.sL(a,f.next);}).forEach(function(a){return f.next[a].weight=b[a];});};b.prototype.Nta=function(a,b){var c,f,d;if(a!==this.Th)throw Error("Invalid currentSegmentId");if(b!==this.Sv[a])throw Error("Invalid nextSegmentId");c=this.nF[this.$v.je[b].Kc];if(c.state===h.aB.Error)return this.Vl().j.rcb(c.error),Promise.reject();c=this.gQ[b];if(!c)throw Error("Manifest for "+b+"  is not ready yet");f=this.Vl().j;d=f.nb;if(!d)throw this.log.debug("No streaming session. Aborting transition"),Error("No streaming session");this.log.debug("going to next segment: "+a+" -> "+b+" ("+c.id+" in ASE)");f.kn(c.ca).pm=this.ya.Xb().fa(k.ma);if(d.q5(c.id))return this.log.debug("Segment is already pre-buffered - triggering a transition"),this.scb(b);a=this.R5().je[b].jm;this.log.debug("Segment is not pre-buffered - performing a regular seek");return Promise.resolve(this.Vl().seek(a,m.kg.ex,c.ca,!0));};b.prototype.addListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.xS=function(){return this.zq.xS();};b.prototype.Vl=function(){return this.zq.Vl();};b.prototype.k1=function(a){var b,c;if(this.OK.sca&&this.xS()){this.log.info("Adding segment - movieId: "+a.M+", nextStartPts: "+a.U+", currentEndPts: "+a.ba);if(a.M===this.ha.Kc)return a.ba&&(a=this.fE.Ztb(this.$v,this.Th,a.ba),this.nca(a)),null;b=this.fE.hS(a.M,a.U);c=this.fE.tZa(this.fE.uZa(this.$v,a,b),this.Dva,b);this.nca(c);this.fz={ji:b,$a:a.$a||{}};this.Dva=b;return this.ZU();}return this.zq.k1(a);};b.prototype.transition=function(a){if(this.OK.sca){a=this.Sv[this.Th];this.log.info("Transition initiated: "+this.Th+" -> "+a);if(a)return this.Nta(this.Th,a);this.log.error("Next segment is not defined");return Promise.reject();}return this.zq.transition(a);};b.prototype.close=function(a){return this.zq.close(a);};b.prototype.Cqb=function(){var a;a=this;this.zq.addListener(m.qb.loaded,function(){return a.ZU();});this.addListener(m.nG.vL,function(){return a.Wjb();});this.zq.addListener(m.nG.vL,function(){return a.Hb.Ib(m.nG.vL);});Object.keys(m.qb).forEach(function(b){var c;c=m.qb[b];a.zq.addListener(c,function(b){return a.Hb.Ib(c,b);});});};b.prototype.scb=function(a){var b,c,f,d,g,k;b=this;c=this.Vl().j;f=c.nb;if(!f)throw Error("No streaming session");d=this.gQ[a];if(!f.q5(d.id))throw Error("Segment is not pre-buffered");g=new Promise(function(a){function c(){b.log.debug("Stopped ASE");f.removeEventListener("stop",c);a();}f.addEventListener("stop",c);});k=new Promise(function(a){function d(){b.log.debug("Repositioned");c.removeEventListener(m.S.Dn,d);a();}function g(){b.log.debug("Repositioning");c.removeEventListener(m.S.Ez,g);f.stop();}c.addEventListener(m.S.Ez,g);c.addEventListener(m.S.Dn,d);});g=Promise.all([g,k]).then(function(){f.Ju(d.id,!1,!0);c.fireEvent(m.S.tU,{Th:b.Th,uU:a});});k=f.V2(d.ca,this.R5().je[a].jm);this.log.debug("Calling seek on internal player to "+k);this.Vl().seek(k,m.kg.WA,d.ca,!0);return g;};b.prototype.Wjb=function(){var a;a=this.Vl().getError();a?this.Hb.Ib(m.qb.f2,a):(this.Hb.Ib(m.qb.Kna),this.Hb.Ib(m.qb.IH),this.Hb.Ib(m.qb.bA),this.Hb.Ib(m.qb.ZE),this.Hb.Ib(m.qb.mM),this.Hb.Ib(m.qb.f2));};b.prototype.ZU=function(){var a;if(this.fz&&this.fz.ji){a=this.Q$a(this.Th,this.fz.ji);if(0<a&&a<this.OK.pza)return this.gmb(this.fz.ji,this.fz.$a);}else this.R8a();return Promise.resolve(!1);};b.prototype.gmb=function(a,b){var k,q,p,u,l,n;function d(a){var b;b=void 0===a.metrics;k.fA.zza(a,k.Vl().j,b);p.removeEventListener(m.S.uL,d);}function g(b){b.index===u&&(k.Th=a,k.ZU(),p.removeEventListener(m.S.tn,g),k.Hb.Ib(m.nG.vL));}k=this;q=this.iD(a);p=this.Vl().j;b=Object.assign(b||{},{U:q.jm,ba:q.PC,ag:!1,xW:Date.now(),pT:!0});u=p.Uma(q.Kc,b);b=p.kn(u);this.log.debug("Creating new playback xid: "+b.oa+", movieId: "+b.M+", manifestIndex: "+b.ca);p.addEventListener(m.S.tn,g);p.addEventListener(m.S.uL,d);this.fz={ji:this.Sv[a],$a:{}};b=q.htb!==c.Yha.Xga;if(!b){l=function(){var a;a=k.Vl();2E3>=a.s5()-(a.t5()||0)&&p.zg&&(p.zg.yK({mediaType:f.qc.Ih.VIDEO}),p.zg.yK({mediaType:f.qc.Ih.AUDIO}),p.Ob.set(m.ib.ad));};p.addEventListener(m.S.ho,l);n=function(a){a.index===u&&(p.removeEventListener(m.S.ho,l),p.removeEventListener(m.S.tn,n));};p.addEventListener(m.S.tn,n);}this.nF[q.Kc]={state:h.aB.MJa};b=p.Qmb(u,b).then(function(){k.nF[q.Kc]={state:h.aB.HIa};k.gQ[a]=k.msa(u);})["catch"](function(a){k.nF[q.Kc]={state:h.aB.Error,error:a};throw a;});b.then(function(){return k.ZU();});return b.then(function(){return!0;})["catch"](function(){return!1;});};b.prototype.R8a=function(){var a;a=this.Vl().j;a.nb&&a.nb.mqb();};b.prototype.Q$a=function(a,b){for(var c=0;a!==b&&void 0!==a;)c++,a=this.Sv[a];return a?c:-1;};b.prototype.KBa=function(a){var b;b=this;this.$v=a;this.Sv={};a=Object.keys(this.$v.je);a.map(function(a){a=b.$v.je[a].Kc;b.nF[a]=b.nF[a]||{state:h.aB.HNa};});this.Ena(a);};b.prototype.Ena=function(a){var b;b=this;a.filter(function(a){return b.sL(a);}).forEach(function(a){b.Sv[a]=b.Uxa(b.iD(a).uI);});};b.prototype.sL=function(a,b){b=void 0===b?this.$v.je:b;return a in b;};b.prototype.Uxa=function(a){return null===a?void 0:a;};b.prototype.msa=function(a){return{id:"m"+a,ca:a};};b.prototype.iD=function(a){return this.$v.je[a];};qa.Object.defineProperties(b.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){return this.iD(this.Th);}}});d.LPa=b;},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l,x,G;function b(b,c,f,d,g,k,h,q,p,t){this.ya=b;this.xf=c;this.Klb=f;this.qpb=g;this.u4=k;this.OK=h;this.fE=q;this.fA=t;c=a(33).Xn;this.opb=d.cv(!1,"6.0018.714.011",b.id,c,p());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(527);m=a(7);c=a(23);k=a(260);p=a(259);q=a(420);t=a(229);A=a(17);y=a(425);l=a(172);x=a(228);b.prototype.create=function(a,b,c){return new h.LPa(a,b,c,this.ya,this.xf,this.Klb,this.qpb,this.u4,this.opb,this.fE,this.OK,this.fA);};G=b;G=g.__decorate([f.N(),g.__param(0,f.l(c.Oe)),g.__param(1,f.l(m.ob)),g.__param(2,f.l(k.Zha)),g.__param(3,f.l(q.Gia)),g.__param(4,f.l(t.HZ)),g.__param(5,f.l(y.iN)),g.__param(6,f.l(p.Wha)),g.__param(7,f.l(l.xZ)),g.__param(8,f.l(A.ld)),g.__param(9,f.l(x.SZ))],G);d.KPa=G;},function(g,d,a){var b,f,h,m,c,k,p,q,t,A;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(262);f=a(528);h=a(260);m=a(525);c=a(172);k=a(524);p=a(523);q=a(259);t=a(257);A=a(522);d.Oi=new g.ac(function(a){a(b.yZ).to(f.KPa).Z();a(h.Zha).to(m.NPa).Z();a(c.xZ).to(k.JPa).Z();a(q.Wha).to(p.IPa).Z();a(t.Xha).to(A.MPa).Z();});},function(g,d,a){var f,h,m,c,k,p,q,t,A,y;function b(a,b,f,d,g){f=t.RM.call(this,f,d,g)||this;f.config=a;f.Jc=b;f.log=h.$f(f.j,"LegacyLicenseBroker");f.Rd=f.config().Rd;f.config().A$?c.hva()?f.FW=!0:f.log.error("Promise based eme requested but platform does not support it",{browserua:k.Oj}):f.FW=!1;return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);h=a(4);m=a(113);c=a(28);k=a(8);p=a(1);q=a(184);t=a(263);A=a(77);ca(b,t.RM);b.prototype.opa=function(a){var b;b=void 0===b?this.j:b;return new this.JK.At(a,function(a){return b.Ym.nJ(a);},function(a){return b.Ym.release(a);},{Ug:!1,PJ:!1});};b.prototype.jI=function(b,c){var d,g,k,q,p,t;c=void 0===c?this.j:c;d=this;q=a(26).Wf;this.JK.At||this.sd(f.I.Rw,f.u.YIa);k=h.$f(c,"Eme");g=this.opa(k);p=h.V.get(m.XA);t=p.hI(c.Nc.value.oc);p=p.nI(c.Df.value.oc);return this.JK.Ct(k,b,function(a){return c.Pc(a);},{Ug:!1,PJ:!1,jva:this.config().ii,jBa:{cxa:this.config().iBa,Boa:this.config().uaa},Ra:{getTime:q},kL:g,Bza:this.FW,La:this.xb.La,gF:this.config().gF,nA:this.config().h4,onerror:function(a,b,c){return d.sd(a,b,c);},A9:function(a){return d.HS(a);},xlb:!0,WS:this.config().WS,Ina:t,dEa:p,qD:this.config().qD});};b.prototype.Rz=function(a){var b;b=this;return this.FW?new Promise(function(c,d){if(b.xb.La)b.xb.La.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.Kta(a);d({W:!1,code:f.I.kZ,Ic:c.Y,vg:c.Gc,Sa:c.Sa,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.era=function(a){return{code:a.code,subCode:a.Ic,extCode:a.vg,edgeCode:a.ey,message:a.message,errorDetails:a.Sa,errorData:a.vs,state:a.state};};b.prototype.Saa=function(a,b,c){var d,g;function f(){g.qAa()["catch"](function(a){d.log.error("Unable to set the license",d.era(a));a.cause&&a.cause.Sa&&(a.Sa=a.Sa?a.Sa+a.cause.Sa:a.cause.Sa);d.sd(a.code,a,a.vg);});}c=void 0===c?this.j:c;d=this;g=c.hf;this.log.info("Setting the license");c=b?function(){return Promise.resolve();}:function(){return g.Lf(d.I5(),a);};return(b?function(){return g.eEb(d.xb.La);}:function(){return g.create(d.Rd).then(function(){return Promise.resolve();});})().then(function(){return d.config().JBa?d.Rz(g.fk):Promise.resolve();}).then(c).then(function(){return d.config().JBa?Promise.resolve():d.Rz(g.fk);}).then(function(){d.log.info("license set");d.J4();d.xb.mEa.then(function(){d.config().Cv&&(b||d.config().dJ)&&(d.rAa=J.setTimeout(f,d.config().Cv));});})["catch"](function(a){d.log.error("Unable to set the license",d.era(a));a.cause&&a.cause.Sa&&(a.Sa=a.Sa?a.Sa+a.cause.Sa:a.cause.Sa);if(b)throw Error(a&&a.message?a.message:"failed to set license");d.sd(a.code,a,a.vg);});};b.prototype.Mya=function(){return Promise.resolve();};b.prototype.F9=function(a){var d;function b(){var b;d.j.hf=d.jI(a.initDataType);b=[];d.j.Po.forEach(function(a){b.push(h.Kk(a));});d.Saa(b);}d=this;this.log.trace("Received event: "+a.type);this.XJ||(this.XJ=!0,this.JK.Ct?this.j.Po?c.r7(this.config())&&this.config().Cn&&this.Jc()?this.Jc().xsa(this.j.M).then(function(a){d.j.hf=a;return a.MKb.then(function(){var b;b=[];d.j.Po.forEach(function(a){b.push(h.Kk(a));});return d.Saa(b,!0).then(function(){var b;if(a.UEb)d.sd(f.I.aJa);else{b=h.$f(d.j,"Eme");a.BKb({log:b,FIb:function(a){return d.j.Pc(a);}},{kL:d.opa(b),onerror:function(a,b,c){return d.sd(a,b,c);}});(b=a.VIb)&&d.HS(b);d.j.rv(a.Bc||{});d.j.Ux="videopreparer";}});});})["catch"](function(a){d.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.sd(f.I.vOa)):this.sd(f.I.Rw,f.u.ZIa));};b.prototype.wAa=function(a){var b;a=void 0===a?this.j:a;a.hf=this.jI("cenc");b=[];a.Po.forEach(function(a){b.push(h.Kk(a));});return this.Saa(b,!1,a);};b.prototype.I5=function(){return this.config().dJ?A.Zi.Lt:A.Zi.zm;};qa.Object.defineProperties(b.prototype,{JK:{configurable:!0,enumerable:!0,get:function(){return a(33).Ig;}},cz:{configurable:!0,enumerable:!0,get:function(){return this.FW?"encrypted":this.xb.KX+"needkey";}}});y=b;g.__decorate([q.BT],y.prototype,"JK",null);g.__decorate([q.BT],y.prototype,"cz",null);y=g.__decorate([p.N()],y);d.ELa=y;},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l;function b(a,b,c,f,d,g,k,q){f=A.RM.call(this,f,d,g)||this;f.Rd=a;f.config=b;f.Jc=c;f.JC=k;f.T8=q;f.log=h.$f(f.j,"LicenseBroker");f.XJ=new Set();f.Zwa=!1;return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);h=a(4);m=a(28);c=a(9);k=a(438);p=a(3);q=a(1);t=a(184);A=a(263);y=a(77);l=a(15);ca(b,A.RM);b.prototype.F9=function(){var a,b;a=this;b=this.j.ha;this.XJ.has(b.M)||(this.XJ.add(b.M),(m.r7(this.config)&&this.config.Cn&&this.Jc()?this.Iab():Promise.reject())["catch"](function(){return a.xAa(b);}).then(function(){return a.una(b);})["catch"](function(c){return a.tna(b,c);})["catch"](function(b){return a.sd(b.code,b,b.vg,a.j);}));};b.prototype.Iab=function(){var a,b;a=this;b=this.j.ha;return this.Jc().xsa(b.M).then(function(c){a.uza(c,b);b.Ux="videopreparer";a.T8.Rz(c.fk);return c.z1().iM();})["catch"](function(b){a.log.warn("eme not in cache",b);throw b;});};b.prototype.x9a=function(a){var b;b={};a.forEach(function(a){b[k.H6a(a.Uhb)]=a.time.fa(p.ma);});return b;};b.prototype.Bcb=function(a,b){this.log.trace("Key status",{viewable:a.M,keyId:h.Wr(b.yv),status:b.value});};b.prototype.uza=function(a,b){var f,d,g;f=this;b.hf=a;d={next:function(a){f.Bcb(b,a);},error:c.le,complete:c.le};g={next:function(a){f.sd(a.code,a,a.vg,f.j);},error:c.le,complete:c.le};a.Ueb().subscribe(d);(a=a.UI())&&a.subscribe(g);};b.prototype.una=function(a){var b;this.log.info("Successfully applied license for xid: "+a.oa+", viewable: "+a.M+", manifestIndex: "+a.ca);b=a.hf;b&&b.R7&&this.HS(b.R7);this.rv(a);this.Rz();};b.prototype.tna=function(a,b){this.rv(a);throw b;};b.prototype.rv=function(a){a.hf&&a.rv(this.x9a(a.hf.Bc));};b.prototype.xAa=function(a){var b,f;b=this;f={next:function(c){b.XJ.add(a.M);b.HS(c);},error:c.le,complete:c.le};return this.JC().then(function(c){var d;d={type:b.I5(),ZS:h.Kk(a.Po[0]),context:{Rd:b.Rd,La:b.xb.La},Bg:{M:a.M,oa:a.oa,Nf:a.Nf,Yj:a.Yj,profileId:a.profile.id,wf:a.Ja.wf}};c.ZJ().subscribe(f);return c.Lf(d,b.T8).ys(function(c){b.uza(c,a);b.j.fireEvent(l.S.$J,{ca:a.ca});return c.z1();}).iM();});};b.prototype.Rz=function(){var a;a=this;if(this.Zwa)this.log.trace("Media Keys already set");else{this.Zwa=!0;try{this.xb.La?this.xb.La.setMediaKeys(this.j.hf.fk).then(function(){a.J4();})["catch"](function(b){b=a.Kta(b);a.sd(f.I.kZ,b,b.Gc,a.j);}):this.J4();}catch(G){this.sd(f.I.kZ,G,void 0,this.j);}}};b.prototype.Mya=function(){var a,b;a=this;b=this.j.ha.hf;return b?this.JC().then(function(c){return new Promise(function(f){c.zrb(b,a.T8).ys(function(a){return a.xZa();}).ys(function(b){a.log.trace("Fulfilled the last secure stop");a.config.ii&&a.j.cq.KV({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.config.ii&&a.j.cq.KV({success:b.W,ErrorCode:b.code,ErrorSubCode:b.Ic,ErrorExternalCode:b.vg,ErrorEdgeCode:b.ey,ErrorDetails:b.zC});f();},complete:function(){f();}});});}):Promise.resolve();};b.prototype.wAa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.xAa(a).then(function(){return b.una(a);})["catch"](function(c){return b.tna(a,c);});};b.prototype.I5=function(){return this.config.dJ?y.Zi.Lt:y.Zi.zm;};qa.Object.defineProperties(b.prototype,{cz:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}}});a=b;g.__decorate([t.BT],a.prototype,"cz",null);a=g.__decorate([q.N()],a);d.GLa=a;},function(g,d,a){var f,h,m,c,k,p,q,t,A;function b(a,b,c,f,d,g){this.JC=a;this.Pg=b;this.af=c;this.config=f;this.XT=d;this.Jc=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(119);m=a(531);c=a(530);k=a(64);p=a(61);q=a(17);t=a(135);a=a(107);b.prototype.create=function(a,b,f){return a?new m.GLa(this.config().Rd,this.Pg,this.Jc,this.af,b,f,this.JC,this.XT()):new c.ELa(this.config,this.Jc,this.af,b,f);};A=b;A=g.__decorate([f.N(),g.__param(0,f.l(h.fN)),g.__param(1,f.l(k.Tn)),g.__param(2,f.l(p.sl)),g.__param(3,f.l(q.ld)),g.__param(4,f.l(t.$F)),g.__param(5,f.l(a.$A))],A);d.FLa=A;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(277);f=a(532);d.qj=new g.ac(function(a){a(b.Nfa).to(f.FLa);});},function(g,d,a){var f,h,m,c;function b(a){return h.xe.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);m=a(27);a=a(34);ca(b,h.xe);qa.Object.defineProperties(b.prototype,{GW:{configurable:!0,enumerable:!0,get:function(){return!0;}}});c=b;g.__decorate([a.config(a.Yd,"usesMsl")],c.prototype,"GW",null);c=g.__decorate([f.N(),g.__param(0,f.l(m.cj))],c);d.SRa=c;},function(g,d,a){var f,h,m,c,k;function b(a,b,c){this.receiver=b;this.Gd=c;this.log=a.lb("SslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(3);m=a(7);c=a(142);a=a(82);b.prototype.send=function(a,b){var c,f;c=this;f={url:a.url.href,BC:"nq-"+a.Ok,l$:JSON.stringify(b),JQ:a.timeout.fa(h.ma),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){c.Gd.download(f,function(c){c.W?a(c):b(c);});}).then(function(f){f={status:"success",body:f.content};c.receiver.oE({command:a.Ok,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.Ic=f.Y||f.Ic,c.receiver.oE({command:a.Ok,inputs:b,outputs:f}),f;d=f.error;d.Cj=f.Cj;c.log.error("Error sending SSL request",{subCode:d.Ic,data:d.content,message:d.message});c.receiver.oE({command:a.Ok,inputs:b,outputs:d});throw d;});};b.prototype.T2=function(){return{};};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(m.ob)),g.__param(1,f.l(c.PN)),g.__param(2,f.l(a.Mt))],k);d.fRa=k;},function(g,d,a){var f,h,m,c,k,p;function b(a,b,c){this.Xg=b;this.receiver=c;this.log=a.lb("MslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);m=a(111);c=a(3);a=a(142);k={license:!0};b.prototype.send=function(a,b){var f,d;f=this;d={yn:Object.assign({Gd:a.Gd,log:a.log,profile:a.profile},a.J_a),method:a.Ok,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.fa(c.ma),uM:a.profile.id,fob:!k[a.Ok],v9:!!k[a.Ok],Pl:!0,gw:a.haa,headers:a.headers};return this.Xg.send(d).then(function(c){f.receiver.oE({command:a.Ok,inputs:b,outputs:c});return c;})["catch"](function(c){var d;if(!c.error)throw c.Ic=c.Y||c.Ic,f.receiver.oE({command:a.Ok,inputs:b,outputs:c}),c;d=c.error;d.Cj=c.Cj;f.log.error("Error sending MSL request",{mslCode:d.lq,subCode:d.Ic,data:d.data,message:d.message});f.receiver.oE({command:a.Ok,inputs:b,outputs:d});throw d;});};b.prototype.T2=function(){return{userTokens:this.Xg.Xg.getUserIdTokenKeys()};};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(m.LA)),g.__param(2,f.l(a.PN))],p);d.qNa=p;},function(g,d,a){var b,f,h,m,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(219);f=a(293);h=a(536);m=a(535);c=a(534);d.ptb=new g.ac(function(a){a(b.aO).to(c.SRa).Z();a(f.Fga).to(h.qNa);a(f.Iia).to(m.fRa);a(f.bja).Rf(function(a){return function(){return a.ec.get(b.aO).GW?a.ec.get(f.Fga):a.ec.get(f.Iia);};});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gPa="PboPingCommandSymbol";},function(g,d,a){var f,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.lOa,1,m.Mh.ping,m.mg.Zq,m.Mh.ping)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(38);c=a(73);a=a(43);ca(b,c.Dh);b.prototype.We=function(a,b,c,f){var d;d=this;return this.send(a,b,"/"+this.name,c,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw d.jn(a);});};b.prototype.hn=function(){return Promise.reject(Error("Links are unsupported with ping"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.tk))],k);d.fPa=k;},function(g,d,a){var f,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.yFa,2,m.Mh.bind,m.mg.Zq,m.Mh.bind)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(38);c=a(73);a=a(43);ca(b,c.Dh);b.prototype.We=function(a,b,c,f){var d;d=this;return this.send(a,b,"/bindDevice",c,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw d.jn(a);});};b.prototype.hn=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.tk))],k);d.TOa=k;},function(g,d,a){var f,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.TNa,2,m.Mh.zya,m.mg.Zq,m.Mh.zya)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(38);c=a(73);a=a(43);ca(b,c.Dh);b.prototype.We=function(a,b,c,f){var d;d=this;return this.send(a,b,"/"+this.name,c,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw d.jn(a);});};b.prototype.hn=function(){return Promise.reject(Error("Links are unsupported with pair"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.tk))],k);d.ePa=k;},function(g,d,a){var f,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.xFa,2,m.Mh.bind,m.mg.Zq,m.Mh.bind)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(38);c=a(73);a=a(43);ca(b,c.Dh);b.prototype.We=function(a,b,c,f){var d;d=this;return this.send(a,b,"/"+this.name,c,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw d.jn(a);});};b.prototype.hn=function(){return Promise.reject(Error("Links are unsupported with bind"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.tk))],k);d.SOa=k;},function(g,d,a){var f,h,m,c,k,p,q;function b(a,b,c,f,d,g,k){this.Jf=a;this.Gd=b;this.bl=c;this.m6a=f;this.qv=d;this.pub=g;this.WQ=k;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(85);m=a(91);c=a(294);k=a(116);p=a(82);q=a(429);a=a(70);b=g.__decorate([f.N(),g.__param(0,f.l(h.ut)),g.__param(1,f.l(p.Mt)),g.__param(2,f.l(m.ax)),g.__param(3,f.l(c.tha)),g.__param(4,f.l(k.HA)),g.__param(5,f.l(q.fja)),g.__param(6,f.l(a.BF))],b);d.VOa=b;},function(g,d,a){var f,h,m,c,k,p;function b(a){return m.Pn.call(this,a,h.I.eJa,c.ql.OI,3,p.mg.JA)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(121);c=a(76);k=a(43);p=a(38);ca(b,m.Pn);b.prototype.rQ=function(a){return Object.assign({},m.Pn.prototype.rQ.call(this,a),{action:a.action});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.tk))],a);d.tJa=a;},function(g,d,a){var f,h,m,c,k,p;function b(a){return m.Pn.call(this,a,h.I.tia,c.ql.splice,1,p.mg.JA)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(121);c=a(76);k=a(43);p=a(38);ca(b,m.Pn);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.tk))],a);d.eRa=a;},function(g,d,a){var f,h,m,c,k,p;function b(a){return m.Pn.call(this,a,h.I.KY,c.ql.TJ,1,p.mg.JA)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(121);c=a(76);k=a(43);p=a(38);ca(b,m.Pn);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.tk))],a);d.xLa=a;},function(g,d,a){var f,h,m,c,k,p;function b(a){return m.Pn.call(this,a,h.I.zia,c.ql.stop,3,p.mg.TY)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(121);c=a(76);k=a(43);p=a(38);ca(b,m.Pn);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.tk))],a);d.lRa=a;},function(g,d,a){var f,h,m,c,k,p;function b(a){return m.Pn.call(this,a,h.I.wia,c.ql.start,3,p.mg.Zq)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(121);c=a(76);k=a(43);p=a(38);ca(b,m.Pn);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.tk))],a);d.hRa=a;},function(g,d,a){var f,h,m;function b(a,b){this.pc=a;this.Hl=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);a=a(41);b.prototype.btb=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.pc.KU(a.substring(a.indexOf("?")+1));});return{W:!0,kc:a.map(function(a,b){return{id:a.sessionId,Bv:c[b].drmlicensecontextid,BD:c[b].licenseid};}),Dv:a.map(function(a){return{data:b.Hl.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.etb=function(a){return{W:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.sessionId)&&c&&(a[b]=c);return a;},{})}};};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(h.cf)),g.__param(1,f.l(a.Jj))],m);d.aPa=m;},function(g,d,a){var f,h,m;function b(a){this.Ra=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(42);m=a(3);b.prototype.atb=function(a){var b;b=this.Ra.Ve.fa(m.Am);return{inputs:a.Kp.map(function(c){return{sessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.oa.toString(),mdxControllerEsn:a.jK};}),Pva:"standard"===a.xh.toLowerCase()?"license":"ldl"};};b.prototype.dtb=function(a){var b,c,f,d;b=this;c=a.hpb||{};f=[];d=a.kc.map(function(d){var g;f.push(d.id);g=c[d.id];delete c[d.id];return{url:b.hoa(d.Bv,d.BD),echo:"sessionId",params:{sessionId:d.id,secureStop:g,secureStopId:g?d.BD:void 0,xid:a.oa.toString()}};});Object.keys(c).forEach(function(f){d.push({url:b.hoa(a.kc[0].Bv),echo:"sessionId",params:{sessionId:f,secureStop:c[f],secureStopId:void 0,xid:a.oa.toString()}});});return d;};b.prototype.hoa=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.Kj))],a);d.$Oa=a;},function(g,d,a){var f,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.uQa,3,m.Mh.Lf,m.mg.TY,m.Mh.Lf)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(38);c=a(73);a=a(43);ca(b,c.Dh);b.prototype.We=function(a,b,c){var f;f=this;return this.send(a,b,"/bundle",c).then(function(a){a=a.result;f.Coa(a);return a;})["catch"](function(a){throw f.jn(a);});};b.prototype.hn=function(){return Promise.reject(Error("Links are unsupported with release"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.tk))],k);d.nPa=k;},function(g,d,a){var f,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.Rw,3,m.Mh.Lf,m.mg.Zq,m.Mh.Lf)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(38);c=a(73);a=a(43);ca(b,c.Dh);b.prototype.We=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.hn=function(a,b,c,f){var d;d=this;c=c.J5(f.Pva).href;return this.send(a,b,c,f.inputs,"sessionId","license"===f.Pva?m.mg.Zq:m.mg.JA).then(function(a){a=a.result;d.Coa(a);d.Z0a(a);return a;})["catch"](function(a){throw d.jn(a);});};b.prototype.Z0a=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.tk))],k);d.ROa=k;},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l,x,G,n,R;function b(a,b,c,f,d,g,k){a=A.Dh.call(this,a,h.I.MANIFEST,3,m.Mh.Ja,m.mg.Zq,m.Mh.Ja)||this;a.platform=b;a.config=c;a.WQ=f;a.N0a=d;a.ylb=g;a.wn=k;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(38);c=a(427);k=a(4);p=a(17);q=a(60);t=a(70);a(149);A=a(73);y=a(43);l=a(215);x=a(398);G=a(291);n=a(118);a=a(72);ca(b,A.Dh);b.prototype.We=function(a,b,c){var f;f=this;return this.Mab(c).then(function(d){return f.send(a,b,"/"+f.name,d,void 0,f.wbb(c.bJ));}).then(function(a){return a.result;})["catch"](function(a){throw f.jn(a);});};b.prototype.hn=function(a,b,c,f){return this.We(a,b,f).then(function(a){c.$P(a.links);a.wf=c;return a;});};b.prototype.Mab=function(a){var b,f,d,g,h,p,t,m,u;b=this;f=a.Ya;d=Object.assign({},f.JH,f.hm);g={};h=a.Kc;g[h]={unletterboxed:!!d.preferUnletterboxed};p=this.config().xub?30:25;t=k.cD();m=t.Tbb().concat(t.Sbb()).concat(this.config().mt).concat(["BIF240","BIF320"]).filter(Boolean);u=this.config().cp?this.wn.W$a():Promise.resolve(c.rga.Rp());return Promise.all([t.hD(),t.qJ(),this.r$a(a.oa),u]).then(function(c){var k,t,u,A;k=Q(c);c=k.next().value;t=k.next().value;u=k.next().value;k=k.next().value;A=t&&void 0!==t.SUPPORTS_SECURE_STOP?!!t.SUPPORTS_SECURE_STOP:void 0;t=t?t.DEVICE_SECURITY_LEVEL:void 0;c={type:"standard",viewableId:h,profiles:m,flavor:q.Zc.j2a(a.bJ),drmType:k,drmVersion:p,usePsshBox:!0,isBranching:!!a.Ya.ag,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().ksb,imageSubtitleHeight:l.NZ.T5(),uiVersion:b.context.bl.eF,uiPlatform:b.context.bl.wW,clientVersion:b.platform.version,supportsPreReleasePin:b.config().wh.esb,supportsWatermark:b.config().wh.fsb,showAllSubDubTracks:b.config().wh.Rqb||!!d.showAllSubDubTracks,packageId:b.fbb(f),deviceSupportsSecureStop:A,deviceSecurityLevel:t,videoOutputInfo:c,titleSpecificData:g,preferAssistiveAudio:!!d.assistiveAudioPreferred,preferredTextLocale:d.preferredTextLocale,preferredAudioLocale:d.preferredAudioLocale,isUIAutoPlay:!!d.isUIAutoPlay,challenge:u,isNonMember:b.context.bl.Hy,pin:f.Z9,desiredVmaf:b.config().uub?b.config().V5a:b.config().W5a};f.kra&&(c.extraParams=f.kra);return c;});};b.prototype.fbb=function(a){if(this.config().fV.enabled){if(void 0!==a.zn)return a.zn;if(void 0!==this.config().fV.zn)return Number(this.config().fV.zn);}};b.prototype.wbb=function(a){switch(a){case q.Yn.zm:case q.Yn.lIa:return m.mg.Zq;case q.Yn.hia:case q.Yn.Eia:return m.mg.TY;case q.Yn.oha:return m.mg.JA;}};b.prototype.r$a=function(a){var b;b=this;return this.N0a.Asa().then(function(c){var f;f=a&&b.ylb.jbb(a);f&&f.Fl("cad");return c;});};R=b;R=g.__decorate([f.N(),g.__param(0,f.l(y.tk)),g.__param(1,f.l(a.lp)),g.__param(2,f.l(p.ld)),g.__param(3,f.l(t.BF)),g.__param(4,f.l(x.jda)),g.__param(5,f.l(G.uZ)),g.__param(6,f.l(n.Xw))],R);d.dPa=R;},function(g,d,a){var f,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.CLa,1,m.Mh.fwa,m.mg.JA,m.Mh.fwa)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(38);c=a(73);a=a(43);ca(b,c.Dh);b.prototype.We=function(a,b,c){var f;f=this;return this.send(a,b,"/"+this.name,c).then(function(a){return a.result;})["catch"](function(a){throw f.jn(a);});};b.prototype.hn=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.tk))],k);d.cPa=k;},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y,l,x,G,n,R,S,X,D,r,P,ia,Z,ea,Y,O,W,E,C,M;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(327);f=a(554);h=a(315);m=a(553);c=a(314);k=a(552);p=a(312);q=a(551);t=a(311);A=a(550);y=a(310);l=a(549);x=a(76);G=a(548);n=a(547);R=a(55);S=a(2);X=a(546);D=a(545);r=a(544);P=a(43);ia=a(543);Z=a(178);ea=a(542);Y=a(281);O=a(541);W=a(332);E=a(540);C=a(539);M=a(538);d.D1a=new g.ac(function(a){a(P.tk).to(ia.VOa);a(b.yha).to(f.cPa);a(Z.nZ).to(ea.SOa);a(W.rha).to(E.TOa);a(Y.Aha).to(O.ePa);a(h.zha).to(m.dPa);a(c.qha).to(k.ROa);a(p.Fha).to(q.nPa);a(t.vha).to(A.$Oa);a(y.wha).to(l.aPa);a(x.Jia).to(G.hRa);a(x.Kia).to(n.lRa);a(x.Ifa).to(X.xLa);a(x.Hia).to(D.eRa);a(x.vea).to(r.tJa);a(M.gPa).to(C.fPa);a(x.LX).Rf(function(a){return function(b){switch(b){case x.ql.start:return a.ec.get(x.Jia);case x.ql.stop:return a.ec.get(x.Kia);case x.ql.TJ:return a.ec.get(x.Ifa);case x.ql.splice:return a.ec.get(x.Hia);case x.ql.OI:return a.ec.get(x.vea);}throw new R.Qc(S.I.bOa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(g,d,a){var f,h,m,c,k,p,q;function b(a,b,c,d,g,h,u,l,n){var t;t=this;this.wtb=a;this.j=b;this.id=c;this.height=d;this.width=g;this.nlb=h;this.olb=u;this.size=l;this.Yc=n;this.type=f.jg.aca;this.$s=!0;this.state=k.Cm.IN;this.cg={};this.kQ={};this.wmb=function(a){if(a.W)try{t.data=t.wtb.parse(a.content);t.state=k.Cm.LOADED;t.log.trace("TrickPlay parsed",{Images:t.data.images.length},t.cg);t.j.fireEvent(p.S.mM);}catch(U){t.state=k.Cm.Wga;t.log.error("TrickPlay parse failed.",U);}else t.state=k.Cm.IN,t.log.error("TrickPlay download failed.",q.Un(a),t.cg);};this.log=m.$f(b,"TrickPlay");}Object.defineProperty(d,"__esModule",{value:!0});f=a(75);h=a(12);m=a(4);c=a(69);k=a(289);p=a(15);q=a(2);b.prototype.iab=function(a){if(this.data&&(a=Math.floor(a/this.data.Wp.aDa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.Wp.aDa,height:this.height,width:this.width,pixelAspectHeight:this.nlb,pixelAspectWidth:this.olb};};b.prototype.yS=function(){switch(this.state){case k.Cm.LOADED:return"downloaded";case k.Cm.LOADING:return"loading";case k.Cm.TF:return"downloadfailed";case k.Cm.Wga:return"parsefailed";default:return"notstarted";}};b.prototype.download=function(){var a;a=this.jcb();a?(this.state=k.Cm.LOADING,this.u6a(a)):this.$s=!1;};b.prototype.gd=function(){return this.state;};b.prototype.jcb=function(){var a,b,c;a=this;b=Object.keys(this.Yc).find(function(b){return(a.kQ[a.Yc[b]]||0)<=h.config.stb;});if(b){c=this.Yc[b];c in this.kQ?this.kQ[c]++:this.kQ[c]=1;return{url:c,Iu:b};}};b.prototype.u6a=function(a){this.log.trace("Downloading",a.url,this.cg);a={responseType:c.SS,Wb:this.n5(a.Iu),url:a.url,track:this};this.j.BJ.download(a,this.wmb);};b.prototype.n5=function(a){return this.j.Ei.find(function(b){return b&&b.id===a;});};d.URa=b;},function(g,d,a){var f,h,m;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(131);a=a(1);b.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new h.wA(b);a=this.Akb(c);b=this.Ckb(c,b,a);return{Wp:a,images:b};};b.prototype.Akb=function(a){var b,c,d,g;if(a.oj()<this.oob())throw Error("array buffer too short");f.$fa.forEach(function(b){if(b!=a.he())throw Error("BIF has invalid magic.");});b=a.Az();if(b>f.VERSION)throw Error("BIF version in unsupported");c=a.Az();if(0==c)throw Error("BIF has no frames.");d=a.Az();g=a.vd(f.kia);return{version:b,ljb:c,aDa:d,pob:g};};b.prototype.Ckb=function(a,b,f){var g,k;for(var c=[],d=0;d<=f.ljb;d++){k={timestamp:a.Az(),offset:a.Az()};void 0!=g&&c.push(b.subarray(g.offset,k.offset));g=k;}return c;};b.prototype.oob=function(){return f.$fa.length+4+4+4+f.kia;};m=f=b;m.$fa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.kia=44;m=f=g.__decorate([a.N()],m);d.XRa=m;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eja="TrickPlayParserSymbol";},function(g,d,a){var f,h;function b(a,b,d,g,h,t,u,y,l,x,n){this.index=a;this.ca=b;this.M=d;this.Ya=g;this.oa=h;this.el=t;this.e8=u;this.b2a=l;this.hxa=n;this.Nc=new f.Lc(null);this.Df=new f.Lc(null);this.vc=new f.Lc(null);this.Di=new f.Lc(null);this.Fq=new f.Lc(void 0);this.te=new f.Lc(null);this.ij=new f.Lc(null);this.zf=new f.Lc(null);this.Le=new f.Lc(null);this.Qb=new f.Lc(void 0);this.Tm=new f.Lc(null);this.Fu=this.Ux="notcached";this.background=!1;y&&(this.te.set(y.te.value),this.ij.set(y.ij.value),this.profile=y.profile);this.cl=x(this);this.c$=this.hxa.Knb(this.oa,this.el);}Object.defineProperty(d,"__esModule",{value:!0});f=a(176);h=a(3);b.prototype.Pc=function(a){this.c$.Fl(a);};b.prototype.rv=function(a){var b;b=this;Object.keys(a).forEach(function(c){b.c$.Fl(c,h.Cb(a[c]-b.el.fa(h.ma)));});};b.prototype.wU=function(){this.hxa.Vnb(this.oa);};qa.Object.defineProperties(b.prototype,{se:{configurable:!0,enumerable:!0,get:function(){return this.Ya.se;}},Yj:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Yj;}},Qm:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Qm;}},Lq:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Lq;}},st:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.st;}},Hj:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Hj;}},Nf:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Nf;}},vv:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.vv;}},Po:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Po;}},Ei:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Ei;}},YU:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.YU;}},Yx:{configurable:!0,enumerable:!0,get:function(){return h.Cb(this.Ja?this.Ja.duration:0);}},ah:{configurable:!0,enumerable:!0,get:function(){return this.Ya.ah||0;}},p3:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.KQ?this.KQ:void 0===this.Qb.value?null:this.b2a(this.Qb.value,this.ca);}},oC:{configurable:!0,enumerable:!0,get:function(){return this.Ja&&this.Ja.cdnResponseData?this.Ja.cdnResponseData.pbcid:void 0;}},Qz:{configurable:!0,enumerable:!0,get:function(){return this.Ja&&this.Ja.cdnResponseData?this.Ja.cdnResponseData.sessionABTestCell:void 0;}},Bc:{configurable:!0,enumerable:!0,get:function(){return this.c$.Bc;}}});d.BPa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jha="PlayTimeTrackerFactorySymbol";},function(g,d,a){var h,m,c,k,p,q,t,A;function b(a,b,c,f,d){var g;g=this;this.vj=a;this.config=c;this.Ba=f;this.debug=d;this.TU=[];this.Lo=[];this.d$=[];this.Qx={};this.yqa=!1;this.NH={};this.k7=0;this.log=b.lb("PlayTimeTracker");this.startTime=this.vj.Qb.value;this.HT=this.config().tYa;this.FM();this.Qx.abrdel=0;this.HT.forEach(function(a){a="abrdel"+a;g.NH[a]=0;g.Qx[a]=0;});}function f(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(7);c=a(17);k=a(247);a(3);p=a(21);q=a(86);t=a(9);A=a(18);f.prototype.encode=function(a){return{key:a.key,downloadableId:a.Tc,bitrate:a.P,vmaf:a.wc,duration:a.duration,metric:a.oK,cdnId:a.Iu};};f.prototype.decode=function(a){return{key:a.key,Tc:a.downloadableId,P:a.bitrate,wc:a.vmaf,duration:a.duration,oK:a.metric,Iu:a.cdnId};};b.prototype.rJ=function(){var a;this.IL(this.vj.Qb.value);a=0;this.Lo.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalPlayTime is not an integer.");return Math.floor(a);};b.prototype.a$a=function(){this.IL(this.vj.Qb.value);return{audio:this.kJ(this.TU,this.Ksa),video:this.kJ(this.Lo,this.Ksa)};};b.prototype.hbb=function(){var a;a={total:this.rJ(),audio:this.kJ(this.TU,this.sS),video:this.kJ(this.Lo,this.sS),timedtext:this.kJ(this.d$,this.sS)};this.debug.assert(!(!a.audio||!a.video));return a;};b.prototype.qsa=function(){var a,b;this.IL(this.vj.Qb.value);a=this.i5(this.Lo,this.l$a);try{b=this.rsa(a);}catch(x){return this.log.warn("Failed to calc average bitrate."),null;}this.Qx.abrdel=Math.round(b);return this.Qx.abrdel;};b.prototype.e$a=function(){var a,b;this.IL(this.vj.Qb.value);a=this.i5(this.Lo,this.ocb);try{b=this.rsa(a);}catch(x){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};b.prototype.d$a=function(){var a,b;a=this;if(!this.yqa){b=this.rJ();this.HT.forEach(function(c){var f,d,g;if(0===a.NH["abrdel"+c]&&b>c*t.Nj){f=0;d=0;g=0;a.Lo.some(function(a){f+=a.stream.P*(a.endTime-a.startTime);d+=a.endTime-a.startTime;g=a.stream.P;if(d>c*t.Nj)return!0;});f&&(a.NH["abrdel"+c]=Math.round((f-g*(d-c*t.Nj))/(c*t.Nj)));}});0!==this.NH["abrdel"+this.HT[this.HT.length-1]]&&(this.yqa=!0);A.Uc(this.NH,function(b,c){a.Qx[b]=0===c?a.Qx.abrdel:c;});}return this.Qx;};b.prototype.LYa=function(a){this.k7+=a;};b.prototype.Vcb=function(){return!!(this.Lo[0]&&this.Lo[0].stream&&this.Ba.Dd(this.Lo[0].stream.wc));};b.prototype.FM=function(){var a;a=this;this.vj.zf.addListener(function(b){a.sC=a.Aoa(a.sC,a.TU,b.newValue);});this.vj.Le.addListener(function(b){a.uC=a.Aoa(a.uC,a.Lo,b.newValue);});this.vj.Di.addListener(this.Bjb.bind(this));};b.prototype.djb=function(a,b){this.IL(a);this.startTime=b;this.uC=this.sC=void 0;this.tC&&(this.tC.startTime=this.startTime);};b.prototype.Bjb=function(a){this.UK(this.tC,this.d$,this.vj.Qb.value);this.tC=a.newValue?{track:a.newValue,startTime:this.vj.Qb.value,endTime:k.Tw}:void 0;};b.prototype.IL=function(a){a&&this.sC&&this.uC&&(a=Math.min(a,this.sC.endTime,this.uC.endTime),this.UK(this.sC,this.TU,a),this.sC.startTime=a,this.UK(this.uC,this.Lo,a),this.uC.startTime=a,this.tC&&(this.UK(this.tC,this.d$,a),this.tC.startTime=a),this.startTime=a);};b.prototype.Aoa=function(a,b,c){a&&this.UK(a,b,Math.min(a.endTime,this.vj.Qb.value));if(c&&c.stream)return a=c.Vm,b=c.stream,{Wb:c.Wb,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};b.prototype.UK=function(a,b,c){a&&c&&c>=a.startTime&&(a={Wb:a.Wb,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c},(c=b[b.length-1])&&c.track===a.track&&c.stream===a.stream&&c.Wb===a.Wb&&c.endTime===a.startTime?c.endTime=a.endTime:b.push(a));};b.prototype.i5=function(a,b){var c,f;c=this;f={};return a.reduce(function(a,d){var g,k,h;g=b.bind(c,d)();k=g.key;d=d.endTime-d.startTime;h=f[k];h?h.duration+=d:(delete g.key,h=g,h.duration=d,a.push(h),f[k]=h);return a;},[]);};b.prototype.kJ=function(a,b){return this.i5(a,b).map(function(a){return new f().encode(a);});};b.prototype.sS=function(a){var b,c,f;f=a.stream;f?(a=f.Tc,b=f.P,c=f.wc):a=a.track.Tc;return{key:a+"$"+(b||0),Tc:a,P:b,wc:c};};b.prototype.Ksa=function(a){var b;b=this.sS(a);a=a.Wb.id;return Object.assign({},b,{key:b.key+"$"+a,Iu:a});};b.prototype.l$a=function(a){a=(a=a.stream)?a.P:0;return{key:a,oK:a};};b.prototype.ocb=function(a){a=(a=a.stream)?a.wc:0;return{key:a,oK:a};};b.prototype.rsa=function(a){var b,c,f;b=this;c=0;a.forEach(function(a){if(b.Ba.Dd(a.duration)&&b.Ba.Dd(a.oK))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;f=0;a.forEach(function(a){f+=a.oK*a.duration/c;});return f;};a=b;a=g.__decorate([h.N(),g.__param(1,h.l(m.ob)),g.__param(2,h.l(c.ld)),g.__param(3,h.l(p.ue)),g.__param(4,h.l(q.yt))],a);d.sPa=a;},function(g,d,a){var f,h,m,c,k,p;function b(a){var b,d;b=this;this.j=a;this.Ijb=function(){var a;m.Ce.removeListener(m.q6,b.kya);a=b.nn.sy();a&&a.parentNode&&a.parentNode.removeChild(a);};this.I9=function(a){b.nn.aqb(a.newValue);};this.Zjb=function(a){b.nn.dqb(a.newValue?a.newValue.RJ:void 0);};this.kya=function(){b.nn.fL();};this.nn=new k.GRa(c.config.Oba,a.vc.value?a.vc.value.RJ:void 0);d=a.kF;h.Ga(.1<d.width/d.height);this.nn.Tpb(d.width/d.height);a.Yg.appendChild(this.nn.sy());a.Fq.addListener(this.I9);a.vc.addListener(this.Zjb);a.addEventListener(p.S.Ie,this.Ijb,f.RA);m.Ce.addListener(m.q6,this.kya);}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);h=a(14);m=a(53);c=a(12);k=a(271);p=a(15);b.prototype.Xaa=function(a){this.nn.Xaa(a);};b.prototype.k6=function(){return this.nn.k6();};b.prototype.Vaa=function(a){this.nn.Vaa(a);};b.prototype.i6=function(){return this.nn.i6();};b.prototype.Waa=function(a){this.nn.Waa(a);};b.prototype.j6=function(){return this.nn.j6();};d.IRa=b;},function(g,d,a){var f,h,m,c,k,p,q,t,A;function b(a,b,c,f,d){a=k.rG.call(this,b,a,a,"1",{0:c},void 0,"xx",f||a,p.pp.UA,"primary","custom",{},!1,!1,!1)||this;a.j=b;a.url=c;a.content=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(56);f=a(12);h=a(53);m=a(4);c=a(19);k=a(214);p=a(157);q=a(69);t=a(106);A=a(15);g.Rha(g.Nha,function(a){var d;function b(b){var f;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==t.$q.uRa){f=c.createElement("INPUT",void 0,void 0,{type:"file"});f.addEventListener("change",function(){var b,c,g;b=f.files[0];if(b){c=b.name;d.info("Loading file",{FileName:c});g=new FileReader();g.readAsText(b);g.addEventListener("load",function(){return a.Nn.h1("nourl",c,g.result);});}});f.click();}}d=m.$f(a,"TimedTextCustomTrack");f.config.r3&&(d.info("Loading url",{Url:f.config.r3}),a.Nn.h1(f.config.r3,"custom"));h.Ce.addListener(h.zy,b);a.addEventListener(A.S.Ie,function(){h.Ce.removeListener(h.zy,b);});});ca(b,k.rG);b.Z3a=function(a,c,f,d){var g;g="custom"+b.Xdb++;return new b(g,a,c,f,d);};b.prototype.Bqa=function(){var a;a=this;return new Promise(function(b,c){var f;if(a.content)b(a.content);else if(a.url){f={responseType:q.oua,url:a.url,track:a,Wb:null,BC:"tt-"+a.Wj};a.j.BJ.download(f,function(d){d.W?b(d.content):(d.reason="downloadfailed",d.url=f.url,d.track=a,c(d));});}});};b.Xdb=0;d.FRa=b;},function(g,d){function a(a,b,f){this.start=a;this.track=b;this.Vz=f;this.end=void 0;this.Vz=Array.isArray(f)?f:[];}function b(a,b,f){this.log=a;this.nA=b;this.Wa=f.Wa;this.Og=f.Og||function(){};this.current=void 0;this.G$=[];this.orphans=[];}function f(a){var b;b=!1;a.reduce(function(a,c){a[c]=(a[c]|0)+1;1<a[c]&&(b=!0);return a;},Object.create(null));return b;}function h(a,b){return f(a)?(b.error("duplicates in entries"),a.filter(function(a,b,c){return c.indexOf(a)===b;})):a;}function m(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.zYa=function(a,b){this.Exa(a,b,"activating");};b.prototype.M4a=function(a){this.p4(a,"de-activating");};b.prototype.Exa=function(b,f,d){var c;c=[];this.current&&this.p4(b,"close current for new");this.orphans.length&&(c.push(this.orphans),this.orphans=[]);this.current=new a(b,f,c);this.nA&&this.log.trace("new range: "+d,this.Wa({},this.current));};b.prototype.p4=function(a,b){this.current&&(this.current.end=a,this.G$.push(this.current),this.nA&&this.log.trace("end range: "+b,this.Wa({},this.current||{})),this.current=void 0);};b.prototype.NDa=function(a){this.current?this.current.Vz.push(a):this.orphans.push(a);};b.prototype.f6=function(b){var c,f,d;c=this;f=c.G$.slice(0);if(c.current&&"undefined"!=typeof b){d=new a(c.current.start,c.current.track,c.current.Vz);d.end=b;f.push(d);}b=f.reduce(function(a,b){var f,d,g,k;if(!b.track)return a;f=b.track.Tc;d=b.track.jv(b.start,b.end);if(!d)return a;g=h(b.Vz,c.log);a[f]?(k=a[f],k.expected+=d.length,k.missed+=d.length-g.length):(k={},k.dlid=f,k.bcp47=b.track.Wj,k.profile=b.track.profile,k.expected=d.length,k.missed=d.length-g.length,k.startPts=b.track.Lbb(),a[f]=k);return a;},{});b=m(b);c.nA&&c.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};b.prototype.Bbb=function(b){var c,f,d,g,m;c=this;f=c.G$.slice(0);d=0;g=0;c.current&&"undefined"!=typeof b&&(m=new a(c.current.start,c.current.track,c.current.Vz),m.end=b,f.push(m));f.forEach(function(a){var b,f;if(a.track){if(a.end<a.start){c.Og("negative range",a);a.hw=0;return;}b=h(a.Vz,c.log);f=a.track.jv(a.start,a.end);a.VI=f?f.map(function(a){return a.id;}):[];a.hw=f?0===f.length?100:100*b.length/f.length:0;}else a.hw=100;b=a.end-a.start;d+=b;g+=a.hw*b;});m=d?Math.round(g/d):100;c.log.trace("qoe score "+m+", at pts: "+b);c.nA&&(b=f.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.hw),lang:a.track?a.track.Wj:"none","actual  ":a.Vz.join(" "),expected:(a.VI||[]).join(" ")};}),c.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return m;};d.tRa=b;},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l,x,n,N;function b(a){var c;c=this;this.j=a;this.wba=this.yxa=0;this.Ie=this.fl=!1;this.gw=0;this.ZE=function(){var a,b;a=c.kf();c.yV();c.Jpa&&(c.log.info("Deactivating",c.Jpa),c.qw.M4a(c.kf()));c.j.Di.set(null);c.aA.GBa(c.entries=void 0);c.Hoa();b=c.j.vc.value;b&&b.SJ()&&!b.kT()&&(b=null);b&&c.j.Ob.value!==x.ib.og&&c.qw.zYa(a,b);b?(c.log.info("Activating",b),c.j.Gj.set(x.pf.Ij),c.fl||c.j.Pc("tt_start"),b.getEntries().then(c.dD)["catch"](c.dD)):c.j.Gj.set(x.pf.$c);c.Jpa=b;c.fF();};this.Eba=function(){c.fl&&(c.aA.start(),c.j.Ob.value!==x.ib.ad&&c.aA.stop());};this.fF=function(){var a;c.j.state.value===x.jb.$c&&c.j.Ob.value!==x.ib.og&&(c.entries?a=c.aA.S9a():c.j.vc.value&&(a=b.qrb[c.j.vc.value.gd()]));a&&l.Tb(a.startTime)&&(c.yxa++,c.wba+=c.aA.dta()-a.startTime,c.Pna=Math.ceil(c.wba/(c.yxa+0)));c.j.Fq.set(a);};this.kf=function(){return c.j.P5();};this.Yjb=function(a){c.fireEvent(b.Tqb,a);a&&a.id&&c.qw.NDa(a.id);c.log.trace("showsubtitle",c.Cta(a));};this.Sjb=function(a){c.fireEvent(b.Ynb,a);c.log.trace("removesubtitle",c.Cta(a));};this.J9=function(){c.log.warn("imagesubs buffer underflow",c.j.vc.value.cg);c.j.Gj.set(x.pf.Ij);};this.Djb=function(){c.log.info("imagesubs buffering complete",c.j.vc.value.cg);c.j.Gj.set(x.pf.$c);};this.fya=function(){c.fl&&c.uf&&c.uf.bp(c.kf());};this.iya=function(a){c.uf&&c.uf.Taa&&c.uf.Taa(a.Th,a.uU);};this.lya=function(a){c.uf&&c.uf.Jq&&c.uf.Jq(a.ji,a.hub);};this.BU=function(){c.fl=!0;y.zb(function(){c.uf?c.uf.bp(c.kf()):c.Eba();c.fF();});};this.BK=function(){c.entries=void 0;c.Hoa();c.aA.stop();c.fF();c.Ie=!0;c.yV();};this.I9=function(a){(a=a.newValue)&&l.Tb(a.id)&&c.qw.NDa(a.id);};this.Pjb=function(a){c.bub(a.newValue,a.oldValue);c.Eba();};this.dD=function(a){var b,f;if(!c.Ie){b=a.track;f=!1;if(b==c.j.vc.value)if(b.$p)if(a.W)c.yV(),c.uf=b.uf,c.rwa("addListener"),c.log.info("Activated",b),c.j.Di.set(b),c.fl?y.zb(function(){c.uf.bp(c.kf());}):c.uf.pause();else{if(f=!!(c.gw<m.config.Nwa))c.KAa=setTimeout(c.LAa.bind(c,b),m.config.WCa);c.log.error("Failed to activate img subtitle",{retry:f},a,b);}else{if(f=a.entries)c.yV(),c.aA.GBa(c.entries=f),c.log.info("Activated",b),c.j.Di.set(b);else{if(f=!!(c.gw<m.config.Nwa))c.KAa=setTimeout(c.LAa.bind(c,b),m.config.WCa);c.log.error("Failed to activate",{retry:f},A.Un(a),b);}c.fF();}c.fl||c.j.Pc(a.W?"tt_comp":"tt_err");a.W?(m.config.TAa?setTimeout(function(){c.j.Gj.set(x.pf.$c);},m.config.TAa):c.j.Gj.set(x.pf.$c),b.$p||c.fF()):a.El?c.log.warn("aborted timed text track loading"):m.config.G8a?(b=k.V.get(N.sl),c.j.sd(b(A.I.$Ka,{Sa:a.track?a.track.cg:{}}))):(c.log.error("ignore subtitle initialization error",a),c.j.Gj.set(x.pf.$c));}};this.Hb=new h.Lj();this.qw=new p.tRa(k.$f(a,"SubtitleTracker"),m.config.r7a,{Wa:t.Wa,Og:q.Ga});this.log=k.$f(a,"TimedTextManager");this.aA=new f.LRa(this.kf,this.fF);this.j.vc.addListener(this.ZE);m.config.Qlb?(this.j.addEventListener(x.S.wj,this.BU),this.ZE()):(this.j.Gj.set(x.pf.$c),this.j.addEventListener(x.S.wj,function(){c.fl=!0;c.ZE();}));this.j.Ob.addListener(this.Pjb);this.j.addEventListener(x.S.Iba,this.Eba);this.j.Fq.addListener(this.I9);this.j.addEventListener(x.S.Ie,this.BK);}Object.defineProperty(d,"__esModule",{value:!0});g=a(214);f=a(275);h=a(68);m=a(12);c=a(28);k=a(4);p=a(564);q=a(14);t=a(18);A=a(2);y=a(45);l=a(16);x=a(15);n=a(563);N=a(61);b.prototype.addEventListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.fireEvent=function(a,b,c){this.Hb.Ib(a,b,c);};b.prototype.h1=function(a,b,f){var d;d=n.FRa.Z3a(this.j,a,b,f);this.j.Hj.push(d);this.j.Qm.forEach(function(a){c.cFa(a.Hj,d);});this.j.vc.set(d);this.j.fireEvent(x.S.bA);};b.prototype.Rbb=function(a){return this.qw.Bbb(a);};b.prototype.f6=function(a){return this.qw.f6(a);};b.prototype.CS=function(){var a,b;a=this.j.hM;b=m.config.XCa.characterSize;b={size:m.config.Pba.characterSize||b};a&&(b.visibility=a.k6(),b.SH=a.i6(),b.un=a.j6());return b;};b.prototype.rqb=function(a){m.config.Pba.characterSize=a;a=this.j.vc.value;!a||a.SJ()||a.$p||a.getEntries().then(this.dD)["catch"](this.dD);};b.prototype.bub=function(a,b){a===x.ib.ad||a==x.ib.oi?b!==x.ib.ad&&b!==x.ib.oi&&((b=this.j.vc.value)&&b.SJ()&&!b.kT()||this.qw.Exa(this.kf(),b,"presentingstate:"+a)):a!==x.ib.og&&a!==x.ib.Wq||this.qw.p4(this.kf(),"presentingstate:"+a);};b.prototype.yV=function(){this.gw=0;clearTimeout(this.KAa);};b.prototype.Hoa=function(){this.uf&&(this.uf.stop(),this.rwa("removeListener"));this.uf=void 0;};b.prototype.rwa=function(a){this.uf&&(this.uf[a]("showsubtitle",this.Yjb),this.uf[a]("removesubtitle",this.Sjb),this.uf[a]("underflow",this.J9),this.uf[a]("bufferingComplete",this.Djb),"addListener"===a?(this.j.addEventListener(x.S.$m,this.fya),this.j.addEventListener(x.S.tU,this.iya),this.j.addEventListener(x.S.Jq,this.lya)):(this.j.removeEventListener(x.S.$m,this.fya),this.j.removeEventListener(x.S.tU,this.iya),this.j.removeEventListener(x.S.Jq,this.lya)));};b.prototype.Cta=function(a){return{currentPts:this.kf(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.LAa=function(a){this.gw++;a.getEntries().then(this.dD)["catch"](this.dD);};a={};b.qrb=(a[g.rG.yia.LOADING]={RHb:!0},a[g.rG.yia.TF]={iy:!0},a);b.Tqb="showsubtitle";b.Ynb="removesubtitle";d.HRa=b;},function(g,d,a){var c,k,p,q,t,A,y,l,x,n,N,R,S,r,D,U,P,ia,Z,ea,Y,O,W,E,C,M;function b(a){var b;b=this;this.j=a;this.mEa=Promise.resolve();this.KX=J.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.qu=[];this.dj=new A.Lj();this.fka=this.c_=0;this.yO=[];this.fb=x.$f(this.j,"MediaElementASE");this.ema=D.le;this.w_=!1;this.ef={};this.LG={};this.tS=this.AO(function(){var a;if(b.La){a=b.NO();return a?a.totalVideoFrames:b.La.webkitDecodedFrameCount;}});this.ry=this.AO(function(){var a;if(b.La){a=b.NO();return a?a.droppedVideoFrames:b.La.webkitDroppedFrameCount;}});this.iJ=this.AO(function(){var a;if(b.La){a=b.NO();return a&&a.corruptedVideoFrames;}});this.uS=this.AO(function(){var a;if(b.La){a=b.NO();return a&&P.Jh(a.totalFrameDelay*D.Nj);}});this.dla=function(){return b.dj.Ib(ea.Kh.Nva);};this.qj=x.V.get(Z.Nfa).create(t.config.cp,this,this.j);t.config.Cv&&(this.mEa=new Promise(function(a){b.ema=a;b.j.addEventListener(W.S.Ie,a);}));this.fb.trace("Created Media Element");this.addEventListener=this.dj.addListener;this.removeEventListener=this.dj.removeListener;this.La=f(this.j.kF);this.sourceBuffers=this.qu;}function f(a){var b,c;b=x.V.get(Y.uja).tbb();a=a.width/a.height*b.height;c=(b.width-a)/2;return t.config.uqb?D.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):D.createElement("VIDEO","position:absolute;width:100%;height:100%");}function h(a){a.preventDefault();return!1;}function m(a,b){var c,f,d;c=a.target;c=c&&c.error;f=a.errorCode;d=c&&c.code;D.Tb(d)||(d=f&&f.code);f=c&&c.msExtendedCode;D.Tb(f)||(f=c&&c.systemCode);D.Tb(f)||(f=a.systemCode);a=D.Wa({},{code:d,systemCode:f},{pq:!0});b={Y:b(d),Sa:U.pwa(a)};try{c&&c.message&&(b.kK=c.message);}catch(Fa){}f=D.Sd(f);ia.pa(f)&&(b.Gc=x.Rna(f,4));return{TC:b,igb:a};}Object.defineProperty(d,"__esModule",{value:!0});c=a(49);k=a(140);p=a(61);q=a(9);t=a(12);A=a(68);y=a(53);l=a(28);x=a(4);n=a(2);N=a(14);R=a(105);S=a(436);r=a(18);D=a(19);U=a(175);P=a(8);ia=a(16);Z=a(277);ea=a(174);Y=a(301);O=a(3);W=a(15);E=a(130);C=!!(P.NA&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);M=C&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||P.cG);b.prototype.qy=function(a){try{this.La&&(this.fka=this.La.currentTime);}catch(ka){this.fb.error("Exception while getting VIDEO.currentTime",ka);a&&this.oB(n.I.zOa,ka);}return P.Jh(this.fka*D.Nj);};b.prototype.seek=function(a){var b;N.Ga(!this.Cl);this.bma();b=this.qy(!0);if(!t.config.mZa&&P.YF(b-a)<=this.waa)this.fb.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.waa});else try{this.fb.trace("Setting video elements currentTime",{From:R.hh(b),To:R.hh(a)});this.Cl={};this.La.currentTime=a/D.Nj;this.dj.Ib(ea.Kh.$m);}catch(ra){this.fb.error("Exception while setting VIDEO.currentTime",ra);this.oB(n.I.AOa,ra);}};b.prototype.Cbb=function(){return!!this.Cl;};b.prototype.addSourceBuffer=function(a){var b,f;b=D.Sd(this.c_.toString()+this.qu.length.toString());b={sourceId:this.c_,oQ:b};try{f=new k.sga(this.j,a,this.Re,b,this.fb);this.qu.push(f);a==q.WF&&f.N4&&f.N4.addListener(this.ema);return f;}catch(xa){f=D.ud(xa);this.fb.error("Unable to add source buffer.",{error:f});b=x.V.get(p.sl);this.j.sd(b(n.I.lZ,{Y:a===c.qc.Ih.AUDIO?D.u.dga:D.u.ega,Sa:f}));}};b.prototype.l1=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.dj.Ib(ea.Kh.gCa);return!0;};b.prototype.removeSourceBuffer=function(a){this.qu=this.qu.filter(function(b){return!l.Uoa(a,b);});this.Re.removeSourceBuffer(a);};b.prototype.endOfStream=function(){t.config.k2&&this.Re.endOfStream();};b.prototype.cn=function(a){this.qu=[];a&&a.HIb();return!0;};b.prototype.Spb=function(a){this.c_=a;};b.prototype.cta=function(){if(this.Re)return O.Ulb(this.Re.duration);};b.prototype.gqb=function(a){this.Re&&(this.Re.duration=a.XU(O.Am));};b.prototype.c6a=function(){var a;if(!this.w_&&this.La&&2<=this.La.readyState){a=this.La.webkitDecodedFrameCount;if(void 0===a||0<a||t.config.dvb)this.w_=!0;}return this.w_;};b.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(W.S.WBa,function(b){return a.oWa(b);});if(C){if(this.j.vv){if(!M){this.xl(n.I.gha);return;}if(P.cG&&P.cG.isTypeSupported&&this.qj.Rd)try{if(!P.cG.isTypeSupported(this.qj.Rd,"video/mp4")){this.SXa(function(b){a.xl(n.I.jZ,b);});return;}}catch(xa){this.oB(n.I.jZ,xa);return;}}try{this.Re=new P.NA();}catch(xa){this.oB(n.I.pOa,xa);return;}try{this.Bi=URL.createObjectURL(this.Re);}catch(xa){this.oB(n.I.qOa,xa);return;}try{this.qj.NYa(this.dla);this.Re.addEventListener("sourceopen",function(b){return a.Gla(b);});this.Re.addEventListener(this.KX+"sourceopen",function(b){return a.Gla(b);});this.La.addEventListener("error",this.ef.error=function(b){return a.ZG(b);});this.La.addEventListener("seeking",this.ef.seeking=function(){return a.nWa();});this.La.addEventListener("seeked",this.ef.seeked=function(){return a.m0();});this.La.addEventListener("timeupdate",this.ef.timeupdate=function(){return a.pWa();});this.La.addEventListener("loadstart",this.ef.loadstart=function(){return a.eP();});this.La.addEventListener("volumechange",this.ef.volumechange=function(b){return a.qWa(b);});this.La.addEventListener(this.qj.cz,this.ef[this.qj.cz]=function(b){return a.jWa(b);});b=this.j.Yg;c=b.lastChild;c?b.insertBefore(this.La,c):b.appendChild(this.La);t.config.pqa&&this.La.addEventListener("contextmenu",h);this.La.src=this.Bi;y.Ce.addListener(y.sJ,this.LG[y.sJ]=function(){return a.Ela();});this.Ela();}catch(xa){this.oB(n.I.rOa,xa);}}else this.xl(n.I.hha);};b.prototype.close=function(){var b;function a(){b.Bi&&(b.bma(),y.Ce.removeListener(y.sJ,b.LG[y.sJ]),b.tTa());}b=this;this.La.removeEventListener(this.qj.cz,this.ef[this.qj.cz]);this.La.removeEventListener("error",this.ef.error);this.La.removeEventListener("seeking",this.ef.seeking);this.La.removeEventListener("seeked",this.ef.seeked);this.La.removeEventListener("timeupdate",this.ef.timeupdate);this.La.removeEventListener("loadstart",this.ef.loadstart);this.La.removeEventListener("volumechange",this.ef.volumechange);this.qj.Snb(this.dla);t.config.cp?this.qj.Mya().then(function(){return a();}):a();this.qj.rAa&&clearTimeout(this.qj.rAa);};b.prototype.jWa=function(a){return this.qj.F9(a);};b.prototype.NO=function(){if(this.La)return this.La.getVideoPlaybackQuality&&this.La.getVideoPlaybackQuality()||this.La.videoPlaybackQuality||this.La.playbackQuality;};b.prototype.sXa=function(){var a;a=this.j.Xh;return(a=a&&a.errorCode)&&0<=[n.I.LN,n.I.wN].indexOf(a);};b.prototype.tTa=function(){var a;a=!1;t.config.mmb&&this.sXa()&&(a=!0);t.config.t1a&&!a&&(this.La.removeAttribute("src"),this.La.load&&this.La.load());URL.revokeObjectURL(this.Bi);t.config.pqa&&this.La.removeEventListener("contextmenu",h);!a&&this.La&&this.j.Yg.removeChild(this.La);this.La=this.Re=void 0;this.Bi="";};b.prototype.Ela=function(){!0===P.Ld.hidden?this.yO.forEach(function(a){a.refresh();a.grb();}):this.yO.forEach(function(a){a.refresh();a.vrb();});};b.prototype.AO=function(a){var b;b=x.V.get(S.Tga)(a);this.yO.push(b);return function(){b.refresh();return b.A$a();};};b.prototype.oB=function(a,b){var c,f;c={Y:D.u.eh,Sa:D.ud(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(c.Gc=f);}catch(la){}b=x.V.get(p.sl);this.j.sd(b(a,c));};b.prototype.bma=function(){this.yO.forEach(function(a){a.refresh();});};b.prototype.lUa=function(){return this.La&&this.La.msGraphicsTrustStatus;};b.prototype.xl=function(a,b,c){var f;f=x.V.get(p.sl);this.j.sd(f(a,b,c));};b.prototype.SXa=function(a){var c,f;function b(f){b=D.le;c.Zg();a(f);}c=x.V.get(E.ZA)(500,function(){b();});c.us();try{f=this.j.te.value.Wp.pIb.children.filter(function(a){return"pssh"==a.type&&a.I6a==q.QIa;})[0];new P.cG(this.qj.Rd).createSession("video/mp4",f.raw,null).addEventListener(this.KX+"keyerror",function(a){a=m(a,n.xea);b(a.TC);});}catch(la){b();}};b.prototype.oWa=function(a){var b,f,d,g,k,h,p;if(this.La){a=a.BM;b=this.lUa();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.La.readyState;a.currentTime=""+this.La.currentTime;a.pbRate=""+this.La.playbackRate;}catch(Mc){}for(var b=this.qu.length,c;b--;){c=this.qu[b];f="";c.type==q.NY?f="audio":c.type==q.WF&&(f="video");D.Wa(a,c.mS(),{prefix:f});t.config.j7a&&this.j.Xh&&q.WF==c.type&&(f=D.EL(c.px),3E3>(f.data&&f.data.length)&&(f.data=r.l2a(f.data).join(),D.Wa(a,f,{prefix:c.type})));}this.Re&&(b=this.Re.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(t.config.jgb)try{d=this.j.hf;g=d&&d.yva;if(g){k=g.expiration;isNaN(k)||(a.exp=k);h=g.keyStatuses.entries();if(h.next){p=h.next().value;p&&(a.keyStatus=p[1]);}}}catch(Mc){}}};b.prototype.Gla=function(a){this.zXa||(this.zXa=!0,this.dj.Ib(ea.Kh.hCa,a));};b.prototype.nWa=function(){this.fb.trace("Video element event: seeking");this.Cl?this.Cl.qjb=!0:(this.fb.error("unexpected seeking event"),t.config.I8a&&this.xl(n.I.FOa));};b.prototype.m0=function(){this.fb.trace("Video element event: seeked");this.Cl?(N.Ga(this.Cl.qjb),this.Cl.pjb=!0,this.uma()):(this.fb.error("unexpected seeked event"),t.config.H8a&&this.xl(n.I.EOa));};b.prototype.pWa=function(){this.Cl&&(this.Cl.sjb=!0,this.uma());this.dj.Ib(ea.Kh.$m);};b.prototype.eP=function(){this.fb.trace("Video element event: loadstart");};b.prototype.qWa=function(a){this.fb.trace("Video element event:",a.type);try{this.j.volume.set(this.La.volume);this.j.muted.set(this.La.muted);}catch(ka){this.fb.error("error updating volume",ka);}};b.prototype.ZG=function(a){a=m(a,n.zJa);this.fb.error("Video element event: error",a.igb);this.xl(n.I.xOa,a.TC);};b.prototype.uma=function(){this.Cl&&this.Cl.pjb&&this.Cl.sjb&&(this.Cl=void 0,this.dj.Ib(ea.Kh.rL));};qa.Object.defineProperties(b.prototype,{waa:{configurable:!0,enumerable:!0,get:function(){return t.config.arb;}}});d.QMa=b;},function(g,d,a){var p,q,t,A,y,l,x,n,N,R,S,r,D,U,P,ia,Z,ea;function b(a,b,c){this.Mk=a;this.s6=b;this.prefix=c;a=r(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function f(){this.kqa=p.oo.kqa.bind(p.oo);this.OQ=p.oo.OQ.bind(p.oo);this.EC=p.oo.EC;this.PA="NDA";}function h(){}function m(){}function c(){return N?N:"0.0.0.0";}function k(a){a({sya:0,bM:0,kua:0,rra:0});}p=a(141);f.prototype.set=function(a,b){A[a]=b;y.save(a,b);};f.prototype.get=function(a,b){if(A.hasOwnProperty(a))return A[a];n.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");y.load(a,function(c){c.W?(A[a]=c.data,b&&b(c.data)):A[a]=void 0;});};f.prototype.remove=function(a){y.remove(a);};f.prototype.clear=function(){n.info("WARNING: Calling unimplemented function Storage.clear()");};h.prototype.now=function(){return l();};h.prototype.ea=function(){return x();};h.prototype.h9=function(a){return a+l()-x();};h.prototype.C9=function(a){return a+x()-l();};d=a(25).EventEmitter;a(48)(d,m.prototype);b.prototype.ypa=function(a){var c;c=[];this.prefix&&Array.isArray(this.prefix)?c.push.apply(c,[].concat(da(this.prefix))):this.prefix&&c.push(this.prefix);c.push(a);return new b(this.Mk,this.s6,c);};D=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();g.T=function(a){q=a.pz;r=a.Kf;y=a.storage;A=a.AD;l=a.abb;R=a.oJ;S=a.GJ;x=a.getTime;n=a.DZa;U=a.qk;ea=a.hr;P=a.xA;ia=a.SourceBuffer;Z=a.MediaSource;N=a.rHb;t=a.lo;return{name:"cadmium",lo:t,pz:q,oJ:R,GJ:S,storage:new f(),Storage:f,time:new h(),events:new m(),console:new b("JS-ASE",void 0,"default"),Console:b,options:{},Promise:D,qk:U,xA:P,YMa:ia,MediaSource:Z,hr:ea,$k:{name:c},memory:{oab:k}};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(69);d.UPa=function(){b.Kf("ProbeDownloader");return{gJ:function(a){f.Gd.tmb({url:a.url,qmb:a});}};}();},function(g,d,a){var f,h,m,c,k,p,q;function b(){var a;a=new h.Lj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Ib.bind(this);this.qP=p++;this.fb=m.Kf("ProbeRequest");this.Sla=f.UPa;c.Ga(void 0!==this.Sla);this.rf=d.hr.bc.UNSENT;}Object.defineProperty(d,"__esModule",{value:!0});f=a(568);h=a(68);m=a(4);c=a(14);k=a(19);p=0;(function(){function a(){return JSON.stringify({url:this.Bi,id:this.qP,affected:this.lO,readystate:this.rf});}k.Wa(b.prototype,{al:function(a){a.affected=this.lO;a.probed={requestId:this.qP,url:this.Bi,Db:this.jma,groupId:this.OO};this.emit(d.hr.zd.eG,a);},B9:function(a){this.CXa=a.httpcode;a.affected=this.lO;a.probed={requestId:this.qP,url:this.Bi,Db:this.jma,groupId:this.OO};this.emit(d.hr.zd.$w,a);},open:function(a,b,c,f){if(!a)return!1;this.Bi=a;this.lO=b;this.jma=c;this.rf=d.hr.bc.OPENED;this.UUa=f;this.Sla.gJ(this);return!0;},Zd:function(){return!0;},ak:function(){return this.qP;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.rf;},set:function(){}},status:{get:function(){return this.CXa;}},url:{get:function(){return this.Bi;}},bEb:{get:function(){return this.lO;}},egb:{get:function(){return this.UUa;}}});}());(function(a){a.zd={eG:"pr0",$w:"pr1"};a.bc={UNSENT:0,OPENED:1,Rt:2,DONE:3,Et:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(q||(q={})));d.hr=Object.assign(b,q);},function(g,d,a){var f,h,m;function b(a){this.qv=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(116);h=a(1);b.prototype.create=function(b,f,d){return new(a(287)).xPa(b,f,d,this.qv);};m=b;m=g.__decorate([h.N(),g.__param(0,h.l(f.HA))],m);d.wPa=m;},function(g,d){function a(a){this.j=a;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.MDa=function(){var a;a=this.j.nl&&this.j.nl.$e.get()||{};a.Dg&&(this.j.Dg=a.Dg.Fa);a.va&&(this.j.va=a.va.Fa);};a.prototype.Uk=function(){-1===this.j.va&&this.MDa();return this.j.va;};a.prototype.s0a=function(a){-1!==this.j.Dg&&-1!==this.j.va||this.MDa();return-1===this.j.Dg||-1===this.j.va?Number.MAX_VALUE:this.j.Dg+8*a/this.j.va;};d.MFa=a;},function(g,d,a){var f,h,m,c,k,p;function b(a,b){this.app=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(15);h=a(289);m=a(23);c=a(1);k=a(3);a=a(17);b.prototype.NC=function(a){var b;a.nM={};if(!a.vD()&&a.st&&0<a.st.length&&(a.qt=this.Vsa(a),a.qt)){b=this.Bqb(a);b()||(a.addEventListener(f.S.wj,b),a.te.addListener(b));}};b.prototype.Bqb=function(a){var c;function b(){var d,g;if(!a.te.value||!a.fW)return!1;d=a.qt;g=d.gd();return g===h.Cm.LOADING?!1:g!==h.Cm.LOADED&&d.$s?(d=c.ecb(a))?(a.nM.offset=c.app.Xb().fa(k.ma),a.qt=d,d.download(),!0):!1:(a.removeEventListener(f.S.wj,b),a.te.removeListener(b),!1);}c=this;return b;};b.prototype.ecb=function(a){var b,c;b=this.config();c=a.cl.rJ()<b.utb;b=(a.te.value?a.te.value.P:0)>b.ttb;return this.Abb(a,c&&b);};b.prototype.Abb=function(a,b){if(b&&(b=this.Vsa(a),this.vta(a,b.size)))return a.nM.AAa="h",b;b=this.Lab(a);if(this.vta(a,b.size))return a.nM.AAa="l",b;};b.prototype.vta=function(a,b){var c,f;c=this.config();f=Math.min(a.EH(),a.AM());return a.B_a.s0a(b)*(1+.01*c.dZa[2])<f*c.xtb;};b.prototype.Vsa=function(a){return a.st[a.st.length-1];};b.prototype.Lab=function(a){return a.st[0];};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(m.Oe)),g.__param(1,c.l(a.ld))],p);d.WRa=p;},function(g,d,a){var h,m,c,k;function b(a,b,c,f){this.oa=a;this.nob=b;this.ia=c;this.app=f;this.Bc={};}function f(a,b){this.xf=a;this.app=b;this.kd={};this.ia=a.lb("PlaybackMilestoneStoreImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(7);c=a(23);k=a(3);f.prototype.Knb=function(a,c){this.kd[a]&&this.ia.warn("registerPlayback: xid "+a+" already registered, overriding");c=(c?c:this.app.Xb()).fa(k.ma);this.ia.trace("registerPlayback: xid "+a+" at "+c);this.kd[a]=new b(a,c,this.ia,this.app);return this.kd[a];};f.prototype.jbb=function(a){this.kd[a]||this.ia.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.kd[a];};f.prototype.Vnb=function(a){this.ia.trace("removePlayback: xid "+a);delete this.kd[a];};a=f;a=g.__decorate([h.N(),g.__param(0,h.l(m.ob)),g.__param(1,h.l(c.Oe))],a);d.APa=a;b.prototype.Fl=function(a,b){b=b?b.fa(k.ma):this.app.Xb().fa(k.ma)-this.nob;this.ia.trace("addMilestone: xid "+this.oa+" "+a+" at "+b);this.Bc[a]=b;};},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y,l,x,n,N,R,S,r,D;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(291);f=a(573);h=a(384);m=a(290);c=a(572);k=a(288);p=a(571);q=a(419);t=a(570);A=a(561);y=a(17);l=a(86);x=a(21);n=a(7);N=a(560);R=a(177);S=a(559);r=a(558);D=a(557);d.j=new g.ac(function(d){d(b.uZ).to(f.APa).Z();d(h.cja).Rf(function(b){var c;c=b.ec;return function(b,f,d,g,k,h,q,p){return new(a(556)).URa(c.get(r.eja),b,f,d,g,k,h,q,p);};});d(r.eja).to(D.XRa).Z();d(m.dja).to(c.WRa).Z();d(q.Tha).to(t.wPa).Z();d(k.cda).Rf(function(){return function(a){return new p.MFa(a);};});d(N.Jha).Rf(function(a){var b;b=a.ec;return function(a){return new A.sPa(a,b.get(n.ob),b.get(y.ld),b.get(x.ue),b.get(l.yt));};});d(R.vZ).Rf(function(a){var c;c=a.ec;return function(a,f,d,g,k,h,q,p,m){return new S.BPa(a,f,d,g,k,h,q,p,m,c.get(N.Jha),c.get(b.uZ));};});});},function(g,d,a){var f,h;function b(){this.QL=new h.aj();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(102);b.prototype.oE=function(a){this.QL.next(a);};qa.Object.defineProperties(b.prototype,{kL:{configurable:!0,enumerable:!0,get:function(){return this.QL;}}});a=b;a=g.__decorate([f.N()],a);d.mPa=a;},function(g,d,a){var f,h,m;function b(a,b){this.AC=b;this.log=a.lb("Pbo");this.links={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);a=a(92);b.prototype.$P=function(a){a&&(this.links=Object.assign({},this.links,a));};b.prototype.J5=function(a){return this.links[a];};b.prototype.MYa=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.AC().Qg;a="drmContextId="+a.drmContextId;this.$P({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(a.Lw))],m);d.bPa=m;},function(g,d,a){var f,h,m,c,k,p;function b(a,b,c){a=h.xe.call(this,a,"PboConfigImpl")||this;a.config=b;a.qZa=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);m=a(27);c=a(34);k=a(17);a=a(85);ca(b,h.xe);qa.Object.defineProperties(b.prototype,{eF:{configurable:!0,enumerable:!0,get:function(){return this.config().wh.eF||"";}},wW:{configurable:!0,enumerable:!0,get:function(){return this.config().wh.wW||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},rya:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().wh.kE;}},Hy:{configurable:!0,enumerable:!0,get:function(){return!1;}},Swa:{configurable:!0,enumerable:!0,get:function(){return!0;}},P8:{configurable:!0,enumerable:!0,get:function(){return!0;}},yBa:{configurable:!0,enumerable:!0,get:function(){return{logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.qZa.Vna,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"}};}},L6:{configurable:!0,enumerable:!0,get:function(){return 10;}}});p=b;g.__decorate([c.config(c.string,"uiVersion")],p.prototype,"eF",null);g.__decorate([c.config(c.string,"uiPlatform")],p.prototype,"wW",null);g.__decorate([c.config(c.zw,"pboVersion")],p.prototype,"version",null);g.__decorate([c.config(c.string,"pboOrganization")],p.prototype,"rya",null);g.__decorate([c.config(c.vba,"pboLanguages")],p.prototype,"languages",null);g.__decorate([c.config(c.Yd,"hasLimitedPlaybackFunctionality")],p.prototype,"Hy",null);g.__decorate([c.config(c.Yd,"mdxBindUsingNodeQuark")],p.prototype,"Swa",null);g.__decorate([c.config(c.Yd,"mdxPairUsingNodeQuark")],p.prototype,"P8",null);g.__decorate([c.config(c.object(),"pboCommands")],p.prototype,"yBa",null);g.__decorate([c.config(c.zw,"pboHistorySize")],p.prototype,"L6",null);p=g.__decorate([f.N(),g.__param(0,f.l(m.cj)),g.__param(1,f.l(k.ld)),g.__param(2,f.l(a.ut))],p);d.WOa=p;},function(g,d,a){var m,c,k,p,q,t,A,y,l,x,n,N,R,S,r;function b(a){this.config=a;this.Kl=[];}function f(a,b,c){this.ya=a;this.bF=b;this.context=c;this.startTime=this.ya.Xb();}function h(a,c,f,d,g,k,h,q,p){this.oDa=c;this.json=f;this.ya=d;this.py=g;this.XK=k;this.ka=h;this.Hb=p;this.log=a.lb("Pbo");this.Kl=new b(q);this.bF=this.oDa();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1);c=a(3);k=a(2);p=a(293);q=a(7);t=a(37);A=a(23);y=a(51);l=a(115);x=a(30);n=a(292);N=a(91);R=a(70);S=a(15);r=a(38);h.prototype.send=function(a,b){var c;c=new f(this.ya,this.bF,a);this.Kl.append(c);return this.FE(a,b,c);};h.prototype.FE=function(a,b,c){var f;f=this;return new Promise(function(d,g){f.$s(a,b).then(function(a){var b,k;f.Cpb(a);b=Q(f.Jub(a));k=b.next().value;b=b.next().value;k&&(f.z1a(c),d(a));b&&(f.Ooa(c,b),g(b));})["catch"](function(a){var b;b=f.Ooa(c,a);a.Sa&&(a.Sa=[a.Sa," ",b].join(""));g(a);});});};h.prototype.Cpb=function(a){(a=a.serverTime)&&this.Hb.Ib(S.Bfa.xBa,c.Cb(a));};h.prototype.Jub=function(a){if(a.result)return[a.result,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.Hkb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(P){throw{nz:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{nz:!0,code:"FAIL",message:"There is no result property on the response"};}throw{nz:!0,code:"FAIL",message:"There is no body property on the response"};};h.prototype.WZa=function(a,b,c){var f;f=this;this.eub(b,a);this.bF=this.oDa();return this.bF.send(b,c).then(function(a){return{$s:!1,result:f.Hkb(a.body)};})["catch"](function(c){var d,g;g=c&&c.Cj&&void 0!==c.Cj.maxRetries?Math.min(c.Cj.maxRetries,b.haa):b.haa;return f.SV(b,c,a,g)?(d=f.y0a(c,a,g),f.log.warn("Method failed, retrying",Object.assign({Method:b.Ok,Attempt:a+1,WaitTime:d,MaxRetries:g},f.z3(c))),Promise.resolve({$s:!0,Ed:d,error:c})):Promise.resolve({$s:!1,error:c});});};h.prototype.eub=function(a,b){var c;c=a.url.searchParams;c.set(r.CZ.nQa,(b+1).toString());c.set(r.CZ.mg,a.Y$.toString());c.set(r.CZ.oQa,a.X$);};h.prototype.$s=function(a,b,c){var f;c=void 0===c?0:c;f=this;return this.WZa(c++,a,b).then(function(d){if(d.$s)return f.DM(d.Ed).then(function(){return f.$s(a,b,c);});if(d.error)throw d.error;if(void 0===d.result)throw{pboc:!1,code:"FAIL",message:"The response was undefined"};return d.result;});};h.prototype.SV=function(a,b,c,f){var d;d=this.py.gaa||this.Deb(b);if(d&&c<f)return!0;d?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.Ok,Attempt:c+1,MaxRetries:f},this.z3(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.Ok},this.z3(b)));return!1;};h.prototype.Deb=function(a){var b,c;b=a&&a.code;c=a&&(a.Y||a.Ic);a=a.vg!==k.CY.pha;c=!!c&&c>=k.u.DA&&c<=k.u.CA&&a;return!(!b||"RETRY"!==b)||c;};h.prototype.y0a=function(a,b,f){return a&&a.Cj&&void 0!==a.Cj.retryAfterSeconds?c.Eg(a.Cj.retryAfterSeconds):c.Cb(this.XK.E$(1E3,1E3*Math.pow(2,Math.min(b-1,f))));};h.prototype.DM=function(a){var b;b=this;return new Promise(function(f){b.ka.fg(a||c.Ef,f);});};h.prototype.z3=function(a){return n.veb(a)?a:{message:a.message,subCode:a.Ic,extCode:a.vg,mslCode:a.lq,data:a.data};};h.prototype.z1a=function(a){a.Yrb();};h.prototype.Ooa=function(a,b){var c;a.iy(b);try{c=this.json.stringify(this.Kl);this.log.error("PBO command history",this.json.parse(c));return c;}catch(ia){return"";}};a=h;a=g.__decorate([m.N(),g.__param(0,m.l(q.ob)),g.__param(1,m.l(p.bja)),g.__param(2,m.l(t.Kt)),g.__param(3,m.l(A.Oe)),g.__param(4,m.l(y.vm)),g.__param(5,m.l(l.oG)),g.__param(6,m.l(x.ng)),g.__param(7,m.l(N.ax)),g.__param(8,m.l(R.OX))],a);d.YOa=a;f.prototype.Yrb=function(){this.W=!0;this.elapsedTime=this.ya.Xb().ke(this.startTime);};f.prototype.iy=function(a){this.W=!1;this.elapsedTime=this.ya.Xb().ke(this.startTime);this.Trb=a.Ic||a.subCode;this.w8a=a.vg||a.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var a;a=Object.assign({success:this.W,method:this.context.Ok,profile:this.context.profile?this.context.profile.id:"",startTime:this.startTime.fa(c.ma),elapsedTime:this.elapsedTime?this.elapsedTime.fa(c.ma):"in progress"},this.bF.T2());return this.W?a:Object.assign({},a,this.bF.T2(),{subcode:this.Trb,extcode:this.w8a});};b.prototype.append=function(a){this.Kl.push(a);0<this.config.L6&&this.Kl.length>this.config.L6&&this.Kl.shift();};b.prototype.toJSON=function(){return this.Kl;};},function(g,d,a){var b,f,h,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(294);f=a(578);h=a(91);m=a(577);c=a(123);k=a(576);p=a(142);q=a(575);d.Rkb=new g.ac(function(a){a(h.ax).to(m.WOa).Z();a(b.tha).to(f.YOa);a(c.xha).to(k.bPa);a(c.jG).Rf(function(a){return function(){return a.ec.get(c.xha);};});a(p.PN).to(q.mPa).Z();});},function(g,d,a){var f,h,m,c,k;function b(a){return h.xe.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(34);h=a(36);m=a(1);c=a(27);k=a(3);ca(b,h.xe);qa.Object.defineProperties(b.prototype,{oxa:{configurable:!0,enumerable:!0,get:function(){return k.Cb(5E3);}},oya:{configurable:!0,enumerable:!0,get:function(){return k.Cb(1E3);}},pya:{configurable:!0,enumerable:!0,get:function(){return k.Cb(1E3);}}});a=b;g.__decorate([f.config(f.Wg,"minDecoderBufferMilliseconds")],a.prototype,"oxa",null);g.__decorate([f.config(f.Wg,"optimalDecoderBufferMilliseconds")],a.prototype,"oya",null);g.__decorate([f.config(f.Wg,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"pya",null);a=g.__decorate([m.N(),g.__param(0,m.l(c.cj))],a);d.nNa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(431);f=a(580);d.uib=new g.ac(function(a){a(b.Cga).to(f.nNa).Z();});},function(g,d,a){var f,h,m,c,k,p,q,t,A,b;function b(a,b,f,d,g){function k(c,k){this.track=c;this.label=k;this.rf=t.Eb.bc.UNSENT;this.pe=0;this.Fn=[];this.requestId=A++;this.Ba=f;this.log=b.lb("MediaRequest");this.config=a;this.Hb=new q.Lj();"notification"===this.label?this.config().Np&&(this.ek=d):this.ek=g;}function h(c,k){this.requestId=A++;this.Ba=f;this.log=b.lb("MediaRequest");this.config=a;this.Hb=new q.Lj();this.label=k;"notification"===this.label?this.config().Np&&(this.ek=d):this.ek=g;this.LJ=this.VH=this.WH=void 0;this.track=c;this.sQ=this.url=this.responseType=void 0;this.rf=t.Eb.bc.UNSENT;this.sj=this.WC=this.Wh=this.status=void 0;this.hk=this.pe=0;this.connect=this.L4=this.Wx=this.Fv=this.H7=this.tc=this.Ze=this.HB=void 0;this.Fn=[];this.mo=!1;}k.prototype.addEventListener=function(a,b,c){this.Hb.addListener.call(this,a,b,c);};k.prototype.removeEventListener=function(a,b){this.Hb.removeListener.call(this,a,b);};k.prototype.emit=function(a,b,c){this.Hb.Ib.call(this,a,b,c);};k.prototype.ajb=function(a){this.rf===t.Eb.bc.OPENED&&(this.LJ=!0,this.Ze=this.tc=a.timestamp,this.rf=t.Eb.bc.Rt,this.emit(t.Eb.zd.Pga,a));};k.prototype.z9=function(a){var b;if(this.rf<t.Eb.bc.cx){this.Fn=[];b=a.timestamp-this.Ze;!this.Yb&&0<b&&(this.connect=!0,this.Fn.push(b));!0!==this.config().Adb&&(this.tc=a.timestamp);this.rf=t.Eb.bc.cx;this.emit(t.Eb.zd.Oga,a);}};k.prototype.cjb=function(a){this.rf===t.Eb.bc.cx&&(this.H7=this.tc=a.timestamp,a.newBytes=a.bytesLoaded-this.pe,this.pe=a.bytesLoaded,this.Ba.Dd(this.H7)&&this.emit(t.Eb.zd.Qga,a));};k.prototype.al=function(a){-1<[t.Eb.bc.Rt,t.Eb.bc.cx].indexOf(this.rf)&&(this.LJ=!1,this.tc=a.timestamp,this.rf=t.Eb.bc.DONE,a.newBytes=this.mm-this.pe,this.pe=this.mm,this.Ba.Dd(this.Wx)&&(this.tc=this.Wx,0===a.newBytes&&(this.H7=this.Wx)),this.Ba.Dd(this.Fv)&&(this.Ze=this.Fv),this.HB=a.response,this.emit(t.Eb.zd.eG,a));};k.prototype.Wib=function(a){this.LJ=!1;this.emit(t.Eb.zd.KNa,a);};k.prototype.B9=function(a){this.tc=a.timestamp;this.status=a.httpcode;this.Wh=a.errorcode;this.WC=t.Eb.Bt.name[this.Wh];this.sj=a.nativecode;this.emit(t.Eb.zd.$w,a);this.LJ=!1;};k.prototype.open=function(a,b,c,f,d,g,k){this.Tz=!1;this.sQ=b;this.url=a;this.responseType=c;if(!this.url)return!1;this.rf=t.Eb.bc.OPENED;this.ek.gJ(this,b,k);return!0;};k.prototype.Zd=function(){-1!==[t.Eb.bc.OPENED,t.Eb.bc.Rt,t.Eb.bc.cx].indexOf(this.rf)&&this.abort();return!0;};k.prototype.Goa=function(){this.HB=void 0;this.kC&&(this.kC.response=void 0,this.kC.cadmiumResponse.content=void 0);this.P6=void 0;};k.prototype.ZL=function(a){this.url=a;return!0;};k.prototype.abort=function(){this.rf=t.Eb.bc.sF;this.ek.UP(this);return!0;};k.prototype.pause=function(){};k.prototype.getResponseHeader=function(){return null;};k.prototype.getAllResponseHeaders=function(){return"";};k.prototype.eL=function(){};k.prototype.ak=function(){return this.requestId;};k.prototype.toString=function(){var a;a={requestId:this.requestId,segmentId:this.ji,isHeader:this.Yb,ptsStart:this.Xs,ptsOffset:this.dm,responseType:this.responseType,duration:this.qs,readystate:this.rf};this.stream&&(a.bitrate=this.stream.P);return JSON.stringify(a);};k.prototype.toJSON=function(){return this.toString();};k.prototype.bcb=function(){var a,b;if(this.config().YDa&&c.br&&c.br.getEntriesByType&&(!this.Ba.Dd(this.Fv)||!this.Ba.Dd(this.Wx)&&this.Ba.Dd(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.WH+"-"+this.VH+"*");b=new RegExp(a);a=c.br.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Ba.Dd(a)&&(0<a.startTime&&(this.Fv=a.startTime,0<a.requestStart&&(this.Fv=Math.max(this.Fv,a.requestStart))),0<a.responseStart&&(this.L4=a.responseStart),0<a.responseEnd&&(this.Wx=a.responseEnd));}};k.prototype.Ceb=function(){return this.Ba.Dd(this.Fv)&&this.Ba.Dd(this.Wx)&&this.Ba.Dd(this.L4);};qa.Object.defineProperties(k.prototype,{mm:{configurable:!0,enumerable:!0,get:function(){return this.sQ.end-this.sQ.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.VH-this.WH+1;}},$ta:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},Yb:{configurable:!0,enumerable:!0,get:function(){return!this.Gy;}},response:{configurable:!0,enumerable:!0,get:function(){return this.HB;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.rf;},set:function(){}}});Object.getOwnPropertyNames(k.prototype).forEach(function(a){Object.defineProperty(h.prototype,a,Object.getOwnPropertyDescriptor(k.prototype,a));});this.qk=Object.assign(h,t.Eb);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);m=a(17);c=a(8);k=a(21);p=a(296);q=a(68);t=a(143);A=0;b=g.__decorate([f.N(),g.__param(0,f.l(m.ld)),g.__param(1,f.l(h.ob)),g.__param(2,f.l(k.ue)),g.__param(3,f.l(p.Uga)),g.__param(4,f.l(p.vga))],b);d.VMa=b;},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l,x;function b(a,b,c,f,d,g,k){this.ya=a;this.py=b;this.config=c;this.Gd=d;this.Ahb=g;this.Eoa=k;this.log=f.lb("MediaRequestDownloader");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(49);h=a(1);m=a(7);c=a(82);k=a(299);p=a(75);q=a(143);t=a(23);A=a(3);y=a(298);l=a(51);a=a(17);b.prototype.gJ=function(a,b,c){var g,k,h;function d(){a.removeEventListener(q.Eb.zd.$w,d);a.YI?a.YI++:a.YI=1;a.YI>=g.config().B4.length&&(a.YI=g.config().B4.length-1);setTimeout(function(){g.gJ(a,b,c);},g.config().B4[a.YI]);}g=this;a.AHb=!0;k={url:a.url,responseType:this.Gd.cQa.wFa,withCredentials:!1,BC:a.O===f.qc.L.AUDIO?"audio":"video",offset:b.start,length:a.mm,track:{type:a.O===f.qc.L.AUDIO?p.jg.audio:p.jg.video},stream:{Tc:a.za,P:a.P},Wb:a.Db,Go:a,di:a.Yb?void 0:this.Eoa.parse.bind(this.Eoa),UV:c,tM:this.py.tM};k=this.Ahb.download(k,function(b){b.W&&a.readyState!==q.Eb.bc.DONE&&a.readyState!==q.Eb.bc.sF&&(a.readyState!==q.Eb.bc.Et&&a.readyState===q.Eb.bc.Rt&&(a.readyState=q.Eb.bc.cx,a.z9({mediaRequest:a,readyState:a.readyState,timestamp:g.zs(),connect:!1})),a.readyState=q.Eb.bc.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:g.zs(),cadmiumResponse:b,response:b.content},a.kC=b,a.al(b));});if(a.Yb){h={mediaRequest:a,readyState:a.readyState,timestamp:this.zs(),connect:!1};a.z9(h);}a.addEventListener(q.Eb.zd.$w,d);a.P6=k.abort;};b.prototype.UP=function(a){try{a.P6();}catch(N){this.log.warn("exception aborting request");}};b.prototype.zs=function(){return this.ya.Xb().fa(A.ma);};x=b;x=g.__decorate([h.N(),g.__param(0,h.l(t.Oe)),g.__param(1,h.l(l.vm)),g.__param(2,h.l(a.ld)),g.__param(3,h.l(m.ob)),g.__param(4,h.l(c.Mt)),g.__param(5,h.l(k.tga)),g.__param(6,h.l(y.uda))],x);d.WMa=x;},function(g,d,a){var f,h,m;function b(a,b){this.Gd=b;this.log=a.lb("OpenConnectSideChannel");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);a=a(82);b.prototype.gJ=function(a,b,f){this.Gd.Uqb({url:a.url,$ob:f});};b.prototype.UP=function(a){try{a.P6();}catch(k){this.log.warn("exception aborting request");}};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(a.Mt))],m);d.SNa=m;},function(g){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},oj:function(){return this.buffer.length-this.position;},he:function(){return this.buffer[this.position++];},vd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},mc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},xq:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},J$:function(){for(var a="",b;b=this.he();)a+=String.fromCharCode(b);return a;},Ab:function(){return this.mc(2);},Na:function(){return this.mc(4);},Pf:function(){return this.mc(8);},kV:function(){return this.mc(2)/256;},aL:function(){return this.mc(4)/65536;},bf:function(a){for(var b,f="";a--;)b=this.he(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;},ew:function(){return this.bf(4)+"-"+this.bf(2)+"-"+this.bf(2)+"-"+this.bf(2)+"-"+this.bf(6);},bL:function(a){for(var b=0,f=0;f<a;f++)b+=this.he()<<(f<<3);return b;},Az:function(){return this.bL(4);},qF:function(a){this.Oq(a,2);},Pq:function(a){this.Oq(a,4);},HM:function(a){this.buffer[this.position++]=a;},Oq:function(a,b){this.position+=b;for(var f=1;f<=b;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},Nq:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},oA:function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];},pA:function(a,b){this.oA(a.vd(b));}};g.T=d;},function(g,d,a){var f,h,m,c,k,p;function b(a,b){this.config=a;this.log=b.lb("ChunkMediaParser");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(131);m=a(7);c=a(9);k=a(17);p=a(297).H$;b.prototype.parse=function(a){var d,g,k;a=new Uint8Array(a);for(var b=p(a),f=0;f<b.length;f+=2){d=b[f];if("moof"!==d.type||"mdat"!==b[f+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:d.type,nextBoxType:b[f+1].type}),Error("data is not moof-mdat box pairs");if(this.config().jvb&&"moof"==d.type){g=d.dv("traf/saio");k=d.dv("traf/"+c.YFa);g&&k&&(d=k.n_a.byteOffset-d.raw.byteOffset,g.VAa[0]!==d&&(this.log.error("Repairing bad SAIO",{saioOffsets:g.VAa[0],auxDataOffsets:d}),this.lkb(g,d)));}}return a.buffer;};b.prototype.lkb=function(a,b){var c;c=new h.wA(a.raw);c.seek(a.size-a.Mu);a=c.mc(1);c.mc(3)&1&&(c.Na(),c.Na());a=1<=a?8:4;c.Na();c.Oq(b,a);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.ld)),g.__param(1,f.l(m.ob))],a);d.VGa=a;},function(g,d,a){var f,h,m,c,k,p,q,t,A,y;function b(a,b,c,f,d,g){this.fQ=a;this.Gd=c;this.Ba=f;this.ya=d;this.config=g;this.log=b.lb("MediaHttp");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(143);h=a(84);m=a(2);c=a(7);k=a(1);p=a(82);q=a(21);t=a(23);A=a(3);a=a(17);b.prototype.zs=function(){return this.ya.Xb().fa(A.ma);};b.prototype.Pxa=function(a,b){a.ajb({mediaRequest:a,timestamp:b});};b.prototype.gya=function(a){var b;b=a.mediaRequest.Go;b.readyState=f.Eb.bc.cx;a=a.connect?a:{timestamp:this.zs(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.z9(a);};b.prototype.AU=function(a){this.Pxa(a.mediaRequest.Go,a.timestamp);};b.prototype.CU=function(a){var b,c;b=a.mediaRequest.Go;c=a.bytes;"undefined"!==typeof b&&(b.readyState===f.Eb.bc.Rt&&this.gya(a),this.Ba.Vf(c)&&(a.mediaRequest=b,a.timestamp=this.zs(),c>b.pe&&(a.newBytes=c-b.pe,a.bytesLoaded=c,b.cjb(a))));};b.prototype.XD=function(a){var b,c,d,g;b=a.mediaRequest;c=a.errorcode;d=a.httpcode;g=f.Eb.Bt;if("undefined"!==typeof b&&(b=b.Go,"undefined"!==typeof b&&b.readyState!==f.Eb.bc.Et))if(c===m.u.Gt)b.readyState=f.Eb.bc.sF,a.mediaRequest=b,a.readyState=b.readyState,b.Wib(a);else{b.readyState=f.Eb.bc.Et;switch(c){case m.u.DA:d=g.lX;break;case m.u.BY:d=g.yY;break;case m.u.OF:d=400<d&&500>d?g.uN:500<=d?g.AY:g.yY;break;case m.u.CA:d=g.zY;break;case m.u.NF:d=g.lda;break;case m.u.PF:d=g.vN;break;case m.u.Qw:d=g.vN;break;case m.u.xY:d=g.Rea;break;case m.u.Oea:d=g.uN;break;case m.u.mIa:d=g.zY;break;default:d=g.vN;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=d;a.nativecode=c;b.B9(a);}};b.prototype.Jjb=function(a,b){var c,d;c=b.request.Go;if(c)if(b.W){if(a.j&&c.readyState!==f.Eb.bc.DONE){switch(c.readyState){case f.Eb.bc.sF:return;case f.Eb.bc.Rt:this.gya({mediaRequest:b.request});}c.readyState=f.Eb.bc.DONE;if(!c.Yb){d={mediaRequest:c,readyState:c.readyState,timestamp:this.zs(),cadmiumResponse:b};a.j.Uba+=1;c.bcb();c.Ceb()&&(a.j.eaa+=1,b.rj.eg=Math.ceil(c.L4),b.rj.kl=Math.ceil(c.Wx),b.rj.requestTime=Math.floor(c.Fv));c.kC=d;c.al(d);}}}else c.readyState!==f.Eb.bc.sF&&(a={mediaRequest:b.request,timestamp:this.zs(),errorcode:b.Y,httpcode:b.Vh},this.XD(a));};b.prototype.download=function(a,b){var c,d;c=this;b=this.Gd.download(a,b);if(a.Go){d=a.Go;-1<[f.Eb.bc.OPENED,f.Eb.bc.Et].indexOf(d.readyState)&&(d.readyState=f.Eb.bc.Rt,this.config().Chb?b.eqb(function(a){c.AU(a);}):this.Pxa(d,this.zs()));}b.Gma(function(b){c.Jjb(a,b);});b.nqb(function(a){c.CU(a);});b.bqb(function(a){c.XD(a);});return b;};y=b;y=g.__decorate([k.N(),g.__param(0,k.l(h.YW)),g.__param(1,k.l(c.ob)),g.__param(2,k.l(p.Mt)),g.__param(3,k.l(q.ue)),g.__param(4,k.l(t.Oe)),g.__param(5,k.l(a.ld))],y);d.RMa=y;},function(g,d,a){var f,h,m,c,b;function b(a){function b(b,f){this.G=b;this.yl=f;this.C4=!1;this.emit=c.prototype.emit;this.addListener=c.prototype.addListener;this.on=c.prototype.on;this.once=c.prototype.once;this.removeListener=c.prototype.removeListener;this.removeAllListeners=c.prototype.removeAllListeners;this.listeners=c.prototype.listeners;this.listenerCount=c.prototype.listenerCount;c.call(this);this.fb=a.lb("DownloadTrack");}b.prototype.cn=function(){this.LP=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.LP+" config: "+JSON.stringify(this.G);};b.prototype.toJSON=function(){return"Download Track id:"+this.LP+" config: "+JSON.stringify(this.G);};b.prototype.eAa=function(a){this.G.connections!==a.connections&&(this.G=a);};b.prototype.bk=function(){return 1<this.G.connections?!0:!1;};qa.Object.defineProperties(b.prototype,{eb:{configurable:!0,enumerable:!0,get:function(){return this.LP;}},mo:{configurable:!0,enumerable:!0,get:function(){return void 0===this.LP;}},config:{configurable:!0,enumerable:!0,get:function(){return this.G;}},pz:{configurable:!0,enumerable:!0,get:function(){return this.fb;}},ek:{configurable:!0,enumerable:!0,get:function(){return this.yl.ek;}}});this.xA=Object.assign(b,new m.KIa());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);m=a(145);c=a(144).EventEmitter;b=g.__decorate([f.N(),g.__param(0,f.l(h.ob))],b);d.JIa=b;},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(145);f=a(588);h=a(299);m=a(587);c=a(298);k=a(586);p=a(296);q=a(584);t=a(583);A=a(295);y=a(582);d.CZa=new g.ac(function(a){a(b.cea).to(f.JIa).Z();a(h.tga).to(m.RMa).Z();a(c.uda).to(k.VGa).Z();a(p.Uga).to(q.SNa).Z();a(p.vga).to(t.WMa).Z();a(A.uga).to(y.VMa).Z();});},function(g,d,a){var f,h,m,c,k;function b(a){return h.xe.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);m=a(27);c=a(34);k=a(3);ca(b,h.xe);qa.Object.defineProperties(b.prototype,{pBa:{configurable:!0,enumerable:!0,get:function(){return!0;}},g8:{configurable:!0,enumerable:!0,get:function(){return k.e9(5);}}});a=b;g.__decorate([c.config(c.Yd,"sendPrefetchEventLogs")],a.prototype,"pBa",null);g.__decorate([c.config(c.Wg,"logsInterval")],a.prototype,"g8",null);a=g.__decorate([f.N(),g.__param(0,f.l(m.cj))],a);d.PPa=a;},function(g,d,a){var f,h,m;function b(a,b){this.Ba=b;this.ia=a.lb("PlayPredictionDeserializer");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);a=a(21);b.prototype.U5a=function(a){var b;b=this;try{return{direction:a.direction,qfb:a.layoutHasChanged,Iob:a.rowInteractionIndex,Ca:a.lolomos.map(function(a){return b.Q5a(a);})};}catch(p){this.ia.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.Q5a=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.P5a(a);}),requestId:a.requestId,rowIndex:a.rowIndex,Kob:a.rowSegment};};b.prototype.P5a=function(a){var b,c;b={Hd:a.pts,property:a.property,Kc:a.viewableId,index:a.index};c=a.preplay;this.Ba.Dd(c)&&(b.lE=this.T5a(c));a=a.params;this.Ba.Dd(a)&&(b.$a=this.iqa(a));return b;};b.prototype.T5a=function(a){var b;b={Hd:a.pts,Kc:a.viewableId,oz:a.pipelineNum,index:a.index};a=a.params;this.Ba.Dd(a)&&(b.$a=this.iqa(a));return b;};b.prototype.iqa=function(a){return{se:a.uiLabel,ah:a.trackingId,hm:a.sessionParams};};b.prototype.jqa=function(a){var b;b=this;try{return a.map(function(a){return b.R5a(a);});}catch(p){this.ia.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.R5a=function(a){var b,c;c=a.params;this.Ba.Dd(c)&&(b=this.S5a(c));return{M:a.movieId,Td:a.priority,force:a.force,$a:b,se:a.uiLabel,vKb:a.uiExpectedStartTime,uKb:a.uiExpectedEndTime,Hi:a.firstTimeAdded};};b.prototype.S5a=function(a){var b,c;b=void 0;c=a.sessionParams;this.Ba.Dd(c)&&(b=c);return{JH:this.O5a(a.authParams),hm:b,ah:a.trackingId,U:a.startPts,Ja:a.manifest,ag:a.isBranching};};b.prototype.O5a=function(a){return{Oya:(a||{}).pinCapableClient};};b.prototype.Gpb=function(a){var b,c;try{b="";this.Ba.Dd(a.fza)&&(b=JSON.stringify(this.Jpb(JSON.parse(a.fza))));c="";this.Ba.Dd(a.gza)&&(c=JSON.stringify(this.Kpb(JSON.parse(a.gza))));return{dest_id:a.gR,offset:a.offset,predictions:a.kza.map(this.Mpb,this),ppm_input:b,ppm_output:c,prepare_type:a.eJb};}catch(q){this.ia.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.Mpb=function(a){return{title_id:a.Wo};};b.prototype.Jpb=function(a){return{direction:a.direction,layoutHasChanged:a.qfb,rowInteractionIndex:a.Iob,lolomos:a.Ca.map(this.Ipb,this)};};b.prototype.Ipb=function(a){return{context:a.context,list:a.list.map(this.Hpb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.Kob};};b.prototype.Hpb=function(a){var b,c;this.Ba.Dd(a.lE)&&(b=this.Npb(a.lE));this.Ba.Dd(a.$a)&&(c=this.Laa(a.$a));return{preplay:b,pts:a.Hd,viewableId:a.Kc,params:c,property:a.property,index:a.index};};b.prototype.Npb=function(a){var b;this.Ba.Dd(a.$a)&&(b=this.Laa(a.$a));return{pts:a.Hd,viewableId:a.Kc,params:b,pipelineNum:a.oz,index:a.index};};b.prototype.Laa=function(a){return{uiLabel:a.se,trackingId:a.ah,sessionParams:a.hm};};b.prototype.Kpb=function(a){return a.map(this.Lpb,this);};b.prototype.Lpb=function(a){var b;this.Ba.Dd(a.$a)&&(b=this.Laa(a.$a));return{movieId:a.M,priority:a.Td,params:b,uiLabel:a.se,firstTimeAdded:a.Hi,viewableId:a.Kc,pts:a.Hd};};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(a.ue))],m);d.rPa=m;},function(g,d,a){var h,m,c,k,p,q,t,A,y;function b(a,b,c,f,d,g,k,h){this.yh=a;this.Yy=b;this.ka=c;this.Zv=d;this.config=g;this.m5=k;this.b$=h;this.hV=[];this.F7=[];this.p$={};this.ia=f.lb("PrefetchEvents");}function f(a,b,c,f,d,g){this.yh=a;this.Yy=b;this.ka=c;this.xf=f;this.config=d;this.b$=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(112);m=a(1);c=a(3);k=a(39);p=a(57);q=a(30);t=a(7);A=a(300);a=a(183);f.prototype.create=function(a,c){return new b(this.yh,this.Yy,this.ka,this.xf,a,this.config,c,this.b$);};y=f;y=g.__decorate([m.N(),g.__param(0,m.l(k.Mj)),g.__param(1,m.l(p.Vn)),g.__param(2,m.l(q.ng)),g.__param(3,m.l(t.ob)),g.__param(4,m.l(A.$ha)),g.__param(5,m.l(a.tZ))],y);d.QPa=y;b.prototype.l0a=function(a,b,c){this.Qy(h.we.Nw.gGa,a,b,void 0,c);};b.prototype.n0a=function(a,b,c){this.Qy(h.we.Nw.hGa,a,b,void 0,c);};b.prototype.j0a=function(a,b,c){this.Qy(h.we.Nw.fGa,a,b,void 0,c);};b.prototype.h0a=function(a,b,c){this.Qy(h.we.Nw.dGa,a,b,void 0,c);};b.prototype.XH=function(a,b,c){this.Qy(h.we.Nw.eGa,a,b,void 0,c);};b.prototype.zlb=function(a){this.Qy(h.we.Nw.jOa,void 0,a);};b.prototype.fl=function(a,b,c,f,d,g,k){this.XP()&&(this.Qy(h.we.Nw.HQa,void 0,a),this.ngb(a,b,c,f,d,g,k),this.Mra(),this.$va());this.zeb(a)&&this.rob();};b.prototype.X5a=function(a){a={dest_id:a,cache:this.Kaa(this.m5())};this.yL("destiny_start",a);};b.prototype.amb=function(a){(a=this.b$.Gpb(a))?this.yL("destiny_prepare",a):this.ia.error("failed to serialize prepare event");};b.prototype.Mra=function(){0<this.hV.length&&this.XP()&&(this.yL("destiny_events",{dest_id:this.Zv.Em,events:this.hV}),this.hV=[]);this.HV&&(this.HV.cancel(),this.HV=void 0);this.cra();};b.prototype.$va=function(){var a;if(this.m0a()&&this.XP()){a=this.m5();this.F7=a;a={dest_id:this.Zv.Em,offset:this.Zv.rS(),cache:this.Kaa(a)};this.yL("destiny_cachestate",a);}this.GV&&(this.GV.cancel(),this.GV=void 0);this.bra();};b.prototype.update=function(a){var b;b=this;a.Ca.forEach(function(a){a.list.forEach(function(a){b.p$[a.Kc]=!0;});});};b.prototype.zeb=function(a){return this.p$[a];};b.prototype.m0a=function(){var a,b,c;a=this;b=this.m5();if(b.length!==this.F7.length)return!0;c=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.F7[f])&&(c=!0);}catch(S){a.ia.error("Failed to stringify cachedTitle",S);}});return c;};b.prototype.Qy=function(a,b,c,f,d){this.XP()&&(a={offset:this.Zv.rS(),event_type:a,title_id:c,asset_type:b,size:f,reason:d},this.hV.push(a),this.cra(),this.bra());};b.prototype.cra=function(){this.HV||(this.HV=this.ka.fg(this.config.g8,this.Mra.bind(this)));};b.prototype.bra=function(){this.GV||(this.GV=this.ka.fg(this.config.g8,this.$va.bind(this)));};b.prototype.ngb=function(a,b,f,d,g,k,q){var p;p=[];f&&p.push({Wo:a,Tr:h.we.Wi.Fca,state:h.we.KM.SM});d&&p.push({Wo:a,Tr:h.we.Wi.Rw,state:h.we.KM.SM});g&&p.push({Wo:a,Tr:h.we.Wi.KF,state:h.we.KM.SM});(0<k.fa(c.ma)||0<q.fa(c.ma))&&p.push({Wo:a,Tr:h.we.Wi.MEDIA,state:h.we.KM.SM,f_a:k.fa(c.ma),Vub:q.fa(c.ma)});a={dest_id:this.Zv.Em,offset:this.Zv.rS(),xid:b,cache:this.Kaa(p)};this.yL("destiny_playback",a);};b.prototype.yL=function(a,b){this.config.pBa&&(a=this.Yy.Ml(a,"info",b),this.yh.uc(a));};b.prototype.Kaa=function(a){return a.map(function(a){return{title_id:a.Wo,state:a.state,asset_type:a.Tr,size:a.size,audio_ms:a.f_a,video_ms:a.Vub};});};b.prototype.XP=function(){return 0!==this.Zv.Em;};b.prototype.rob=function(){this.Zv.qob();this.p$={};};},function(g,d,a){var b,f,h,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(112);f=a(592);h=a(183);m=a(591);c=a(590);k=a(300);p=a(107);d.Jc=new g.ac(function(a){a(k.$ha).to(c.PPa).Z();a(b.aia).to(f.QPa).Z();a(h.tZ).to(m.rPa).Z();a(p.$A).Rf(function(){return function(){return J._cad_global.videoPreparer;};});});},function(g,d,a){var f,h,m,c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(8);m=a(184);b.prototype.tbb=function(){var a;a=J.devicePixelRatio||1;return{width:this.s0.LHa||h.cr.width*a,height:this.s0.KHa||h.cr.height*a};};qa.Object.defineProperties(b.prototype,{s0:{configurable:!0,enumerable:!0,get:function(){return a(33).Ig;}}});c=b;g.__decorate([m.BT],c.prototype,"s0",null);c=g.__decorate([f.N()],c);d.zSa=c;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(139);b.prototype.compare=function(a,b){var c;c=[];this.K2(a,b,"",c);return c;};b.prototype.K2=function(a,b,f,d){var c;c=this;if(h.Jt.Sr(a))h.Jt.Sr(b)&&a.length===b.length?a.forEach(function(g,k){c.K2(a[k],b[k],f+"["+k+"]",d);}):d.push({a:a,b:b,path:f});else if(h.Jt.Kx(a)&&null!=a)if(h.Jt.Kx(b)&&null!=b){for(var g in a)this.K2(a[g],b[g],f+"."+g,d);for(var k in b)k in a||void 0===b[k]||d.push({a:void 0,b:b[k],path:f+"."+k});}else d.push({a:a,b:b,path:f});else a!==b&&d.push({a:a,b:b,path:f});};a=b;a=g.__decorate([f.N()],a);d.NNa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ONa="ObjectComparerSymbol";},function(g,d,a){var f,h,m,c;function b(a){this.location=a;h.Yk(this,"location");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(47);m=a(37);a=a(1);b.KU=function(a){var b,d,g;b={};if(0<a.length){a=a.split("&");for(var c=0;c<a.length;c++){d=a[c].trim();g=d.indexOf("=");0<=g?b[decodeURIComponent(d.substr(0,g).replace(f.nha,"%20"))]=decodeURIComponent(d.substr(g+1).replace(f.nha,"%20")):b[d.toLowerCase()]="";}}return b;};qa.Object.defineProperties(b.prototype,{Pmb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.KU(this.Gza);}},Gza:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.WK)return this.WK;this.WK=this.location.search.substr(1);a=this.WK.indexOf("#");0<=a&&(this.WK=this.Gza.substr(0,a));return this.WK;}}});c=f=b;c.nha=/[+]/g;c=f=g.__decorate([a.N(),g.__param(0,a.l(m.Qfa))],c);d.YPa=c;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.gsa=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.gsa(a);});};f=b;f=g.__decorate([a.N()],f);d.kSa=f;},function(g,d,a){var f,h,m,c,k,p;function b(a,b){this.is=a;this.json=b;h.Yk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(47);m=a(37);c=a(1);k=a(21);p=a(134);b.prototype.Rza=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.r1(a);});};b.prototype.I$=function(a){var b;b=this;return f.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.oH(a);});};b.prototype.Na=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.Cp(a);});};b.prototype.Zmb=function(a){var b;b=this;return f.read(a,function(a){return parseFloat(a);},function(a){return b.is.Vf(a);});};b.prototype.Qza=function(a,b){return f.read(a,function(a){return f.U8a(a,b);},function(a){return void 0!==a;});};b.prototype.L$=function(a,b){return f.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.Sza=function(a){var b,c;b=void 0===b?function(){return!0;}:b;c=this;try{return f.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.Kx(a)&&b(a);});}catch(y){return new p.ym();}};b.prototype.vd=function(a,b,c){var d,g;c=void 0===c?1:c;d=this;a=a.trim();g=b instanceof Function?b:this.q4a(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0!=b||c!=a.length-1)return new p.ym();a=a.substring(b+1,c);try{return f.Ekb(a).map(function(a){a=g(d,f.Iub(a));if(a instanceof p.ym)throw a;return a;});}catch(x){return x instanceof p.ym?x:new p.ym();}};b.prototype.q4a=function(a,b){var c;b=void 0===b?1:b;c=this;return function(d,g){d=f.ebb(a);return 1<b?c.vd(g,a,b-1):d(c,g);};};b.U8a=function(a,b){var f;for(var c in b){f=parseInt(c);if(b[f]==a)return f;}};b.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new p.ym();};b.ebb=function(a){switch(a){case"int":return function(a,b){return a.Rza(b);};case"bool":return function(a,b){return a.I$(b);};case"uint":return function(a,b){return a.Na(b);};case"float":return function(a,b){return a.Zmb(b);};case"string":return function(a,b){return a.L$(b);};case"object":return function(a,b){return a.Sza(b);};}};b.Ekb=function(a){var q;for(var b=[["[","]"]],c=[],f=0,d=0,g=0,k=[],h={};d<a.length;h={"char":h["char"]},++d){h["char"]=a.charAt(d);q=void 0;","==h["char"]&&0==g?(c.push(a.substr(f,d-f)),f=d+1):(q=b.find(function(a){return function(b){return b[0]==a["char"];};}(h)))?(++g,k.push(q)):0<k.length&&k[k.length-1][1]==h["char"]&&(--g,k.pop());}if(f!=d)c.push(a.substr(f,d-f));else if(f==d&&0<f)throw new p.ym();return c;};b.Iub=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new p.ym();return a.substring(1,a.length-1);}return a;};a=f=b;a=f=g.__decorate([c.N(),g.__param(0,c.l(k.ue)),g.__param(1,c.l(m.Kt))],a);d.oRa=a;},function(g,d,a){var b,f,h,m,c,k,p,q,t,A;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(599);f=a(598);h=a(597);m=a(134);c=a(465);k=a(326);p=a(596);q=a(595);t=a(301);A=a(594);d.Vd=new g.ac(function(a){a(m.LZ).to(b.oRa).Z();a(c.BZ).to(h.YPa).Z();a(k.ija).to(f.kSa).Z();a(p.ONa).to(q.NNa).Z();a(t.uja).to(A.zSa).Z();});},function(g,d,a){var f,h;function b(a){this.Oib=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(302);a=a(1);b.prototype.Hsa=function(){var a;a=this.Oib.getDeviceId();return new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};h=b;h=g.__decorate([a.N(),g.__param(0,a.l(f.Mga))],h);d.iHa=h;},function(g,d,a){var b,f,h,m,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(302);f=a(333);h=a(334);m=a(601);c=a(8);d.crypto=new g.ac(function(a){a(h.Dda).to(m.iHa).Z();a(b.Mga).Bh(c.Pt);a(f.Eda).Bh(c.ZY);});},function(g,d,a){var f,h,m,c,k,p,q,t;function b(a,b,c){var f;f=p.XN.call(this,a,b,"network")||this;f.WQ=c;f.mR=k.zX.DMa;f.ahb=30;f.$jb=function(a){f.mR=a.target.value;f.refresh();};f.Gjb=function(){f.data={};f.refresh();};f.QAa=function(a){a=JSON.stringify(f.data[f.mR][Number(a.target.id)].value,null,4);t.qX.Y2(a);};return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);m=a(21);c=a(70);k=a(149);p=a(305);q=a(106);t=a(186);ca(b,p.XN);b.prototype.Ac=function(){var a;a=this;if(this.pn)return Promise.resolve();J.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==q.$q.rNa&&a.toggle();});this.data={};this.WQ.addListener(k.Vda.XOa,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.ahb&&c.shift();c.push(b);b.type===a.mR&&a.refresh();});this.pn=!0;return Promise.resolve();};b.prototype.Tk=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.Y5=function(a,b,c){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.ioa.io(c);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+f+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.h6=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.Tk(),b=this.data[this.mR]||[],c=0;c<b.length;++c)a+=this.Y5(c,b[c].name,b[c].value);return a+"</table>";};b.prototype.Esa=function(){var a;a=this.pc.createElement("button",p.yF,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.Gjb;return[a,this.A4a(),this.t4a()];};b.prototype.A4a=function(){var a;a=this.pc.createElement("select",p.yF,Object.keys(k.zX).reduce(function(a,b){b=k.zX[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.$jb;return a;};b.prototype.t4a=function(){var a,b,c,f;a=this;b=this.pc.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.SK;b.onchange=function(){return a.Usb();};c=this.pc.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.pc.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(c);return f;};b.prototype.gAa=function(){return Promise.resolve(this.h6());};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.cf)),g.__param(1,f.l(m.ue)),g.__param(2,f.l(c.BF))],a);d.xAb=a;},function(g,d,a){var m,c,k,p,q,t,A,y,l,x,n,N,R,S,r;function b(a,b,c,f,d,g,k,q,p){var m;m=this;this.Ra=a;this.app=b;this.pc=c;this.ka=f;this.kk=d;this.config=g;this.AC=k;this.wsb=q;this.Ah=p;this.xsb=function(){m.LDa.Jb(function(){m.update();});};this.clear=function(){m.entries=[];m.update();};this.mxa=function(){m.xd.uD=!m.xd.uD;m.Iv&&m.Ov&&(m.xd.uD?(m.Iv.style.display="inline-block",m.Ov.style.display="none"):(m.Ov.style.display="inline-block",m.Iv.style.display="none"));m.Sz(!1);};this.ugb=function(a){var b;m.entries.push(a);b=m.config.DD;0<=b&&m.entries.length>b&&m.entries.shift();void 0===m.xd.fs[a.Mk]&&(m.xd.fs[a.Mk]=!0,m.Sz(!1));m.xd.$l&&!m.MCa?m.xsb():m.LDa.Jb();};this.s6a=function(){h.download("all",m.entries.map(function(a){return a.tW(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.pn=!1;this.xd={$l:!1,uD:!0,lR:!0,c8:l.Hh.DY,fs:{}};this.LDa=this.wsb(t.Eg(1));this.entries=[];}function f(a){var b;this.elements=[];b=document.createElementNS(f.YL,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function h(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1);c=a(22);k=a(96);p=a(30);q=a(42);t=a(3);A=a(23);y=a(92);l=a(7);x=a(95);n=a(185);N=a(303);R=a(63);S=a(106);r=a(186);h.download=function(a,b){return h.fab(a).then(function(a){return h.Xbb(a,b.join("\r\n")).then(function(a){return h.r6a(a.filename,a.text);});});};h.fab=function(a){return new Promise(function(b,c){var f,d,g,k,h,q,p;try{f=new Date();d=f.getDate().toString();g=(f.getMonth()+1).toString();k=f.getFullYear().toString();h=f.getHours().toString();q=f.getMinutes().toString();p=f.getSeconds().toString();1===d.length&&(d="0"+d);1===g.length&&(g="0"+g);1===h.length&&(h="0"+h);1===q.length&&(q="0"+q);1===p.length&&(p="0"+p);b(k+g+d+h+q+p+"."+a+".log");}catch(wa){c(wa);}});};h.Xbb=function(a,b){return new Promise(function(c,f){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(Z){f(Z);}});};h.r6a=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(ia){return Promise.reject(ia);}};f.prototype.ME=function(){var a;a=document.createElementNS(f.YL,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};f.prototype.NE=function(a,b,c){var d;d=document.createElementNS(f.YL,"path");d.setAttribute("d",a);b&&d.setAttribute("fill",b);c&&d.setAttribute("fill-rule",c);this.addElement(d);return this;};f.prototype.ML=function(a,b,c,d,g){var k;g=void 0===g?"#000000":g;k=document.createElementNS(f.YL,"rect");k.setAttribute("x",a.toString());k.setAttribute("y",b.toString());k.setAttribute("height",c.toString());k.setAttribute("width",d.toString());g&&k.setAttribute("fill",g);this.addElement(k);return this;};f.prototype.mrb=function(){var a;a=document.createElementNS(f.YL,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.io=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};qa.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},ay:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});f.YL="http://www.w3.org/2000/svg";b.prototype.Ac=function(){var a;a=this;this.Zh||(this.Zh=new Promise(function(b){J.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&(b.keyCode==S.$q.yLa?a.toggle():b.keyCode==S.$q.E&&r.qX.Y2(a.AC().Qg));});a.kk.qV(n.Zfa.MHa,a.ugb);b();}));return this.Zh;};b.prototype.show=function(){document.body&&(this.element||(this.X3a(),this.pn=!0),!this.xd.$l&&this.element&&(document.body.appendChild(this.element),this.xd.$l=!0,this.update(!0)));};b.prototype.nD=function(){this.pn&&this.xd.$l&&this.element&&(document.body.removeChild(this.element),this.xd.$l=!1);};b.prototype.toggle=function(){this.xd.$l?this.nD():this.show();this.Sz(!1);};b.prototype.X3a=function(){var a,b;try{a=this.createElement("DIV","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.xw=this.y4a());a.appendChild(this.z4a());a.appendChild(this.S3a());this.element=a;}catch(P){console.error("Unable to create the log console",P);}};b.prototype.y4a=function(){var a,b;a=this;b=this.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.MCa=!0;a.update();a.xw&&(a.xw.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.MCa=!1;a.update();a.xw&&(a.xw.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.z4a=function(){var a;a=this.createElement("DIV","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.l4a());a.appendChild(this.f4a());a.appendChild(this.a4a());a.appendChild(this.B4a());a.appendChild(this.V3a());a.appendChild(this.p4a());a.appendChild(this.o4a());a.appendChild(this.c4a());a.appendChild(this.W3a());return a;};b.prototype.S3a=function(){var a,b,c,f,d,g;a=this;b=this.createElement("DIV","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("DIV","padding:2px");f=this.createElement("SELECT",this.Sp(22,160,1,2),"<option>Select categories</option>");d=this.createElement("DIV","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(d);c.appendChild(f);c.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;c.addEventListener("click",function(){g?d.style.display="none":(d.innerHTML="",["all","none"].concat(Object.keys(a.xd.fs).sort()).forEach(function(b){d.appendChild(a.T3a(b,c));}),d.style.display="block");g=!g;});return b;};b.prototype.T3a=function(a,b){var c,f,d;c=this;f=this.createElement("LABEL","display: block;margin:1px");f.htmlFor=a;d=this.createElement("INPUT","margin:1px");d.type="checkbox";d.id=a;d.checked=this.xd.fs[a];d.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.xd.fs).forEach(function(b){c.xd.fs[b]="all"===a;}),b.click()):c.xd.fs[a]=!c.xd.fs[a];c.Sz(!0);});f.appendChild(d);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};b.prototype.l4a=function(){var a,b;a=this;b=this.createElement("SELECT",this.Sp(22,NaN,1,2),'<option value="'+l.Hh.ERROR+'">Error</option>'+('<option value="'+l.Hh.VZ+'">Warn</option>')+('<option value="'+l.Hh.DY+'">Info</option>')+('<option value="'+l.Hh.Via+'">Trace</option>')+('<option value="'+l.Hh.tX+'">Debug</option>'));b.value=this.xd.c8.toString();b.addEventListener("change",function(b){a.xd.c8=parseInt(b.target.value);a.Sz(!0);},!1);return b;};b.prototype.f4a=function(){var b,c;function a(a){a=a.target.value;b.xd.filter=a?new RegExp(a):void 0;b.Sz(!0);}b=this;c=this.createElement("INPUT",this.Sp(14,150,1,2));c.value=this.xd.filter?this.xd.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};b.prototype.a4a=function(){var a,b,c,f;a=this;b=this.createElement("div",this.Sp(NaN,NaN));c=this.createElement("INPUT","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.xd.lR;c.addEventListener("change",function(b){a.xd.lR=b.target.checked;a.Sz(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(c);b.appendChild(f);return b;};b.prototype.B4a=function(){var a,b,c;a=this;b=this.createElement("BUTTON",this.Sp());c=new f("0 0 24 24").ME().mrb().end().NE("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.ay,"nonzero").end().end().io();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.V3a=function(){var a,b;a=this.createElement("BUTTON",this.Sp());b=new f("0 0 24 24").ME().ML(0,0,24,24,f.background).end().NE("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.ay).end().end().io();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.p4a=function(){var a;this.Ov=this.createElement("BUTTON",this.Sp());this.Ov.style.display=this.xd.uD?"none":"inline-block";a=new f("0 0 24 24").ME().ML(0,0,24,24,f.background).end().NE("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.ay,"nonzero").end().end().io();this.Ov.addEventListener("click",this.mxa,!1);this.Ov.appendChild(a);this.Ov.setAttribute("title","Shrink the log console");return this.Ov;};b.prototype.o4a=function(){var a;this.Iv=this.createElement("BUTTON",this.Sp());this.Iv.style.display=this.xd.uD?"inline-block":"none";a=new f("0 0 24 24").ME().ML(4,4,16,16,f.background).end().NE("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.ay,"nonzero").end().end().io();this.Iv.addEventListener("click",this.mxa,!1);this.Iv.appendChild(a);this.Iv.setAttribute("title","Expand the log console");return this.Iv;};b.prototype.c4a=function(){var a,b;a=this.createElement("BUTTON",this.Sp());b=new f("0 0 26 26").ME().ML(0,0,24,24,f.background).end().NE("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.ay,"nonzero").end().end().io();a.appendChild(b);a.addEventListener("click",this.s6a,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.W3a=function(){var a,b,c;a=this;b=this.createElement("BUTTON",this.Sp());c=new f("0 0 24 24").ME().ML(0,0,24,24,f.background).end().NE("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.ay,"nonzero").end().end().io();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.Sz=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.gL&&Promise.resolve(this.b0a()+this.gab().join("\r\n")).then(function(c){b.element&&b.xw&&(b.xw.value=c,b.element.style.cssText=b.xd.uD?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ka.fg(t.Ef,function(){b.xw.scrollTop=b.xw.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.gab=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.xd.c8&&a.xd.fs[c.Mk]&&(c=c.tW(!a.xd.lR,!a.xd.lR),a.xd.filter&&!a.xd.filter.test(c)||b.push(c));});return b;};b.prototype.b0a=function(){var a;a=this.AC();return"Version: 6.0018.714.011 \n"+((a?"Esn: "+a.Qg:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Ra.Ve.fa(t.Am)+", Start: "+this.app.Oy.fa(t.Am)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,c,f){return this.pc.createElement(a,b,c,f);};b.prototype.Sp=function(a,b,c,d){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+f.ay+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(d?"border-radius:"+d+"px;":"");};a=b;a.Erb="logDxDisplay";a=g.__decorate([m.N(),g.__param(0,m.l(q.Kj)),g.__param(1,m.l(A.Oe)),g.__param(2,m.l(c.cf)),g.__param(3,m.l(p.ng)),g.__param(4,m.l(x.IA)),g.__param(5,m.l(N.Sfa)),g.__param(6,m.l(y.Lw)),g.__param(7,m.l(k.YA)),g.__param(8,m.l(R.fp))],a);d.NLa=a;},function(g,d,a){var f,h,m,c,k;function b(a,b){a=m.xe.call(this,a,"LogDisplayConfigImpl")||this;a.bn=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);m=a(36);c=a(27);a=a(137);ca(b,m.xe);qa.Object.defineProperties(b.prototype,{gL:{configurable:!0,enumerable:!0,get:function(){return!0;}},DD:{configurable:!0,enumerable:!0,get:function(){return this.bn.DD;}},bwa:{configurable:!0,enumerable:!0,get:function(){return-1;}}});k=b;g.__decorate([h.config(h.Yd,"renderDomDiagnostics")],k.prototype,"gL",null);g.__decorate([h.config(h.h7,"logDisplayMaxEntryCount")],k.prototype,"DD",null);g.__decorate([h.config(h.h7,"logDisplayAutoshowLevel")],k.prototype,"bwa",null);k=g.__decorate([f.N(),g.__param(0,f.l(c.cj)),g.__param(1,f.l(a.kG))],k);d.MLa=k;},function(g,d,a){var f,h;function b(){this.yaa="";this.hEa=[[],[]];this.$=[[],[]];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a(3);h=a(84);b.prototype.downloadRequest=function(a){var b;""===this.yaa&&(this.yaa=a.ji);if(!a.Yb){b=this.Osb(a);this.$[a.O].push(b);this.hEa[a.O].forEach(function(a){a.aEb(b);});}};b.prototype.Osb=function(a){return{id:this.rab(a),ji:a.ji,O:a.O,Xm:a.Xm,startTime:a.Xs,endTime:a.nE,offset:a.dm,WH:a.WH,VH:a.VH,duration:a.qs,P:a.P,state:h.Uca.Dqa,ca:a.ca,rq:!1,jHb:!1,$ta:!1,RFb:h.Tca.waiting};};b.prototype.rab=function(a){return a.ak();};b.prototype.update=function(a){this.hEa[a.O].forEach(function(b){b.AKb(a);});};qa.Object.defineProperties(b.prototype,{ji:{configurable:!0,enumerable:!0,get:function(){return this.yaa;}}});a=b;a=g.__decorate([f.N()],a);d.fFa=a;},function(g,d,a){var f,h;function b(a){this.n6a=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(306);b.prototype.Ac=function(){var a;a=this;this.Zh||(this.Zh=new Promise(function(b,f){var c;c=[];a.n6a.forEach(function(a){c.push(a.Ac());});Promise.all(c).then(function(){b();})["catch"](function(a){f(a);});}));return this.Zh;};h=b;h=g.__decorate([f.N(),g.__param(0,f.az(a.hea))],h);d.UIa=h;},function(g,d){function a(a){this.is=a;this.Teb="#881391";this.Mrb="#C41A16";this.P_a=this.jjb="#1C00CF";this.aeb="#D79BDB";this.Ltb=this.hjb="#808080";}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.io=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.gv=function(a,f){return'<font color="'+((void 0===f?0:f)?this.aeb:this.Teb)+'">'+a+": </font>";};a.prototype.lsa=function(a,f){f=f||"";a=""+('<li><a href="#">'+this.gv(a)+"Array["+f.length+"]</a>");a+="<ul>";for(var b=0;b<f.length;++b)a+=this.getValue(b.toString(),f[b]);a+=this.getValue("length",f.length,!0);return a+"</ul></li>";};a.prototype.lta=function(a,f){var b,d,c;b=this;if(f instanceof CryptoKey)return this.C$a(a,f);d=Object.keys(f);c="";c=c+('<li><a href="#">'+("~~NONAME~~"!==a?this.gv(a):"")+"Object</a>");c=c+"<ul>";d.forEach(function(a){c=a.startsWith("$")?c+b.getValue(a,"REMOVED"):c+b.getValue(a,f[a]);});c+="</ul>";return c+="</li>";};a.prototype.C$a=function(a,f){a=""+('<li><a href="#">'+this.gv(a)+"CryptoKey</a>");a=a+"<ul>"+this.lta("algorithm",f.algorithm);a+=this.ssa("extractable",f.extractable);a+=this.Bta("type",f.type);a+=this.lsa("usages",f.usages);return a+"</ul></li>";};a.prototype.cbb=function(a,f,d){return'<li><a href="#">'+this.gv(a,void 0===d?!1:d)+('<font color="'+this.jjb+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.ssa=function(a,f,d){return'<li><a href="#">'+this.gv(a,void 0===d?!1:d)+('<font color="'+this.P_a+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.Bta=function(a,f,d){128<f.length&&(f=f.substr(0,128)+"...");return'<li><a href="#">'+this.gv(a,void 0===d?!1:d)+('<font color="'+this.Mrb+'">"'+f+'"</font>')+"</a></li>";};a.prototype.bbb=function(a){return'<li><a href="#">'+this.gv(a)+('<font color="'+this.hjb+'">null</font>')+"</a></li>";};a.prototype.icb=function(a,f){f="undefined"===typeof f?"":f.toString();255<f.length&&(f=f.substr(0,255)+"...");return'<li><a href="#">'+this.gv(a)+('<font color="'+this.Ltb+'">'+f+"</font>")+"</a></li>";};a.prototype.getValue=function(a,f,d){d=void 0===d?!1:d;return null===f?""+this.bbb(a):this.is.Sr(f)?""+this.lsa(a,f):this.is.Kx(f)?""+this.lta(a,f):this.is.Ci(f)?""+this.Bta(a,f,d):this.is.Vf(f)?""+this.cbb(a,f,d):this.is.oH(f)?""+this.ssa(a,f,d):""+this.icb(a,f);};d.TRa=a;},function(g,d,a){var f,h,m,c,k,p,q;function b(a,b,c){var f;f=k.XN.call(this,a,b,"idb")||this;f.Ah=c;f.QAa=function(a){f.J5a(a.target.id).then(function(){return f.refresh();});};f.Hjb=function(){f.q1a().then(function(){return f.refresh();});};f.Rjb=function(){f.refresh();};f.Kjb=function(){f.n2a();};return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);m=a(21);c=a(161);k=a(305);p=a(106);q=a(186);ca(b,k.XN);b.prototype.Ac=function(){var a;a=this;if(this.pn)return Promise.resolve();J.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==p.$q.qKa&&a.toggle();});return this.Ah.create().then(function(b){a.storage=b;a.pn=!0;});};b.prototype.Tk=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.Y5=function(a,b,c){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';c=this.ioa.io({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.h6=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.Tk(),c=Object.keys(a),f=0;f<c.length;++f)b+=this.Y5(f,c[f],a[c[f]]);return b+"</table>";};b.prototype.Esa=function(){var a,b,c;a=this.pc.createElement("button",k.yF,"Clear",{"class":this.prefix+"-display-btn"});b=this.pc.createElement("button",k.yF,"Refresh",{"class":this.prefix+"-display-btn"});c=this.pc.createElement("button",k.yF,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.Hjb;b.onclick=this.Rjb;c.onclick=this.Kjb;return[a,b,c];};b.prototype.Ufb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.uua=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.uua;});};b.prototype.J5a=function(a){return this.storage.remove(a);};b.prototype.q1a=function(){return this.storage.removeAll();};b.prototype.gAa=function(){var a;a=this;return this.Ufb().then(function(b){return a.h6(b);});};b.prototype.n2a=function(){var a;a=JSON.stringify(this.uua,null,4);q.qX.Y2(a);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.cf)),g.__param(1,f.l(m.ue)),g.__param(2,f.l(c.GY))],a);d.jzb=a;},function(g,d,a){var f,h,m,c,k,p,q,t;function b(a){return function(){return new Promise(function(b,c){var f;f=a.ec.get(h.jea);f.Ac().then(function(){b(f);})["catch"](function(a){c(a);});});};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);f=a(306);a(609);h=a(304);m=a(607);c=a(84);k=a(606);p=a(303);q=a(605);t=a(604);a(603);d.U6a=new g.ac(function(a){a(p.Sfa).to(q.MLa).Z();a(f.hea).to(t.NLa);a(c.YW).to(k.fFa).Z();a(h.jea).to(m.UIa).Z();a(h.iea).jM(b);});},function(g,d,a){var m,c,k,p;function b(){}function f(a){this.Tkb=a;}function h(a){this.Vkb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1);c=a(187);k=a(55);p=a(2);h.prototype.ep=function(a){a.map(this.Vkb.ep);};a=h;a=g.__decorate([m.N(),g.__param(0,m.l(c.Eha))],a);d.hPa=a;f.prototype.ep=function(a){this.Tkb.ep(a.data);};a=f;a=g.__decorate([m.N(),g.__param(0,m.l(c.Bha))],a);d.iPa=a;b.prototype.ep=function(a){if(!a.oa||"string"!==typeof a.oa)throw new k.Qc(p.I.Ht,p.u.vt,void 0,void 0,void 0,"Xid value is corrupted.",void 0,a.oa);};c=b;c=g.__decorate([m.N()],c);d.lPa=c;},function(g,d,a){var f,h,m,c;function b(a,b,c){this.cI=b;this.Nr=c;this.log=a.lb("PboEventSenderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(65);h=a(76);m=a(7);a=a(1);b.prototype.Iaa=function(a,b){var c;c=this.cI(h.ql.start);return this.gra(c,a,b);};b.prototype.tBa=function(a){var b,c;b=this;c=this.cI(h.ql.stop);return this.Nr().then(function(f){return c.We(b.log,f.uy(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.xL=function(a,b,c){a=this.cI(a);return this.gra(a,b,c);};b.prototype.gra=function(a,b,c){var f;f=this;return this.Nr().then(function(d){return a.hn(f.log,d.uy(c.profileId),b.Ja.wf,c);}).then(function(){})["catch"](function(a){f.log.error("PBO event failed",a);throw a;});};c=b;c=g.__decorate([a.N(),g.__param(0,a.l(m.ob)),g.__param(1,a.l(h.LX)),g.__param(2,a.l(f.Sq))],c);d.ZOa=c;},function(g,d,a){var f,h,m,c,k,p;function b(a,b){a=h.xe.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);m=a(27);c=a(34);k=a(3);a=a(51);ca(b,h.xe);qa.Object.defineProperties(b.prototype,{cE:{configurable:!0,enumerable:!0,get:function(){return this.config.Pp?"unsentplaydatatest":"unsentplaydata";}},Gaa:{configurable:!0,enumerable:!0,get:function(){return!0;}},nBa:{configurable:!0,enumerable:!0,get:function(){return k.Cb(1E4);}},W9:{configurable:!0,enumerable:!0,get:function(){return k.Cb(4E3);}},vva:{configurable:!0,enumerable:!0,get:function(){return k.e9(1);}},wva:{configurable:!0,enumerable:!0,get:function(){return k.Eg(30);}}});p=b;g.__decorate([c.config(c.string,"playdataPersistKey")],p.prototype,"cE",null);g.__decorate([c.config(c.Yd,"sendPersistedPlaydata")],p.prototype,"Gaa",null);g.__decorate([c.config(c.Wg,"playdataSendDelayMilliseconds")],p.prototype,"nBa",null);g.__decorate([c.config(c.Wg,"playdataPersistIntervalMilliseconds")],p.prototype,"W9",null);g.__decorate([c.config(c.Wg,"heartbeatCooldown")],p.prototype,"vva",null);g.__decorate([c.config(c.Wg,"keepAliveWindow")],p.prototype,"wva",null);p=g.__decorate([f.N(),g.__param(0,f.l(m.cj)),g.__param(1,f.l(a.vm))],p);d.DPa=p;},function(g,d,a){var m,c,k,p,q,t,A,y,l,x,n,N,R,S;function b(a,b,c,d,g,k,h,q){this.config=a;this.ka=c;this.Iq=d;this.Ko=g;this.SU=k;this.af=h;this.Ny=Promise.resolve();this.closed=!1;this.log=b.lb("PlaydataServices");this.qz=[];this.active=new Set();this.Dob=new f(a,q);}function f(a,b){this.config=a;this.Ra=b;}function h(a,b,c,f,d,g){this.log=a;this.ka=b;this.vj=c;this.Ko=f;this.Iq=d;this.slb=g;this.ora=this.ZH=!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1);c=a(3);k=a(7);p=a(30);q=a(227);t=a(309);A=a(15);y=a(308);l=a(2);x=a(188);n=a(307);N=a(127);R=a(42);a=a(61);h.prototype.lU=function(a,b){var f;function c(){var a;a=f.Ko.create(f.vj);f.Iq.mca(a)["catch"](function(a){var b;b=f.ora?k.Hh.VZ:k.Hh.ERROR;f.ora=!0;f.log.write(b,"Unable to save playdata changes to IDB",a);});}f=this;this.log.trace("Adding initial playdata",b);this.Iq.TYa(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.Gn=f.ka.bBa(a,c);})["catch"](function(d){f.log.error("Unable to add playdata",{error:d,playdata:new x.pZ().encode(b)});f.Gn=f.ka.bBa(a,c);});};h.prototype.stop=function(a){var b,c;b=this;if(this.ZH)return Promise.resolve();this.Gn&&this.Gn.cancel();c=this.Ko.create(this.vj);return this.Iq.mca(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.vj.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.slb.tBa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.Iq.oAa(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.M);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};h.prototype.cancel=function(){this.ZH=!0;this.Gn&&this.Gn.cancel();this.Iq.mca(this.Ko.create(this.vj));};qa.Object.defineProperties(f.prototype,{F0a:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Ra.Ve;return!this.Ny||0<=a.ke(this.Ny).Pk(this.config.wva)?(this.Ny=a,!0):!1;}}});d.xBb=f;b.prototype.Ac=function(){var a;a=this;this.Zh||(this.log.trace("Starting playdata services"),this.Zh=this.Iq.bnb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.Zh;};b.prototype.close=function(){this.closed=!0;this.qz.forEach(function(a){a.lU.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.cE&&b.Gaa?this.wpb(a):Promise.resolve();};b.prototype.jrb=function(a){this.closed||this.krb(a);};b.prototype.rCa=function(a){var b,c,f;b=this;if(this.closed)return Promise.resolve();c=this.Ko.create(a);this.active["delete"](c.oa);a=Q(N.Ss(function(a){return a.key===c.oa;},this.qz));f=a.next().value;this.qz=a.next().value;return Promise.all(f.map(function(a){a.sCa=!0;return a.lU.stop(b.config.Gaa);})).then(function(){});};b.prototype.BU=function(a,b){var c,f;c=this;f=a.ha;this.mCa(f,b);this.Iaa(f,a.gI)["catch"](function(b){var f;f=b.hy;c.log.error("Start command failed",{playdata:b.eE,error:f});a.sd(c.af(l.I.wia,f));});this.hrb(a);};b.prototype.krb=function(a){var b;b=this;a.addEventListener(A.S.tn,function(c){void 0!==c.r$&&(b.rCa(a.kn(c.r$)),new Promise(function(b){var c;if(a.rq.value)b();else{c=function(f){f.newValue&&(b(),a.rq.removeListener(c));};a.rq.addListener(c);}}).then(function(){return b.BU(a,"online");}));});a.addEventListener(A.S.wj,function(){b.BU(a,"online");});a.background||a.addEventListener(A.S.$J,function(c){b.mCa(a.kn(c.ca),"online");});a.addEventListener(A.S.Ie,function(){b.wrb();});a.addEventListener(A.S.$Da,function(){b.Bpb(a.ha)["catch"](function(b){(b=b.e$)&&a.sd(b);});});a.vc.addListener(function(){a.Ya.Q3?b.log.trace("stickiness is disabled for timedtext"):b.sBa(a.ha);});a.Nc.addListener(function(){a.Ya.Q3?b.log.trace("stickiness is disabled for audio"):b.sBa(a.ha)["catch"](function(b){(b=b.e$)&&a.sd(b);});});};b.prototype.mCa=function(a,b){var c,f;a.Pc("pdb");if(this.config.W9.eva()){c=this.Ko.create(a);f=c.oa;this.qz.some(function(a){return a.key===f;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.add(f),this.qz.push({key:f,lU:this.Sab(a,c),Tz:!1,sCa:!1}));}};b.prototype.wpb=function(a){var b,c,f,d;b=this;c=this.Iq.eE.filter(function(a){return!b.active.has(a.oa);});f=void 0;d=void 0;a&&Infinity===a?f=c:(c=Q(N.Ss(function(b){return b.M===a;},c)),f=c.next().value,d=c.next().value);d&&0<d.length&&this.ka.fg(this.config.nBa,function(){b.rBa(d);});return f&&0!==f.length?this.rBa(f):Promise.resolve();};b.prototype.rBa=function(a){var c;function b(a){return c.SU.tBa(a).then(function(){return c.Unb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};b.prototype.Unb=function(a){var b;b=this;return this.Iq.oAa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.Sab=function(a,b){a=new h(this.log,this.ka,a,this.Ko,this.Iq,this.SU);a.lU(this.config.W9,b);return a;};b.prototype.Iaa=function(a,b){var c,f;c=this;f=this.Ko.g4a(a,b);return this.SU.Iaa(a,f).then(function(){c.qz.filter(function(b){return b.key===a.oa.toString();}).forEach(function(a){a.Tz=!0;});})["catch"](function(a){throw{eE:f,hy:a};});};b.prototype.Bpb=function(a){return this.Dob.F0a?this.xL(n.oZ.TJ,a,l.I.KY):Promise.resolve();};b.prototype.sBa=function(a){return this.xL(n.oZ.splice,a,l.I.tia);};b.prototype.xL=function(a,b,c){var d;function f(a){var b;b=d.qz.filter(function(b){return b.key===a.oa.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.sCa||!b.Tz;},!1);}d=this;return f(b)?this.Ny:this.Ny=this.Ny["catch"](function(){return Promise.resolve();}).then(function(){var c;if(f(b))return Promise.resolve();c=d.Ko.create(b);return d.SU.xL(a,b,c);}).then(function(a){return a;})["catch"](function(f){var g;d.log.error("Failed to send event",{eventKey:a,xid:b.oa,error:f});f.en?g=d.af(c,f):f.lq===l.VY.TZ&&(g=d.af(c,f));throw{hy:f,e$:g};});};b.prototype.hrb=function(a){this.Nqb(a)&&this.nba(this.Cab(a.ha),a);};b.prototype.nba=function(a,b){var c;c=this;this.z2();this.B7=this.ka.fg(a,function(){c.z2();c.xL(n.oZ.TJ,b.ha,l.I.KY).then(function(){c.nba(a,b);})["catch"](function(f){var d;d=f.hy;(f=f.e$)&&b.sd(f);d.lq===l.VY.TZ&&c.nba(a,b);});});};b.prototype.wrb=function(){this.z2();};b.prototype.Nqb=function(a){return a.state.value==A.jb.$c;};b.prototype.z2=function(){this.B7&&(this.B7.cancel(),this.B7=void 0);};b.prototype.Cab=function(a){return a.Ya.B6?c.Cb(a.Ya.B6):this.config.vva;};S=b;S=g.__decorate([m.N(),g.__param(0,m.l(y.Uha)),g.__param(1,m.l(k.ob)),g.__param(2,m.l(p.ng)),g.__param(3,m.l(t.sha)),g.__param(4,m.l(q.qZ)),g.__param(5,m.l(n.uha)),g.__param(6,m.l(a.sl)),g.__param(7,m.l(R.Kj))],S);d.kPa=S;},function(g,d,a){var m,c,k,p,q,t,A,y,l,x;function b(){}function f(){}function h(a,c,f,d,g){var h;h=this;this.is=a;this.Ah=c;this.config=f;this.AC=d;this.Ukb=g;this.Gq=function(){return new b().encode({version:h.version,data:h.eE});};this.jub=function(a){a=h.iub(a);h.Ukb.ep(a);return a;};this.iub=function(a){if(h.is.Gk(a))return h.mub(a);if(void 0!=a.version&&h.is.Vf(a.version)&&1==a.version)return h.nub(a);if(void 0!=a.version&&h.is.Vf(a.version)&&2==a.version)return new b().decode(a);if(a.version&&h.is.Vf(a.version))throw new q.Qc(k.I.Ht,k.u.ida,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new q.Qc(k.I.Ht,k.u.vt,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.Kn=new t.wfa(2,this.config().$ya,""!==this.config().$ya&&0<this.config().Dlb,this.Ah,this.Gq);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1);c=a(17);k=a(2);p=a(21);q=a(55);t=a(466);A=a(63);y=a(92);l=a(188);a=a(187);h.prototype.bnb=function(){return this.Kn.load(this.jub)["catch"](function(a){throw new q.Qc(k.I.Ht,a.Y||a.Ic,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.TYa=function(a){return this.Kn.add(a);};h.prototype.oAa=function(a){return this.Kn.remove(a,function(a,b){return a.oa===b.oa;});};h.prototype.mca=function(a){return this.Kn.update(a,function(a,b){return a.oa===b.oa;});};h.prototype.toString=function(){return JSON.stringify(this.Gq(),null,"  ");};h.prototype.PDa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.AC().Qg:"";};h.prototype.pca=function(a){return a.map(function(a){return{Tc:a.downloadableId,duration:a.duration};});};h.prototype.QDa=function(a){return a?{total:a.playTimes.total,audio:this.pca(a.playTimes.audio||[]),video:this.pca(a.playTimes.video||[]),text:this.pca(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};h.prototype.mub=function(a){var b,c,f;b=this;a=JSON.parse(a);c={type:"online",profileId:a.accountKey,href:this.PDa(a.playbackContextId),oa:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,bI:a.timestamp,AL:a.playback?1E3*a.playback.startEpoch:-1,Wy:a.mediaId,KK:this.QDa(a.playback),eb:"",hm:{}};f=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Ah.create().then(function(a){a.save(b.config().HI,f,!1);});if(!c.profileId||""===c.href||""===c.oa)throw new q.Qc(k.I.Ht,k.u.vt);return{version:2,data:[c]};};h.prototype.nub=function(a){var b;b=this;if(!a.playdata||!this.is.Sr(a.playdata))throw new q.Qc(k.I.Ht,k.u.vt,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,profileId:a.profileId,href:b.PDa(a.playbackContextId),oa:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,bI:a.timestamp,AL:a.playback?1E3*a.playback.startEpoch:-1,Wy:a.mediaId,KK:b.QDa(a.playback),eb:"",hm:{}};});}(a.playdata)};};qa.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Kn.version;}},eE:{configurable:!0,enumerable:!0,get:function(){return this.Kn.Ip;}}});x=h;x=g.__decorate([m.N(),g.__param(0,m.l(p.ue)),g.__param(1,m.l(A.fp)),g.__param(2,m.l(c.ld)),g.__param(3,m.l(y.Lw)),g.__param(4,m.l(a.Cha))],x);d.UOa=x;f.prototype.encode=function(a){var b;b=new l.pZ();return a.map(b.encode);};f.prototype.decode=function(a){var b;b=new l.pZ();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new f().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new f().decode(a.data)};};},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l,x;function b(a){return function(){return a.ec.get(f.Dha).Ac();};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);f=a(146);h=a(227);m=a(188);c=a(309);k=a(615);p=a(614);q=a(308);t=a(613);A=a(307);y=a(612);l=a(187);x=a(611);d.eE=new g.ac(function(a){a(q.Uha).to(t.DPa).Z();a(h.qZ).to(m.jPa).Z();a(c.sha).to(k.UOa).Z();a(f.Dha).to(p.kPa).Z();a(f.ON).jM(b);a(A.uha).to(y.ZOa).Z().EM();a(l.Eha).to(x.lPa).Z();a(l.Bha).to(x.hPa).Z();a(l.Cha).to(x.iPa).Z();});},function(g,d,a){var f,h,m;function b(a){var b;b=m.hN.call(this)||this;b.pc=a;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);m=a(328);ca(b,m.hN);b.prototype.decode=function(a){return{M:a.movieId,zn:a.packageId,po:a.drmType,J6a:a.drmVersion,t8a:a.expiration,S0a:this.V4a(a.cdnResponseData),media:this.c5a(a.media),duration:a.duration,Nf:a.playbackContextId,aqa:this.Y4a(a.defaultTrackOrderList),Yj:a.drmContextId,Rcb:a.hasDrmProfile,Pcb:a.hasClearProfile,$Ca:this.i5a(a.timedtexttracks),qDa:this.l5a(a.trickplays),K1:this.U4a(a.audio_tracks),OW:this.q5a(a.video_tracks),Ln:this.Tpa(a.servers),dk:this.a5a(a.locations),Keb:a.isUsingLegacyBatchingAPI,V1:a.bookmark,Xta:a.hasDrmStreams,Qcb:a.hasClearStreams,links:a.links,h1a:this.W4a(a.choiceMap),Tdb:a.initialHeader,cvb:this.r5a(a.watermarkInfo),ag:a.isBranching,C6a:a.dpsid,Wub:a.viewableType,vD:a.isSupplemental,Loa:a.clientIpAddress,wf:a.wf};};b.prototype.encode=function(a){return{movieId:a.M,packageId:a.zn,drmType:a.po,drmVersion:a.J6a,expiration:a.t8a,cdnResponseData:this.y7a(a.S0a),media:this.G7a(a.media),duration:a.duration,playbackContextId:a.Nf,defaultTrackOrderList:this.B7a(a.aqa),drmContextId:a.Yj,timedtexttracks:this.M7a(a.$Ca),trickplays:this.Q7a(a.qDa),audio_tracks:this.x7a(a.K1),video_tracks:this.V7a(a.OW),servers:this.Uqa(a.Ln),locations:this.E7a(a.dk),isUsingLegacyBatchingAPI:a.Keb,bookmark:a.V1,hasDrmProfile:a.Rcb,hasClearProfile:a.Pcb,hasDrmStreams:a.Xta,hasClearStreams:a.Qcb,links:a.links,choiceMap:this.z7a(a.h1a),initialHeader:a.Tdb,watermarkInfo:this.W7a(a.cvb),isBranching:a.ag,dpsid:a.C6a,viewableType:a.Wub,isSupplemental:a.vD,clientIpAddress:a.Loa,wf:a.wf};};b.prototype.r5a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.W7a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.W4a=function(a){var b;b=this;return a&&{KJ:a.initialSegment,type:a.type,Kc:a.viewableId,je:this.OC(a.segments,function(a){return{jm:a.startTimeMs,PC:a.endTimeMs,uI:a.defaultNext,next:b.OC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.z7a=function(a){var b;b=this;return a&&{initialSegment:a.KJ,type:a.type,viewableId:a.Kc,segments:this.OC(a.je,function(a){return{startTimeMs:a.jm,endTimeMs:a.PC,defaultNext:a.uI,next:b.OC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.V4a=function(a){return{MU:a.pbcid,Qz:a.sessionABTestCell};};b.prototype.y7a=function(a){return{pbcid:a.MU,sessionABTestCell:a.Qz};};b.prototype.c5a=function(a){return this.Xf(a,this.b5a);};b.prototype.G7a=function(a){return this.Xf(a,this.F7a);};b.prototype.b5a=function(a){return{Zo:this.j5a(a.tracks),id:a.id};};b.prototype.F7a=function(a){return{tracks:this.O7a(a.Zo),id:a.id};};b.prototype.j5a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,OZ:a.TEXT};};b.prototype.O7a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.OZ};};b.prototype.Y4a=function(a){return this.Xf(a,this.X4a);};b.prototype.B7a=function(a){return this.Xf(a,this.A7a);};b.prototype.X4a=function(a){return{aC:a.audioTrackId,Wy:a.mediaId,Uub:a.videoTrackId,yCa:a.subtitleTrackId,Ylb:a.preferenceOrder};};b.prototype.A7a=function(a){return{audioTrackId:a.aC,mediaId:a.Wy,videoTrackId:a.Uub,subtitleTrackId:a.yCa,preferenceOrder:a.Ylb};};b.prototype.i5a=function(a){return this.Xf(a,this.h5a);};b.prototype.M7a=function(a){return this.Xf(a,this.L7a);};b.prototype.h5a=function(a){return this.pc.gk(this.B3(a),{type:a.type,tDa:this.g5a(a.ttDownloadables),zz:a.rawTrackType,wD:a.languageDescription,language:a.language,id:a.id,oT:a.isNoneTrack,lT:a.isForcedNarrative,Cqa:a.downloadableIds,xoa:this.Tpa(a.cdnlist),RJ:a.isLanguageLeftToRight});};b.prototype.L7a=function(a){return this.pc.gk(this.o4(a),{type:a.type,ttDownloadables:this.K7a(a.tDa),rawTrackType:a.zz,languageDescription:a.wD,language:a.language,id:a.id,isNoneTrack:a.oT,isForcedNarrative:a.lT,downloadableIds:a.Cqa,cdnlist:this.Uqa(a.xoa),trackType:a.Ui,new_track_id:a.Jo,isLanguageLeftToRight:a.RJ});};b.prototype.g5a=function(a){return this.OC(a,this.f5a);};b.prototype.K7a=function(a){return this.OC(a,this.J7a);};b.prototype.f5a=function(a){return{Mp:a.downloadUrls,Wcb:a.hashAlgo,Xcb:a.hashValue,height:a.height,width:a.width,oeb:a.isImage,pK:a.midxOffset,ZT:a.midxSize,size:a.size,tsb:a.textKey};};b.prototype.J7a=function(a){return{downloadUrls:a.Mp,hashAlgo:a.Wcb,hashValue:a.Xcb,height:a.height,width:a.width,isImage:a.oeb,midxOffset:a.pK,midxSize:a.ZT,size:a.size,textKey:a.tsb};};b.prototype.l5a=function(a){if(a)return this.Xf(a,this.k5a);};b.prototype.Q7a=function(a){if(a)return this.Xf(a,this.P7a);};b.prototype.k5a=function(a){return{interval:a.interval,Tya:a.pixelsAspectY,Sya:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,IC:a.downloadable_id,Yc:a.urls,id:a.id};};b.prototype.P7a=function(a){return{interval:a.interval,pixelsAspectY:a.Tya,pixelsAspectX:a.Sya,width:a.width,height:a.height,size:a.size,downloadable_id:a.IC,urls:a.Yc,id:a.id};};b.prototype.U4a=function(a){return this.Xf(a,this.T4a);};b.prototype.x7a=function(a){return this.Xf(a,this.w7a);};b.prototype.T4a=function(a){return this.pc.gk(this.B3(a),{id:a.id,oc:this.S4a(a.streams),Ui:a.trackType,Nk:a.channels,language:a.language,q2:a.channelsFormat,Aba:a.surroundFormatLabel,wD:a.languageDescription,isNative:a.isNative,j6a:a.disallowedSubtitleTracks,lM:a.track_id,A5a:a.defaultTimedText,y$:a.profileType,type:a.type,qba:a.stereo,profile:a.profile,Poa:a.codecName,zz:a.rawTrackType});};b.prototype.w7a=function(a){return this.pc.gk(this.o4(a),{id:a.id,streams:this.v7a(a.oc),trackType:a.Ui,channels:a.Nk,language:a.language,channelsFormat:a.q2,surroundFormatLabel:a.Aba,languageDescription:a.wD,isNative:a.isNative,disallowedSubtitleTracks:a.j6a,track_id:a.lM,defaultTimedText:a.A5a,profileType:a.y$,type:a.type,stereo:a.qba,profile:a.profile,codecName:a.Poa,rawTrackType:a.zz});};b.prototype.q5a=function(a){return this.Xf(a,this.p5a);};b.prototype.V7a=function(a){return this.Xf(a,this.U7a);};b.prototype.p5a=function(a){return this.pc.gk(this.B3(a),{type:a.type,oc:this.o5a(a.streams),Y3:a.drmHeader&&this.Spa(a.drmHeader),O3:a.dimensionsCount,P3:a.dimensionsLabel,udb:a.ict,Xgb:a.maxCroppedHeight,Ygb:a.maxCroppedWidth,Zgb:a.maxCroppedX,$gb:a.maxCroppedY,y$:a.profileType,qba:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Qya:a.pixelAspectX,Rya:a.pixelAspectY,profile:a.profile,mhb:a.max_framerate_value,lhb:a.max_framerate_scale,$hb:a.minCroppedHeight,aib:a.minCroppedWidth,bib:a.minCroppedX,cib:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,t$:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.Spa),bJ:a.flavor,lM:a.track_id});};b.prototype.U7a=function(a){return this.pc.gk(this.o4(a),{type:a.type,streams:this.T7a(a.oc),drmHeader:a.Y3&&this.Tqa(a.Y3),dimensionsCount:a.O3,dimensionsLabel:a.P3,ict:a.udb,maxCroppedHeight:a.Xgb,maxCroppedWidth:a.Ygb,maxCroppedX:a.Zgb,maxCroppedY:a.$gb,profileType:a.y$,stereo:a.qba,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.Qya,pixelAspectY:a.Rya,profile:a.profile,max_framerate_value:a.mhb,max_framerate_scale:a.lhb,minCroppedHeight:a.$hb,minCroppedWidth:a.aib,minCroppedX:a.bib,minCroppedY:a.cib,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.t$&&a.t$.map(this.Tqa),flavor:a.bJ,track_id:a.lM});};b.prototype.Spa=function(a){return{aa:a.bytes,e1a:a.checksum,yv:a.keyId};};b.prototype.Tqa=function(a){return{bytes:a.aa,checksum:a.e1a,keyId:a.yv};};b.prototype.B3=function(a){return{Ui:a.trackType,Jo:a.new_track_id,type:a.type};};b.prototype.o4=function(a){return{trackType:a.Ui,new_track_id:a.Jo,type:a.type};};b.prototype.S4a=function(a){return this.Xf(a,this.R4a);};b.prototype.v7a=function(a){return this.Xf(a,this.u7a);};b.prototype.R4a=function(a){return{mC:a.content_profile,Ui:a.trackType,P:a.bitrate,size:a.size,qn:a.isDrm,IC:a.downloadable_id,type:a.type,r9:a.new_stream_id,Yc:this.Upa(a.urls),Nk:a.channels,q2:a.channelsFormat,Aba:a.surroundFormatLabel,language:a.language,ZZa:a.audioKey};};b.prototype.u7a=function(a){return{content_profile:a.mC,trackType:a.Ui,bitrate:a.P,size:a.size,isDrm:a.qn,downloadable_id:a.IC,type:a.type,new_stream_id:a.r9,urls:this.Vqa(a.Yc),channels:a.Nk,channelsFormat:a.q2,surroundFormatLabel:a.Aba,language:a.language,audioKey:a.ZZa};};b.prototype.o5a=function(a){return this.Xf(a,this.n5a);};b.prototype.T7a=function(a){return this.Xf(a,this.S7a);};b.prototype.n5a=function(a){return{mC:a.content_profile,Ui:a.trackType,P:a.bitrate,size:a.size,qn:a.isDrm,IC:a.downloadable_id,type:a.type,r9:a.new_stream_id,Yc:this.Upa(a.urls),Xkb:a.peakBitrate,O3:a.dimensionsCount,P3:a.dimensionsLabel,mlb:a.pix_w,llb:a.pix_h,CAa:a.res_w,BAa:a.res_h,$ra:a.framerate_value,Zra:a.framerate_scale,frb:a.startByteOffset,wc:a.vmaf,Gpa:a.crop_x,Hpa:a.crop_y,Epa:a.crop_h,Fpa:a.crop_w};};b.prototype.S7a=function(a){return{content_profile:a.mC,trackType:a.Ui,bitrate:a.P,size:a.size,isDrm:a.qn,downloadable_id:a.IC,type:a.type,new_stream_id:a.r9,urls:this.Vqa(a.Yc),peakBitrate:a.Xkb,dimensionsCount:a.O3,dimensionsLabel:a.P3,pix_w:a.mlb,pix_h:a.llb,res_w:a.CAa,res_h:a.BAa,framerate_value:a.$ra,framerate_scale:a.Zra,startByteOffset:a.frb,vmaf:a.wc,crop_x:a.Gpa,crop_y:a.Hpa,crop_h:a.Epa,crop_w:a.Fpa};};b.prototype.Upa=function(a){return this.Xf(a,this.m5a);};b.prototype.Vqa=function(a){return this.Xf(a,this.R7a);};b.prototype.m5a=function(a){return{url:a.url,woa:a.cdn_id};};b.prototype.R7a=function(a){return{url:a.url,cdn_id:a.woa};};b.prototype.Tpa=function(a){return this.Xf(a,this.e5a);};b.prototype.Uqa=function(a){return this.Xf(a,this.I7a);};b.prototype.e5a=function(a){return{id:a.id,key:a.key,nwa:a.lowgrade,name:a.name,fe:a.rank,type:a.type,q6a:this.Z4a(a.dns)};};b.prototype.I7a=function(a){return{id:a.id,key:a.key,lowgrade:a.nwa,name:a.name,rank:a.fe,type:a.type,dns:this.C7a(a.q6a)};};b.prototype.Z4a=function(a){if(a)return{host:a.host,deb:a.ipv4,eeb:a.ipv6,u9a:a.forceLookup};};b.prototype.C7a=function(a){if(a)return{host:a.host,ipv4:a.deb,ipv6:a.eeb,forceLookup:a.u9a};};b.prototype.a5a=function(a){return this.Xf(a,this.$4a);};b.prototype.E7a=function(a){return this.Xf(a,this.D7a);};b.prototype.$4a=function(a){return{key:a.key,fe:a.rank,weight:a.weight,level:a.level};};b.prototype.D7a=function(a){return{key:a.key,rank:a.fe,weight:a.weight,level:a.level};};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.cf))],a);d.EMa=a;},function(g,d,a){var f,h,m,c,k,p;function b(a,b,c,f,d){this.yYa=a;this.Nnb=b;this.zAa=f;this.JAa=d;this.ia=c.lb("LicenseProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);m=a(314);a(313);c=a(312);k=a(311);a=a(310);b.prototype.Hx=function(a,b){var c,f;c=this;f=this.zAa.atb(a);return this.yYa.hn(this.ia,b,a.wf,f).then(function(a){a.map(function(a){return a.MHb;});return c.JAa.btb(a);})["catch"](function(a){c.ia.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a,b){var c;c=this;a=this.zAa.dtb(a);return this.Nnb.We(this.ia,b,a).then(function(a){return c.JAa.etb(a);})["catch"](function(a){c.ia.error("PBO release license failed",a);return Promise.reject(a);});};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(m.qha)),g.__param(1,f.l(c.Fha)),g.__param(2,f.l(h.ob)),g.__param(3,f.l(k.vha)),g.__param(4,f.l(a.wha))],p);d.HLa=p;},function(g,d,a){var f,h,m,c;function b(a,b,c){this.Jgb=a;this.Nr=c;this.ia=b.lb("ManifestProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(315);m=a(7);a=a(65);b.prototype.fD=function(a,b){var c;c=this;return this.Nr().then(function(f){return c.Jgb.hn(c.ia,f.profile,b,a);})["catch"](function(a){c.ia.error("PBO manifest failed",a);return Promise.reject(a);});};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(h.zha)),g.__param(1,f.l(m.ob)),g.__param(2,f.l(a.Sq))],c);d.IMa=c;},function(g,d,a){var f,h,m;function b(a){this.ufb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(123);m=a(215);b.prototype.decode=function(a){var b;b=this.Ibb(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.K5(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.J$a(a),timedtexttracks:this.$bb(a.textTracks,b),media:this.gD(a.media),trickplays:this.fcb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.cab(a),initialHeader:void 0,wf:this.ufb()};b.Iz=a.Iz;b.sE=a.sE;b.wf.MYa(b);return b;};b.prototype.J$a=function(a){var b,c,f;b=Q(a.defaultMedia.split("|"));c=b.next().value;f=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:f,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.K5=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.Ibb=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.Lta=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.Y9a(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.Y9a=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.Lta(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.mcb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.mcb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.Lta(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.$bb=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.Vbb(a.downloadables),ttDownloadables:c.Wbb(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.Vbb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.mbb=function(a){var b;b=m.NZ.T5();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(da(a.map(function(a){return a.pixHeight;}))));};b.prototype.Wbb=function(a){var b;if(a){b=this.mbb(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.gD=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.fcb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.cab=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.jG))],a);d.JMa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xSa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";d.DJa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(g,d,a){var f,h,m,c,k,p,q,t,A;function b(a,b,c,f,d){this.pc=a;this.Hl=b;this.IW=c;this.CT=f;this.Nr=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);m=a(41);c=a(98);k=a(65);p=a(168);q=a(77);t=a(621);a=a(147);b.prototype.Lf=function(a){var b;b=this;return this.Nr().then(function(c){return b.pc.Ku(a.Kp[0].data,[8,4])?{kc:[{id:"ddd",Bv:"cert",BD:void 0}],Dv:[{sessionId:"ddd",data:new Uint8Array(b.Hl.decode(t.xSa))}]}:b.pc.Ku(a.Kp[0].data,b.IW.decode("certificate"))?{kc:[{id:"ddd",Bv:"cert",BD:void 0}],Dv:[{sessionId:"ddd",data:new Uint8Array(b.Hl.decode(t.DJa))}]}:b.CT.Hx(b.C9a(a),c.profile).then(function(a){return b.D9a(a);});});};b.prototype.release=function(a){var b;b=this;return this.Nr().then(function(c){return b.CT.release(b.F9a(a),c.profile).then(function(c){return b.G9a(c,a);});});};b.prototype.C9a=function(a){var b;b=this;return{oa:a.oa,Nf:a.Nf,qR:a.qR,xh:q.Mva(a.xh),po:p.Sn[a.po],Kp:a.Kp.map(function(a){return{sessionId:a.sessionId,dataBase64:b.Hl.encode(a.data)};}),jK:a.jK,wf:a.wf};};b.prototype.F9a=function(a){var b;b={};a.Jp&&a.kc[0].id&&(b[a.kc[0].id]=this.Hl.encode(a.Jp));return a&&a.Jp?{oa:a.oa,kc:a.kc,hpb:b}:{oa:a.oa,kc:a.kc};};b.prototype.D9a=function(a){return{kc:a.kc,Dv:a.Dv};};b.prototype.G9a=function(a,b){return a&&a.response&&a.response.data&&b.kc[0].id&&(a=a.response.data[b.kc[0].id])?{response:this.Hl.decode(a)}:{};};A=b;A=g.__decorate([f.N(),g.__param(0,f.l(h.cf)),g.__param(1,f.l(m.Jj)),g.__param(2,f.l(c.kx)),g.__param(3,f.l(a.UF)),g.__param(4,f.l(k.Sq))],A);d.OIa=A;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fHa="ControlProtocolSymbol";},function(g,d,a){var b,f,h,m,c,k,p,q,t,A;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(623);f=a(441);h=a(622);m=a(620);c=a(160);k=a(619);p=a(189);q=a(147);t=a(618);A=a(617);d.Emb=new g.ac(function(a){a(b.fHa).dA(function(){return J._cad_global.controlProtocol;});a(f.eea).to(h.OIa).Z();a(c.RY).to(m.JMa).Z();a(c.jga).to(A.EMa).Z();a(p.QY).to(k.IMa).Z();a(q.UF).to(t.HLa).Z();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.VHb=function(a){return a;};d.Hgb=function(a){return a;};d.WHb=function(a){return Object.assign({},a);};},function(g,d,a){var f,h,m,c,k,p,q,t,A;function b(a,b,c){this.Ra=a;this.nvb=b;this.performance=c;h.Yk(this,"performance");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(47);m=a(625);c=a(35);k=a(37);p=a(42);q=a(1);t=a(319);A=a(3);b.prototype.get=function(a,b,d){var g;g=this;return new Promise(function(k,h){var q,p,m;try{q=g.nvb.create();"withCredentials"in q||h(Error("Missing CORS support"));q.open("GET",a,!0);b&&(q.withCredentials=!0);d&&(q.timeout=d.fa(A.ma));p=g.Ra.Ve;m=void 0;q.onreadystatechange=function(){var b;switch(q.readyState){case XMLHttpRequest.HEADERS_RECEIVED:m=g.Ra.Ve.ke(p);break;case XMLHttpRequest.DONE:b=g.Ra.Ve.ke(p);k({body:q.responseText,status:q.status,headers:f.Bkb(q.getAllResponseHeaders()),Xc:g.Qab(a,c.aa(q.responseText.length),b,m)});}};q.send();}catch(U){h(U);}});};b.Bkb=function(a){var b,f,d;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){f=a[c];d=f.indexOf(": ");0<d&&(b[f.substring(0,d).toLowerCase()]=f.substring(d+2));}return b;};b.prototype.Qab=function(a,b,f,d){b={size:b,duration:f,Nba:d};if(!this.performance||!this.performance.getEntriesByName)return b;f=this.performance.getEntriesByName(a);if(0==f.length&&(f=this.performance.getEntriesByName(a+"/"),0==f.length))return b;a=f[f.length-1];b=m.Hgb(b);a.s5a&&(b.size=c.aa(a.s5a));0<a.duration?b.duration=A.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=A.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.tqa=A.timestamp(a.domainLookupEnd-a.domainLookupStart),b.Gba=A.timestamp(a.connectEnd-a.connectStart),b.Nba=A.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.Rba=A.timestamp(0):void 0!==a.secureConnectionStart&&(f=a.connectEnd-a.secureConnectionStart,b.Rba=A.timestamp(f),b.Gba=A.timestamp(a.connectEnd-a.connectStart-f)));return b;};a=f=b;a=f=g.__decorate([q.N(),g.__param(0,q.l(p.Kj)),g.__param(1,q.l(t.vja)),g.__param(2,q.l(k.sZ)),g.__param(2,q.optional())],a);d.pKa=a;},function(g,d,a){var f,h,m,c,k;function b(a,b){this.is=a;this.json=b;h.Yk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(47);m=a(37);c=a(3);a=a(21);b.prototype.parse=function(a){var f;a=this.json.parse(a);if(!this.is.a1(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.qH(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.qH(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.Sr(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.qH(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Sr(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Gk(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.Kx(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){f=a.urls[b];if(!this.is.a1(f))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.Ci(f.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.Ci(f.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Lmb:a.pulses,Eza:a.pulse_delays?a.pulse_delays.map(c.Cb):[],Kmb:c.Cb(a.pulse_timeout),uva:a.next?c.Cb(a.next):void 0,Yc:a.urls,f8:a.logblob,context:a.ctx};};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.ue)),g.__param(1,f.l(m.Kt))],k);d.NJa=k;},function(g,d,a){var f,h,m,c,k,p;function b(a,b){this.yh=a;this.Yy=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(35);c=a(3);k=a(39);a=a(57);b.prototype.iL=function(a){a=this.Yy.Ml("ftlProbeError","info",f.hvb({url:a.url,sc:a.status,pf_err:a.Y9},a));this.yh.uc(a);};b.hvb=function(a,b){b.Xc&&(b=b.Xc,f.Bp(a,"d",b.duration),f.Bp(a,"dns",b.tqa),f.Bp(a,"tcp",b.Gba),f.Bp(a,"tls",b.Rba),f.Bp(a,"ttfb",b.Nba),a.sz=b.size.fa(m.Rn));return a;};b.Bp=function(a,b,f){f&&(a[b]=f.fa(c.ma));return a;};p=f=b;p=f=g.__decorate([h.N(),g.__param(0,h.l(k.Mj)),g.__param(1,h.l(a.Vn))],p);d.jQa=p;},function(g,d,a){var f,h,m,c,k,p;function b(a,b){this.yh=a;this.Yy=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(35);c=a(3);k=a(39);a=a(57);b.prototype.iL=function(a){a=this.Yy.Ml(a.f8,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return f.ivb({d:a.Xc.duration.fa(c.ma),sc:a.status,sz:a.Xc.size.fa(m.Rn),via:a.Mub,cip:a.k1a,err:a.hy},a);})};})});this.yh.uc(a);};b.ivb=function(a,b){f.Bp(a,"dns",b.Xc.tqa);f.Bp(a,"tcp",b.Xc.Gba);f.Bp(a,"tls",b.Xc.Rba);f.Bp(a,"ttfb",b.Xc.Nba);return a;};b.Bp=function(a,b,f){f&&(a[b]=f.fa(c.ma));return a;};p=f=b;p=f=g.__decorate([h.N(),g.__param(0,h.l(k.Mj)),g.__param(1,h.l(a.Vn))],p);d.kQa=p;},function(g,d,a){var f,h,m,c,k,p,q,t;function b(a,b,c,f,d,g,k){this.config=a;this.rua=b;this.ka=c;this.di=f;this.hob=d;this.U$=g;this.Reb=0;this.ia=k.lb("FTL");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(3);c=a(30);k=a(7);p=a(317);q=a(316);a=a(167);b.prototype.start=function(){this.config.enabled&&!this.Gn&&(this.Gn=this.ka.fg(this.config.kCa,this.xE.bind(this)));};b.prototype.stop=function(){this.Gn&&(this.Gn.cancel(),this.Gn=void 0);};b.prototype.xE=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.Reb++;this.Ubb(b).then(function(b){return Promise.all(b.Yc.map(function(c){return a.Ncb(b,c.url,c.name);})).then(function(c){0<c.length&&a.hob.iL({data:c,context:b.context,f8:b.f8});}).then(function(){return b;});}).then(function(b){a.Gn&&(b.uva?a.Gn=a.ka.fg(b.uva,a.xE.bind(a)):a.stop());})["catch"](function(b){return a.ia.error("FTL run failed",b);});};b.prototype.Ubb=function(a){var b;b=this;return this.rua.get(a,!1).then(function(c){var f;if(200!=c.status||null==c.body)return b.U$.iL({url:a,status:c.status,Y9:"FTL API request failed",Xc:c.Xc}),Promise.reject(Error("FTL API request failed: "+c.status));f=b.di.parse(c.body);return f instanceof Error?(b.U$.iL({url:a,status:4,Y9:"FTL Probe API JSON parsing error",Xc:c.Xc}),Promise.reject(f)):Promise.resolve(f);})["catch"](function(c){c instanceof Error&&(b.U$.iL({url:a,status:0,Y9:c.message}),b.ia.error("FTL API call failed",c.message));return Promise.reject(c);});};b.prototype.Ncb=function(a,b,c){var d;d=this;return new Promise(function(g,k){var y;for(var h,q,p,t=[],u={},A=0;A<a.Lmb;u={Ed:u.Ed},++A){u.Ed=A<a.Eza.length?a.Eza[A]:m.Ef;y=function(c){return function(){return new Promise(function(g,k){d.ka.fg(c.Ed,function(){f.umb(d.rua,b,a.Kmb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}h=b(h,"via",a);q=b(q,"x-ftl-probe-data",a);p=b(p,"x-ftl-error",a);g({status:a.status,Xc:a.Xc,Mub:h||"",k1a:q||"",hy:p||""});})["catch"](function(a){k(a);});});});};}(u);t.push(0<A?t[A-1].then(y):y());}Promise.all(t).then(function(a){g({url:b,name:c,data:a});})["catch"](function(a){k(a);});});};b.umb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};t=f=b;t=f=g.__decorate([h.N(),g.__param(0,h.l(a.Hea)),g.__param(1,h.l(q.Uea)),g.__param(2,h.l(c.ng)),g.__param(3,h.l(p.Gea)),g.__param(4,h.l(a.pia)),g.__param(5,h.l(a.oia)),g.__param(6,h.l(k.ob))],t);d.PJa=t;},function(g,d,a){var b,f,h,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(630);f=a(629);h=a(628);m=a(627);c=a(626);k=a(317);p=a(316);q=a(167);d.I9a=new g.ac(function(a){a(q.Iea).to(b.PJa).Z();a(q.pia).to(f.kQa).Z();a(q.oia).to(h.jQa).Z();a(k.Gea).to(m.NJa).Z();a(p.Uea).to(c.pKa).Z();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Dp=a;}a.prototype.xK=function(){var a,f,d;a=this.Dp.zab();f=this.Dp.Aab();d=this.Dp.Bab();if("number"===typeof a&&"number"===typeof f&&"number"===typeof d)return(d-a)/f;};return a;}();d.ENa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f){this.Dp=a;this.xK=f;}a.prototype.Raa=function(a){return this.Dp.Raa(a);};a.prototype.Uk=function(){return this.Dp.Uk();};a.prototype.$ab=function(){return this.xK.xK();};return a;}();d.DNa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Wva=a;}a.prototype.Raa=function(a){try{this.Wva.setItem("gtp",JSON.stringify(a));}catch(f){return!1;}return!0;};a.prototype.Usa=function(){var a;try{a=this.Wva.getItem("gtp");if(a)return JSON.parse(a);}catch(f){}};a.prototype.Uk=function(){var a;a=this.Usa();if(a&&a.tp)return a.tp.a;};a.prototype.zab=function(){var a;a=this.G5();if(a)return a.p25;};a.prototype.Aab=function(){var a;a=this.G5();if(a)return a.p50;};a.prototype.Bab=function(){var a;a=this.G5();if(a)return a.p75;};a.prototype.G5=function(){var a;a=this.Usa();if(a&&(a=a.iqr))return a;};return a;}();d.Rca=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(634);f=a(633);h=a(632);d["default"]=function(a){var c;a=new b.Rca(a);c=new h.ENa(a);return new f.DNa(a,c);};},function(g,d,a){var f,h,m,c;function b(a,b,c){this.config=a;this.dgb=b;this.$e=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(464);h=a(1);m=a(162);a=a(318);b.prototype.e3=function(){if(this.config.VDa)return this.$e(this.dgb());};c=b;c=g.__decorate([h.N(),g.__param(0,h.l(f.Kga)),g.__param(1,h.l(m.Jga)),g.__param(2,h.l(a.Lga))],c);d.CNa=c;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.create=function(){return new XMLHttpRequest();};f=b;f=g.__decorate([a.N()],f);d.BSa=f;},function(g,d,a){var b,f,h,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(637);f=a(82);h=a(319);m=a(636);c=a(190);k=a(318);p=a(635);d.Kib=new g.ac(function(a){a(h.vja).to(b.BSa).Z();a(f.Mt).dA(function(){return J._cad_global.http;});a(c.JN).to(m.CNa).Z();a(k.Lga).Bh(p["default"]);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Ge||(d.Ge={});g.BEa="aseexception";g.CEa="asereport";g.sFa="audioswitch";g.RFa="bitraterestriction";g.SFa="blockedautoplay";g.OGa="cdnsel";g.QGa="chgstrm";g.FIa="dlreport";g.GIa="dlreq";g.rJa="endplay";g.tLa="intrplay";g.gNa="midplay";g.Sha="playbackaborted";g.iQa="renderstrmswitch";g.mQa="repos";g.qQa="resumeplay";g.UQa="securestop";g.$Qa="serversel";g.iRa="startplay";g.jRa="statechanged";g.qRa="subtitleerror";g.sRa="subtitleqoe";g.JRa="timedtextrebuffer";g.KRa="timedtextswitch";g.QRa="transition";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wgb=function(a,b){var c,k;if(0!==a.length){if(1===a.length)return a[0];for(var f=a[0],d=b(f),g=1;g<a.length;g++){c=a[g];k=b(c);k>d&&(f=c,d=k);}return f;}};},function(g,d,a){var f;function b(a,b,c){a=f.DX.call(this,a,b)||this;a.Iu=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(322);ca(b,f.DX);d.MGa=b;},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l,x,n,N,R,S,r;function b(a,b,c,f,d,g,k,h,q,p,m,t,u,A,y){this.RCa=a;this.zQ=b;this.yh=c;this.S8=f;this.z4=d;this.bl=g;this.Vd=k;this.pR=h;this.Gd=q;this.config=p;this.Jc=m;this.Ra=t;this.ya=u;this.platform=A;this.cK=y;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(226);h=a(416);m=a(39);c=a(22);k=a(408);p=a(222);q=a(91);t=a(1);A=a(323);y=a(321);l=a(82);x=a(17);n=a(42);N=a(23);R=a(72);S=a(57);a=a(107);b.prototype.create=function(a,b,c){return new A.VLa(a,b,c,this.RCa,this.zQ,this.yh,this.S8,this.z4,this.bl,this.Vd,this.pR,this.Gd,this.config,this.Jc,this.Ra,this.ya,this.platform,this.cK);};r=b;r=g.__decorate([t.N(),g.__param(0,t.l(f.QZ)),g.__param(1,t.l(h.tda)),g.__param(2,t.l(m.Mj)),g.__param(3,t.l(k.pga)),g.__param(4,t.l(p.zea)),g.__param(5,t.l(q.ax)),g.__param(6,t.l(c.cf)),g.__param(7,t.l(y.bea)),g.__param(8,t.l(l.Mt)),g.__param(9,t.l(x.ld)),g.__param(10,t.l(a.$A)),g.__param(11,t.l(n.Kj)),g.__param(12,t.l(N.Oe)),g.__param(13,t.l(R.lp)),g.__param(14,t.l(S.Vn))],r);d.ULa=r;},function(g,d,a){var f,h,m;function b(a){this.vh=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);a=a(92);b.prototype.lgb=function(){var a;a=this.vh()?this.vh().Qg.length:40;return h.aa(a+33);};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.Lw))],m);d.SLa=m;},function(g,d,a){var h,m,c,k,p,q,t,A,y;function b(a,b,c,f,d,g,h,q,p,m){this.platform=b;this.n3=c;this.type=f;this.severity=d;this.timestamp=g;this.data=h;this.ya=q;this.data.type=f;this.data.sev=d;this.data.devmod=this.platform.jR;this.data.clver=this.platform.version;a&&a.Gp&&(a.Gp.os&&(this.data.osplatform=a.Gp.os.name,this.data.osver=a.Gp.os.version),this.data.browsername=a.Gp.name,this.data.browserver=a.Gp.version);a.w7&&(this.data.tester=!0);a.nv&&!this.data.groupname&&(this.data.groupname=a.nv);a.gC&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.gC:a.gC);a.iA&&(this.data.uigroupname=a.iA);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.ya.Kab();this.data.uniqueLogId=p.gsa();this.data.appId=this.ya.id;m&&(a=this.ya.Xb(),this.data.soffms=a.ke(m.el).fa(k.ma),this.data.mid=m.M,this.data.lvpi=m.e8,this.data.uiLabel=m.se,this.data["startup"===f?"playbackxid":"xid"]=m.oa,m.Qz&&(f=m.Qz,(m=m.Qz.split("."))&&1<m.length&&"S"!==m[0][0]&&(f="SABTest"+m[0]+".Cell"+m[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+f:f));}function f(a,b,c,f,d,g){this.Ra=a;this.n3=b;this.config=c;this.ya=f;this.Fub=d;this.platform=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(35);m=a(1);c=a(42);k=a(3);p=a(433);q=a(51);t=a(23);A=a(326);a=a(72);f.prototype.Ml=function(a,c,f,d){return new b(this.config,this.platform,this.n3,a,c,this.Ra.Ve,f,this.ya,this.Fub,d);};y=f;y=g.__decorate([m.N(),g.__param(0,m.l(c.Kj)),g.__param(1,m.l(p.Fda)),g.__param(2,m.l(q.vm)),g.__param(3,m.l(t.Oe)),g.__param(4,m.l(A.ija)),g.__param(5,m.l(a.lp))],y);d.RLa=y;qa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.noa||(this.noa=h.aa(this.n3.encode(this.data).length));return this.noa;}}});},function(g,d,a){var f,h,m,c;function b(a){this.config=a;this.bhb=f.aa(5E5);this.xpb=h.e9(1);this.YAa=h.Eg(5);this.Gwa=f.aa(1E6);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(35);h=a(3);m=a(1);a=a(17);qa.Object.defineProperties(b.prototype,{Lqb:{configurable:!0,enumerable:!0,get:function(){return this.config().Mqb;}},d8:{configurable:!0,enumerable:!0,get:function(){return this.config().d8;}},j1:{configurable:!0,enumerable:!0,get:function(){return this.config().j1;}}});c=b;c=g.__decorate([m.N(),g.__param(0,m.l(a.ld))],c);d.KLa=c;},function(g,d,a){var f,h,m;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(191);m=a(35);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.lgb());}).reduce(function(a,b){return a.add(b);},m.aa(0));};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.Vfa))],a);d.TLa=a;},function(g,d,a){var h,m,c,k,p,q,t,A,y,l,x;function b(a,b,c,f,d,g,k,h){this.ya=a;this.platform=c;this.vh=f;this.json=d;this.pc=g;this.bl=k;this.rgb=h;m.Yk(this,"json");this.ia=b.lb("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(47);c=a(37);k=a(3);p=a(22);q=a(23);t=a(72);A=a(92);y=a(7);l=a(327);a=a(91);b.prototype.send=function(a,b){var c;c=this;return new Promise(function(a,d){var g;try{g=b.reduce(function(a,b){a.entries.push(c.m4a(b));return a;},new f());a(c.N9a(g));}catch(U){c.ia.error(U.message);d(U);}}).then(function(b){return c.FE(b,a);});};b.prototype.m4a=function(a){return this.pc.gk(this.pc.gk({},a.data),{esn:this.vh().Qg,sev:a.severity,type:a.type,lver:this.platform.ewa,jssid:this.ya.id,devmod:this.platform.jR,jsoffms:a.timestamp.ke(this.ya.Oy).fa(k.ma),clienttime:a.timestamp.fa(k.ma),client_utc:a.timestamp.fa(k.Am),uiver:this.bl.eF});};b.prototype.N9a=function(a){var b;b=this;try{return this.json.stringify(a);}catch(X){for(var c={},f=0;f<a.entries.length;c={PL:c.PL,ce:c.ce},++f){c.ce=Object.assign({},a.entries[f]);try{this.json.stringify(c.ce);}catch(D){c.PL=void 0;this.pc.Vu(c.ce,function(a){return function(c,f){try{b.json.stringify(f);}catch(Z){a.PL=Z.message;a.ce[c]=a.PL;}};}(c));c.ce.stringifyException=c.PL;c.ce.originalType=c.ce.type;c.ce.type="debug";c.ce.sev="error";}}return this.json.stringify(a);}};b.prototype.FE=function(a,b){var c;c=this;return this.rgb.We(this.ia,b,{logblobs:a}).then(function(){})["catch"](function(a){c.ia.error("PBO logblob failed",a);return Promise.reject(a);});};x=b;x=g.__decorate([h.N(),g.__param(0,h.l(q.Oe)),g.__param(1,h.l(y.ob)),g.__param(2,h.l(t.lp)),g.__param(3,h.l(A.Lw)),g.__param(4,h.l(c.Kt)),g.__param(5,h.l(p.cf)),g.__param(6,h.l(a.ax)),g.__param(7,h.l(l.yha))],x);d.WLa=x;},function(g,d,a){var f,h,m;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(3);m=a(35);b.prototype.decode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:h.Cb(a.timestamp),size:m.aa(a.size)};};b.prototype.encode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:a.timestamp.fa(h.ma),size:a.size.fa(m.Rn)};};a=b;a=g.__decorate([f.N()],a);d.QLa=a;},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l,x,n,N;function b(a,b,c,f,d,g,k,q){var p;p=this;this.ka=a;this.Ah=b;this.qv=f;this.kq=d;this.config=g;this.xf=k;this.json=q;this.s3=[];h.Yk(this,"json");this.ia=this.xf.lb("MessageQueue");this.Uu=new x.cNa(this.kq);c().then(function(a){p.hj=a;p.data=new l.dNa(p.kq,a.profile);p.Yfb(a);})["catch"](function(a){p.ia.error("AccountManagerProvider threw an exception.",a);});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(47);m=a(35);c=a(116);k=a(191);p=a(30);q=a(7);t=a(65);A=a(39);y=a(63);l=a(329);x=a(329);n=a(37);N=a(2);b.prototype.Pr=function(a,b,c){var f;try{f={data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};this.data&&c?(this.data.Pr(c.id,this.eta(b),"logblobs",f),this.ara()):this.s3.push(f);}catch(U){b={};(c=a.data.debugMessage)&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ia.error("JSON.stringify error: "+U.message,b);}};b.prototype.Bz=function(a){this.data.Bz(a);this.ara();};b.prototype.h$a=function(){var a,b,c,t;a=[];if(this.data){b=this.config.Gwa.to(m.Rn);for(c in this.data.de)for(var f=this.uy(c),d=this.data.de[c],g=[],k=[],h=m.aa(0),p=0;p<d.de.length;p++){t=d.de[p];g.push(t.message);k.push(t.id);h=h.add(this.kq.measure([t.message]));if(0<=h.Pk(b)||p+1===d.de.length)this.ia.trace("Batch_"+a.length+": "+g.length+"/"+h,q.Mw),a.push({profile:f,vua:k.slice(),de:g.slice(),size:h}),g=[],k=[],h=m.aa(0);}}return a;};b.prototype.Yfb=function(a){var b;b=this;this.config.YAa.eva()&&(this.pna=this.Ah.create(),this.pna.then(function(a){return a.load("messages");}).then(function(a){b.Wfb(a.value);})["catch"](function(a){a.Y===N.u.np?b.ia.info("No messages to load."):b.ia.error("Failed to load messages.",a);}));this.s3.forEach(function(c){b.data.Pr(a.profile.id,b.eta(!1),"logblobs",c);});this.s3=[];};b.prototype.Wfb=function(a){var b,c,f;b=this;try{c=this.Uu.decode(a);f=this.hj.uy(c.VP);if(f&&f.TB.id===this.data.VP){this.ia.trace("Loading messageQueue.");a={};for(var d in c.de)a.profileId=d,c.de[a.profileId].de.forEach(function(a){return function(c){c.message.data.loadedLogBlobFromPersistence=!0;b.data.Pr(a.profileId,c.id,c.url,c.message);};}(a)),a={profileId:a.profileId};}else this.ia.trace("AcountId does not match, ignoring persisted messages.");}catch(P){this.ia.error("Load messageQueue failed.",P);}};b.prototype.Sob=function(){var a,b;a=this;b=this.Uu.encode(this.data);this.pna.then(function(a){return a.save("messages",b,!1);}).then(function(){a.ia.info("MessageQueue: Saved",q.Mw);})["catch"](function(b){a.ia.error("Failed to save messages.",b);});};b.prototype.yrb=function(){this.EV&&(this.EV.cancel(),this.EV=void 0);};b.prototype.ara=function(){this.config.Lqb&&!this.EV&&(this.EV=this.ka.fg(this.config.YAa,this.Ujb.bind(this)));};b.prototype.Ujb=function(){this.yrb();this.Sob();};b.prototype.eta=function(a){return a?this.qv.pC():0;};b.prototype.uy=function(a){return this.hj.uy(a)||this.hj.profile;};qa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){var a;a=m.aa(0);if(this.data)for(var b in this.data.de)a=a.add(this.data.de[b].size);return a;}}});a=b;a=g.__decorate([f.N(),g.__param(0,f.l(p.ng)),g.__param(1,f.l(y.fp)),g.__param(2,f.l(t.Sq)),g.__param(3,f.l(c.HA)),g.__param(4,f.l(k.Wfa)),g.__param(5,f.l(A.MY)),g.__param(6,f.l(q.ob)),g.__param(7,f.l(n.Kt))],a);d.eNa=a;},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l;function b(a,b,c,f,d,g,k,p){var m;m=this;this.config=a;this.json=c;this.ka=f;this.hgb=d;this.nK=k;this.WQ=p;this.nT=this.Zua=this.pn=!1;this.listeners=[];h.Yk(this,"json");this.ia=g.lb("LogBatcher");this.us();b().then(function(a){m.hj=a;m.Zua=a.tgb;})["catch"](function(a){m.ia.error("Unable to initialize the account manager for the log batcher",a,q.Mw);});}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);g=a(1);h=a(47);m=a(37);c=a(331);k=a(65);p=a(30);q=a(7);t=a(39);A=a(330);y=a(2);l=a(70);a(149);d.xzb=function(a,b,c){this.name=a;this.message=void 0===b?a:b;this.cause=c;};b.prototype.Ac=function(){this.pn=!0;};b.prototype.uc=function(a,b,c){var f;b=void 0===b?!1:b;f=this;0<a.size.Pk(this.config.bhb)?this.ia.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(!c&&this.hj&&(c=this.hj.profile),this.listeners.forEach(function(b){return b.axa(a);}),b=b||0<=this.config.d8.indexOf(a.type),this.nK.Pr(a,b,c),this.ka.Jb(function(){f.g9a();}));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.nT?(this.ia.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,f){b.ia.trace("Flushing",q.Mw);b.Zg();b.ka.Jb(function(){b.Faa(a).then(function(){c();})["catch"](function(){f();});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.Faa=function(a){a=void 0===a?!1:a;return f.__awaiter(this,void 0,void 0,function(){var c,f,d,g,k,h,p,m,t,u,A;function b(b){for(;;)switch(c){case 0:t=u;if(u.pn&&u.Zua){c=1;break;}c=-1;return{value:void 0,done:!0};case 1:if(!u.nT){c=2;break;}u.ia.trace("LogBatcher is in error state, ignoring sendLogMessages");c=-1;return{value:void 0,done:!0};case 2:m=u.nK.h$a();p=!1;if(!(0<m.length||a)){c=3;break;}u.Zg();u.listeners.forEach(function(a){return a.uBa();});h={};k=Q(m);g=k.next();case 4:if(g.done){c=6;break;}h.Yr=g.value;try{return u.Bz(h.Yr),u.ia.trace("Sending batch: "+h.Yr.size,q.Mw),c=9,{value:u.hgb.send(h.Yr.profile,h.Yr.de),done:!1};}catch(W){d=W;c=7;break;}case 9:try{if(void 0===b){c=10;break;}c=-1;throw b;}catch(W){d=W;c=7;break;}case 10:try{c=8;break;}catch(W){d=W;c=7;break;}case 7:f=d;p=!0;u.ia.warn("Failed to send logblobs.",f,q.Mw);u.Gqb(f)&&(u.ia.trace("re-adding failed batch"),h.Yr.de.forEach(function(a){return function(b,c){t.nK.Pr(b,0!==a.Yr.vua[c],a.Yr.profile);};}(h)));if(!u.Pqb(f)){c=11;break;}u.nT=!0;c=6;break;case 11:case 8:case 5:h={Yr:h.Yr};g=k.next();c=4;break;case 6:case 3:u.us();if(!p){c=12;break;}c=-1;throw Error("Send failure.");case 12:c=-1;default:return{value:void 0,done:!0};}}c=0;u=this;A={next:function(){return b(void 0);},"throw":function(a){return b(a);},"return":function(){throw Error("Not yet implemented");}};n();A[Symbol.iterator]=function(){return this;};return A;});};b.prototype.Gqb=function(a){return a.vg===y.CY.pha?!1:this.config.j1;};b.prototype.Pqb=function(a){return a.Ic===y.u.Kea||a.Ic===y.u.NF||a.Ic===y.u.DA?!0:!1;};b.prototype.g9a=function(){var a;a=this;0<this.nK.size.Pk(this.config.Gwa)?this.Faa()["catch"](function(){return a.ia.warn("failed to send log messages on size threshold");}):this.us();};b.prototype.Zg=function(){this.My&&(this.My.cancel(),this.My=void 0);};b.prototype.us=function(){this.My||(this.My=this.ka.fg(this.config.xpb,this.Qs.bind(this)));};b.prototype.Qs=function(){var a;a=this;this.nT=!1;this.Zg();this.Faa()["catch"](function(){return a.ia.warn("failed to send log messages on timer");});};b.prototype.Bz=function(a){this.nK.Bz(a.vua);};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(N){}return b;};a=b;a=f.__decorate([g.N(),f.__param(0,g.l(t.MY)),f.__param(1,g.l(k.Sq)),f.__param(2,g.l(m.Kt)),f.__param(3,g.l(p.ng)),f.__param(4,g.l(c.Yfa)),f.__param(5,g.l(q.ob)),f.__param(6,g.l(A.yga)),f.__param(7,g.l(l.BF))],a);d.LLa=a;},function(g,d,a){var f,h,m,c,k,p,q;function b(a,b,c,d){var g;g=this;this.vgb=a;this.cK=b;this.config=d;this.P$=[];this.vgb.qV(f.xEa,this.Ccb.bind(this));c().then(function(a){var b;b=d().wh.s9a;g.fhb=b?q.Hh[b.toUpperCase()]:q.Hh.ERROR;g.yh=a;g.Apb();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(17);c=a(95);k=a(39);p=a(57);q=a(7);b.prototype.Ccb=function(a,b){this.yh?this.Hza(a,b):this.P$.push([a,b]);};b.prototype.Apb=function(){var a,b;a=this;b=this.P$;this.P$=[];b.forEach(function(b){a.Hza(b[0],b[1]);});};b.prototype.Hza=function(a,b){var c;if(this.yh&&this.Iqb(a)){c={debugMessage:a.message,debugCategory:a.Mk};a.fd.forEach(function(a){return c=Object.assign({},c,a.value);});c=Object.assign({},c,{prefix:"debug"});a=this.cK.Ml("debug",q.Hh[a.level].toLowerCase(),c,b);this.yh.uc(a);}};b.prototype.Iqb=function(a){var b;b=this.fhb;return void 0!==b&&a.level<=b&&!a.fd.find(function(a){return a.RI(q.Mw);});};a=f=b;a.xEa="adaptorAll";a=f=g.__decorate([h.N(),g.__param(0,h.l(c.IA)),g.__param(1,h.l(p.Vn)),g.__param(2,h.l(k.Rfa)),g.__param(3,h.l(m.ld))],a);d.ZEa=a;},function(g,d,a){var b,f,h,m,c,k,p,q,t,A,y,l,n,G,N,R,r,X,D,U,P,ia;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(111);f=a(651);h=a(650);m=a(649);c=a(647);k=a(646);p=a(17);q=a(645);t=a(644);A=a(643);y=a(30);l=a(92);n=a(325);G=a(330);N=a(331);R=a(57);r=a(191);X=a(39);D=a(324);U=a(642);P=a(321);ia=a(320);d.sgb=new g.ac(function(a){a(X.Mj).to(h.LLa).Z();a(G.yga).to(m.eNa).Z();a(N.Yfa).to(c.WLa).Z();a(r.Wfa).to(k.TLa).Z();a(X.MY).to(q.KLa).Z();a(R.Vn).to(t.RLa).Z();a(r.Vfa).to(A.SLa).Z();a(D.Xfa).to(U.ULa).Z();a(P.bea).to(ia.IIa).Z();a(n.Qca).to(f.ZEa).Z();a(X.Rfa).jM(function(a){return function(){return new Promise(function(c){var d,g,k,h;function f(){g()&&k()&&h.Xg?c(a.ec.get(X.Mj)):d.Jb(f);}d=a.ec.get(y.ng);g=a.ec.get(p.ld);k=a.ec.get(l.Lw);h=a.ec.get(b.LA);d.Jb(f);});};});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zIa=function(a,b,f){this.Qg=a;this.gn=b;this.UC=f;};},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l,n,G,N;function b(a,b,c,f,d,g,k,h,q,p){this.nqa=a;this.Ah=b;this.Ba=f;this.m3=d;this.oe=g;this.debug=k;this.JW=h;this.l3=q;this.Skb=p;this.FF=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.lb("Device");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);h=a(21);m=a(653);c=a(7);k=a(337);p=a(41);q=a(86);t=a(22);A=a(1);y=a(63);l=a(334);n=a(333);G=a(102);a=a(332);b.prototype.lra=function(a){try{return a.match(this.FF)[2];}catch(S){}};b.prototype.nra=function(a){try{return a.match(this.FF)[1];}catch(S){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(c,d){b.Ah.create().then(function(g){var h,q,p,t,u,A;function k(a){b.Ba.Gk(a)&&b.Ba.Gk(h)?(q=new m.zIa(a,h,p),c(q)):d({Y:f.u.Jda});}h=a.gn;if(a.u5)p="bind_device",b.Skb.We(b.log,void 0,{}).then(function(a){k(a.esn);})["catch"](function(a){d(a);});else if(a.f5){u=a.Qg;if(b.Ba.Gk(u)){A=b.nra(u);A!=a.gn&&b.log.error("esn prefix from ui is different",{ui:A,cad:a.gn,ua:a.userAgent});}else a.a8&&b.log.error("esn from ui is missing");A=Promise.resolve({W:!1});a.hJ&&(A=b.Tfb(g,a));A.then(function(c){c.W&&c.UC&&c.deviceId?(p=c.UC,k(h+c.deviceId)):g.load(a.iR).then(function(a){t=a.value;b.Ba.Gk(t)&&(b.Ba.Gk(u)?(a=b.lra(u),p=a===t?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):p="storage_esn_not_in_config",k(h+t));})["catch"](function(c){var m;function q(){g.save(a.iR,m,!1).then(function(){k(h+m);})["catch"](function(a){d(a);});}c.Y===f.u.np?(b.Ba.Gk(a.Qg)?(m=b.lra(a.Qg),b.Ba.Gk(m)?p="config_since_not_in_storage":(p="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Qg),m=b.nqa.esa())):(p="generated_since_not_in_config_and_storage",m=b.nqa.esa()),q()):d(c);});})["catch"](d);}else a.a6a&&b.m3&&b.m3.getKeyByName?b.m3.getKeyByName(a.g_a).then(function(a){a=a.id;if(b.Ba.Ci(a))a=String.fromCharCode.apply(void 0,b.oe.decode(a)),b.debug.assert(""!=a),h=b.nra(a),k(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){d({Y:f.u.vX,Sa:b.JW.ud(a)});}):a.$5a&&b.l3&&b.l3.Hsa?b.l3.Hsa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=h+a;b.debug.assert(b.FF.test(a));k(c);})["catch"](function(){d({Y:f.u.vX});}):k();})["catch"](function(a){d(a);});});};b.prototype.Tfb=function(a,b){var c;c=this;return new Promise(function(f,d){c.Zfb(a,b).then(function(d){b.Uta?c.hJ(b.Uta).then(function(g){var k;if(c.Ba.Ci(g)&&c.FF.test(b.gn+g)){k=Promise.resolve();c.j8a(d,g)&&(k=c.gtb(a,b));k.then(function(){a.save(b.iR,g,!1)["catch"](function(a){c.log.error("Failed to persist hardware esn",{esn:g,exception:c.JW.ud(a)});});f({W:!0,deviceId:g,UC:"hardware_deviceid"});})["catch"](function(a){c.log.error("Exception transitioning hesn",{exception:c.JW.ud(a)});f({W:!1});});}else c.log.error("Invalid Hardware ESN",{deviceId:g}),f({W:!1});})["catch"](function(a){c.log.error("Exception generating hardwareId",{exception:c.JW.ud(a)});f({W:!1});}):(c.log.error("hardwareDeviceId not provided"),f({W:!1}));})["catch"](d);});};b.prototype.Zfb=function(a,b){var c;c=this;return new Promise(function(d){a.load(b.iR).then(function(a){a=a.value;c.Ba.Ci(a)&&c.FF.test(b.gn+a)?d(a):(d(void 0),c.log.error("Invalid ESN Loaded",{deviceId:a}));})["catch"](function(a){a.Y!==f.u.np&&c.log.error("Error loading ESN",a);d(void 0);});});};b.prototype.j8a=function(a,b){return a!==b;};b.prototype.gtb=function(a,b){return a.remove(b.yib);};b.prototype.hJ=function(a){var b;b=this;return new Promise(function(c,f){try{G.Da.from(a.hardwareDeviceId).TE(1).subscribe(function(a){b.Ba.Ci(a)?c(a):f("Hardware deviceId was not a string: "+a);},function(a){f(a);});}catch(U){f(U);}});};N=b;N=g.__decorate([A.N(),g.__param(0,A.l(k.Zda)),g.__param(1,A.l(y.fp)),g.__param(2,A.l(c.ob)),g.__param(3,A.l(h.ue)),g.__param(4,A.l(n.Eda)),g.__param(5,A.l(p.Jj)),g.__param(6,A.l(q.yt)),g.__param(7,A.l(t.cf)),g.__param(8,A.l(l.Dda)),g.__param(9,A.l(a.rha))],N);d.AIa=N;},function(g,d,a){var f,h,m,c,k,p;function b(a,b){this.Ra=a;this.XK=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(42);h=a(3);m=a(115);c=a(336);k=a(47);a=a(1);b.prototype.esa=function(){for(var a="",b=this.Ra.Ve.fa(h.ma),f=6;f--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.XK.E$(new c.mia(0,31,k.kjb))];return a;};p=b;p=g.__decorate([a.N(),g.__param(0,a.l(f.Kj)),g.__param(1,a.l(m.oG))],p);d.yIa=p;},function(g,d,a){var b,f,h,m,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(92);f=a(337);h=a(655);m=a(335);c=a(654);d.vh=new g.ac(function(a){a(b.Lw).Rf(function(){return function(){return J._cad_global.device;};});a(m.$da).to(c.AIa).Z();a(f.Zda).to(h.yIa).Z();});},function(g,d,a){var f,h;function b(a){this.Xg=a;this.vV=0;this.p7=!1;this.Kz=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(111);b.prototype.send=function(a){var b,f,d;b=this;f=!!a.QJ&&0!==this.vV;d=this.Kz.some(function(a){return!!a.mU.QJ;});return(f||this.p7||d?new Promise(function(c,f){b.Kz.push({mU:a,resolve:c,reject:f});}):this.FE(a)).then(function(a){b.jya();return a;})["catch"](function(a){b.jya();throw a;});};b.prototype.FE=function(a){this.vV++;a.QJ&&(this.p7=!0);return this.Xg.send(a);};b.prototype.qBa=function(a){this.FE(a.mU).then(function(b){a.resolve(b);})["catch"](function(b){a.reject(b);});};b.prototype.jya=function(){var a;this.vV--;this.p7=!1;if(0===this.vV&&0<this.Kz.length){a=this.Kz.shift();this.qBa(a);if(!a.mU.QJ)for(;0<this.Kz.length&&!this.Kz[0].mU.QJ;)this.qBa(this.Kz.shift());}};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.LA))],h);d.oNa=h;},function(g,d,a){var f,h,m,c,k,p,q,t,A,y,l,n,G,N,R,r,X,D,U;function b(a,b,c,f,d,g,k,h,q,p,t,u,A,y){this.platform=a;this.config=b;this.py=c;this.sfb=f;this.oe=d;this.ya=g;this.Xg=k;this.Dpb=h;this.RE=q;this.qm=p;this.pc=t;this.XK=u;this.json=A;this.t1=y;this.Kl=[];m.Yk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(47);c=a(72);k=a(17);p=a(51);q=a(23);t=a(41);A=a(3);y=a(111);l=a(231);n=a(98);G=a(22);N=a(2);R=a(115);r=a(82);X=a(37);D=a(85);a=a(339);b.prototype.send=function(a,b,c,d){var t,u,y,l;function g(b){return new Promise(function(c,f){function d(a){var f,d;function c(a,c){u.error("Failed to send request",{errorSubCode:a,errorExternalCode:c,request:JSON.stringify({method:b.method,profile:b.yn.profile?b.yn.profile.id:void 0,nonReplayable:b.v9,retryCount:b.gw,userId:b.uM,userTokens:JSON.stringify(t.Xg.Xg.getUserIdTokenKeys())})});return{W:!1,result:{errorSubCode:a,errorExternalCode:c}};}f=t.json.parse(a);if(2!=f.length)return u.trace("The MSL envelope did not have enough array items."),c(N.u.XF);if(!f[1].payload)return u.trace("The MSL envelope did not have a payload."),c(N.u.XF);if(!f[1].status)return u.trace("The MSL envelope did not have a status."),c(N.u.XF);a=f[1].status;d=parseInt(a,10);if(isNaN(d)&&"ok"!=a.toLowerCase()||!(200<=d&&300>d))return f=f[1].payload.data,f=t.oe.decode(f),u.error("The MSL status indicated an error",{status:d},t.qm.encode(f)),c(N.u.fga,a);f=f[1].payload.data;f=t.qm.encode(t.oe.decode(f));if(!f)return u.trace("The MSL payload is missing."),c(N.u.gga);try{return t.json.parse(f);}catch(Ra){return u.error("EDGE response this.json parse error: ",Ra,f),c(N.u.gga);}}k(b,b.gw).then(function(g){var k,h;if(g.body)if(g=d(g.body),u.trace("Received EDGE response",{Method:a.method}),g.success){if(t.config().wh.z8a&&t.meb(a)){k=a.wKb;h=g.profileGuid;if(k&&h!==k){g={Y:N.u.POa,Sa:JSON.stringify({serverGuid:h,clientGuid:k})};m(g,b);f(g);return;}}l.success=!0;l.profileId=b.uM;l.elapsedtime=t.ya.Xb().fa(A.ma)-l.starttime;l.userTokens=JSON.stringify(t.Xg.Xg.getUserIdTokenKeys());c(g.result);}else{h=g.result;g.__logs&&(h.EDb=g.__logs);try{k=t.json.stringify(h.data);}catch(Nc){}g=m(h,b);f({Y:h.errorSubCode,Gc:h.errorExternalCode,GR:h.errorEdgeCode,Sa:h.errorDetails?[h.errorDetails," ",g].join(""):void 0,en:h.errorDisplayMessage,vs:k});}else f({Y:N.u.XF,Sa:m({Y:N.u.XF},b)});})["catch"](function(a){var c;c=m(a,b);a.Sa&&(a.Sa=[a.Sa," ",c].join(""));f(a);});});}function k(b,c){return new Promise(function(d,g){function k(b,c,p){return t.Dpb.send(b).then(function(a){d(a);})["catch"](function(d){var m,A;A=d&&d.Cj&&void 0!==d.Cj.maxRetries?Math.min(d.Cj.maxRetries,p):p;(t.py.gaa||h(d))&&c<=A?m=!0:(u.error("Method failed, retry limit exceeded, giving up",{Method:a.method,Attempt:c,MaxRetries:A},f.yea(d)),m=!1);if(m)return m=d&&d.Cj&&void 0!==d.Cj.retryAfterSeconds?1E3*d.Cj.retryAfterSeconds:t.XK.E$(1E3,1E3*Math.pow(2,Math.min(c-1,A))),u.warn("Method failed, retrying",{Method:a.method,Attempt:c,WaitTime:m,MaxRetries:A},f.yea(d)),q(m).then(function(){return k(b,c+1,A);});g(d);});}return k(b,1,c);});}function h(a){return(a=a&&a.Y)&&a>=N.u.DA&&a<=N.u.CA;}function q(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function p(){var f,g;f="";c&&(f+=(0<f.length?"&":"")+"logs=true");d&&(f+=(0<f.length?"&":"")+"debug=true");a.languages=t.config().wh.kE;a.clientVersion=t.platform.version;a.uiVersion=t.config().wh.eF;g={};t.config().Cxa&&(g["X-Netflix.request.expiry.timeout"]=t.config().Cxa.toString());f=[{},{headers:g,path:t.config().wh.Jqa,payload:{data:t.json.stringify(a)},query:f}];t.config().wh&&(u.debug("Request payload",{Method:a.method},t.RE.lW(f)),u.debug("Request parameters",{Method:a.method},t.RE.lW(a)));return{yn:b,method:a.method,url:""+(t.t1.endpoint+t.config().wh.vxa)+t.platform.gn+"/cadmium/"+a.method,body:t.json.stringify(f),timeout:y.fa(A.ma),uM:b.profile?b.profile.id:void 0,fob:!0,v9:!1,Pl:!0,gw:3,QJ:a.isExclusive};}function m(a,b){l.success=!1;l.profileId=b.uM;l.elapsedtime=t.ya.Xb().fa(A.ma)-l.starttime;l.userTokens=JSON.stringify(t.Xg.Xg.getUserIdTokenKeys());l.subcode=a.errorSubCode||a.Y;l.extcode=a.errorExternalCode||a.Gc;u.error("BladeRunner command history",t.RE.lW(t.Kl));return t.json.stringify(t.Kl);}c=void 0===c?!1:c;d=void 0===d?!1:d;t=this;b=this.pc.gk({Gd:this.sfb},b);u=b.log;y=A.Eg(59);l={method:a.method,starttime:this.ya.Xb().fa(A.ma)};this.Kl.push(l);this.Kl.length>this.config().K_a&&this.Kl.shift();u.trace("Sending EDGE request",{Method:a.method});return new Promise(function(a,b){var c;c=p();g(c).then(function(b){a(b);})["catch"](function(a){var c;c={W:!1};t.pc.gk(c,a,{pq:!0});c.__logs&&(c.__logs=a.__logs);b(c);});});};b.prototype.meb=function(a){return 0<=["bind"].indexOf(a.method)?!0:!1;};b.yea=function(a){var b,c,f;b={};c=a.errorExternalCode||a.Gc;f=a.errorDetails||a.Sa;b.ErrorSubCode=a.errorSubCode||a.Y||N.u.bj;c&&(b.ErrorExternalCode=c);f&&(b.ErrorDetails=f);return b;};U=f=b;U=f=g.__decorate([h.N(),g.__param(0,h.l(c.lp)),g.__param(1,h.l(k.ld)),g.__param(2,h.l(p.vm)),g.__param(3,h.l(r.Mt)),g.__param(4,h.l(t.Jj)),g.__param(5,h.l(q.Oe)),g.__param(6,h.l(y.LA)),g.__param(7,h.l(a.Dga)),g.__param(8,h.l(l.MZ)),g.__param(9,h.l(n.kx)),g.__param(10,h.l(G.cf)),g.__param(11,h.l(R.oG)),g.__param(12,h.l(X.Kt)),g.__param(13,h.l(D.ut))],U);d.pNa=U;},function(g,d,a){var b,f,h,m,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(111);f=a(658);h=a(338);m=a(339);c=a(657);d.xn=new g.ac(function(a){a(b.LA).dA(function(){return J._cad_global.msl;});a(h.Ega).to(f.pNa).Z();a(m.Dga).to(c.oNa).Z();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.x4a=function(a,b,f){return{sta:function(){return a.P5();},ia:b,request:f,Ug:!1};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.V1a={Ls:["minInitVideoBitrate",-Infinity],a9:["minHCInitVideoBitrate",-Infinity],Jv:["maxInitVideoBitrate",Infinity],rK:["minInitAudioBitrate",-Infinity],qK:["minHCInitAudioBitrate",-Infinity],fK:["maxInitAudioBitrate",Infinity],$T:["minAcceptableVideoBitrate",-Infinity],Vhb:["minAllowedVideoBitrate",-Infinity],Pgb:["maxAllowedVideoBitrate",Infinity],Whb:["minAllowedVmaf",-Infinity],Qgb:["maxAllowedVmaf",Infinity],OL:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],gU:["minRequiredBuffer",2E4],fU:["minRequiredAudioBuffer",0],$h:["minPrebufSize",5800],$$:["requireDownloadDataAtBuffering",!1],aaa:["requireSetupConnectionDuringBuffering",!1],N$:["rebufferingFactor",1],Fo:["maxBufferingTime",2E3],qca:["useMaxPrebufSize",!0],Uy:["maxPrebufSize",4E4],J8:["maxRebufSize",Infinity],E8a:["fastRebufferRecoveryThreshold",Infinity],D8a:["fastRebufferRecoverBwThrehold",3E3],aT:["initialBitrateSelectionCurve",null],Fua:["initSelectionLowerBound",-Infinity],Gua:["initSelectionUpperBound",Infinity],qW:["throughputPercentForAudio",15],P1:["bandwidthMargin",0],R1:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],z_a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,gs:76376,scale:18862.4,gamma:3.0569}],Q1:["bandwidthMarginContinuous",!1],A_a:["bandwidthMarginForAudio",!0],Bba:["switchConfigBasedOnInSessionTput",!0],Q2:["conservBandwidthMargin",20],eI:["conservBandwidthMarginTputThreshold",6E3],R2:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],DCa:["switchAlgoBasedOnHistIQR",!1],uw:["switchConfigBasedOnThroughputHistory","iqr"],I8:["maxPlayerStateToSwitchConfig",-1],k8:["lowEndMarkingCriteria","iqr"],FY:["IQRThreshold",.5],K6:["histIQRCalcToUse","simple"],Sm:["bandwidthManifold",{curves:[{min:.05,max:.82,gs:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,gs:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Ks:["maxTotalBufferLevelPerSession",0],lua:["highWatermarkLevel",3E4],eDa:["toStableThreshold",3E4],uW:["toUnstableThreshold",0],iba:["skipBitrateInUpswitch",!1],xca:["watermarkLevelForSkipStart",8E3],D6:["highStreamRetentionWindow",9E4],l8:["lowStreamTransitionWindow",51E4],F6:["highStreamRetentionWindowUp",5E5],n8:["lowStreamTransitionWindowUp",1E5],E6:["highStreamRetentionWindowDown",6E5],m8:["lowStreamTransitionWindowDown",0],C6:["highStreamInfeasibleBitrateFactor",.5],Gv:["lowestBufForUpswitch",9E3],FT:["lockPeriodAfterDownswitch",15E3],p8:["lowWatermarkLevel",15E3],Hv:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],r8:["lowestWaterMarkLevelBufferRelaxed",!1],U8:["mediaRate",1.5],L8:["maxTrailingBufferLen",15E3],H1:["audioBufferTargetAvailableSize",262144],vca:["videoBufferTargetAvailableSize",1048576],Pwa:["maxVideoTrailingBufferSize",8388608],Bwa:["maxAudioTrailingBufferSize",393216],ixa:["minAudioBufferSize",2306048],LR:["fastUpswitchFactor",3],E4:["fastDownswitchFactor",3],PT:["maxMediaBufferAllowed",27E4],kIb:["minMediaBufferLen",1E4],iq:["maxMediaBufferAllowedInBytes",0],fba:["simulatePartialBlocks",!0],bCa:["simulateBufferFull",!0],S2:["considerConnectTime",!0],P2:["connectTimeMultiplier",1],kwa:["lowGradeModeEnterThreshold",12E4],lwa:["lowGradeModeExitThreshold",9E4],Cwa:["maxDomainFailureWaitDuration",3E4],zwa:["maxAttemptsOnFailure",18],hra:["exhaustAllLocationsForFailure",!0],Iwa:["maxNetworkErrorsDuringBuffering",20],D8:["maxBufferingTimeAllowedWithNetworkError",6E4],D4:["fastDomainSelectionBwThreshold",2E3],Kba:["throughputProbingEnterThreshold",4E4],QCa:["throughputProbingExitThreshold",34E3],Xva:["locationProbingTimeout",1E4],ura:["finalLocationSelectionBwThreshold",1E4],OCa:["throughputHighConfidenceLevel",.75],PCa:["throughputLowConfidenceLevel",.4],X7:["locationStatisticsUpdateInterval",6E4],fgb:["locationSelectorPersistFailures",!0],MC:["enablePerfBasedLocationSwitch",!1],$Hb:["maxRateMaxFragmentGroups",4500],a$:["pipelineScheduleTimeoutMs",2],Kv:["maxPartialBuffersAtBufferingStart",2],b9:["minPendingBufferLen",3E3],Lv:["maxPendingBufferLen",6E3],yub:["usePtsUpdateAsSignal",!1],zR:["enableRequestPacing",!1],m7a:["enableNginxRateLimit",!1],vU:["nginxSendingRate",4E4],p7a:["enableRequestPacingToken",!1],Ehb:["mediaRequestPacingSpeedBeforePlayback",.5],Dhb:["mediaRequestPacingSpeed",2],e7:["initialMediaRequestToken",2E4],LT:["maxActiveRequestsSABCell100",2],RT:["maxPendingBufferLenSABCell100",500],DAa:["resetActiveRequestsAtSessionInit",!0],K8:["maxStreamingSkew",2E3],Sgb:["maxBufferOccupancyForSkewCheck",Infinity],rub:["useBufferOccupancySkipBack",!0],H8:["maxPendingBufferPercentage",10],Vy:["maxRequestsInBuffer",120],OS:["headerRequestSize",4096],$cb:["headerCacheEstimateHeaderSize",!1],p9:["neverWipeHeaderCache",!1],ZDa:["useSidxInfoFromManifestForHeaderRequestSize",!1],KR:["fastPlayHeaderRequestSize",0],KD:["maxRequestSize",0],SD:["minRequestSize",65536],bU:["minBufferLenForHeaderDownloading",1E4],dCa:["smartHeaderPreDownloading",!1],JIb:["onlyAllowPtsUpdatePolling",!1],gib:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],wV:["reserveForSkipbackBufferMs",15E3],D9:["numExtraFragmentsAllowed",2],An:["pipelineEnabled",!0],JD:["maxParallelConnections",3],eCa:["socketReceiveBufferSize",0],lQ:["audioSocketReceiveBufferSize",32768],lF:["videoSocketReceiveBufferSize",65536],A6:["headersSocketReceiveBufferSize",32768],Eqb:["shareDownloadTracks",!0],c9:["minTimeBetweenHeaderRequests",void 0],zW:["updatePtsIntervalMs",1E3],Z1:["bufferTraceDenominator",0],cC:["bufferLevelNotifyIntervalMs",2E3],Pqa:["enableAbortTesting",!1],Fma:["abortRequestFrequency",8],uba:["streamingStatusIntervalMs",2E3],iE:["prebufferTimeLimit",6E4],cU:["minBufferLevelForTrackSwitch",2E3],o7a:["enablePenaltyForLongConnectTime",!1],U9:["penaltyFactorForLongConnectTime",2],h8:["longConnectTimeThreshold",200],m1:["additionalBufferingLongConnectTime",2E3],n1:["additionalBufferingPerFailure",8E3],dL:["rebufferCheckDuration",6E4],Sqa:["enableLookaheadHints",!1],hwa:["lookaheadFragments",2],Np:["enableOCSideChannel",!0],v$:["probeRequestTimeoutMilliseconds",3E4],jJb:["probeRequestConnectTimeoutMilliseconds",8E3],KN:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],FDa:["updateDrmRequestOnNetworkFailure",!0],OT:["maxDiffAudioVideoEndPtsMs",1E3],Rgb:["maxAudioFragmentOverlapMs",80],H5a:["deferAseHeaderCache",!1],dqa:["deferAseScheduling",!1],Fsb:["timeBeforeEndOfStreamBufferMark",6E3],F8:["maxFastPlayBufferInMs",2E4],E8:["maxFastPlayBitThreshold",2E8],Tgb:["maxBufferingCompleteBufferInMs",Infinity],aU:["minAudioMediaRequestSizeBytes",0],iU:["minVideoMediaRequestSizeBytes",0],QD:["minAudioMediaRequestDuration",0],UD:["minVideoMediaRequestDuration",0],dU:["minMediaRequestDuration",0],Yhb:["minAudioMediaRequestDurationCache",0],jib:["minVideoMediaRequestDurationCache",0],l7a:["enableMultiFragmentRequest",!1],hF:[["useHeaderCache","usehc"],!0],EW:[["useHeaderCacheData","usehcd"],!0],ZQ:["defaultHeaderCacheSize",4],F3:["defaultHeaderCacheDataCount",4],G3:["defaultHeaderCacheDataPrefetchMs",0],x6:["headerCacheMaxPendingData",6],y6:["headerCachePriorityLimit",5],Zcb:["headerCacheAdoptBothAV",!1],wub:["usePipelineForBranchedAudio",!0],bkb:["onlyDriveSingleChild",!1],g1a:["childBranchBatchedAmount",1E4],jU:["minimumTimeBeforeBranchDecision",2E3],jhb:["maxRequestsToAttachOnBranchActivation",void 0],d9:["minimumJustInTimeBufferLevel",3E3],Rqa:["enableJustInTimeAppends",!1],KI:["enableDelayedSeamless",!1],S_a:["branchEndPtsIntervalMs",250],Bdb:["ignorePtsJustBeforeCurrentSegment",!1],Ewa:["maxFragsForFittableOnBranching",300],Okb:["pausePlaylistAtEnd",!0],CYa:["adaptiveParallelTimeoutMs",1E3],Tu:["enableAdaptiveParallelStreaming",!1],g6a:["disableBitrateSelectionOnSingleConnection",!1],pQ:["bufferThresholdToSwitchToSingleConnMs",45E3],Y1:["bufferThresholdToSwitchToParallelConnMs",35E3],$6a:["enableAPSForBranching",!1],RW:["waitForPendingConnAdaptation",!1],n9:["networkFailureResetWaitMs",2E3],m9:["networkFailureAbandonMs",6E4],TT:["maxThrottledNetworkFailures",5],pW:["throttledNetworkFailureThresholdMs",200],Mr:["abortUnsentBlocks",!0],b1:["abortStreamSelectionPeriod",2E3],M8:["maxUnsentBlocks",2],o8:["lowThroughputThreshold",400],v4:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Esb:["timeAtEachBitrateRoundRobin",1E4],Hob:["roundRobinDirection","forward"],wcb:["hackForHttpsErrorCodes",!1],sdb:["httpsConnectErrorAsPerm",!1],sxa:["mp4ParsingInNative",!1],jf:["enableManagerDebugTraces",!1],twa:["managerDebugMessageInterval",1E3],swa:["managerDebugMessageCount",20],Qxa:["notifyManifestCacheEom",!0],NI:["enableUsingHeaderCount",!1],fCa:["sourceBufferInOrderAppend",!0],En:["requireAudioStreamToEncompassVideo",!1],fna:["allowAudioToStreamPastVideo",!1],VB:["allowReissueMediaRequestAfterAbort",!1],mpa:["countGapInBuffer",!1],q1:["allowCallToStreamSelector",!1],X1:["bufferThresholdForAbort",2E4],sba:["ase_stream_selector","optimized"],Jna:["audiostreamSelectorAlgorithm","selectaudioadaptive"],d7:["initBitrateSelectorAlgorithm","default"],b2:["bufferingSelectorAlgorithm","default"],w3:["ase_ls_failure_simulation",""],u3:["ase_dump_fragments",!1],v3:["ase_location_history",0],x3:["ase_throughput",0],Rpa:["ase_simulate_verbose",!1],ml:["stallAtFrameCount",void 0],y8:["marginPredictor","simple"],aCa:["simplePercentilePredictorPercentile",25],ZBa:["simplePercentilePredictorCalcToUse","simple"],$Ba:["simplePercentilePredictorMethod","simple"],qub:["useBackupUnderflowTimer",!0],CKb:["useManifestDrmHeader",!0],DKb:["useOnlyManifestDrmHeader",!0],vfa:["IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.5,fup:.85,fmind:.75,fmaxd:1,fmintp:.25,fmindp:.75}],o9:["networkMeasurementGranularity","video_location"],Iib:["netIntrStoreWindow",36E3],uIb:["minNetIntrDuration",8E3],bUa:["fastHistoricBandwidthExpirationTime",10368E3],CUa:["bandwidthExpirationTime",5184E3],aUa:["failureExpirationTime",86400],Lla:["historyTimeOfDayGranularity",4],XTa:["expandDownloadTime",!0],nVa:["minimumMeasurementTime",500],mVa:["minimumMeasurementBytes",131072],EWa:["throughputMeasurementTimeout",2E3],DWa:["initThroughputMeasureDataSize",262144],VUa:["historicBandwidthUpdateInterval",2E3],lVa:["minimumBufferToStopProbing",1E4],XDb:["throughputPredictor","ewma"],saa:["secondThroughputEstimator","slidingwindow"],fBa:["secondThroughputMeasureWindowInMs",3E5],WDb:["throughputMeasureWindow",5E3],YDb:["throughputWarmupTime",5E3],VDb:["throughputIQRMeasureWindow",1E3],ADb:["IQRBucketizerWindow",15E3],Fwa:["maxIQRSamples",100],lxa:["minIQRSamples",5],SDb:["connectTimeHalflife",10],LDb:["responseTimeHalflife",10],KDb:["historicThroughputHalflife",14400],JDb:["historicResponseTimeHalflife",100],IDb:["historicHttpResponseTimeHalflife",100],Tea:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],sla:["minReportedNetIntrDuration",4E3],UDb:["throughputBucketMs",500],FDb:["bucketHoltWintersWindow",2E3],RTa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy req-pacer".split(" ")],H_:["filterDefinitionOverrides",{}],FTa:["defaultFilter","throughput-ewma"],gXa:["secondaryFilter","throughput-sw"],tB:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},"req-pacer":{type:"req-pacer",sw:1E3,tb:4E4,mb:3E4}}],l4:["enableHudsonFieldTest",!1],Q6:["hudsonTitles",["81127954","70125931"]],hhb:["maxPartialBuffersAtHudson",1],E9:["numberOfChunksPerSegment",4],Fba:["targetContentLatency",1E4],gKb:["targetLongContentLatency",3E4],pib:["minimumTimeDelay",1],MI:["enableSessionHistoryReport",!0],e4:["earlyStageEstimatePeriod",1E4],Gva:["lateStageEstimatePeriod",3E4],QT:["maxNumSessionHistoryStored",10],hU:["minSessionHistoryDuration",3E5],bdb:["highAndStableModelName","baseline"],j4:["enableHighAndStablePredictor",!1],eU:["minNumSessionHistory",5],rEb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],PS:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],cdb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],LI:["enableInitThroughputEstimate",!1],y1:["applyInitThroughputEstimate",!1],Hua:["initThroughputPredictor",{bwThreshold:3E4,maxBwPredictionMap:{0:3E3,1:12E3,2:24E3,3:6E4},modelMap:{0:[500,1500],1:[1500,6E3],2:[6E3,12E3],3:[12E3,3E4]},lrParams:{0:{lrMeans:{currentHour:15.137936466264112,currentMonoTime:1.5533592424252495E12,"ens-avtp-b":.38723147282714365,"ens-avtp-last":7.278636833881816,"ens-avtp-mean":7.645354650835756,"ens-avtp-niqr":.9164307950209711,"ens-avtp-p25":7.206789836510741,"ens-avtp-p50":7.5392495750254085,"ens-avtp-p75":7.853195625145457,"ens-avtp-std":1890.0299065442302,"fns-avtp-b":.5156471603720371,"fns-avtp-last":7.394898247043087,"fns-avtp-mean":7.720412581434043,"fns-avtp-niqr":.7607496330326777,"fns-avtp-p25":7.401562072764315,"fns-avtp-p50":7.649474541536431,"fns-avtp-p75":7.887443054414084,"fns-avtp-std":1666.2825157466045,"fns-niqr-b":.18747269665025967,"fns-niqr-last":1.86623885534261,"fns-niqr-mean":4020.0354386780873,"fns-niqr-niqr":1.1631461141579456,"fns-niqr-p25":.53504898923602,"fns-niqr-p50":.726225303229194,"fns-niqr-p75":1.242351052769756,"fns-niqr-std":1666.2825157466045,intercept:0,"lns-avtp-b":.48094880098438736,"lns-avtp-last":7.359237053239481,"lns-avtp-mean":7.741498045478886,"lns-avtp-niqr":.8066874950335725,"lns-avtp-p25":7.387733349631643,"lns-avtp-p50":7.66341466705797,"lns-avtp-p75":7.91817801557748,"lns-avtp-std":1793.4228677873018,prevHour:14.921344184825413,prevMonoTime:1.5533390440510566E12,sessionCnt:24.169388290889998,timeSinceLastSession:2.0198374192701496E7},lrStd:{currentHour:6.865640901500013,currentMonoTime:1.364004355437288E8,"ens-avtp-b":.2584691537920595,"ens-avtp-last":.9989894721766466,"ens-avtp-mean":.9643206027819943,"ens-avtp-niqr":9.217134354074703,"ens-avtp-p25":1.0145221270034994,"ens-avtp-p50":1.0077653263765265,"ens-avtp-p75":1.014384099403048,"ens-avtp-std":3493.8569731733614,"fns-avtp-b":.270872729744521,"fns-avtp-last":.8922256527856904,"fns-avtp-mean":.9631055373892473,"fns-avtp-niqr":9.794120412451006,"fns-avtp-p25":.9696714991336701,"fns-avtp-p50":.9882569618688472,"fns-avtp-p75":1.0192683122081063,"fns-avtp-std":3332.139780244572,"fns-niqr-b":.3192946670619746,"fns-niqr-last":35.40213143776561,"fns-niqr-mean":6660.75906666252,"fns-niqr-niqr":8.550978136730766,"fns-niqr-p25":5.39412423399584,"fns-niqr-p50":8.615628045328721,"fns-niqr-p75":12.8578016592876,"fns-niqr-std":3332.139780244572,intercept:0,"lns-avtp-b":.282072702345461,"lns-avtp-last":.920183181440289,"lns-avtp-mean":.9634177300825915,"lns-avtp-niqr":9.46277236908144,"lns-avtp-p25":.9910526809941116,"lns-avtp-p50":.9973895193027993,"lns-avtp-p75":1.0214924879508251,"lns-avtp-std":3386.49152949358,prevHour:6.8062106735450705,prevMonoTime:1.4676929801573658E8,sessionCnt:27.412941078734494,timeSinceLastSession:5.725906972259589E7},lrWeights:{currentHour:-2.480219988909306E-4,currentMonoTime:-.0019605601123065795,"ens-avtp-b":.030002082172324713,"ens-avtp-last":.006493992808811227,"ens-avtp-mean":.02818971332256211,"ens-avtp-niqr":-.02149596695008564,"ens-avtp-p25":.025503939851905886,"ens-avtp-p50":-.03973590637292906,"ens-avtp-p75":.02654830002677231,"ens-avtp-std":-.005364609238773057,"fns-avtp-b":.003156990018105247,"fns-avtp-last":.014293274537829968,"fns-avtp-mean":.0669381230291235,"fns-avtp-niqr":.03466791553613246,"fns-avtp-p25":.003157582746026505,"fns-avtp-p50":.0523956105905824,"fns-avtp-p75":-.05674782509956824,"fns-avtp-std":.03209560096833295,"fns-niqr-b":-7.473002304028244E-4,"fns-niqr-last":.0019568255931097633,"fns-niqr-mean":-.08633242126981132,"fns-niqr-niqr":-.004089335618740389,"fns-niqr-p25":-.0021751031395086484,"fns-niqr-p50":-.003122331768672313,"fns-niqr-p75":.007288444327184066,"fns-niqr-std":.03209560096833287,intercept:6.862875813114732,"lns-avtp-b":-.0018938413688674922,"lns-avtp-last":.06676606627335506,"lns-avtp-mean":-.07603837147841763,"lns-avtp-niqr":-.016328230093415195,"lns-avtp-p25":.010303828813673513,"lns-avtp-p50":-.03589513366624033,"lns-avtp-p75":.056207400912909336,"lns-avtp-std":-.04520109870414885,prevHour:2.301420369949928E-4,prevMonoTime:.003685054780721308,sessionCnt:.005283216038814869,timeSinceLastSession:-.01411608956380438}},1:{lrMeans:{currentHour:15.134456203928675,currentMonoTime:1.553360459127433E12,"ens-avtp-b":.5283857099864471,"ens-avtp-last":8.262965687637706,"ens-avtp-mean":8.418902076257503,"ens-avtp-niqr":.49412220616859004,"ens-avtp-p25":8.149357473011756,"ens-avtp-p50":8.390031248001916,"ens-avtp-p75":8.59957129630267,"ens-avtp-std":2111.808134194941,"fns-avtp-b":.6226794650801935,"fns-avtp-last":8.40584007519461,"fns-avtp-mean":8.534636048829894,"fns-avtp-niqr":.3857773226390544,"fns-avtp-p25":8.332989060781467,"fns-avtp-p50":8.515032240428152,"fns-avtp-p75":8.675880386526348,"fns-avtp-std":1845.8852285168682,"fns-niqr-b":.21347933677439135,"fns-niqr-last":2.7647096219577483,"fns-niqr-mean":6495.223863385008,"fns-niqr-niqr":1.1972471971744498,"fns-niqr-p25":.417754032656591,"fns-niqr-p50":.5172058446238108,"fns-niqr-p75":1.0125653636288763,"fns-niqr-std":1845.8852285168682,intercept:0,"lns-avtp-b":.6033453099237509,"lns-avtp-last":8.415812181647567,"lns-avtp-mean":8.562171619279262,"lns-avtp-niqr":.41357537819056855,"lns-avtp-p25":8.345181430419174,"lns-avtp-p50":8.54253906247021,"lns-avtp-p75":8.711261794822105,"lns-avtp-std":1974.223790129235,prevHour:14.939649137256517,prevMonoTime:1.5533413406116138E12,sessionCnt:23.78952353498332,timeSinceLastSession:1.911851581933863E7},lrStd:{currentHour:6.915913563406681,currentMonoTime:1.3579546487519038E8,"ens-avtp-b":.2293871112256882,"ens-avtp-last":.7358412399626237,"ens-avtp-mean":.6643093703588823,"ens-avtp-niqr":1.07169360267822,"ens-avtp-p25":.745906641830048,"ens-avtp-p50":.6979613612146783,"ens-avtp-p75":.6885407945843879,"ens-avtp-std":3240.1297333061466,"fns-avtp-b":.23637302256741258,"fns-avtp-last":.6578310492721471,"fns-avtp-mean":.6602179870987327,"fns-avtp-niqr":1.134081009617818,"fns-avtp-p25":.7157365592980294,"fns-avtp-p50":.6876929888153775,"fns-avtp-p75":.6887095950016521,"fns-avtp-std":2989.2531011183996,"fns-niqr-b":.3023989175947571,"fns-niqr-last":188.45413775718876,"fns-niqr-mean":6183.929502016268,"fns-niqr-niqr":33.95026131965199,"fns-niqr-p25":26.357261465915563,"fns-niqr-p50":26.380090045656182,"fns-niqr-p75":43.53044500310377,"fns-niqr-std":2989.2531011183996,intercept:0,"lns-avtp-b":.24596048532404155,"lns-avtp-last":.6833105090588518,"lns-avtp-mean":.6607556120232774,"lns-avtp-niqr":1.6757909759512508,"lns-avtp-p25":.7380275856301542,"lns-avtp-p50":.6936783806450382,"lns-avtp-p75":.6875117220276126,"lns-avtp-std":3048.1088543643054,prevHour:6.8482668340195705,prevMonoTime:1.4556118772689274E8,sessionCnt:53.32066201160346,timeSinceLastSession:5.547356497303553E7},lrWeights:{currentHour:-.011871761229344389,currentMonoTime:-.0036318600724213708,"ens-avtp-b":6.986789202868642E-4,"ens-avtp-last":.011673758427760823,"ens-avtp-mean":.13608518163448968,"ens-avtp-niqr":.003289074114120798,"ens-avtp-p25":.003191593712230237,"ens-avtp-p50":-.0066247650633022084,"ens-avtp-p75":-.02430342458063187,"ens-avtp-std":-.04850809780387416,"fns-avtp-b":.03459494981020932,"fns-avtp-last":.045825189137544194,"fns-avtp-mean":.002906185911093708,"fns-avtp-niqr":-9.691590646234479E-4,"fns-avtp-p25":.01551994942837314,"fns-avtp-p50":.029373577658918765,"fns-avtp-p75":.00768497254533149,"fns-avtp-std":.05890409069070104,"fns-niqr-b":-.008291354205495876,"fns-niqr-last":7.094688122632014E-4,"fns-niqr-mean":-.16946963320808844,"fns-niqr-niqr":-.005836423713579879,"fns-niqr-p25":-.027958020496759037,"fns-niqr-p50":.022488996225378338,"fns-niqr-p75":.006740480962143502,"fns-niqr-std":.058904090690701134,intercept:8.165078062192634,"lns-avtp-b":-.01571675564523532,"lns-avtp-last":.07645655650235457,"lns-avtp-mean":.13252636589021868,"lns-avtp-niqr":.001852705659582087,"lns-avtp-p25":-.02287056515136447,"lns-avtp-p50":-.02727017463885446,"lns-avtp-p75":-.01678871891479746,"lns-avtp-std":-.10684389586829764,prevHour:.006312752532983602,prevMonoTime:7.922263883522697E-4,sessionCnt:-.0014142078702796947,timeSinceLastSession:-.010969324600447576}},2:{lrMeans:{currentHour:14.916476965235244,currentMonoTime:1.5533558212926494E12,"ens-avtp-b":.6033702623818743,"ens-avtp-last":9.07079977798437,"ens-avtp-mean":9.134353655661178,"ens-avtp-niqr":.3623797220515198,"ens-avtp-p25":8.9438379108834,"ens-avtp-p50":9.126032949875686,"ens-avtp-p75":9.286393189864482,"ens-avtp-std":2788.9769968086775,"fns-avtp-b":.6862725810071378,"fns-avtp-last":9.214723527939402,"fns-avtp-mean":9.257360798208294,"fns-avtp-niqr":.2819938242222468,"fns-avtp-p25":9.113237238279646,"fns-avtp-p50":9.252704073743296,"fns-avtp-p75":9.376480490223058,"fns-avtp-std":2363.937261606417,"fns-niqr-b":.3079747845775837,"fns-niqr-last":2.349342977897278,"fns-niqr-mean":11543.162025405922,"fns-niqr-niqr":.8353830501136797,"fns-niqr-p25":.539449003960107,"fns-niqr-p50":.6120488613618988,"fns-niqr-p75":1.025142025238165,"fns-niqr-std":2363.937261606417,intercept:0,"lns-avtp-b":.6777951321565386,"lns-avtp-last":9.242373955945844,"lns-avtp-mean":9.289167926920118,"lns-avtp-niqr":.29268472756928093,"lns-avtp-p25":9.139640688653648,"lns-avtp-p50":9.285271169565624,"lns-avtp-p75":9.411428319974624,"lns-avtp-std":2495.2347425350476,prevHour:14.812242829285893,prevMonoTime:1.5533367650419763E12,sessionCnt:22.706325003650857,timeSinceLastSession:1.9056250672805835E7},lrStd:{currentHour:6.958159398444638,currentMonoTime:1.3765789914884326E8,"ens-avtp-b":.20791212194940575,"ens-avtp-last":.5237134368233782,"ens-avtp-mean":.4313622313318821,"ens-avtp-niqr":1.0298500098014598,"ens-avtp-p25":.5419803486741355,"ens-avtp-p50":.4674794224249036,"ens-avtp-p75":.44107618204776045,"ens-avtp-std":3099.6031967305125,"fns-avtp-b":.2057216706261372,"fns-avtp-last":.4473595901777174,"fns-avtp-mean":.42416638003708,"fns-avtp-niqr":.8234513220640112,"fns-avtp-p25":.5178682322633591,"fns-avtp-p50":.45902338903605194,"fns-avtp-p75":.43391494044292445,"fns-avtp-std":2828.653607227709,"fns-niqr-b":.29378765978740723,"fns-niqr-last":215.29091108169573,"fns-niqr-mean":6147.36771938347,"fns-niqr-niqr":20.95631794508829,"fns-niqr-p25":40.09143302784156,"fns-niqr-p50":40.0917059991872,"fns-niqr-p75":76.46454385633622,"fns-niqr-std":2828.653607227709,intercept:0,"lns-avtp-b":.21393771099754127,"lns-avtp-last":.46019047514559575,"lns-avtp-mean":.42031282188319596,"lns-avtp-niqr":.9217122900046908,"lns-avtp-p25":.5307587654743611,"lns-avtp-p50":.4595139882962286,"lns-avtp-p75":.4282987444285461,"lns-avtp-std":2893.8796852190203,prevHour:6.865014634726103,prevMonoTime:1.469930475404992E8,sessionCnt:57.21379702338944,timeSinceLastSession:5.583272331188057E7},lrWeights:{currentHour:-.005994421348964647,currentMonoTime:-.00211070793241526,"ens-avtp-b":-.02447232547732549,"ens-avtp-last":.006628010901974464,"ens-avtp-mean":.09653723410014291,"ens-avtp-niqr":9.295461659569376E-4,"ens-avtp-p25":.0012695482222228938,"ens-avtp-p50":-.006429946340265358,"ens-avtp-p75":-.0018240666357782521,"ens-avtp-std":-.04861802416956936,"fns-avtp-b":.016168879730690602,"fns-avtp-last":.017384784341611354,"fns-avtp-mean":-.02557658926351166,"fns-avtp-niqr":3.2487392404244254E-4,"fns-avtp-p25":.003054291672231475,"fns-avtp-p50":.006524301521081224,"fns-avtp-p75":-.0010225597375610623,"fns-avtp-std":.018221004183639943,"fns-niqr-b":.007301915471974063,"fns-niqr-last":7.425485364153301E-4,"fns-niqr-mean":-.05147892802271394,"fns-niqr-niqr":-.001940470217320524,"fns-niqr-p25":.036234413553517725,"fns-niqr-p50":-.03524862921191027,"fns-niqr-p75":.0017027379253208021,"fns-niqr-std":.018221004183641903,intercept:9.081622862978675,"lns-avtp-b":-.03489939843656423,"lns-avtp-last":.019705353504600828,"lns-avtp-mean":.09344550455301621,"lns-avtp-niqr":4.5749884272222607E-4,"lns-avtp-p25":-.011722568647814033,"lns-avtp-p50":-.016087594727082558,"lns-avtp-p75":-.010522910223392006,"lns-avtp-std":-.04604219547608363,prevHour:.0031101128704211474,prevMonoTime:-9.098449270365904E-4,sessionCnt:-.0016748630087899665,timeSinceLastSession:-.0028086529149225895}},3:{lrMeans:{currentHour:14.863185390555186,currentMonoTime:1.553353396059636E12,"ens-avtp-b":.6515843728225397,"ens-avtp-last":9.835160560043459,"ens-avtp-mean":9.864626387517605,"ens-avtp-niqr":.30287768062622433,"ens-avtp-p25":9.712383207744509,"ens-avtp-p50":9.860345560485248,"ens-avtp-p75":9.996033168898707,"ens-avtp-std":4643.022907790445,"fns-avtp-b":.7193689607638848,"fns-avtp-last":9.907187981654845,"fns-avtp-mean":9.920454440962963,"fns-avtp-niqr":.24505403012362392,"fns-avtp-p25":9.799839579276911,"fns-avtp-p50":9.917613535901424,"fns-avtp-p75":10.025731269663444,"fns-avtp-std":3732.2129640042217,"fns-niqr-b":.4031678578759487,"fns-niqr-last":1.1753269491098228,"fns-niqr-mean":22052.618058988082,"fns-niqr-niqr":1.5068731631809027,"fns-niqr-p25":.3996162353642051,"fns-niqr-p50":.4644249735352749,"fns-niqr-p75":1.0193721160323532,"fns-niqr-std":3732.2129640042217,intercept:0,"lns-avtp-b":.713092505873196,"lns-avtp-last":9.933609828473625,"lns-avtp-mean":9.945144121988752,"lns-avtp-niqr":.257126639335263,"lns-avtp-p25":9.820890902912648,"lns-avtp-p50":9.94152946492105,"lns-avtp-p75":10.052128345697236,"lns-avtp-std":3896.5986547615607,prevHour:14.828444424077171,prevMonoTime:1.553332738875851E12,sessionCnt:21.279678298925372,timeSinceLastSession:2.0657183784891047E7},lrStd:{currentHour:6.947821212378729,currentMonoTime:1.3756061323794276E8,"ens-avtp-b":.19834188857056692,"ens-avtp-last":.4983372521531976,"ens-avtp-mean":.4192327383097373,"ens-avtp-niqr":.9075762835401722,"ens-avtp-p25":.5329637320560067,"ens-avtp-p50":.45584668612572893,"ens-avtp-p75":.4210250409846772,"ens-avtp-std":4002.7954469984215,"fns-avtp-b":.19090160405133458,"fns-avtp-last":.4348713024155281,"fns-avtp-mean":.40394998021486844,"fns-avtp-niqr":1.0660805112236655,"fns-avtp-p25":.5038688154650198,"fns-avtp-p50":.43801099282043815,"fns-avtp-p75":.40338412512671645,"fns-avtp-std":3543.8600674276213,"fns-niqr-b":.2743590168568854,"fns-niqr-last":141.1281274191549,"fns-niqr-mean":9470.610460587868,"fns-niqr-niqr":225.229351242605,"fns-niqr-p25":37.32547626585716,"fns-niqr-p50":37.325780629523,"fns-niqr-p75":89.23974801142606,"fns-niqr-std":3543.8600674276213,intercept:0,"lns-avtp-b":.1943229807098331,"lns-avtp-last":.4419652079817383,"lns-avtp-mean":.39892829574083294,"lns-avtp-niqr":2.91956505002238,"lns-avtp-p25":.5093223889354195,"lns-avtp-p50":.43503232733698466,"lns-avtp-p75":.39695315415773813,"lns-avtp-std":3599.9571758910874,prevHour:6.829137071943964,prevMonoTime:1.4742574746751267E8,sessionCnt:94.19446337605667,timeSinceLastSession:5.818167162809092E7},lrWeights:{currentHour:-.004389543791532469,currentMonoTime:-.0030344207819728818,"ens-avtp-b":-.09240427960392844,"ens-avtp-last":.010942277460710081,"ens-avtp-mean":.20096895216357133,"ens-avtp-niqr":.0032096847898172324,"ens-avtp-p25":-.005856201042576917,"ens-avtp-p50":.0017945703315946082,"ens-avtp-p75":.013290135779755425,"ens-avtp-std":-.10429624033817943,"fns-avtp-b":.033335456564662004,"fns-avtp-last":.03305046923296899,"fns-avtp-mean":-.09090160395555649,"fns-avtp-niqr":-.0010446812804401641,"fns-avtp-p25":.004912076898000752,"fns-avtp-p50":-.008494083146032963,"fns-avtp-p75":-.002989850542529556,"fns-avtp-std":.023336986139087093,"fns-niqr-b":.0024504601144316397,"fns-niqr-last":7.643316521852407E-4,"fns-niqr-mean":-.009119203062853156,"fns-niqr-niqr":-.0012594157293897756,"fns-niqr-p25":-.0422338795033952,"fns-niqr-p50":.04250587013668825,"fns-niqr-p75":.0017560870617061,"fns-niqr-std":.023336986139088925,intercept:9.861278665882926,"lns-avtp-b":-.0768634513815469,"lns-avtp-last":.019981566044227083,"lns-avtp-mean":.14111887010560764,"lns-avtp-niqr":-4.600304100335705E-4,"lns-avtp-p25":-.010343773714103076,"lns-avtp-p50":-.017237539822589385,"lns-avtp-p75":-.01599941028177654,"lns-avtp-std":-.0740283506738119,prevHour:.0018930816696335491,prevMonoTime:-.003464250273737749,sessionCnt:-.0016713463515894596,timeSinceLastSession:.0016036476749273867}}}}],ZP:["addHeaderDataToNetworkMonitor",!0],oba:["startMonitorOnLoadStart",!1],V$:["reportFailedRequestsToNetworkMonitor",!1],PU:["periodicHistoryPersistMs",0],FV:["saveVideoBitrateMs",0],vK:["needMinimumNetworkConfidence",!0],T1:["biasTowardHistoricalThroughput",!1],mza:["preferCurrentLocationThroughput",!1],lza:["preferCurrentLocationThreshold",0],kgb:["logMemoryUsage",!1],iua:["headerCacheTruncateHeaderAfterParsing",!0],YZa:["audioFragmentDurationMilliseconds",null],Pub:["videoFragmentDurationMilliseconds",null],No:["probeServerWhenError",!0],Rr:["allowSwitchback",!0],uz:["probeDetailDenominator",100],NT:["maxDelayToReportFailure",300],xH:["allowParallelStreaming",!1],Bhb:["mediaPrefetchDisabled",!1],kxa:["minBufferLevelToAllowPrefetch",5E3],rs:["editVideoFragments",!1],dn:["editAudioFragments",!0],apb:["seamlessAudio",!1],bpb:["seamlessAudioProfiles",[]],cpb:["seamlessAudioProfilesAndTitles",{}],raa:["seamlessAudioMaximumSyncError",void 0],MJ:["insertSilentFrames",0],Nua:["insertSilentFramesOnExit",void 0],Mua:["insertSilentFramesOnEntry",void 0],Lua:["insertSilentFramesForProfile",void 0],t9a:["forceDiscontinuityAtTransition",!0],tw:["supportAudioResetOnDiscontinuity",void 0],rw:["supportAudioEasingOnDiscontinuity",void 0],Fp:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],X6a:["editCompleteFragments",!0],lib:["minimumAudioFramesPerFragment",1],Mx:["applyProfileTimestampOffset",!1],eo:["applyProfileStreamingOffset",!0],Py:["lazyParsingSidx",!1],N8:["maximumFragmentsForLazyParsing",6E3],Aza:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],$wa:["mediaSourceSupportsNegativePts",!1],RD:["minAudioPtsGap",void 0],$Za:["audioOverlapGuardSampleCount",2],yR:["enableRecordJSBridgePerf",!1],Efa:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Csb:["throughputThresholdSelectorParam",0],oub:["upswitchDuringBufferingFactor",2],nZa:["allowUpswitchDuringBuffering",!1],fpa:["contentOverrides",void 0],U2:["contentProfileOverrides",void 0],J6:["hindsightDenominator",0],I6:["hindsightDebugDenominator",0],yJ:["hindsightAlgorithmsEnabled",["htwbr"]],QS:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],rna:["appendMediaRequestOnComplete",!1],QW:["waitForDrmToAppendMedia",!1],T4:["forceAppendHeadersAfterDrm",!1],cL:["reappendRequestsOnSkip",!1],y3:["declareBufferingCompleteAtSegmentEnd",!1],gq:["maxActiveRequestsPerSession",void 0],S7:["limitAudioDiscountByMaxAudioBitrate",!1],v1:["appendFirstHeaderOnComplete",!0],kW:["strictBufferCapacityCheck",!1],BH:["aseReportDenominator",0],D1:["aseReportIntervalMs",3E5],Yba:["translateToVp9Draft",!1],$L:["switchableAudioProfiles",[]],a_a:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],ECa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],c_a:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Owa:["maxStartingVideoVMAF",110],TD:["minStartingVideoVMAF",1],rH:["activateSelectStartingVMAF",!1],LV:["selectStartingVMAFTDigest",-1],BE:["selectStartingVMAFMethod","fallback"],lBa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],IK:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],h6a:["disablePtsStartsEvent",!0],O$:["recordFirstFragmentOnSubBranchCreate",!0],Uwa:["mediaCacheConvertToBinaryData",!1],R8:["mediaCacheSaveOneObject",!1],ywa:["markRequestActiveOnFirstByte",!1],tR:["earlyAppendSingleChildBranch",!0],mA:["useNativeDataViewMethods",!1]};d.bn=d.V1a;},function(g){g.T="4.1.304";},function(g,d,a){var h,m;function b(){this.yr=this.JG=this.LO=this.ZO=this.IO=null;}function f(a){this.G=a;this.pu=[];this.Dm=new b();this.TG();}h=a(6);a(11);a(24);m=a(5);new m.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.Jd=function(a){var b;b=!1;a&&h.has(a,"ens")&&h.has(a,"lns")&&h.has(a,"fns")&&h.has(a,"d")&&h.has(a,"t")&&(this.IO=a.ens,this.ZO=a.lns,this.LO=a.fns,this.JG=a.d,this.yr=a.t,b=!0);return b;};b.prototype.gd=function(){var a;if(h.Qa(this.IO)||h.Qa(this.ZO)||h.Qa(this.LO)||h.Qa(this.JG)||h.Qa(this.yr))return null;a={d:this.JG,t:this.yr};a.ens=this.IO;a.lns=this.ZO;a.fns=this.LO;return a;};b.prototype.get=function(){var a,b;a=this.gd();if(a){b=new Date(this.yr);a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};f.prototype.TG=function(){var a;a=m.storage.get("sth");a&&this.Jd(a);};f.prototype.Jd=function(a){var c,f;c=null;f=this.G;a.forEach(function(a){var f;f=new b();f.Jd(a)?(c=!0,this.pu.push(f)):h.Qa(c)&&(c=!1);},this);this.pu=this.pu.filter(function(a){return a.JG>=f.hU;});this.pu.sort(function(a,b){return a.yr-b.yr;});return h.Qa(c)?!0:c;};f.prototype.K_=function(){var a;a=[];this.pu.forEach(function(b){a.push(b.gd());},this);return a;};f.prototype.save=function(){var a,f,d;a=this.K_();f=this.G;d=this.Dm.gd();d&&d.d>=f.hU&&(a.push(d),this.pu.push(this.Dm));a.length>f.QT&&(a=a.slice(a.length-f.QT,a.length));this.Dm=new b();a&&m.storage.set("sth",a);};f.prototype.reset=function(){this.Dm=new b();};f.prototype.F$a=function(){return this.Dm.get();};f.prototype.Jbb=function(){return this.pu.length+1;};f.prototype.FYa=function(a){this.Dm.IO=a;this.Dm.yr=m.time.ea();};f.prototype.OYa=function(a){this.Dm.ZO=a;this.Dm.yr=m.time.ea();};f.prototype.JYa=function(a,b){this.Dm.LO=a;this.Dm.yr=m.time.ea();this.Dm.JG=b;};g.T=f;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(344);g=function(){var B9o;function a(){var Z9o,Y9o;Z9o=2;while(Z9o!==5){Y9o="1S";Y9o+="IYb";Y9o+="Zr";Y9o+="NJ";Y9o+="Cp9";switch(Z9o){case 2:this.mP={};Y9o;Z9o=5;break;}}}B9o=2;while(B9o!==9){switch(B9o){case 2:a.prototype.add=function(a,f,c,d){var H9o,g;H9o=2;while(H9o!==3){switch(H9o){case 2:g=this.mP;void 0===g[d]&&(g[d]=new b());g[d].add(a,f,c);H9o=3;break;}}};a.prototype.start=function(a,f){var T9o,c;T9o=2;while(T9o!==3){switch(T9o){case 2:c=this.mP;void 0===c[f]&&(c[f]=new b());c[f].start(a);T9o=3;break;}}};a.prototype.stop=function(a,b){var G9o,c;G9o=2;while(G9o!==4){switch(G9o){case 2:c=this.mP;void 0!==c[b]&&c[b].stop(a);G9o=4;break;}}};a.prototype.get=function(){var k9o,d,g,a,b,c,f;k9o=2;while(k9o!==6){switch(k9o){case 2:k9o=1;break;case 5:k9o=f<b.length?4:7;break;case 1:a=this.mP,b=Object.keys(a),c=[],f=0;k9o=5;break;case 8:f++;k9o=5;break;case 4:d=b[f];g=a[d].get();g&&c.push({cdnid:d,avtp:g.Fa,tm:g.R3});k9o=8;break;case 7:return c;break;}}};B9o=3;break;case 3:return a;break;}}}();d.LGa=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(664);new(a(5)).Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");g=function(){var g9o;g9o=2;while(g9o!==7){switch(g9o){case 5:a.prototype.Hz=function(a,b){var d9o,c;d9o=2;while(d9o!==8){switch(d9o){case 2:d9o=1;break;case 1:d9o=b.ae?5:8;break;case 4:this.yw.stop(a,b.ae);d9o=8;break;case 3:c=this.ss[b.ae];1===b.type&&c&&(--c.CM,0===c.CM&&(c.MR&&this.yw.stop(a,b.ae),c.MR=!1,delete this.ss[b.ae]),this.CDa(a));d9o=8;break;case 5:d9o=this.Y6?4:3;break;}}};a.prototype.Ix=function(a,b,c,f){var S9o;S9o=2;while(S9o!==1){switch(S9o){case 2:f.ae&&(this.Y6?this.yw.add(a,b,c,f.ae):this.sH===f.ae&&this.yw.add(a,b,c,f.ae));S9o=1;break;}}};a.prototype.Uk=function(){var s9o;s9o=2;while(s9o!==1){switch(s9o){case 4:return this.yw.get();break;s9o=1;break;case 2:return this.yw.get();break;}}};a.prototype.CDa=function(a){var x9o,b,c;x9o=2;while(x9o!==3){switch(x9o){case 4:1===b.length&&!1===c.MR?(this.yw.start(a,c.ae),this.sH=c.ae):1<b.length&&this.sH&&(b=this.ss[this.sH],this.yw.stop(a,this.sH),b.MR=!1,this.sH=void 0);x9o=3;break;case 2:b=Object.keys(this.ss);c=this.ss[b[0]];x9o=4;break;}}};g9o=8;break;case 8:return a;break;case 2:a.prototype.reset=function(){var M9o;M9o=2;while(M9o!==1){switch(M9o){case 4:this.yw=new b.LGa();M9o=5;break;M9o=1;break;case 2:this.yw=new b.LGa();M9o=1;break;}}};a.prototype.Fz=function(a,b){var a9o;a9o=2;while(a9o!==1){switch(a9o){case 2:b.ae&&(this.Y6?this.yw.start(a,b.ae):1===b.type&&(this.ss[b.ae]?this.ss[b.ae].CM+=1:this.ss[b.ae]={ae:b.ae,CM:1,MR:!1},this.CDa(a)));a9o=1;break;}}};g9o=5;break;}}function a(a){var v9o,O9o;v9o=2;while(v9o!==4){O9o="1SI";O9o+="YbZrN";O9o+="J";O9o+="Cp9";switch(v9o){case 2:this.Y6=a;this.ss={};O9o;v9o=4;break;}}}}();d.sJa=g;},function(g,d,a){var h,m,c,k,p,q;function b(a){var b;if(!a.U0){b=a.Hta();a.jh.Jx(b["default"].Fa,a.ih);a.jh.lA(b.Ao?b.Ao.OU:void 0,b.Ao?b.Ao.Nz:void 0);h.Qa(a.Lb)||(a.U0=!0);}}function f(a,b,f){var d;this.G=f;this.Dl={};this.tB=f.tB;this.xka=new k(this.tB);this.KG=new q(!0);this.yG=new q(!1);this.reset();this.lu=a;this.jh=b;this.Xka=m.$k.name();this.jh.PV(this.Xka);this.eH=this.lx=0;this.zG=[];m.events.on("networkchange",function(a){this.Xka=a;this.jh.PV(a);}.bind(this));d=f.x3;d&&(d={Fc:c.Ad.JF,va:{Fa:parseInt(d,10),dh:0},Dg:{s_a:0,dh:0},yo:{s_a:0,dh:0}},this.get=function(){return d;});}h=a(6);m=a(5);c=a(11);a(24);d=a(25).EventEmitter;k=a(349).Eea;p=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");q=a(665).sJa;f.prototype.constructor=f;f.prototype=Object.create(d);Object.defineProperties(f.prototype,{startTime:{get:function(){return this.ne;}},Fc:{get:function(){return this.ih;}},Ap:{get:function(){return this.lx;}},AYa:{get:function(){return this.zG;}}});f.prototype.DTa=function(){var a,b,c;a=this.G;b=a.H_;c=this.xka;return a.RTa.reduce(function(a,f){a[f]=c.create(f,b);return a;},{});};f.prototype.reset=function(){var a,f,d;a=this.G.H_;f=this.xka;d=this.G;this.location=null;this.Dl=this.DTa();this.KG.reset();this.yG.reset();this.Dr=f.create("respconn-ewma",a);this.ur=f.create("respconn-ewma",a);this.ih=c.Ad.HAVE_NOTHING;this.aYa=function(){b(this);}.bind(this);this.RP=void 0;this.hu=this.Vb=this.Lb=this.ne=null;this.YSa=this.KP=0;this.AWa=!1;d.DAa&&(this.eH=this.lx=0,this.zG=[]);};f.prototype.QV=function(a){var b;b=this.Dl;if(a!==this.location){h.R(this.RP)||(clearInterval(this.RP),this.RP=void 0);h.Qa(this.location)&&(this.KP=0,this.ne=null);if(!h.Qa(a)){this.ih=c.Ad.HAVE_NOTHING;for(var f in b)b[f]&&b[f].reset&&b[f].reset();this.Dr.reset();this.ur.reset();}h.Qa(this.ne)||(this.KP+=(h.Qa(this.Lb)?m.time.ea():this.Lb)-this.ne);this.Lb=this.ne=null;this.Vb=0;this.location=a;this.jh.QV(a);}};f.prototype.PV=function(a){this.jh.PV(a);};f.prototype.IYa=function(a){this.Dl.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.Dl.QoEEvaluator=a;};f.prototype.Rnb=function(){delete this.Dl.QoEEvaluator;};f.prototype.UB=function(a,b){var c;c=this.Dl["req-pacer"];c&&c.UB(a,b);};f.prototype.vbb=function(){return this.Dl["req-pacer"];};f.prototype.Ix=function(a,f,d,g){var k,q;k=this.G;q=this.Dl;if(h.R(f))p.warn("addDataReceived called with undefined start time");else{k.XTa&&10>d-f?f=d-10:0===d-f&&(f=d-1);this.KG.Ix(a,f,d,g);this.yG.Ix(a,f,d,g);for(var m in q)q[m]&&q[m].add&&q[m].add(a,f,d);this.ih=Math.max(this.ih,c.Ad.Ft);h.Qa(this.ne)&&(this.ne=f,this.Lb=null,this.U0=!1,this.Vb=0);h.Qa(this.Lb)||(f>this.Lb&&(this.ne+=f-this.Lb),this.Lb=null,this.U0=!1);this.Vb+=a;this.ih<c.Ad.hp&&(d-this.ne>k.nVa||this.Vb>k.mVa)&&(this.ih=c.Ad.hp);this.ih<c.Ad.JF&&(d-this.ne>k.EWa||this.Vb>k.DWa)&&(!this.AWa||this.YSa>k.lVa)&&(this.ih=c.Ad.JF,b(this),this.RP=setInterval(this.aYa,k.VUa));h.Qa(this.hu)||(f-this.hu>k.sla?this.lu.Oua(this.hu,f):d-f>k.sla&&this.lu.Oua(f,d));this.hu=Math.max(d,this.hu);}};f.prototype.Qr=function(a){this.Dr.add(a);this.jh.Qr(a);};f.prototype.Or=function(a){this.ur.add(a);this.jh.Or(a);};f.prototype.start=function(a){var b;h.Qa(this.hu)&&!h.Qa(this.Lb)&&(this.hu=a);b=this.Dl;if(this.G.oba)for(var c in b)b[c]&&b[c].start&&b[c].start(a);};f.prototype.stop=function(a){var b,c;b=this.Dl;for(c in b)b[c]&&b[c].stop&&b[c].stop(a);this.Lb=h.Qa(this.Lb)?a:Math.min(this.Lb,a);this.hu=null;};f.prototype.flush=function(){var a,b;a=this.Dl;for(b in a)a[b]&&a[b].flush&&a[b].flush();};f.prototype.fail=function(){this.ne=null;};f.prototype.aab=function(){var a,b;a=this.Dl.entropy;a&&(b=a.p0a(),a.reset());return b;};f.prototype.Hta=function(){var a,b,c,f,d,g,h;a=m.time.ea();b={};c=this.Dl;f=this.G;d=f.FTa;g=f.gXa;for(h in c)c[h]&&c[h].get&&(b[h]=c[h].get(a),"iqr"===c[h].type&&(b.Ao=b[h]),"tdigest"===c[h].type&&(b.km=b[h]));b.cdnavtp=this.KG.Uk();b.activecdnavtp=this.yG.Uk();b["default"]=d&&b[d]?b[d]:b["throughput-ewma"];"none"!==f.saa&&"none"!==g&&(b.gBa=g&&b[g]?b[g]:b["throughput-sw"]);return b;};f.prototype.get=function(){var a,b,c,f,d;a=this.Hta();b=a["default"];c=this.Dr.get();f=this.ur.get();if(a.gBa)d=a.gBa,b=h.pa(b.Fa)&&h.pa(d.Fa)&&b.Fa>d.Fa&&0<d.Fa?d:b;a.Fc=this.ih;a.va=b;a.Dg=c;a.yo=f;b=this.KP+!h.Qa(this.ne)?(h.Qa(this.Lb)?m.time.ea():this.Lb)-this.ne:0;a.time=b;return a;};f.prototype.Zbb=function(){var a,b,c;a={};b=this.get(!0);if(b.Fc&&b.va){a.aseavtp=Number(b.va.Fa).toFixed(2);a.asevartp=Number(b.va.dh).toFixed(2);if(b.Ao){c=b.Ao.OU;!c||isNaN(c.uj)||isNaN(c.tj)||isNaN(c.ci)||(a.aseniqr=0<c.ci?Number((c.uj-c.tj)/c.ci).toFixed(2):-1,a.aseiqr=Number(c.uj-c.tj).toFixed(2),a.asemedtp=Number(c.ci).toFixed(2));a.iqrsamples=b.Ao.Nz;}b.km&&b.km.As&&(a.tdigest=b.km.As());}return a;};f.prototype.Fz=function(a,b){var c;c=b.requestId;1===++this.lx&&(this.emit("active",a),this.start(a));c&&this.zG.push(c);this.KG.Fz(a,b);this.yG.Fz(a,b);};f.prototype.Z$=function(){++this.eH;};f.prototype.Hz=function(a,b,c){var f;f=c.requestId;b&&--this.eH;--this.lx;this.G.DAa&&(this.lx=Math.max(this.lx,0),this.eH=Math.max(this.eH,0));0===this.lx&&(this.stop(a),this.emit("inactive",a));f&&(b=this.zG.indexOf(f),0<=b&&this.zG.splice(b,1));this.KG.Hz(a,c);this.yG.Hz(a,c);};g.T=f;},function(g,d,a){var f,h;function b(a){this.G=a;this.TG();}f=a(6);h=a(5);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.gd();h.storage.set("nh",a);};b.prototype.orb=function(){this.Cx||(this.Cx=!0,this.Br=h.time.ea());};b.prototype.Arb=function(){var a;if(this.Cx){a=h.time.ea();this.Hr+=a-this.Br;this.Br=a;this.Cx=!1;this.SG=null;}};b.prototype.Oua=function(a,b){this.Cx&&(b>this.Br&&(this.Hr+=b-this.Br,this.Br=b),null===this.SG||a>this.SG)&&(a=b-a,this.yB.push([this.Hr-a,a]),this.RXa(),this.SG=b);};b.prototype.RXa=function(){var a;a=this.Hr-this.G.Iib;this.yB=this.yB.filter(function(b){return b[0]>a;});};b.prototype.TG=function(){var a;a=h.storage.get("nh");this.I0(a)||(this.Br=h.time.ea(),this.Hr=0,this.Cx=!1,this.SG=null,this.yB=[]);};b.prototype.I0=function(a){if(!(a&&f.has(a,"t")&&f.has(a,"s")&&f.has(a,"i")&&f.pa(a.t)&&f.pa(a.s)&&f.isArray(a.i)))return!1;this.Br=h.time.C9(1E3*a.t);this.Hr=1E3*a.s;this.Cx=!1;this.yB=a.i.map(function(a){return[1E3*a[0],a[1]];});this.SG=null;return!0;};b.prototype.gd=function(){return this.Cx?{t:h.time.now()/1E3|0,s:(this.Hr+(h.time.ea()-this.Br))/1E3|0,i:this.yB.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:h.time.h9(this.Br)/1E3|0,s:this.Hr/1E3|0,i:this.yB.map(function(a){return[a[0]/1E3|0,a[1]];})};};g.T=b;},function(g,d,a){var f;function b(a){var b,c;b=a.tb;c=a.mb;this.Gx=a.sw||4E3;this.LXa=b;this.kVa=c;this.reset();}f=a(5);new f.Console("ASEJS_REQUEST_PACER","media|asejs");b.prototype.lP=function(a,b){this.Vb+=b;this.Kg.push({t:a,N1:b});this.Kg.sort(function(a,b){return a.t-b.t;});};b.prototype.cH=function(){var a;if(null!==this.du&&null!==this.Dk&&0!==this.Kg.length)for(;this.du-this.Dk>this.Gx&&this.Kg.length;){a=this.Kg.shift();this.Vb-=a.N1;this.Dk=a.t;}};b.prototype.reset=function(){this.Kg=[];this.Dk=this.du=null;this.Vb=0;};b.prototype.setInterval=function(a){this.Gx=a;this.cH();};b.prototype.xbb=function(){var a;a=f.time.ea();return 8*this.Vb/(a-this.Dk);};b.prototype.H0a=function(a){return null===this.du||null===this.Dk?!0:a<=this.kVa?!0:this.xbb()<=this.LXa;};b.prototype.UB=function(a,b){null===this.du&&(this.du=a);null===this.Dk&&(this.Dk=a);a>this.du&&(this.du=a);a<this.du-this.Gx||(a<this.Dk&&(this.Dk=a),this.lP(a,b),this.cH());};g.T=b;},function(g,d,a){var f;function b(a){var b,c;b=a.sw;c=a.mw;this.Gx=b;this.h_={uhd:a.uhdl,hd:a.hdl};this.th=Math.max(Math.ceil(1*b/c),1);this.oVa=a.mins||1;f.call(this,b,c);this.reset();}f=a(152);new(a(5)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(f.prototype);b.prototype.flush=function(){this.Cc.map(function(a,b){this.Zma(a,this.h5(b));},this);};b.prototype.p0a=function(){var a,b,c,f,d,g,h,x;a=this.h_;for(b in a)if(a.hasOwnProperty(b)){c=a[b];f=this.Q0[b];d=this.O0[b];if(f.first){g=f.first;h=f.tz;void 0!==h&&(d[g][h]+=1);f.first=void 0;}for(var f=[],g=0,c=h=c.length+1,A=0;A<h;A++){for(var l=0,n=0;n<c;n++)l+=d[n][A];g+=l;f.push(l);}l=-1;if(g>this.oVa){for(A=l=0;A<h;A++)if(0<f[A])for(n=0;n<c;n++){x=d[n][A];0<x&&(l-=x*Math.log(1*x/f[A]));}l/=g*Math.log(2);}this.E_[b]=l;}return this.E_;};b.prototype.Zma=function(a,b){var c,g,h;for(var c=this.th,f=this.h_;this.FO.length>=c;)this.FO.shift();for(;this.GO.length>=c;)this.GO.shift();this.FO.push(a);this.GO.push(b);a=this.FO.reduce(function(a,b){return a+b;},0);b=this.GO.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var d in f)if(f.hasOwnProperty(d)){b=this.Q0[d];c=this.O0[d];g=this.Omb(a,f[d]);h=b.tz;void 0!==h?c[g][h]+=1:b.first=g;b.tz=g;}}};b.prototype.Omb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};b.prototype.shift=function(){this.Zma(this.Cc[0],this.h5(0));f.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.Q0={};this.FO=[];this.GO=[];this.O0={};this.E_={};a=this.h_;for(b in a)if(a.hasOwnProperty(b)){for(var c=this.O0,d=b,g,h=void 0,t=Array(h),h=g=a[b].length+1,A=0;A<h;A++){t[A]=Array(g);for(var l=0;l<g;l++)t[A][l]=0;}c[d]=t;this.Q0[b]={first:void 0,tz:void 0};this.E_[b]=0;}f.prototype.reset.call(this);};g.T=b;},function(g,d,a){var f;function b(){this.qh=void 0;this.ou=0;}f=a(6);b.prototype.gd=function(){return 0!==this.ou&&this.qh?{p25:this.qh.tj,p50:this.qh.ci,p75:this.qh.uj,c:this.ou}:null;};b.prototype.Jd=function(a){if(!(!f.Qa(a)&&f.has(a,"p25")&&f.has(a,"p50")&&f.has(a,"p75")&&f.has(a,"c")&&f.isFinite(a.p25)&&f.isFinite(a.p50)&&f.isFinite(a.p75)&&f.isFinite(a.c)))return this.qh=void 0,this.ou=0,!1;this.qh={tj:a.p25,ci:a.p50,uj:a.p75};this.ou=a.c;};b.prototype.get=function(){return{OU:this.qh,Hn:this.ou};};b.prototype.set=function(a,b){this.qh=a;this.ou=b;};b.prototype.reset=function(){this.qh=void 0;this.ou=0;};b.prototype.toString=function(){return"IQRHist("+this.qh+","+this.ou+")";};g.T=b;},function(g,d,a){var f,h,m,c,k,p,q,t,A,l;function b(a){this.GTa=a;}d=a(348);f=d.DIa;h=d.BIa;m=a(347).CIa;c=a(346);k=a(345);p=a(357);q=a(670);t=a(669);A=a(668);l=a(344);b.prototype.constructor=b;b.prototype.create=function(a,b){var d,g,u,y;g=this.GTa[a];u=b[a];y={};g&&Object.keys(g).forEach(function(a){y[a]=g[a];});u&&Object.keys(u).forEach(function(a){y[a]=u[a];});switch(y.type){case"slidingwindow":d=new m(y.mw);break;case"discontiguous-ewma":d=new h(y.mw);break;case"iqr":d=new c(y.mx,y.mn,y.bw,y.iv);break;case"tdigest":d=new k(y);break;case"discrete-ewma":d=new f(y.hl);break;case"tdigest-history":d=new p(y);break;case"iqr-history":d=new q(y);break;case"avtp":d=new l();break;case"entropy":d=new t(y);break;case"req-pacer":d=new A(y);}d&&(d.type=y.type);return d;};g.T=b;},function(g){function d(a){this.qB=a;this.Bd=0;this.LB=null;}d.prototype.add=function(a,b,f){null!==this.LB&&b>this.LB&&(this.Bd+=b-this.LB,this.LB=null);this.qB.add(a,b-this.Bd,f-this.Bd,this.Bd);};d.prototype.stop=function(a){null===this.LB&&(this.LB=a);};d.prototype.o$=function(a,b){return this.qB.o$(a,b);};d.prototype.get=function(){return this.qB.get();};d.prototype.reset=function(){this.qB.reset();};d.prototype.toString=function(){return this.qB.toString();};g.T=d;},function(g){function d(a,b,f){this.RB=a;this.th=Math.floor((a+b-1)/b);this.yc=b;this.LWa=f;this.reset();}d.prototype.shift=function(){this.Cc.shift();this.Tf.shift();};d.prototype.update=function(a,b){this.Cc[a]+=b;};d.prototype.push=function(a){this.Cc.push(0);this.Tf.push(a?a:0);this.Pa+=this.yc;};d.prototype.add=function(a,b,f,d){var g,c;if(null===this.Pa){g=Math.max(Math.floor((f-b+this.yc-1)/this.yc),1);for(this.Pa=b;this.Cc.length<g;)this.push(d);}for(;this.Pa<f;)if(this.push(d),this.LWa)for(;1<this.Cc.length&&f+d-(this.Pa-this.yc*this.Cc.length+this.Tf[0])>this.RB;)this.shift();else this.Cc.length>this.th&&this.shift();if(b>this.Pa-this.yc)this.update(this.Cc.length-1,a);else if(b==f)d=this.Cc.length-Math.max(Math.ceil((this.Pa-f)/this.yc),1),0<=d&&this.update(d,a);else for(d=1;d<=this.Cc.length;++d){g=this.Pa-d*this.yc;c=g+this.yc;if(!(g>f)){if(c<b)break;this.update(this.Cc.length-d,Math.round(a*(Math.min(c,f)-Math.max(g,b))/(f-b)));}}for(;this.Cc.length>this.th;)this.shift();};d.prototype.reset=function(){this.Cc=[];this.Tf=[];this.Pa=null;};d.prototype.setInterval=function(a){this.th=Math.floor((a+this.yc-1)/this.yc);};g.T=d;},function(g,d,a){var h,m,c,k;function b(a,b,c){h.call(this,a,b,c);}function f(a,c){m.call(this,new b(a,c,!1));}h=a(673);m=a(672);c=a(74).c$a;k=a(74).lcb;b.prototype=Object.create(h.prototype);b.prototype.Fa=function(){return Math.floor(8*c(this.Cc)/this.yc);};b.prototype.dh=function(){return Math.floor(64*k(this.Cc)/(this.yc*this.yc));};b.prototype.get=function(){return{Fa:this.Fa(),dh:this.dh(),xEb:this.Cc.length};};b.prototype.toString=function(){return"bsw("+this.RB+","+this.yc+","+this.th+")";};f.prototype=Object.create(m.prototype);f.prototype.setInterval=function(a){this.qB.setInterval(a);};g.T=f;},function(g,d,a){var f,h,m,c;function b(a){var b;b=nrdp.vh.aKb.match(/android-(\d*)/);b?23<b[1]?(a.tw=!1,a.rw=!1,a.Fp=void 0):(b=nrdp.vh.OBb.WEb.platform.ZIb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.tw=!0,a.rw=!1,a.Fp=void 0):(a.tw=!1,a.rw=!1,a.Fp=[]):(a.tw=!1,a.rw=!1,a.Fp=[]):(a.tw=!1,a.rw=!1,a.Fp=[]);}f=a(13).assert;a(54);h=a(5);m=h.qk;c=h.YMa;g.T=function(){var a,d,g;new h.Console("ASEJSMONKEY","media|asejs");if(!h.qk.Sc){a=function(a){this.fVa=a;};d=c.prototype.appendBuffer;h.MediaSource.Sc||(h.MediaSource.Sc={});"undefined"!==typeof nrdp&&nrdp.dEb&&(b(h.MediaSource.Sc),h.MediaSource.Sc.Noa=!1);h.qk.Sc={uE:{Dca:!0,gx:!0,Iga:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.FXa||this.ETa;},set:function(a){this.ETa=a;}});g=m.prototype.open;m.prototype.open=function(b,c,f,d,h,k,q){1===f&&(this.FXa=new a(this));return g.call(this,b,c,f,d,h,k,q);};m.prototype.eL=function(){this.HB=void 0;};c.prototype.appendBuffer=function(b){if(b instanceof ArrayBuffer)return d.call(this,b);if(b instanceof a)return this.cQ(b.fVa);f(!1);};}};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(11);h=a(5);g=function(){var f9o;function a(a,b){var J9o,P9o;J9o=2;while(J9o!==4){P9o="1";P9o+="SI";P9o+="YbZr";P9o+="NJCp";P9o+="9";switch(J9o){case 2:this.la=a;this.K=b;P9o;J9o=4;break;}}}f9o=2;while(f9o!==13){switch(f9o){case 2:a.prototype.AE=function(a,d){var I9o,c,g,h,k,m,u,l,n,C1o,z1o,p1o,K1o,Q1o,t1o,A1o,c1o,E1o,w1o,r1o,U1o,m1o,h1o,e1o;I9o=2;while(I9o!==49){C1o="seek";C1o+="Del";C1o+="a";C1o+="yed";z1o="s";z1o+="e";z1o+="e";z1o+="k";p1o="seek";p1o+="F";p1o+="ail";p1o+="e";p1o+="d";K1o="seek, no ma";K1o+="nif";K1o+="e";K1o+="st a";K1o+="t manifestIndex:";Q1o="s";Q1o+="eekFa";Q1o+="iled";t1o="a";t1o+="fter seeking";t1o+=", playerState no longer ST";t1o+="ARTING: ";A1o="s";A1o+="e";A1o+="ekD";A1o+="elayed";c1o=" playerS";c1o+="tate:";c1o+=" ";E1o=" ";E1o+="med";E1o+="ia.cur";E1o+="rentP";E1o+="ts: ";w1o=" current ";w1o+="m";w1o+="anifest: ";r1o=" ma";r1o+="nifestI";r1o+="nd";r1o+="ex:";r1o+=" ";U1o="see";U1o+="k:";U1o+=" ";m1o="s";m1o+="e";m1o+="e";m1o+="k";h1o="ptsc";h1o+="hange";h1o+="d";e1o="s";e1o+="eek";e1o+="Delay";e1o+="ed";switch(I9o){case 19:I9o=!this.la.Sja(d)?18:15;break;case 14:!h.iK&&0<d&&(m=this.la.V2(d,a));this.la.ja.Jd(f.Ma.TN);I9o=12;break;case 18:this.yi={ca:d,Xm:a};this.la.emit(e1o);return;break;case 29:a=k,m=a+this.la.qa.Rc;I9o=28;break;case 42:[f.L.AUDIO,f.L.VIDEO].forEach(function(a){var b9o;b9o=2;while(b9o!==1){switch(b9o){case 2:c.la.df[a].reset(!0);b9o=1;break;}}});I9o=41;break;case 40:return this.la.emit(h1o,m),this.la.emit(m1o),this.WP(d),a=k&&this.la.Yt()?100:0,this.la.yP(1,a),this.la.rh(),m;break;case 2:I9o=1;break;case 52:this.la.qa.ug.forEach(function(a){var u9o,b;u9o=2;while(u9o!==4){switch(u9o){case 2:u9o=1;break;case 1:b=a.O;c.la.yg(b)&&c.GWa(a,n[b]);u9o=4;break;}}});I9o=41;break;case 27:return;break;case 12:I9o=d!=this.la.ze?11:26;break;case 9:h.jf&&this.la.Oh(U1o+a+r1o+d+w1o+this.la.ze+E1o+k+c1o+this.la.ja.gd());b.R(d)&&(d=this.la.ze);this.la.qa.EAa();I9o=6;break;case 1:c=this;h=this.la.G;k=this.la.ja.kf();m=a;I9o=9;break;case 35:I9o=a>k?34:28;break;case 25:u=h.ba||Infinity;l=this.la.yg.bind(this.la);k=h.$I(l,k,u,this.la.G);I9o=22;break;case 6:I9o=(h=this.la.jc(d))?14:50;break;case 15:I9o=this.Ju(this.la.qa.Z5(d),!1,!0)?27:26;break;case 33:I9o=!this.la.NP(this.la.ze+1)?32:28;break;case 51:this.yi={ca:d,Xm:a},this.la.emit(A1o);I9o=49;break;case 11:d<this.la.ze&&h.replace&&(h.replace=!1);g=this.la.jc(this.la.ze);this.la.qa.ug.forEach(function(a){var n9o;n9o=2;while(n9o!==1){switch(n9o){case 2:c.la.lma(a,g.Zk&&g.Zk.Mi);n9o=1;break;}}});I9o=19;break;case 39:this.K.warn(t1o+this.la.ja.gd());this.la.emit(Q1o);I9o=49;break;case 50:this.K.warn(K1o,d),this.la.emit(p1o);I9o=49;break;case 28:this.la.ja.Jd(f.Ma.Lh);this.la.qa.lsb(a,d);I9o=43;break;case 43:I9o=(k=this.la.ze===d&&!this.MUa(d)&&a===h.U)?42:37;break;case 21:k=this.la.Qh?this.la.hg?Math.min(k[f.L.AUDIO].U,k[f.L.VIDEO].U):k[f.L.AUDIO].U:k[f.L.VIDEO].U;I9o=35;break;case 37:this.la.A0(z1o);I9o=36;break;case 36:u=this.la.qa.tg;n=this.la.jc(u.ca).wQ(u.ca,this.la.yg.bind(this.la),a,this.la.qa,u).wz;h.lca(d,this.la.G,this.la.Qh,this.la.hg,this.la.qa,this.la.Va);I9o=52;break;case 34:I9o=this.la.yk?33:29;break;case 41:I9o=this.la.ja.mva()?40:39;break;case 26:k=this.la.qa.ug;I9o=25;break;case 32:this.yi={ca:this.la.ze+1,Xm:a};this.la.emit(C1o);return;break;case 22:I9o=k.length?21:51;break;}}};f9o=1;break;case 1:a.prototype.seek=function(a,f){var W9o,c;W9o=2;while(W9o!==8){switch(W9o){case 2:c=a;b.R(f)&&(f=this.la.ze);this.la.qa.EAa();this.la.jc(f).iK||this.la.AB||(c=this.la.Zx(f,a));return this.AE(c,f);break;}}};f9o=5;break;case 5:a.prototype.Ju=function(a,b,d){var X9o,c,l1o,V1o;X9o=2;while(X9o!==8){l1o="s";l1o+="e";l1o+="e";l1o+="k";V1o="ptsc";V1o+="ha";V1o+="nged";switch(X9o){case 2:c=this.la.qa.Ju(a,b);X9o=5;break;case 4:return c;break;case 5:X9o=b?4:3;break;case 3:c?(this.la.ja.Jd(f.Ma.TN),(a=this.la.qa.xj.children[a])&&this.la.emit(V1o,a.Hc),this.la.ja.Jd(f.Ma.Lh),this.la.emit(l1o),a&&this.WP(a.ca),this.la.yP(1),this.la.rh(),this.la.Yt()):d||(a=this.la.qa.Ebb(a),this.AE(a));return c;break;}}};a.prototype.MUa=function(a){var i9o;i9o=2;while(i9o!==1){switch(i9o){case 4:return+-this.la.jc(a).Lx;break;i9o=1;break;case 2:return!!this.la.jc(a).Lx;break;}}};f9o=3;break;case 3:a.prototype.WP=function(a){var q9o,b;q9o=2;while(q9o!==3){switch(q9o){case 2:b=this;a=this.la.jc(a);a.Lx||(a.Lx=!0,[f.L.VIDEO,f.L.AUDIO].forEach(function(a){var o9o;o9o=2;while(o9o!==1){switch(o9o){case 2:b.la.df[a].resume();o9o=1;break;}}}));q9o=3;break;}}};f9o=9;break;case 6:a.prototype.fC=function(a){var y9o,b,c;y9o=2;while(y9o!==6){switch(y9o){case 2:b=this.la.qa.xj;c=0<Object.keys(b.xa&&b.xa.mj||{}).length&&!b.sg?b.ee-this.la.G.jU:b.ee;y9o=4;break;case 3:return!1;break;case 9:b=this.la.ZC(a,f.L.AUDIO,!0);a=this.la.ZC(a,f.L.VIDEO,!0);return b&&a&&b.complete&&a.complete;break;case 4:y9o=a<b.Hc||a>=c?3:9;break;}}};return a;break;case 9:a.prototype.GWa=function(a,b){var F9o,c,f;F9o=2;while(F9o!==6){switch(F9o){case 8:this.la.Hf&&0<this.la.Hf.length&&(this.la.Hf.forEach(function(a){var N9o;N9o=2;while(N9o!==1){switch(N9o){case 4:c.la.UP(a,-2);N9o=5;break;N9o=1;break;case 2:c.la.UP(a,!1);N9o=1;break;}}}),this.la.Hf=void 0);this.la.GI.ama(a);F9o=6;break;case 2:c=this;f=this.la.G;f.l4&&(this.la.QO=b+f.Fba,this.la.RO=h.time.ea());a.et(b);a.sob();F9o=8;break;}}};a.prototype.F_=function(){var D9o,a,b;D9o=2;while(D9o!==9){switch(D9o){case 5:a=this.yi.Xm;b=this.yi.ca;this.la.jc(b)&&(this.yi=void 0,this.AE(a,b));D9o=9;break;case 2:D9o=1;break;case 1:D9o=this.yi?5:9;break;}}};a.prototype.Ri=function(a){var L9o,c,d,Z1o;L9o=2;while(L9o!==6){Z1o="s";Z1o+="k";Z1o+="i";Z1o+="p";switch(L9o){case 4:this.la.qa.xj.Ri(a);[f.L.AUDIO,f.L.VIDEO].forEach(function(f){var j9o,g,B1o;j9o=2;while(j9o!==8){B1o="ski";B1o+="p: not resuming bufferManager, audio track swit";B1o+="ch in progress";switch(j9o){case 1:j9o=c.la.yg(f)?5:8;break;case 2:j9o=1;break;case 5:g=c.la.cb.Bb[f];c.la.qo&&(g.jba=h.time.ea());d.cL?c.la.df[f].reset():g.oF?g.Ha(B1o):c.la.df[f].resume();b(c.la.qa.tg,f,a);j9o=8;break;}}});this.la.ja.Jd(f.Ma.ad);L9o=8;break;case 2:c=this;d=this.la.G;L9o=4;break;case 8:this.la.nH();this.la.emit(Z1o);L9o=6;break;}}function b(a,f,d){var R9o,H1o;R9o=2;while(R9o!==5){H1o="skip: unexpected b";H1o+="ehaviour - a n";H1o+="on-presenting branch doesn't have a previous branch";switch(R9o){case 2:a!==c.la.qa.xj&&(a.Ee?b(a.Ee,f,d):c.K.error(H1o));R9o=1;break;case 1:a.Xa[f].Ri(d);R9o=5;break;}}}};f9o=6;break;}}}();d.VQa=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);f=a(24);g=function(){function a(a){this.aI=a;this.state=new f.fZ(b.Ma.Lh);this.Dv={};}a.prototype.gd=function(){return this.state.value;};a.prototype.Jd=function(a){this.state.set(a);};a.prototype.Mbb=function(){return b.Ma.name[this.state.value];};a.prototype.addListener=function(a,b){this.state.addListener(a,b);};a.prototype.paused=function(){this.state.value===b.Ma.ad&&this.state.set(b.Ma.oi);};a.prototype.yW=function(){this.state.value===b.Ma.oi&&this.state.set(b.Ma.ad);};a.prototype.mva=function(){return this.state.value===b.Ma.Lh;};a.prototype.Iy=function(){return"function"===typeof this.aI.Iy?this.aI.Iy():this.state.value===b.Ma.ad;};a.prototype.Zl=function(){return this.state.value===b.Ma.Ij||this.state.value===b.Ma.Qt;};a.prototype.Ye=function(){return this.state.value===b.Ma.TN;};a.prototype.u7=function(){return this.state.value===b.Ma.UN;};a.prototype.kf=function(){return this.aI.kf();};a.prototype.N5=function(){return this.aI.N5();};a.prototype.$pb=function(a,b){this.Dv[a]=b;};a.prototype.pv=function(a){return!!this.Dv[a];};return a;}();d.kFa=g;},function(g,d,a){var b,f,h,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(195);h=a(11);m=a(54);c=a(5);k=a(24);a(13);g=function(){var T1o;T1o=2;while(T1o!==54){switch(T1o){case 14:a.prototype.tUa=function(a,f){var x1o,d,g,h,T0o,H0o,Z0o,B0o,l0o,V0o;x1o=2;while(x1o!==20){T0o="s";T0o+="eaml";T0o+="e";T0o+="ss";H0o="r";H0o+="es";H0o+="et";Z0o="s";Z0o+="k";Z0o+="i";Z0o+="p";B0o="l";B0o+="o";B0o+="n";B0o+="g";l0o="l";l0o+="o";l0o+="n";l0o+="g";V0o="sea";V0o+="m";V0o+="le";V0o+="ss";switch(x1o){case 12:d.atTransition=f.mDa;d.srcsegmentduration=this.Aa.qa.Dbb(f.bW);return d;break;case 5:h=f.Xc[a];h?(g=h.weight,m(h.TH,d.atRequest)):g=this.Aa.qa.xta(f.bW,a);d.atRequest.weight=g;x1o=9;break;case 2:d={segment:a,srcsegment:f.bW,srcoffset:f.jCa,seamlessRequested:f.IV,atRequest:{},discard:{}};x1o=5;break;case 9:b.dd(f.Xc,function(b,c){var O1o;O1o=2;while(O1o!==1){switch(O1o){case 2:c!=a&&(d.discard[c]={weight:b.weight},m(b.TH,d.discard[c]));O1o=1;break;}}});g=f.IV?f.IS?V0o:l0o:f.Dxa?B0o:f.Ri?Z0o:H0o;d.transitionType=g;f.G5a||(d.delayToTransition=f.dR);x1o=14;break;case 14:g=T0o===g?0:c.time.ea()-f.startTime;d.durationOfTransition=g;x1o=12;break;}}};a.prototype.XVa=function(a,b,c){var f1o,G0o;f1o=2;while(f1o!==4){G0o="segmentP";G0o+="re";G0o+="senting";switch(f1o){case 2:c=c?this.tUa(a.id,c):void 0;a={type:G0o,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.gE,manifestIndex:a.ca};k.na(this.Aa,a.type,a);f1o=4;break;}}};a.prototype.VVa=function(a,b){var J1o,k0o;J1o=2;while(J1o!==5){k0o="segme";k0o+="n";k0o+="tAppe";k0o+="nded";switch(J1o){case 2:b={type:k0o,segmentId:a.id,metrics:b};a.gE||k.na(this.Aa,b.type,b);J1o=5;break;}}};a.prototype.WVa=function(a,b,c){var I1o,Y0o;I1o=2;while(I1o!==5){Y0o="s";Y0o+="egm";Y0o+="entComplete";switch(I1o){case 2:a={type:Y0o,mediaType:a,manifestIndex:b,segmentId:c.id};k.na(this.Aa,a.type,a);I1o=5;break;}}};a.prototype.k0=function(a,b){var n1o,g0o;n1o=2;while(n1o!==5){g0o="lastSegment";g0o+="Pt";g0o+="s";switch(n1o){case 2:b={type:g0o,segmentId:a.id,pts:Math.floor(b)};a.gE||k.na(this.Aa,b.type,b);n1o=5;break;}}};a.prototype.NVa=function(a,b,c,f,d){var b1o,v0o;b1o=2;while(b1o!==5){v0o="man";v0o+="ifestRa";v0o+="n";v0o+="ge";switch(b1o){case 2:a={type:v0o,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(f),maxPts:Math.floor(d)};k.na(this.Aa,a.type,a);b1o=5;break;}}};a.prototype.PVa=function(a,b){var u1o,M0o;u1o=2;while(u1o!==5){M0o="ma";M0o+="x";M0o+="B";M0o+="itra";M0o+="tes";switch(u1o){case 2:a={type:M0o,audio:a,video:b};k.na(this.Aa,a.type,a);u1o=5;break;}}};T1o=18;break;case 3:a.prototype.IVa=function(a,b,c,f,d){var M1o,g,a0o;M1o=2;while(M1o!==9){a0o="headerCache";a0o+="Dat";a0o+="aHit";switch(M1o){case 3:k.na(this.Aa,a.type,a);M1o=9;break;case 2:g=this.Aa.Ska;this.Aa.Ska=void 0;a={type:a0o,movieId:a,audio:b,audioFromMediaCache:f,video:c,videoFromMediaCache:d,actualStartPts:g&&g.Hk,headerCount:g&&g.xo,stats:g&&g.Kb};M1o=3;break;}}};a.prototype.QVa=function(a,b,c){var a1o,d0o;a1o=2;while(a1o!==5){d0o="max";d0o+="Posi";d0o+="tion";switch(a1o){case 2:a={type:d0o,index:a,maxPts:b,endPts:c};k.na(this.Aa,a.type,a);a1o=5;break;}}};a.prototype.$Va=function(a,b,c,f,d,g){var d1o,s0o,S0o;d1o=2;while(d1o!==4){s0o="n";s0o+="otifyStreami";s0o+="ngErro";s0o+="r: ";S0o="err";S0o+="o";S0o+="r";switch(d1o){case 2:a={type:S0o,error:a,errormsg:b,networkErrorCode:c,httpCode:f,nativeCode:d,manifestIndex:void 0!==g?g:this.Aa.RK};this.K.error(s0o+JSON.stringify(a));d1o=5;break;case 5:k.na(this.Aa,a.type,a);d1o=4;break;}}};a.prototype.yla=function(a,b){var S1o,x0o;S1o=2;while(S1o!==5){x0o="segmen";x0o+="tS";x0o+="tarting";switch(S1o){case 2:b={type:x0o,segmentId:a.id,contentOffset:b};a.gE||k.na(this.Aa,b.type,b);S1o=5;break;}}};a.prototype.UVa=function(a){var s1o,b,O0o;s1o=2;while(s1o!==4){O0o="se";O0o+="gmentA";O0o+="borted";switch(s1o){case 2:b={type:O0o,segmentId:a.id};a.gE||k.na(this.Aa,b.type,b);s1o=4;break;}}};T1o=14;break;case 25:a.prototype.zla=function(a,b,c,d,g,p){var N1o,q,m,I0o,J0o,f0o;N1o=2;while(N1o!==6){I0o="a";I0o+="u";I0o+="di";I0o+="o";J0o="v";J0o+="i";J0o+="d";J0o+="e";J0o+="o";f0o="serve";f0o+="rS";f0o+="wi";f0o+="tc";f0o+="h";switch(N1o){case 4:a={type:f0o,manifestIndex:a,mediatype:q,server:c,reason:d,location:g,bitrate:p,confidence:m.Fc};N1o=3;break;case 2:q=b==h.L.VIDEO?J0o:I0o;m=this.Aa.kb.$e.get(!1);N1o=4;break;case 3:m.Fc&&(a.throughput=m.va.Fa);this.Aa.cb.Bb[b].yD&&(a.oldserver=c);f.pl.Ul(b);k.na(this.Aa,a.type,a);N1o=6;break;}}};a.prototype.aWa=function(a,b,c,d){var D1o,n0o;D1o=2;while(D1o!==4){n0o="u";n0o+="pdateStreaming";n0o+="Pts";switch(D1o){case 2:b={type:n0o,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(d)};f.pl.Ul(a);k.na(this.Aa,b.type,b);D1o=4;break;}}};a.prototype.HVa=function(a,b){var L1o,b0o;L1o=2;while(L1o!==5){b0o="fir";b0o+="stReque";b0o+="stA";b0o+="ppended";switch(L1o){case 2:a={type:b0o,manifestIndex:a.Rb.ca,mediatype:b.O,time:c.time.ea()};k.na(this.Aa,a.type,a);L1o=5;break;}}};a.prototype.LVa=function(a,b){var R1o,u0o;R1o=2;while(R1o!==5){u0o="initialAud";u0o+="ioTr";u0o+="ack";switch(R1o){case 2:a={type:u0o,trackId:b,trackIndex:a};k.na(this.Aa,a.type,a);R1o=5;break;}}};T1o=21;break;case 2:a.prototype.zr=function(a){var k1o,W0o;k1o=2;while(k1o!==5){W0o="star";W0o+="tEv";W0o+="ent";switch(k1o){case 2:a={type:W0o,event:a,time:c.time.ea()};k.na(this.Aa,a.type,a);k1o=5;break;}}};a.prototype.RVa=function(){var Y1o,a,X0o;Y1o=2;while(Y1o!==4){X0o="openCo";X0o+="m";X0o+="pl";X0o+="ete";switch(Y1o){case 2:a={type:X0o};k.na(this.Aa,a.type,a);Y1o=4;break;}}};a.prototype.SVa=function(a,b,c,f,d){var g1o,i0o;g1o=2;while(g1o!==1){i0o="pts";i0o+="Sta";i0o+="r";i0o+="t";i0o+="s";switch(g1o){case 2:this.Aa.G.h6a||(a={type:i0o,manifestIndex:a,mediaType:b,movieId:f,streamId:c,ptsStarts:d.pCa()},k.na(this.Aa,a.type,a));g1o=1;break;}}};a.prototype.JVa=function(a,b){var v1o,q0o;v1o=2;while(v1o!==5){q0o="head";q0o+="erCach";q0o+="e";q0o+="Hit";switch(v1o){case 2:a={type:q0o,movieId:a,streamId:b};v1o=1;break;case 1:k.na(this.Aa,a.type,a);v1o=5;break;}}};T1o=3;break;case 32:a.prototype.DVa=function(){var m0o,a,b,f,d,o0o;m0o=2;while(m0o!==6){o0o="b";o0o+="uffe";o0o+="ri";o0o+="ng";switch(m0o){case 7:a!=this.V_&&(b={type:o0o,time:b,percentage:a},k.na(this.Aa,b.type,b),this.V_=a);m0o=6;break;case 3:f=this.Aa.hg?f.Rg(h.L.VIDEO):f.Rg(h.L.AUDIO);d=f.Ae;a=Math.min(Math.max(Math.round(100*(f.dK?(b-this.Aa.k_)/a.iE:f.Qi?f.Qi:d/a.$h)),this.V_),99);m0o=7;break;case 2:a=this.Aa.G;b=c.time.ea();f=this.Aa.qa.tg;m0o=3;break;}}};a.prototype.EVa=function(){var U0o,a,b,f,d,F0o;U0o=2;while(U0o!==13){F0o="bufferingC";F0o+="omp";F0o+="le";F0o+="te";switch(U0o){case 2:a=this.Aa.qa.ug;b=a[h.L.AUDIO];f=a[h.L.VIDEO];U0o=3;break;case 3:this.vla();a=this.Aa.hg?this.Aa.cb.Bb[h.L.VIDEO]:this.Aa.cb.Bb[h.L.AUDIO];d=a.UH;U0o=7;break;case 7:b={type:F0o,time:c.time.ea(),actualStartPts:d,aBufferLevelMs:b?b.Ae:0,vBufferLevelMs:f?f.Ae:0,selector:f?f.Daa:b.Daa,initBitrate:a.Sl,skipbackBufferSizeBytes:this.Aa.kb.Yqb};this.Aa.Md.N8a({initSelReason:a.zo,initSelectionPredictedDelay:a.HJ,buffCompleteReason:a.coa,hashindsight:!!this.Aa.qo,hasasereport:!!this.Aa.fw});k.na(this.Aa,b.type,b);U0o=13;break;}}};a.prototype.vla=function(){var r0o,a,b,c,f,d,g,N0o;r0o=2;while(r0o!==10){N0o="upda";N0o+="teBufferLeve";N0o+="l";switch(r0o){case 2:r0o=1;break;case 11:k.na(this.Aa,c.type,c);r0o=10;break;case 5:r0o=!this.Aa.ye()?4:10;break;case 4:b=this.Aa.qa.ug;c=b[h.L.AUDIO];f=b[h.L.VIDEO];d=c?c.Ae:0;b=f?f.Ae:0;this.Aa.Md.DYa(d,b);g=this.Aa.kb.$e.get(!1);r0o=13;break;case 1:a=this.Aa.G;r0o=5;break;case 13:c={type:N0o,abuflbytes:c?c.Bu:0,vbuflbytes:f?f.Bu:0,totalabuflmsecs:d,totalvbuflmsecs:b,predictedFutureRebuffers:0,currentBandwidth:g.Fc?g.va.Fa:0};b>a.kxa&&this.Aa.kb.Tg&&this.Aa.kb.Tg.yH(!0,this.Aa.yl.sessionId);r0o=11;break;}}};a.prototype.WUa=function(a){var w0o,f,d,g,P0o,y0o,j0o,R0o,L0o,D0o;w0o=2;while(w0o!==13){P0o=",";P0o+=" systemDe";P0o+="lt";P0o+="a:";P0o+=" ";y0o="memory";y0o+="Usag";y0o+="e at tim";y0o+="e: ";j0o=", osA";j0o+="lloca";j0o+="torD";j0o+="elt";j0o+="a: ";R0o=",";R0o+=" jsHeapDelta:";R0o+=" ";L0o=", fas";L0o+="tMalloc";L0o+="Delta: ";D0o="m";D0o+="emor";D0o+="yUsage at time: ";switch(w0o){case 2:w0o=1;break;case 1:w0o=!b.R(a)?5:13;break;case 3:f=a.rra-this.BB.rra;d=a.kua-this.BB.kua;g=a.sya-this.BB.sya;(4194304<f||4194304<g)&&this.K.warn(D0o+c.time.ea()+L0o+f+R0o+d+j0o+g);w0o=6;break;case 5:b.pa(a.bM);w0o=4;break;case 4:w0o=!b.R(this.BB)?3:14;break;case 6:b.pa(a.bM)&&b.pa(this.BB.bM)&&(f=a.bM-this.BB.bM,4194304<f&&this.K.warn(y0o+c.time.ea(),P0o+f));w0o=14;break;case 14:this.BB=a;w0o=13;break;}}};T1o=28;break;case 39:a.prototype.mq=function(a){var p0o,h2o,e2o;p0o=2;while(p0o!==1){h2o="as";h2o+="eexcepti";h2o+="on";e2o="ase";e2o+="exceptio";e2o+="n";switch(p0o){case 2:this.Aa.emit(e2o,{type:h2o,msg:a});p0o=1;break;}}};a.prototype.bjb=function(a,b,f,d){var z0o,U2o,m2o;z0o=2;while(z0o!==5){U2o="maxv";U2o+="ideobit";U2o+="ratechan";U2o+="ged";m2o="m";m2o+="axvideob";m2o+="itra";m2o+="techanged";switch(z0o){case 2:a={type:m2o,time:c.time.ea(),spts:d,maxvb_old:a,maxvb:b,reason:f};this.Aa.emit(U2o,a);z0o=5;break;}}};a.prototype.Sxa=function(){var C0o,a,r2o;C0o=2;while(C0o!==9){r2o="str";r2o+="ea";r2o+="mer";r2o+="end";switch(C0o){case 2:C0o=1;break;case 1:C0o=!this.HXa&&this.Aa.G.Qxa?5:9;break;case 5:this.HXa=!0;a={type:r2o,time:c.time.ea()};k.na(this.Aa,a.type,a);C0o=9;break;}}};return a;break;case 18:a.prototype.OVa=function(a,b){var W1o,c,E2o,w2o;W1o=2;while(W1o!==9){E2o="notifyManife";E2o+="s";E2o+="tSelected:";E2o+=" ";w2o="m";w2o+="an";w2o+="ifestSe";w2o+="l";w2o+="ected";switch(W1o){case 2:W1o=1;break;case 1:c=this.Aa.G;a={type:w2o,index:a,replace:b.replace,ptsStarts:b.wz,streamingOffset:b.U+b.sn};c.jf&&(b=E2o+JSON.stringify(a),c.jf&&this.Aa.Oh(b));k.na(this.Aa,a.type,a);W1o=9;break;}}};a.prototype.MVa=function(a,b,c,f,d,g){var X1o,c2o;X1o=2;while(X1o!==4){c2o="man";c2o+="if";c2o+="estP";c2o+="resenti";c2o+="ng";switch(X1o){case 2:a={type:c2o,index:a,pts:Math.floor(c),movieId:b.Oa.M,replace:b.replace,contentOffset:f};null!=d&&null!=g&&(a.previousMovieId=d,a.previousIndex=g);k.na(this.Aa,a.type,a);X1o=4;break;}}};a.prototype.Rxa=function(a,b,f,d){var i1o,g,h,q,A2o;i1o=2;while(i1o!==17){A2o="str";A2o+="ea";A2o+="mSelec";A2o+="te";A2o+="d";switch(i1o){case 13:a.QE.Irb(d,h.Av,b);h.Av=b;h=0;i1o=10;break;case 2:g=a.O;b=b.Up(g,f);h=this.Aa.cb.Bb[g];i1o=3;break;case 14:i1o=!h.Av||h.Av!==b?13:17;break;case 10:b.Ka&&b.Ka.Fc&&b.Ka.va&&(h=b.Ka.va.Fa);q=a.Rb.Rc;a={type:A2o,nativetime:c.time.ea(),mediaType:g,streamId:f,manifestIndex:b.Oa.ca,trackIndex:a.D0,streamIndex:b.Qf,movieTime:Math.floor(d+q),bandwidth:h,longtermBw:h,rebuffer:0};i1o=18;break;case 3:h.Li||(h.Li={});h.Li.id=b.za;h.Li.index=b.Qf;h.Li.P=b.P;h.Li.location=b.location;i1o=14;break;case 18:k.na(this.Aa,a.type,a);i1o=17;break;}}};a.prototype.ZVa=function(a,b,c,f,d){var q1o,t2o;q1o=2;while(q1o!==5){t2o="streamPre";t2o+="se";t2o+="ntin";t2o+="g";switch(q1o){case 2:a={type:t2o,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:a.O,manifestIndex:f,trackIndex:a.D0,streamIndex:d};k.na(this.Aa,a.type,a);q1o=5;break;}}};a.prototype.cWa=function(a){var o1o,Q2o;o1o=2;while(o1o!==5){Q2o="vi";Q2o+="deoLoo";Q2o+="ped";switch(o1o){case 2:a={type:Q2o,offset:a};k.na(this.Aa,a.type,a);o1o=5;break;}}};a.prototype.xla=function(a,b,c,f,d,g,p,m){var F1o,C2o,z2o,p2o,K2o;F1o=2;while(F1o!==1){C2o="a";C2o+="u";C2o+="d";C2o+="i";C2o+="o";z2o="v";z2o+="id";z2o+="eo";p2o="locationS";p2o+="e";p2o+="l";p2o+="ected";K2o="lo";K2o+="cat";K2o+="ion";K2o+="Selected";switch(F1o){case 2:k.na(this.Aa,K2o,{type:p2o,manifestIndex:a,mediatype:b===h.L.VIDEO?z2o:C2o,location:c,locationlv:f,serverid:d,servername:g,selreason:p,seldetail:m});F1o=1;break;}}};T1o=25;break;case 28:a.prototype.bWa=function(){var E0o,a,V2o;E0o=2;while(E0o!==9){V2o="streami";V2o+="ngst";V2o+="at";switch(E0o){case 4:this.Aa.Md.O8a(a);k.na(this.Aa,a.type,a);E0o=9;break;case 2:this.Aa.G.kgb&&c.memory.oab(this.WUa.bind(this));a={type:V2o,time:c.time.ea(),playbackTime:this.Aa.ja.kf()};E0o=4;break;}}};a.prototype.ula=function(){var c0o,a,l2o;c0o=2;while(c0o!==3){l2o="as";l2o+="er";l2o+="ep";l2o+="ort";switch(c0o){case 8:c0o=2;break;c0o=1;break;case 2:c0o=1;break;case 1:c0o=this.Aa.fw?5:3;break;case 5:a={type:l2o};this.Aa.fw.M8a(a)&&k.na(this.Aa,a.type,a);c0o=3;break;}}};a.prototype.AVa=function(){var A0o,a,B2o;A0o=2;while(A0o!==4){B2o="aserepor";B2o+="ten";B2o+="abled";switch(A0o){case 2:a={type:B2o};k.na(this.Aa,a.type,a);A0o=4;break;}}};a.prototype.KVa=function(a){var t0o,b,c,f,d,g,h,q,p,m,u,l,n,r,ia,Z,ea,Y,O,W,E,Z2o,k2o,G2o,T2o,H2o;t0o=2;while(t0o!==7){Z2o="h";Z2o+="indsigh";Z2o+="t";Z2o+="re";Z2o+="port";switch(t0o){case 1:t0o=a?5:7;break;case 2:t0o=1;break;case 5:b={type:Z2o};c=this.Aa.G.yJ;for(f in c){k2o="h";k2o+="v";k2o+="ma";k2o+="fdp";G2o="hvm";G2o+="afg";G2o+="r";T2o="h";T2o+="vma";T2o+="f";T2o+="tb";H2o="h";H2o+="tw";H2o+="b";H2o+="r";d=c[f];g=0;h=0;q=0;p=0;m=0;u=0;l=void 0;n=void 0;r=!1;ia=-1;Z=-1;ea=-1;Y=-1;O=-1;W=-1;for(E in a)n=a[E],void 0===n.nd&&(l=(l=n.sols)&&l[d])&&(r=!0,q+=l.dlvdur,g+=l.dltwbr*l.dlvdur,h+=l.dlvmaf*l.dlvdur),u+=n.pbdur,p+=n.pbtwbr*n.pbdur,m+=n.pbvmaf*n.pbdur,l=n.rr,n=n.ra;0<u&&(ia=1*p/u,Y=1*m/u);r&&(0<q&&(Z=1*g/q,O=1*h/q),0<q+u&&(ea=1*(g+p)/(q+u),W=1*(h+m)/(q+u)));switch(d){case H2o:b.htwbr=ea;b.hptwbr=Z;b.pbtwbr=ia;l&&(b.rr=l,b.ra=n);break;case T2o:b.hvmaftb=W;b.hpvmaftb=O;b.pbvmaftb=Y;l&&(b.rrvmaftb=l,b.ravmaftb=n);break;case G2o:b.hvmafgr=W;b.hpvmafgr=O;b.pbvmafgr=Y;l&&(b.rrvmafgr=l,b.ravmafgr=n);break;case k2o:b.hvmafdp=W,b.hpvmafdp=O,b.pbvmafdp=Y,l&&(b.rrvmafdp=l,b.ravmafdp=n);}}this.Aa.k4&&(b.report=a);k.na(this.Aa,b.type,b);t0o=7;break;}}};a.prototype.GVa=function(a,b,c){var Q0o,v2o,g2o,Y2o;Q0o=2;while(Q0o!==1){v2o="e";v2o+="ndO";v2o+="fStream";g2o=" ";g2o+="len";g2o+="g";g2o+="th:";g2o+=" ";Y2o="notifyEndOfStream ignored, more ";Y2o+="manifest";Y2o+="s, index: ";switch(Q0o){case 2:a.Xq||(b+1<c?a.Ha(Y2o+b+g2o+c):(this.Aa.df[a.O].yK(),b={type:v2o,mediaType:a.O},k.na(this.Aa,b.type,b),a.Xq=!0));Q0o=1;break;}}};a.prototype.wla=function(a){var K0o,M2o;K0o=2;while(K0o!==5){M2o="creat";M2o+="ere";M2o+="quest";switch(K0o){case 2:a={type:M2o,mediaRequest:a};k.na(this.Aa,a.type,a);K0o=5;break;}}};T1o=39;break;case 21:a.prototype.CVa=function(a,b){var j1o,a2o;j1o=2;while(j1o!==3){a2o="audio";a2o+="Trac";a2o+="kSwitchS";a2o+="t";a2o+="arted";switch(j1o){case 4:k.na(this.Aa,b.type,b);j1o=3;break;case 2:a=a.Sy;b=b.Sy;b={type:a2o,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels};j1o=4;break;}}};a.prototype.BVa=function(a,b){var y1o,c;y1o=2;while(y1o!==4){switch(y1o){case 2:c=this;setTimeout(function(){var P1o,f,d2o;P1o=2;while(P1o!==4){d2o="audioTrackSwitch";d2o+="Comp";d2o+="lete";switch(P1o){case 2:f={type:d2o,trackId:a,trackIndex:b};k.na(c.Aa,f.type,f);P1o=4;break;}}},0);y1o=4;break;}}};a.prototype.YVa=function(a,b){var e0o,S2o;e0o=2;while(e0o!==5){S2o="cu";S2o+="r";S2o+="r";S2o+="entStreamI";S2o+="nfeasible";switch(e0o){case 2:a={type:S2o,oldBitrate:a,newBitrate:b};k.na(this.Aa,a.type,a);e0o=5;break;}}};a.prototype.FVa=function(a){var h0o,b,x2o,s2o;h0o=2;while(h0o!==9){x2o="bufferi";x2o+="n";x2o+="gSt";x2o+="arted";s2o="s";s2o+="tartBufferi";s2o+="ng";switch(h0o){case 4:this.Aa.emit(s2o);this.V_=a||0;h0o=9;break;case 2:b={type:x2o,time:c.time.ea(),percentage:a||0};k.na(this.Aa,b.type,b);h0o=4;break;}}};T1o=32;break;}}function a(a,b){var G1o,O2o;G1o=2;while(G1o!==4){O2o="1SIYb";O2o+="ZrNJ";O2o+="Cp";O2o+="9";switch(G1o){case 2:this.Aa=a;this.K=b;O2o;G1o=4;break;}}}}();d.INa=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);f=a(24);g=function(){var f2o;function a(a,b){var J2o,E9P;J2o=2;while(J2o!==3){E9P="1SIY";E9P+="bZr";E9P+="NJCp9";switch(J2o){case 2:this.yb=a;this.K=b;this.o0=this.N0=!1;J2o=4;break;case 14:"";J2o=1;break;J2o=3;break;case 4:E9P;J2o=3;break;}}}f2o=2;while(f2o!==6){switch(f2o){case 2:a.prototype.play=function(){var I2o,a,T9P,e9P;I2o=2;while(I2o!==3){T9P="p";T9P+="l";T9P+="a";T9P+="y";e9P="play called after pipeline";e9P+="s already shu";e9P+="tdown";switch(I2o){case 2:a=this;this.yb.Ala++;I2o=4;break;case 4:this.ye()?this.K.warn(e9P):(this.yb.ja.Jd(b.Ma.ad),this.yb.qXa(),this.yb.cb.Bb.forEach(function(b){var n2o,X9P;n2o=2;while(n2o!==1){X9P="pla";X9P+="y:";X9P+=" not resuming bufferManager";X9P+=", audio track switch in progress";switch(n2o){case 2:a.yb.yg(b.O)&&(b.oF?b.Ha(X9P):a.yb.df[b.O].resume());n2o=1;break;}}}),this.yb.nH(),this.yb.emit(T9P));I2o=3;break;}}};a.prototype.stop=function(){var b2o,a,c,f,b9P;b2o=2;while(b2o!==13){b9P="s";b9P+="t";b9P+="op";switch(b2o){case 2:a=this;c=this.yb.ja.u7();b2o=4;break;case 4:f=this.yb.ja.Ye();this.yb.ja.Jd(b.Ma.UN);this.yb.vO();c||f||this.yb.qa.xj.dW(!1);b2o=7;break;case 7:this.yb.qa.ug.forEach(function(a){var u2o;u2o=2;while(u2o!==1){switch(u2o){case 4:a.Hg=-5;u2o=4;break;u2o=1;break;case 2:a.Hg=!1;u2o=1;break;}}});[b.L.VIDEO,b.L.AUDIO].forEach(function(b){var W2o;W2o=2;while(W2o!==1){switch(W2o){case 2:(b=a.yb.df[b])&&b.pause();W2o=1;break;}}});this.yb.emit(b9P);b2o=13;break;}}};a.prototype.suspend=function(){var X2o;X2o=2;while(X2o!==1){switch(X2o){case 2:this.N0=!0;X2o=1;break;case 4:this.N0=-3;X2o=2;break;X2o=1;break;}}};a.prototype.resume=function(){var i2o;i2o=2;while(i2o!==5){switch(i2o){case 2:this.N0=!1;this.yb.Uh.rh();i2o=5;break;}}};f2o=3;break;case 8:a.prototype.ye=function(){var N2o;N2o=2;while(N2o!==1){switch(N2o){case 4:return this.o0&&this.yb.qa.Uua;break;N2o=1;break;case 2:return this.o0||this.yb.qa.Uua;break;}}};return a;break;case 3:a.prototype.close=function(){var q2o,a,b,t9P,v9P,C9P;q2o=2;while(q2o!==17){t9P="c";t9P+="l";t9P+="o";t9P+="s";t9P+="e";v9P="end";v9P+="p";v9P+="l";v9P+="ay";C9P="l";C9P+="o";C9P+="g";C9P+="dat";C9P+="a";switch(q2o){case 14:q2o=b<a.length?13:11;break;case 6:a=this.yb.FP.Ag([.25,.5,.75,.9,.95,.99]),b=0;q2o=14;break;case 12:b++;q2o=14;break;case 11:a={type:C9P,target:v9P,fields:{bridgestat:a}};q2o=10;break;case 2:a=this.yb.G;this.o0=!0;this.stop();q2o=3;break;case 13:a[b]=a[b]?a[b].toFixed(1):0;q2o=12;break;case 3:this.yb.emit(t9P);this.yb.Dx=!1;q2o=8;break;case 10:f.na(this.yb,a.type,a);q2o=20;break;case 7:this.yb.FP.js();q2o=6;break;case 8:q2o=a.yR?7:20;break;case 20:this.yb.kb.Tg&&this.yb.kb.Tg.yH(!0,this.yb.yl.sessionId,!0);this.yb.Va.Sxa();this.yb.Wnb();q2o=17;break;}}};a.prototype.flush=function(){var o2o,F2o,a,c,d,g,h,t,j9P,l9P,D9P,G9P,W9P,r9P,Q9P,c9P,f9P,m9P,y9P;o2o=2;while(o2o!==26){j9P="end";j9P+="pl";j9P+="a";j9P+="y";l9P="l";l9P+="o";l9P+="gd";l9P+="a";l9P+="ta";D9P="th";D9P+="rou";D9P+="ghp";D9P+="ut-sw";G9P="t";G9P+="hrou";G9P+="ghput";G9P+="-sw";W9P="through";W9P+="pu";W9P+="t-sw";r9P="thro";r9P+="ugh";r9P+="pu";r9P+="t-";r9P+="sw";Q9P="e";Q9P+="ndp";Q9P+="lay";c9P="logd";c9P+="a";c9P+="t";c9P+="a";switch(o2o){case 27:try{F2o=2;while(F2o!==1){switch(F2o){case 2:this.yb.s4(b.Ma.UN);F2o=1;break;}}}catch(y){var w9P;w9P="Hi";w9P+="ndsight: Error evaluating QoE at stopping";w9P+=": ";B6kk.h9P(0);this.yb.Va.mq(B6kk.a9P(y,w9P));}o2o=26;break;case 15:o2o=this.yb.qo?27:26;break;case 11:o2o=t?10:20;break;case 6:g&&g.cdnavtp&&(d.cdnavtp2=g.cdnavtp,d.activecdnavtp=g.activecdnavtp);c.flush();o2o=13;break;case 2:a=this.yb.G;c=this.yb.kb.$e;o2o=4;break;case 4:o2o=c?3:16;break;case 13:t=c.aab();c=c.AYa;o2o=11;break;case 20:c&&c.length&&(d.activeRequests=JSON.stringify(c));this.yb.gf.Oa.LC(b.L.VIDEO)&&(d.enableHudson=!0);o2o=18;break;case 18:Object.keys(d).length&&(d={type:c9P,target:Q9P,fields:d},f.na(this.yb,d.type,d));o2o=17;break;case 10:for(var u in t){f9P="n";f9P+="e";m9P="n";m9P+="e";y9P="n";y9P+="e";t.hasOwnProperty(u)&&(d[y9P+u]=Number(t[u]).toFixed(6),h[m9P+u]=1*d[f9P+u]);}o2o=20;break;case 17:a.MI&&(g&&g[r9P]&&g[W9P].Fa&&this.yb.dt.OYa({avtp:g[G9P].Fa,variance:g[D9P].dh}),this.yb.dt.JYa(h,g.avtp.R3),a=this.yb.dt.F$a(),g=this.yb.dt.Jbb(),a&&(a.n=g,a={type:l9P,target:j9P,fields:{ibef:a}},f.na(this.yb,a.type,a),this.yb.dt.save()));o2o=16;break;case 16:this.yb.Va.ula();o2o=15;break;case 3:d={};g=c.get(!0);h={};g&&g.avtp&&g.avtp.Fa&&(d.avtp=g.avtp.Fa,d.dltm=g.avtp.R3,h.avtp=d.avtp);o2o=6;break;}}};f2o=8;break;}}}();d.ILa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(11);h=a(5);g=function(){var A9P;function a(a,b){var u9P,n5x;u9P=2;while(u9P!==3){n5x="1SIYb";n5x+="Z";n5x+="rN";n5x+="J";n5x+="Cp9";switch(u9P){case 2:this.wa=a;this.K=b;n5x;u9P=4;break;case 4:this.Lja=this.nx=void 0;u9P=3;break;}}}A9P=2;while(A9P!==10){switch(A9P){case 2:a.prototype.vO=function(){var q9P;q9P=2;while(q9P!==1){switch(q9P){case 2:this.nx&&(clearTimeout(this.nx),this.nx=void 0);q9P=1;break;}}};a.prototype.rka=function(){var d9P,a,b,d,D5x;d9P=2;while(d9P!==11){D5x="fi";D5x+="rst";D5x+="DriveStre";D5x+="aming";switch(d9P){case 1:d9P=!this.wa.Ev.N0&&!this.wa.ye()?5:11;break;case 14:b&&!b.Xq||!a||this.wa.AB||(this.wa.kb.Tg&&this.wa.kb.Tg.yH(!0,this.wa.yl.sessionId),this.wa.Va.Sxa());this.pka(this.wa.qa.tg);this.wa.ja.Zl()||this.wa.re.Igb();d9P=11;break;case 5:void 0===this.wa.LTa&&(this.wa.LTa=!0,this.wa.Va.zr(D5x));a=this.wa.qa.ug;b=a[f.L.AUDIO];a=a[f.L.VIDEO];d=!a||a.Hg;(!b||b.Hg)&&d&&this.wa.AB&&this.wa.qa.x1a(this.wa.ze,a?a.ba:b.ba);a=!a||a.Xq;d9P=14;break;case 2:d9P=1;break;}}};a.prototype.FG=function(a){var B9P;B9P=2;while(B9P!==1){switch(B9P){case 2:return this.wa.ye()||this.wa.ja.u7()||this.wa.ja.Ye()||this.wa.cb.Bb[a.O].oF||this.wa.kO?!1:!0;break;}}};A9P=4;break;case 4:a.prototype.rh=function(){var g9P,a,b;g9P=2;while(g9P!==3){switch(g9P){case 2:a=this;b=this.wa.G;!this.wa.Mla||this.wa.rP||this.wa.Dx||(this.wa.rP=setTimeout(function(){var Z9P;Z9P=2;while(Z9P!==4){switch(Z9P){case 2:clearTimeout(a.wa.rP);a.wa.rP=void 0;a.rka();Z9P=4;break;}}},b.a$),b.Tu&&this.wa.hg&&(this.nx||(this.nx=setTimeout(function(){var N9P,b;N9P=2;while(N9P!==9){switch(N9P){case 2:clearTimeout(a.nx);a.nx=void 0;b=a.wa.qa.tg.Rg(f.L.VIDEO);b&&a.Aja(b);N9P=9;break;}}},b.CYa))));g9P=3;break;}}};a.prototype.Aja=function(a,b){var i9P,c,f,d,g;i9P=2;while(i9P!==8){switch(i9P){case 2:c=a.O;i9P=5;break;case 5:f=this.wa.cb.Bb[c];d=f.Co;g=f.Av;d&&g&&(f=f.ik)&&(this.wa.ja.Zl()||this.wa.Md.BYa(c,f,d.P,g.P,a.mua.P,b));i9P=8;break;}}};A9P=9;break;case 9:a.prototype.pka=function(a,b){var K9P,c,d,g,h,k,V5x;K9P=2;while(K9P!==11){V5x="Still ";V5x+="in buf";V5x+="ferin";V5x+="g stat";V5x+="e while pipeline's are done";switch(K9P){case 7:K9P=!k||!h?6:13;break;case 3:h=!g||g.Hg;k=!d||d.Hg;K9P=8;break;case 2:c=a.xa;d=a.Xa[f.L.VIDEO];g=a.Xa[f.L.AUDIO];K9P=3;break;case 8:c.w9||this.wa.qa.Vib(a,c,this.wa.yk&&0===a.ca);K9P=7;break;case 6:K9P=(this.wa.hg&&this.qka(a,d,g),this.wa.Qh&&this.qka(a,g,d),h=!g||g.Hg,k=!d||d.Hg,!k||!h)?14:13;break;case 14:return;break;case 13:this.wa.ja.Zl()&&(this.K.warn(V5x),this.wa.Yt());K9P=12;break;case 12:b||c.UE||this.wa.yk||!a.Y0a()||((b=this.wa.ja.Zl())&&this.wa.G.y3&&(this.wa.jH(),b=!1),a.$R||this.wa.qa.jdb(a,b),a.DH(),d.Vta&&g.Vta&&(d=Object.keys(a.children),this.wa.G.tR&&1===d.length&&!a.children[d[0]].active&&this.wa.qa.qwa(a,d[0]),this.NTa(a,c)));K9P=11;break;}}};a.prototype.NTa=function(a,f){var O9P,c,d,g,k,m,u,l,n,y5x;O9P=2;while(O9P!==22){y5x="No subbranch ";y5x+="cand";y5x+="idate";y5x+="s";y5x+=" to drive";switch(O9P){case 18:this.K.warn(y5x);return;break;case 13:O9P=1<u.length?12:19;break;case 4:k=a.mB.Bj;O9P=3;break;case 20:0!==l&&0!==n?(b.dd(u,function(a){var V9P;V9P=2;while(V9P!==4){switch(V9P){case 2:a.evb=a.weight/l;a.Y_a=a.jxa/n;a.TDa=a.Y_a-a.evb;V9P=4;break;}}}),u.sort(function(a,b){var U9P;U9P=2;while(U9P!==1){switch(U9P){case 2:return a.TDa-b.TDa;break;case 4:return a.TDa+b.TDa;break;U9P=1;break;}}})):u.sort(function(a,b){var F9P;F9P=2;while(F9P!==4){switch(F9P){case 2:a=Math.min.apply(null,a.Rb.Bj);b=Math.min.apply(null,b.Rb.Bj);B6kk.T5x(0);return B6kk.L5x(b,a);break;}}});O9P=19;break;case 14:0===u.length?u=m:2<u.length&&(u.sort(function(a,b){var J9P;J9P=2;while(J9P!==1){switch(J9P){case 4:return b.weight*a.weight;break;J9P=1;break;case 2:return b.weight-a.weight;break;}}}),u.length=2);O9P=13;break;case 5:O9P=this.wa.kb.rdb&&a.mB&&a.p_?4:9;break;case 9:O9P=!c?8:25;break;case 2:g=this.wa.G;O9P=5;break;case 16:c=u[0].Rb;d=u[0].weight;a.mB=c;O9P=26;break;case 3:Math.min(k[0]-a.p_[0],k[1]-a.p_[1])>=g.g1a?a.mB=void 0:(c=a.mB,d=f.mj[c.xa.id].weight);O9P=9;break;case 12:c=u.reduce(function(a,b){var k9P,p9P;k9P=2;while(k9P!==4){switch(k9P){case 2:b.Bj=b.Rb.Bj;b.jxa=Math.min(b.Bj[0],b.Bj[1]);B6kk.T5x(0);p9P=B6kk.p5x(17,18);return[a[0]+b.weight,a[p9P]+b.jxa];break;}}},[0,0]);l=c[0];n=c[1];O9P=20;break;case 25:c.Xc||(c.Xc={bT:h.time.ea(),Gz:0});c.Xc.weight=d;this.pka(c,!0);O9P=22;break;case 8:m=[];u=[];b.dd(a.children,function(a,b){var I9P;I9P=2;while(I9P!==5){switch(I9P){case 2:b=f.mj[b].weight;0!==b&&(b={weight:b,Rb:a},a.DQ(g.$h,!0)||u.push(b),m.push(b));I9P=5;break;}}});O9P=14;break;case 19:O9P=0===u.length?18:16;break;case 26:a.p_=c.Bj;O9P=25;break;}}};A9P=7;break;case 7:a.prototype.qka=function(a,d,g){var n9P,c,k,p,q5x;n9P=2;while(n9P!==33){q5x="d";q5x+="rivePipeline, de";q5x+="laying audio until video actualStartPts determined";switch(n9P){case 27:n9P=this.Tja(d,g).DM?26:25;break;case 35:g=g.Qf;n9P=34;break;case 16:return;break;case 11:d.Stb(this.wa.nEa()?c.Ehb:c.Dhb);n9P=33;break;case 3:p=this.wa.jc(this.wa.ze);n9P=9;break;case 14:this.wa.yk&&b.R(p.ba)&&b.R(a.ba)||(d.Hg||this.wa.lma(d),this.wa.ze<this.wa.sb.length-1&&this.wa.NP(this.wa.ze+1));n9P=33;break;case 22:n9P=!g?21:35;break;case 6:n9P=(b.R(d.ai)&&(d.ai=d.xg?d.xg.index:this.wa.jc(a.ca).OR(k,d.bb)),d.ck&&d.ai>d.ck.index)?14:13;break;case 13:n9P=this.FG(d)&&!(c.zR&&!this.wa.ja.Zl()&&(p=this.wa.kb.$e)&&(k=p.vbb(),(p=p.get())&&p.va&&k&&!1===k.H0a(p.va.Fa)))?12:33;break;case 10:n9P=this.Uja(d,g)?20:23;break;case 7:d.Ha(q5x);n9P=33;break;case 4:n9P=!d.Hg&&this.wa.cb.Bb[k].ik&&(void 0===d.qq||(d.et(d.qq),void 0===d.qq))?3:33;break;case 24:d.efb=g.P,d.YUa(g,c),a.Xc&&++a.Xc.Gz;n9P=33;break;case 15:g=d.$b[g];n9P=27;break;case 8:n9P=c.En&&k===f.L.AUDIO&&b.R(this.wa.cb.Bb[f.L.VIDEO].Hk)?7:6;break;case 25:n9P=(c=this.wa.mUa(d,g))?24:33;break;case 18:g=g.Qf;n9P=17;break;case 2:c=this.wa.G;k=d.O;n9P=4;break;case 17:n9P=b.R(g)?16:15;break;case 26:return;break;case 20:d.M7=h.time.ea();g=this.wa.cb.zS(d);n9P=18;break;case 23:g=this.ZUa(d,g);n9P=22;break;case 21:return;break;case 12:n9P=c.p7a&&!this.wa.ja.Zl()&&0>=d.Xy?11:10;break;case 9:n9P=p.Zk&&!b.R(p.Zk.Mi)?8:33;break;case 34:g=d.$b[g];n9P=25;break;}}};a.prototype.ZUa=function(a,f){var o9P,c,d,g;o9P=2;while(o9P!==12){switch(o9P){case 5:o9P=!(!c.q1&&!c.Mr||a.M7+c.b1>h.time.ea())?4:12;break;case 4:a.M7=h.time.ea();c=this.wa.cb.zS(a);d=c.Qf;o9P=8;break;case 2:c=this.wa.G;o9P=5;break;case 8:o9P=!b.R(d)?7:12;break;case 14:o9P=g&&g.$&&(d=this.Tja(a,d),!d.DM&&d.El&&this.Uja(a,f))?13:12;break;case 13:return c;break;case 7:d=a.$b[d];g=this.wa.re.Tk(a.O,d.za);o9P=14;break;}}};a.prototype.Tja=function(a,b){var H9P,f,d;H9P=2;function c(b){var Y9P;Y9P=2;while(Y9P!==1){switch(Y9P){case 2:0!==b.length&&(b=b[0],b.Oc<a.bb&&(b=b.Oc,a.Gob(b)),f=!0);Y9P=1;break;}}}while(H9P!==9){switch(H9P){case 2:f=!1;H9P=5;break;case 5:this.wa.G.Mr&&a.Za.pqb(this.wa.ze,b.P,c);H9P=4;break;case 4:d=this.wa.cb.Bb[a.O];return this.wa.Mla&&b.Ub&&d.Fva&&b.Ub!==d.Fva&&(0<a.Za.Wv||0<a.Za.ap)?{DM:!0,El:f}:{DM:!1,El:f};break;}}};a.prototype.Uja=function(a,d){var P9P,c,g,h,k,m,u,l,n,N,t5x,b5x,X5x,v5x;P9P=2;while(P9P!==44){t5x="flo";t5x+="ore";t5x+="d to ";t5x+="0";b5x="negative s";b5x+="chedule";b5x+="dBufferLeve";b5x+="l:";X5x=" ";X5x+=">";X5x+="=";X5x+=" ";v5x="No vaca";v5x+="ncy, stalling";v5x+=" due to max ";v5x+="fra";v5x+="meCount:";switch(P9P){case 12:P9P=c.ml&&a.Jz>=a.dz?11:10;break;case 11:return a.Ha(v5x,a.Jz+X5x+a.dz),!1;break;case 27:P9P=d&&(m=a.bb-n,this.wa.yg(d.O)&&!d.Hg&&m>=c.K8&&u>c.$h)?26:21;break;case 23:P9P=void 0===m||m<c.Sgb?22:21;break;case 22:return!1;break;case 15:return!1;break;case 18:N=this.wa.gf;P9P=17;break;case 24:m=d?c.rub?d.X_a:d.W_a:void 0;P9P=23;break;case 29:return!1;break;case 16:P9P=l===f.Ma.ad&&m>c.Tgb&&!this.wa.yk&&!this.wa.q_&&!N||m&&h>Math.max(m*c.H8/100,c.b9)?15:27;break;case 2:c=this.wa.G;g=a.O;h=a.Rb;P9P=3;break;case 26:P9P=this.wa.kb.Jeb?25:24;break;case 28:return c.l4&&a.Za.Wv>=c.hhb||!k&&0<c.iq&&g===f.L.VIDEO&&a.pt>c.iq||0<c.Ks&&!k&&a.pt+(d?d.pt:0)>c.Ks||void 0!==this.Lja&&a.Ae>this.Lja||g===f.L.VIDEO&&this.wa.yk&&a.Ae>c.F8&&(d=this.wa.kb.$e.get(!1),d.Fc&&d.va&&d.va.Fa*a.aF>c.E8)?!1:!0;break;case 19:return!1;break;case 25:return!1;break;case 10:h=a.Za.Gya;P9P=20;break;case 20:P9P=h>=c.Lv?19:18;break;case 3:k=this.wa.jc(h.ca);m=a.Ae;u=this.wa.ja.kf();l=this.wa.ja.gd();u=a.bb+h.Rc-u;P9P=14;break;case 14:0>u&&(a.Ha(b5x,u,t5x),u=0);n=d?d.bb:0;P9P=12;break;case 31:P9P=(k=this.wa.ja.Zl())?30:28;break;case 35:return!1;break;case 32:return!1;break;case 33:P9P=!b.R(c.gq)&&m>=c.gq||a.aF+h>=Math.max(c.PT,this.wa.kb.cCa+c.D9*k.Oa.chb[g])?32:31;break;case 30:P9P=(h=1,a.a2<c.Kv&&(h=c.Kv),a.Za.Wv>=h)?29:28;break;case 34:m=this.wa.qa.Wsb();P9P=33;break;case 21:P9P=c.Mr&&a.Za.ap>=c.M8||this.sUa(g)>=c.Vy?35:34;break;case 17:N=this.wa.ja.pv(N.Oa.M)||N.hs;P9P=16;break;}}};A9P=12;break;case 12:a.prototype.sUa=function(a){var S9P;S9P=2;while(S9P!==1){switch(S9P){case 2:return this.wa.qa.boa.reduce(function(b,c){var s9P;s9P=2;while(s9P!==1){switch(s9P){case 2:return b+c.ubb(a);break;case 4:return b/c.ubb(a);break;s9P=1;break;}}},0);break;}}};return a;break;}}}();d.MIa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(363);h=a(11);g=function(){var M5x;function a(a,b){var h5x,W5x;h5x=2;while(h5x!==4){W5x="1SIYb";W5x+="Z";W5x+="rNJC";W5x+="p9";switch(h5x){case 2:this.Ue=a;this.K=b;W5x;h5x=4;break;}}}M5x=2;while(M5x!==8){switch(M5x){case 9:return a;break;case 2:a.prototype.zTa=function(a,b){var O5x,c,d,S5x;O5x=2;while(O5x!==6){S5x="creat";S5x+="eD";S5x+="lTracksStart";switch(O5x){case 2:c=this;d=this.Ue.G;0===this.xx&&this.Ue.Va.zr(S5x);O5x=3;break;case 3:this.xx+=a.length;a=a.map(function(a){var e5x,g,P5x,I5x,K5x,o5x;e5x=2;while(e5x!==7){P5x="tran";P5x+="spor";P5x+="trepor";P5x+="t";I5x="e";I5x+="r";I5x+="r";I5x+="o";I5x+="r";K5x="c";K5x+="re";K5x+="ate";K5x+="d";o5x="networkfai";o5x+="l";o5x+="in";o5x+="g";switch(e5x){case 8:return g;break;case 4:g.listeners.on(g,o5x,function(){var l5x,w5x;l5x=2;while(l5x!==5){w5x="re";w5x+="por";w5x+="tNe";w5x+="twor";w5x+="kFailing: ";switch(l5x){case 2:d.jf&&c.Ue.Oh(w5x+g);g.C4&&(c.Ue.gf.SI.em(g.pra,void 0,g.Wh,g.sj),c.Ue.V0());l5x=5;break;}}});e5x=3;break;case 2:g=f.zt.sv.QQ(a,b,!0,c.Ue.Zp,c.Ue.yl,d);g.listeners.on(g,K5x,function(){var F5x,J5x;F5x=2;while(F5x!==5){J5x="crea";J5x+="t";J5x+="eDlTracks";J5x+="En";J5x+="d";switch(F5x){case 2:--c.xx;0===c.xx&&c.Ue.Va.zr(J5x);F5x=5;break;}}});e5x=4;break;case 3:g.listeners.on(g,I5x,function(){var s5x,E5x,m5x,j5x;s5x=2;while(s5x!==5){E5x="NFErr_MC_Streaming";E5x+="Fa";E5x+="ilure";m5x="DownloadTr";m5x+="ack fata";m5x+="l er";m5x+="ror";j5x="Down";j5x+="lo";j5x+="adTrack fatal error";switch(s5x){case 2:d.jf&&c.Ue.Oh(j5x);c.Ue.zi(m5x,void 0,E5x,g.Wh,0,g.sj);s5x=5;break;}}});g.on(P5x,function(a){var f5x,k5x;f5x=2;while(f5x!==1){k5x="transpo";k5x+="rtrepor";k5x+="t";switch(f5x){case 4:c.Ue.emit("",a);f5x=5;break;f5x=1;break;case 2:c.Ue.emit(k5x,a);f5x=1;break;}}});e5x=8;break;}}});f.zt.sv.We();O5x=7;break;case 7:return a;break;}}};a.prototype.KTa=function(){var z5x,a,d;z5x=2;while(z5x!==8){switch(z5x){case 2:a=this;d=[];z5x=4;break;case 9:d.forEach(function(b){var U5x;U5x=2;while(U5x!==5){switch(U5x){case 2:b.mo||--a.xx;f.zt.sv.L3(b);U5x=5;break;}}});z5x=8;break;case 4:this.Ue.cb.Bb.forEach(function(a){var C5x;C5x=2;while(C5x!==5){switch(C5x){case 2:b.R(a.ik)||d.push(a.ik);a.ik=void 0;C5x=5;break;}}});this.Ue.OG&&(d.push(this.Ue.OG),this.Ue.OG=void 0);z5x=9;break;}}};a.prototype.HUa=function(){var H5x;H5x=2;while(H5x!==1){switch(H5x){case 2:this.xx=0;H5x=1;break;case 4:this.xx=4;H5x=2;break;H5x=1;break;}}};a.prototype.ama=function(a){var g5x,b,c,d,g,h,m,u,l;g5x=2;while(g5x!==11){switch(g5x){case 2:b=this;c=a.O;d=this.Ue.cb.Bb[c];g5x=3;break;case 3:g=d.ik;g5x=9;break;case 8:h=[];m=this.Ue.re.fv(c);for(u in m){l=m[u];l&&!l.$&&l.fi===g&&(this.Ue.re.gqa(c,u),h.push({stream:l.stream,offset:l.offset,aa:l.aa,dy:l.dy,ca:l.ca,xs:l.xs,Fs:l.Fs}));}this.JTa(a);g5x=13;break;case 9:g5x=g?8:11;break;case 13:d.ik=f.zt.sv.QQ(c,this.Ue.M,!0,this.Ue.Zp,this.Ue.yl,this.Ue.G);h.forEach(function(c){var r5x;r5x=2;while(r5x!==1){switch(r5x){case 2:b.Ue.re.kI(a,b.Ue.M,c.stream,c,c.stream.Oa.ca);r5x=1;break;}}});g5x=11;break;}}};a.prototype.JTa=function(a){var u5x,b;u5x=2;while(u5x!==6){switch(u5x){case 2:b=a.O;u5x=5;break;case 8:f.zt.sv.L3(b);a.ik=void 0;u5x=6;break;case 5:b===h.L.AUDIO&&(a.vE=!0,this.Ue.Md.HE(null));a=this.Ue.cb.Bb[b];b=a.ik;b.mo||--this.xx;u5x=8;break;}}};M5x=9;break;}}}();d.LIa=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(364);g=function(){var Y5x;Y5x=2;function a(a){var G5x,N5x;G5x=2;while(G5x!==5){N5x="1S";N5x+="I";N5x+="YbZrNJC";N5x+="p9";switch(G5x){case 2:this.K=a;N5x;G5x=5;break;}}}while(Y5x!==3){switch(Y5x){case 2:a.prototype.LSa=function(a,f){var A5x,c,T8x,L8x,p8x,B8x,x5x,d5x,Q5x,i5x,c5x;A5x=2;while(A5x!==13){T8x="using sa";T8x+="b cell >= 100, pipeli";T8x+="neEnabled: ";L8x="using sab cell >=";L8x+=" 200";L8x+=", pipelineEnabled: ";p8x=", ";p8x+="allowSwitch";p8x+="back";B8x=", pr";B8x+="obe";B8x+="DetailDenomin";B8x+="ato";B8x+="r: ";x5x="using sab cell >= 300, pr";x5x+="obeServerW";x5x+="henE";x5x+="rro";x5x+="r: ";d5x=", allowS";d5x+="w";d5x+="itc";d5x+="h";d5x+="back";Q5x=", pro";Q5x+="beDetailDenomina";Q5x+="tor:";Q5x+=" ";i5x="using sab cell >= 400, ";i5x+="probeServe";i5x+="rWhenError: ";c5x="applyi";c5x+="ng manifest based s";c5x+="treamingClientConf";c5x+="ig";switch(A5x){case 4:A5x=c&&c.streamingClientConfig&&Object.keys(c.streamingClientConfig).length?3:9;break;case 2:f=b.gpa(f,a);c=a.steeringAdditionalInfo;A5x=4;break;case 9:a=a.cdnResponseData;A5x=8;break;case 3:return a=c.streamingClientConfig,this.K.trace(c5x+JSON.stringify(a)),this.Ila(f,a);break;case 8:A5x=!a?7:6;break;case 7:return f;break;case 6:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!0})):(f.No=!0,f.uz=1,f.Rr=!0),this.K.trace(i5x+f.No+Q5x+f.uz+d5x+f.Rr)):300<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!1})):(f.No=!0,f.uz=1,f.Rr=!1),this.K.trace(x5x+f.No+B8x+f.uz+p8x+f.Rr)):200<=a?(f.set?f.set({pipelineEnabled:!1}):f.An=!1,this.K.trace(L8x+f.An)):100<=a&&(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:1}),f.set({maxActiveRequestsPerSession:f.LT}),f.set({maxPendingBufferLen:f.RT})):(f.An=!0,f.JD=1,f.gq=f.LT,f.Lv=f.RT),this.K.trace(T8x+f.An)));return f;break;}}};a.prototype.NSa=function(a,b){var R5x;R5x=2;while(R5x!==9){switch(R5x){case 2:R5x=!b.U2||a===this.PUa?1:5;break;case 5:this.PUa=a;for(var c in b.U2)new RegExp(c).test(a)&&(b=this.Ila(b,b.U2[c]));return b;break;case 1:return b;break;}}};a.prototype.Ila=function(a,b){var Z5x,c,f,d,a8x;Z5x=2;while(Z5x!==4){switch(Z5x){case 2:for(f in b)if(b.hasOwnProperty(f)){a8x="Invalid";a8x+=" k";a8x+="e";a8x+="y";d=b[f];a.set?0===a.set((c={},c[f]=d,c))&&this.K.trace(a8x+f):a[f]=d;}return a;break;}}};return a;break;}}}();d.cHa=g;},function(g,d,a){var f;function b(a){this.Gr=void 0;this.gVa=a;this.F0=[];this.Wd=[];}a(6);a(11);f=a(44).Ky;a(24);b.prototype.reset=function(a){this.Gr=void 0;this.F0=[];a&&(this.Wd=[]);};b.prototype.add=function(a,b){var c,d;c=b.filter(function(b,c){return f(b)||c===a.wd;});d=c.map(function(a){return a.P;});b=c.indexOf(b[a.wd]);this.Gr&&(this.Gr.length!==d.length||this.Gr.some(function(a,b){return a!==d[b];}))&&(c=this.Fsa())&&(this.Wd.push(c),this.reset(!1));void 0===this.Gr&&(this.Gr=d);this.F0.push([b,a.sDa,a.bb,a.$_a,a.goa,a.Wlb,a.rjb,a.Hlb,a.Ap,a.Xm,a.ssb-a.sDa]);};b.prototype.N7a=function(){for(var a=this.F0,b=[],c=[],f=0;f<a.length;f++){for(var d=a[f],g=[],h=0;h<d.length;h++)g.push(d[h]-(c[h]||0));b.push(g);c=d;}return b;};b.prototype.Fsa=function(){var a;a=this.N7a();if(0!==a.length)return{dltype:this.gVa,bitrates:this.Gr,seltrace:a};};b.prototype.get=function(){var a,b;a=this.Fsa();b=this.Wd;a&&b.push(a);if(0!==b.length)return b;};g.T=b;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);f=a(683);g=function(){function a(){this.CP=[];this.CP[b.L.VIDEO]=new f(b.L.VIDEO);this.CP[b.L.AUDIO]=new f(b.L.AUDIO);}a.prototype.YYa=function(a,b,f){this.CP[a].add(b,f);};a.prototype.Obb=function(){var a;a=[];this.CP.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.M8a=function(a){var b;b=this.Obb();a.strmsel=b;return 0<b.length;};return a;}();d.lQa=g;},function(g,d,a){var b,f,h,m,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(351);f=a(200);h=a(11);m=a(59);g=function(){function a(a,b){this.G=a;this.K=b;this.h0=this.b0=this.Vt=m.gc.Ef;this.aP=void 0;this.Ek=this.K.trace.bind(this.K);this.Txa=new c(a,b);}a.prototype.qaa=function(a,b,c,f,d,g,k,u,l){var q,p,t,A,y,n,x;q=!1;a=a===h.L.AUDIO&&!!b.Ta&&this.fXa(b.stream);p=m.gc.Ef;t=b.Mf;if(a){A=b.stream.Ia;y=this.nUa(b.profile,A);n=b.vw+b.dm;if(b.aq)b=new m.gc(b.ba-n,1E3),q=this.Vt.add(b).r6(y);else if(void 0!==c){x=b.g$;new m.gc(n-b.U,1E3);n=this.Vt.add(c.ke(x));if(x.add(A).tfb(c)||n.r6(y))q=!0,x.add(A),n=n.ke(A);n.Mxa(this.Vt)&&n.lessThan(m.gc.DK.k9(-8))?(q=a=!1,this.Txa.reset(),this.Vt=m.gc.Ef,k=f.add(d),u(k),t.bd("Unexpected seamless audio sync "+n.toString()+" at content pts "+b.Oc+" in stream "+b.stream.za+" following "+g.Te)):(g=f.add(n).add(d),k=this.Txa.round(b,k,g,q),u(k),n.Mxa(this.Vt)&&(this.b0=m.gc.max(this.b0,n),this.h0=m.gc.min(this.h0,n),l(this.b0,this.h0),p=n.ke(this.Vt),this.Vt=n));}}return{qaa:a,K6a:q,d_a:p};};a.prototype.fXa=function(a){void 0===this.iH&&(this.iH=f.gna(this.G,a));return this.iH;};a.prototype.nUa=function(a,b){void 0===this.aP&&("object"===typeof this.G.raa&&this.G.raa[a]?(a=new m.gc(this.G.raa[a],1E3).lm(b.ga).add(new m.gc(1,b.ga)),this.aP=m.gc.min(b,a)):this.aP=b);return this.aP;};return a;}();d.TQa=g;c=function(){function a(a,b){this.G=a;this.K=b;this.EP=0;}a.prototype.round=function(a,b,c,f){this.G.En||(a=this.fTa(a,c,f),b=b.ke(a),b.r6(m.gc.DK.k9(2))?(c=c.ke(m.gc.DK),++this.EP):this.EP&&b.lessThan(m.gc.DK)&&(c=c.add(m.gc.DK),--this.EP));return c;};a.prototype.reset=function(){this.EP=0;};a.prototype.fTa=function(a,c,f){var d;d=a.c2a;this.G.eo&&a.stream.yj&&(d=d.ke(a.stream.yj));f&&(d=d.add(a.stream.Ia));return b.txa(d).add(b.txa(c));};return a;}();},function(g,d,a){var b,f,h,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(11);h=a(5);m=a(44).Ky;c=a(24).ID;k=a(354);g=function(){function a(a,b,c,d){var g;g=this;this.X=a;this.K=b;this.Md=c;this.G=d;this.NB=[];[f.L.AUDIO,f.L.VIDEO].forEach(function(a){g.X.yg(a)&&(g.NB[a]=new p(g.K,a));});this.au=void 0;}Object.defineProperties(a.prototype,{Bb:{get:function(){return this.NB;},enumerable:!0,configurable:!0}});a.prototype.HD=function(a){var c,d,g,k,q,p,m,t,u,l;c=this.G;d=this.X;g=a.O;k=d.$j()[g];q=a.Rb.ca;p=d.jc(q);m=this.NB[g];t=g===f.L.VIDEO?c.H1:c.vca;u=d.ja.gd();l=d.ja.kf();c=a.Za.uta();k={Hu:k,U:c.Hc,sf:l,bb:c.Ilb||l,Qk:a.Vx||l,mm:c.mm,Xv:c.Xv,y9a:c.$.length,$:[]};p={state:u,Iy:d.ja.Iy()&&!d.nEa(),pw:a.ai,buffer:k,Vr:p.Oa.Qna[g],D6a:t,Agb:!!d.j8,hGb:d.YTa,vR:!!d.fw,Ap:d.kb.$e&&d.kb.$e.Ap};void 0===p.pw&&(p.pw=d.jc(q).OR(g,k.bb));k.$=c.$;p.state!==f.Ma.ad||0!==k.$.length||b.pa(a.QE.lfb)||(g=d=void 0,a.xV&&(g=h.time.ea()-a.xV.time,d=a.xV.reason),a.bd("makePlayerInfo, PLAYING with 0 fragments,","lastStreamAppended:",m.Co,"lastStreamSelected:",m.Li,"last pipeline.reset:",d,"delta:",g));b.pa(k.U)?a.seeking&&k.sf!=k.U&&(k.sf=k.U):(k.U=0,k.bb=0);this.Md.b1a(p);this.Md.UYa(p);return p;};a.prototype.a1a=function(a,b,c){var q,p;a=this.NB[a];for(var f=a.vn,d="manifest",g=this.X,h=0,k=b.length-1;0<=k;k--){q=b[k];p=q.P;if(m(q)){h=Math.max(h,p);break;}else!q.inRange&&q.CC&&Array.isArray(q.CC)?d=q.CC.join("|"):this.G.kW&&!q.Zu?d="bc":q.lf?q.Sg&&(d="hf"):d="av";}if(void 0===f||h!==f){a.vn=h;if(g.qo)try{this.au&&this.Dcb();}catch(D){g.Va.mq("Hindsight: Error when handling maxbitrate chagned: "+D);}g.Va.bjb(f,h,d,c);}};a.prototype.Gbb=function(a){return this.zS(a).Qf;};a.prototype.zS=function(a){var c,d,g,h,k,q,p,m,t,u,l,n,r;c=this.G;d=this.X;g=a.O;h=g==f.L.VIDEO;k=0;p=this.NB[g];if(!p.ik)return{Qf:void 0};m=this.HD(a);t=p.Li;u=a.Rb.ca;l=d.jc(u);n=l.Qp(g).$b;r=t?t.index:p.aJ;if(t&&(k=t.P,t.AQ)){r=d.Bka(n,k);q=n[r];if(t.P!==q.P||!t.AQ.replace&&g===f.L.VIDEO)m.state=f.Ma.Lh;t.index=r;t.P=q.P;}if(!l.Do.AW(m,u,n))return a.bd("location selector did not find any urls"),{Qf:void 0};if(!h){q=c.$L;if(!(q&&0<q.length||a.vE)&&r&&n[r]&&t&&t.location===n[r].location)return{Qf:r,fI:!0};a.vE&&(m.state=f.Ma.Lh,r=void 0);}if(h&&c.Tu&&c.g6a&&!p.ik.bk()&&a.Ae>c.pQ)return{Qf:a.edb,fI:!0};this.Md.soa(m.pw,n);m=a.QE.Caa(m,n,void 0,this.Md.lbb(g),p.ik.config.Mf,c.qca&&0===d.Ala?c.Uy:c.J8,l.SI);if(!m)return a.bd("stream selector did not find a stream"),{Qf:void 0};d.fw&&d.fw.YYa(a.O,m,n);h&&this.a1a(g,n,a.bb);g=m.wd;n=n[g].P;t=a.Ae;m.H4a&&t<c.X1&&n<k&&d.Va.YVa(k,n);g!=r&&(h&&c.Tu&&d.Uh.Aja(a,n),h||this.Md.HE(n));b.pa(p.aJ)||(p.aJ=g);a.Hp||(m.Hp?(a.Hp=!0,p.coa=m.reason):(a.dK=m.dK,a.Lz=m.Lz,a.Qi=m.Qi));d.Yt();h&&d.re.Zpb(m.ps);return{Qf:g,fI:m.fI};};a.prototype.H4=function(a,b){var c,d,g,h,k;if(this.au){c=this;d=this.au;g=this.X;h=g.ja.kf();k=[];b&&(h=b.ba);g.qa.ug.forEach(function(b){var d,q;d=c.HD(b);q=b.O;d.O=q;d.headers=g.re.fv(q);d.sf=h;a===f.Ma.Qt&&(d.Yza=b.Za.s1(h));k[q]=d;});d.vra||d.jy(k,a)||this.baa();return d;}};a.prototype.Dcb=function(){var a,b,c,d,g;a=this;b=this.au;c=this.G;d=this.X;g=[];b&&(this.H4(void 0),b&&!b.WB&&this.Md.D$.r4(b));d.qa.ug.forEach(function(b){var c,f;c=a.HD(b);f=b.O;c.Il=h.time.ea();c.$b=b.$b;c.O=f;g[f]=c;});b=d.$j();b={uYa:b[f.L.AUDIO],iF:b[f.L.VIDEO],hK:c.Vy};this.au=b=new k(g,h.time.ea(),void 0,d.k4,b,c.yJ);};a.prototype.baa=function(){this.au=void 0;};a.prototype.Vtb=function(a){var b,c,d,g,q,p;b=this;c=a.oldValue;d=a.newValue;g=this.au;a=this.G;q=this.X;d===f.Ma.ad&&c!==f.Ma.ad?(g&&q.K.warn("override an existing play segment!"),p=[],q.qa.ug.forEach(function(a){var c,f,d;c=b.HD(a);f=a.O;d=b.Bb[f];d.jba?(c.Il=d.jba,d.jba=void 0):c.Il=d.Il;c.$b=a.$b;c.O=f;p[f]=c;}),d=q.$j(),d={uYa:d[f.L.AUDIO],iF:d[f.L.VIDEO],hK:a.Vy},this.au=g=new k(p,h.time.ea(),c,q.k4,d,a.yJ)):d!==f.Ma.ad&&c===f.Ma.ad&&g&&(this.H4(d),g&&!g.WB&&this.Md.D$.r4(g),this.baa());};a.prototype.Fcb=function(a){this.NB.forEach(function(b){b.Li||(b.Li={});b.Li.AQ={replace:a};b.Li.location=void 0;});};return a;}();d.kRa=g;p=function(){return function(a,b){this.O=b;this.K=c(h,a,"["+b+"]");this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.fb=this.K.log.bind(this.K);this.bu=this.K.debug.bind(this.K);this.Sl=this.aJ=this.Il=this.UH=this.Hk=this.G7=this.ik=void 0;this.PK=this.Mo=0;this.connected=!1;this.O7=this.yD=this.xD=this.L7=this.Av=this.Co=this.Li=void 0;this.oF=!1;this.vn=this.coa=this.zo=void 0;};}();d.KCb=p;},function(g,d,a){(function(){var n8x,f,d,h,c,k2W,p2W;n8x=2;while(n8x!==10){k2W="1S";k2W+="IYb";k2W+="Zr";k2W+="N";k2W+="JCp9";p2W="I";p2W+="TE_A";p2W+="SE";p2W+="J";p2W+="S";switch(n8x){case 2:f=a(6);d=a(5);n8x=4;break;case 8:b.prototype.lS=function(){var y8x,a,b;y8x=2;while(y8x!==7){switch(y8x){case 1:return 0;break;case 5:a=0,b=0;y8x=4;break;case 2:y8x=1>this.Aq.length?1:5;break;case 3:a+=this.Aq[b].get().XFb.OH;y8x=9;break;case 9:b++;y8x=4;break;case 4:y8x=b<this.Aq.length?3:8;break;case 8:return a/this.Aq.length;break;}}};b.prototype.O5=function(){var q8x,d,a,b,c,f;q8x=2;while(q8x!==14){switch(q8x){case 3:q8x=a>=this.kU[d][0]&&a<=this.kU[d][1]?9:8;break;case 5:q8x=f<c.length?4:7;break;case 2:q8x=1;break;case 9:b=d;q8x=7;break;case 4:d=c[f];q8x=3;break;case 1:a=this.lS(),b=void 0,c=Object.keys(this.kU),f=0;q8x=5;break;case 8:f++;q8x=5;break;case 6:return{u8:this.FD[b].lrWeights,s8:this.FD[b].lrMeans,t8:this.FD[b].lrStd,Ugb:this.Vgb[b]};break;case 7:q8x=b?6:14;break;}}};b.prototype.AH=function(a,b){var v8x,U8W;v8x=2;while(v8x!==1){U8W="a";U8W+="v";U8W+="t";U8W+="p";switch(v8x){case 2:return U8W==a?0<b?Math.log(b):null:b;break;}}};b.prototype.Ssa=function(){var X8x,a,b,f,z8W,J8W,I8W,w8W,X8W,Y8W,Z8W,F8W;X8x=2;while(X8x!==20){z8W="n";z8W+="iq";z8W+="r";J8W="f";J8W+="n";J8W+="s";I8W="a";I8W+="v";I8W+="tp";w8W="f";w8W+="n";w8W+="s";X8W="a";X8W+="v";X8W+="t";X8W+="p";Y8W="l";Y8W+="n";Y8W+="s";Z8W="a";Z8W+="v";Z8W+="t";Z8W+="p";F8W="e";F8W+="n";F8W+="s";switch(X8x){case 4:[{KL:F8W,Kq:Z8W},{KL:Y8W,Kq:X8W},{KL:w8W,Kq:I8W},{KL:J8W,Kq:z8W}].forEach(function(c){var a8n=B6kk;var b8x,d,f,c2W,r2W,i8W,g8W,t8W,o8W,b8W,S8W,W8W,x8W,C8W,l8W,A8W,j8W,R8W,T8W,h8W;b8x=2;while(b8x!==17){c2W="s";c2W+="t";c2W+="d";r2W="me";r2W+="a";r2W+="n";i8W="s";i8W+="t";i8W+="d";g8W="m";g8W+="ea";g8W+="n";t8W="m";t8W+="e";t8W+="a";t8W+="n";o8W="s";o8W+="t";o8W+="d";b8W="p";b8W+="5";b8W+="0";S8W="p";S8W+="2";S8W+="5";W8W="p";W8W+="7";W8W+="5";x8W="p";x8W+="5";x8W+="0";C8W="n";C8W+="iq";C8W+="r";l8W="s";l8W+="t";l8W+="d";A8W="me";A8W+="a";A8W+="n";j8W="p";j8W+="7";j8W+="5";R8W="p";R8W+="5";R8W+="0";T8W="p";T8W+="2";T8W+="5";h8W="l";h8W+="as";h8W+="t";switch(b8x){case 2:b8x=1;break;case 1:f=0;b8x=5;break;case 9:f++;b8x=5;break;case 19:a8n.u8W(0);b[a8n.G8W(d,h8W)]=this.AH(c.Kq,a.me[f-1]);a.me=[];b8x=17;break;case 5:b8x=f<this.Aq.length?4:8;break;case 4:d=this.Aq[f].get()[c.KL][c.Kq];d&&a.wH(Number(d));b8x=9;break;case 8:f=a.vy();d=c.KL+"-"+c.Kq+"-";a8n.u8W(0);b[a8n.G8W(d,T8W)]=this.AH(c.Kq,a.Jl(25));a8n.u8W(0);b[a8n.E8W(d,R8W)]=this.AH(c.Kq,a.Jl(50));a8n.u8W(0);b[a8n.E8W(d,j8W)]=this.AH(c.Kq,a.Jl(75));b8x=12;break;case 12:a8n.u8W(0);b[a8n.G8W(d,A8W)]=this.AH(c.Kq,a.vQ());a8n.u8W(0);b[a8n.G8W(d,l8W)]=a.YH();a8n.e8W(0);b[a8n.E8W(d,C8W)]=0<b[d+x8W]?(b[d+W8W]-b[d+S8W])/b[d+b8W]:0;a8n.u8W(0);b[a8n.G8W(d,"b")]=0<b[d+o8W]||0<b[d+t8W]?(b[d+g8W]-b[d+i8W])/(b[d+r2W]+b[d+c2W]):0;b8x=19;break;}}},this);f=this.Aq.length;b.zBa=f;b.hJb=this.Aq[f-1].get().bHb;X8x=7;break;case 2:a=new c(100);b={};X8x=4;break;case 7:b.nmb=this.Aq[f-1].get().t;f=this.qy();b.Ipa=f.Ipa;X8x=13;break;case 13:b.q3=f.q3;b.mKb=b.q3-b.nmb;b.oHb=1;return b;break;}}};n8x=13;break;case 4:h=new d.Console(p2W);n8x=3;break;case 13:b.prototype.Rsa=function(){var t8x,b,c,d,g,D2W;t8x=2;while(t8x!==11){D2W="g";D2W+="etPa";D2W+="ra";D2W+="m";D2W+="s:";switch(t8x){case 1:t8x=2>this.Aq.length||this.lS()>this.joa||0>this.lS()||a(this.kU,this.joa)?5:4;break;case 2:t8x=1;break;case 4:b=this.O5();t8x=3;break;case 9:return 0;break;case 5:return 0;break;case 8:0&h.log(D2W,JSON.stringify(b));c=this.Ssa();d=0;g=!Object.keys(c).some(function(a){var F8x,B2W;F8x=2;while(F8x!==4){B2W="nu";B2W+="m";B2W+="ber";switch(F8x){case 5:return!0;break;case 2:F8x=b.u8.hasOwnProperty(a)&&b.s8.hasOwnProperty(a)&&b.t8.hasOwnProperty(a)&&B2W==typeof c[a]?1:5;break;case 1:d+=(c[a]-b.s8[a])/b.t8[a]*b.u8[a];F8x=4;break;}}});t8x=13;break;case 3:t8x=f.R(b)?9:8;break;case 13:d=Math.exp(d);return 0<d&&d<=b.Ugb&&g&&1<c.zBa?d:0;break;}}function a(a,b){var M8x,c;M8x=2;while(M8x!==4){switch(M8x){case 2:c=Object.keys(a).map(function(b){var h8x;h8x=2;while(h8x!==1){switch(h8x){case 2:return a[b];break;case 4:return a[b];break;h8x=1;break;}}});M8x=5;break;case 5:return Object.keys(a).some(function(c){var O8x;O8x=2;while(O8x!==1){switch(O8x){case 2:return a[c][0]>a[c][1]||0>a[c][0]||0>a[c][1]||a[c][0]>b||a[c][1]>b;break;}}})||b!=[].concat.apply([],c).reduce(function(a,b){var e8x;e8x=2;while(e8x!==1){switch(e8x){case 4:return a<b?a:b;break;e8x=1;break;case 2:return a>b?a:b;break;}}});break;}}}};g.T=b;k2W;n8x=10;break;case 3:c=a(208);b.prototype.qy=function(){var V8x,a;V8x=2;while(V8x!==4){switch(V8x){case 2:a=d.time.now();return{Ipa:new Date(a).getHours(),q3:a};break;}}};n8x=8;break;}}function b(a,b){var D8x;D8x=2;while(D8x!==7){switch(D8x){case 2:this.config=a;this.Aq=b;D8x=5;break;case 8:this.joa=a.bwThreshold;D8x=7;break;case 5:a=a.initThroughputPredictor;this.kU=a.modelMap;this.FD=a.lrParams;this.Vgb=a.maxBwPredictionMap;D8x=8;break;}}}}());},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.qh={};this.d0=a;this.me=[];this.Pm=!1;this.Ax=void 0;}a.prototype.wH=function(a){this.me.length===this.d0&&this.me.shift();Array.isArray(a)?this.me=this.me.concat(a):this.me.push(a);this.Pm=!0;};a.prototype.vy=function(){return this.me.length;};a.prototype.vQ=function(){var a;a=this.me;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.me.length:void 0;};a.prototype.YH=function(){var a,f;a=this.me;f=this.vQ();if(0<a.length&&"undefined"!==typeof f)return a=a.reduce(function(a,b){return a+b*b;},0)/a.length,Math.sqrt(a-f*f);};a.prototype.Jl=function(a){var b,d,g;if(this.Pm||void 0===this.Ax)this.Ax=this.me.slice(0).sort(function(a,b){return a-b;}),this.Pm=!1;if(void 0===this.qh[a]){b=this.Ax;d=Math.floor(a/100*(b.length-1)+1)-1;g=(a/100*(b.length-1)+1)%1;this.qh[a]=d===b.length-1?b[d]:b[d]+g*(b[d+1]-b[d]);}return this.qh[a];};return a;}();d.rZ=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f,d){this.MXa=f;this.VSa=d;this.K=a;}a.prototype.o$=function(a){a=this.Wdb(a,this.MXa)+this.VSa;return this.u0=isNaN(a)?NaN:this.cba(a);};a.prototype.o1a=function(a){return isNaN(this.u0)?0:this.u0>a?1:0;};a.prototype.Wdb=function(a,f){var b;b=0;if(a.length!==f.length)b=NaN;else for(var d=0;d<a.length;d++)b+=a[d]*f[d];return b;};a.prototype.cba=function(a){return 1/(1+Math.exp(-a));};return a;}();d.ZLa=g;},function(g,d,a){var b,f,h,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(6);h=a(5);m=a(689);c=a(688);k=function(){return function(){this.OH=new c.rZ(100);this.rU=new c.rZ(100);};}();g=function(){function a(a,b,c){var d,g,h;this.G=b;this.K=c;this.wP=a;d=this.zx=this.hB=this.gB=0;g=0;h=0;this.wP.length>=this.G.eU&&(this.wP.forEach(function(a){!(a=a.get().p9a)||f.R(a.avtp)||f.R(a.neuhd)||(d+=a.avtp,g+=1*a.neuhd,h++);}),this.zx=h,this.gB=d/h,this.hB=g/h);}Object.defineProperties(a.prototype,{q_a:{get:function(){return this.gB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{r_a:{get:function(){return this.hB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zBa:{get:function(){return this.zx;},enumerable:!0,configurable:!0}});a.prototype.mT=function(){return this.zx>=this.G.eU&&this.gB>=this.G.baselineHighAndStableThreshold.bwThreshold&&this.hB<this.G.baselineHighAndStableThreshold.nethreshold;};return a;}();d.Sea=g;g=function(a){function c(b,c,f){b=a.call(this,b,c,f)||this;b.XZ=[];b.K8a={};b.NCa=[];b.ls=new k();b.wP.length>=b.G.eU&&(b.xma("avtp",b.ls.OH),b.xma("neuhd",b.ls.rU));return b;}b.__extends(c,a);c.prototype.mT=function(){var a;this.O5();a=new m.ZLa(this.K,this.NCa,this.G_a);a.o$(this.XZ);a=a.o1a(this.G.PS.iJb);return this.tub&&1===a&&this.zx>=this.G.eU;};c.prototype.qy=function(){var a,b,c,f;a={};b=h.time.now();c=new Date(b);f=c.getHours();a.currentMonoTime=b;a.currentTime=c.getTime();a.currentHour=f;return a;};c.prototype.Isa=function(a,b,c){a="avtp"===a?this.gB:this.hB;for(var d=b.YH(),g=0,h="skew"===c?3:4,k=0;k<b.me.length;k++)f.R(a)||f.R(d)||(g+=Math.pow(b.me[k]-a,h));g/=b.me.length;return!f.R(d)&&0<d?g/Math.pow(d,h)-3*("skew"===c?0:1):NaN;};c.prototype.Tsa=function(a,b,c){var f;f=0;"lte"===c?f=a.reduce(function(a,c){return c<=b?a+1:a;},0)/(1*a.length):"gte"===c&&(f=a.reduce(function(a,c){return c>=b?a+1:a;},0)/(1*a.length));return f;};c.prototype.Wab=function(a){var b,c;b=a.Jl(25);c=a.Jl(50);a=a.Jl(75);return f.R(b)||f.R(c)||f.R(a)?NaN:0<c?(a-b)/c:NaN;};c.prototype.n$a=function(a,b){a="avtp"===a?this.gB:this.hB;b=b.YH();return!f.R(b)&&!f.R(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};c.prototype.pJ=function(a,b){a=a.Jl(b);return f.R(a)?NaN:a;};c.prototype.normalize=function(a,b,c){return!isNaN(a)&&0<c?(a-b)/c:NaN;};c.prototype.O5=function(){var a,b,c,d,g,h,k,q,m,p,u,l;a=this;b=this.G.PS.FD.u8;c=this.G.PS.FD.s8;d=this.G.PS.FD.t8;q=[];l=0;this.tub=!Object.keys(b).some(function(t){var A;u=NaN;if(!(b.hasOwnProperty(t)&&c.hasOwnProperty(t)&&d.hasOwnProperty(t)&&!f.R(a.ls)&&a.ls.OH&&a.ls.rU)||1>a.zx||"number"!==typeof b[t]||"number"!==typeof c[t]||"number"!==typeof d[t])return!0;g=b[t];h=c[t];k=d[t];q=t.split("_",2);m=q[0];p=q[1];switch(m){case"avtp":A=a.ls.OH;break;case"neuhd":A=a.ls.rU;break;default:A=void 0;}if("avtp"===m||"neuhd"===m){if(A)switch(p){case"last":u=A.me[a.zx-1];break;case"mean":u="avtp"===m?a.gB:a.hB;break;case"niqr":u=a.Wab(A);break;case"skew":u=a.Isa(m,A,"skew");break;case"kurtosis":u=a.Isa(m,A,"kurtosis");break;case"std":u=A.YH();break;case"b":u=a.n$a(m,A);break;default:-1!==t.search("[p][1-9]?[1-9]")&&(u=a.pJ(A,Number(t.split("_p",2)[1])));}}else switch(t){case"fracAbove20Mbps":A=a.ls.OH;u=f.R(A)?NaN:a.Tsa(A.me,2E4,"gte");break;case"fracBelow20p":A=a.ls.rU;u=f.R(A)?NaN:a.Tsa(A.me,.15,"lte");break;case"hour_current":u=a.qy().currentHour;break;case"session_ct":u=a.zx;break;case"intercept":u=g,a.G_a=u;}u=a.normalize(u,h,k);if(isNaN(u))return!0;"intercept"!==t&&(a.XZ.push(u),a.NCa.push(g),a.K8a[t]=l,l+=1);});};c.prototype.xma=function(a,b){this.wP.forEach(function(c){c=c.get().p9a;!c||"avtp"!==a&&"neuhd"!==a||f.R(c[a])||b.wH(Number(c[a]));});};return c;}(g);d.mKa=g;},function(g){function d(a,b,d){var c,f;c=[];d.forEach(function(a){c.push(a[b].aa);});d=c.filter(function(b){return b<=a;});0<d.length?(d=d[d.length-1],f=c.lastIndexOf(d)):(d=c[0],f=0);return{Jn:d,wd:f};}function a(a,b,d){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*d*1/8;}function b(a,b,d,c,g){var f,h,k,m,u,l;f=a.Fg;h=d+f.U;d=a.nk[f.IJ];a=a.W1;k={wM:!0,waitUntil:void 0,OJ:!1};m=d.filter(function(a){return a&&a.U<=h&&a.U+a.duration>h;})[0];if(void 0===m)return{OJ:!0};u=g-1-(m.index-1);c=f.yM+c;l=0;l=m.index<f.Gg?l+d.slice(f.jt,m.index).reduce(function(a,b){return a+b.aa;},0):l+f.yM;l=l+b.slice(f.Gg,m.index).reduce(function(a,b){return a+b.Jn;},0);c-=l;if(u>=a.hK||c>=a.iF)for(k.wM=!1,m=m.index;m<g&&(u>=a.hK||c>=a.iF);)k.waitUntil=d[m].U+d[m].duration-f.U,c=m<f.Gg?c-d[m].aa:c-b[m].Jn,--u,m+=1;return k;}g.T={tJ:function(f){var n,x,G,N,r,S,X,D,U,P,ia,Z,ea;for(var g,h=f.Fg,c=f.Sk,k=c.Zj,p=f.nk,q=!0,t=[],l,y=k=Math.min(c.hq,k);y>=h.Gg;y--){g=f.nk[0][y].U-f.Fg.U;y<k&&(g=Math.min(t[y+1].startTime,g));c=p[0][y].aa;l=h.xu*p[0][y].duration*1/8;a:{n=void 0;r=c+l;l=f.Xo;S=h.Bn;X=l.trace;D=1*l.Lk;x=g+S-l.timestamp;G=Math.floor(1*x/D);N=0+(x-G*D)/D*a(X,G,D);if(N>=r)n=x-1*r/N*(x-G*D);else for(x=G;N<r;){--x;if(0>x){n=-1;break a;}G=a(X,x,D);if(N+G>=r){n=1*(r-N)/G*D;n=(x+1)*D-n;break;}N+=G;}n=n+l.timestamp-S;}if(0>n){q=!1;break;}t[y]={startTime:n,endTime:g,UQ:g,Jn:c,wd:0};}g={Ki:q,Dq:t,Yp:!1,Tv:0===t.length};if(!1===g.Ki||!0===g.Tv)return g;a:{h=f.Fg;k=f.Sk;p=k.Zj;q=f.nk;c=t=0;g=g.Dq;n=y=0;p=Math.min(k.hq,p);for(S=h.Gg;S<=p;S++){N=g[S];r=N.wd;l=q[r][S].duration;D=S===h.Gg?0:g[S-1].endTime;r=b(f,g,D,t,S);if(r.OJ){g={Ki:!1,Yp:!0};break a;}r.wM||(D=r.waitUntil);G=N.UQ;P=f.Xo;U=h.Bn;N=0;r=P.trace;X=1*P.Lk;x=Math.max(0,D+U-P.timestamp);P=G+U-P.timestamp;if(!(D>=G)){ia=Math.max(0,Math.floor(1*x/X));Z=1*P/X;if(ia===Math.floor(Z))N+=(P-x)/X*a(r,ia,X);else for(Z=Math.ceil(Z),U=ia,G=Z,ia*X<x&&(U++,N+=(ia*X+X-x)/X*a(r,ia,X)),Z*X>P&&(N+=(P-G*X)/X*a(r,Z,X),G--),x=U;x<=G;x++)N+=a(r,x,X);}X=h.xu*l*1/8;c+=X;r=d(N-X,S,q);N=r.Jn;r=r.wd;X=N+X;U=f.Xo;G=x=0;P=U.trace;Z=Math.max(0,D+h.Bn-U.timestamp);U=1*U.Lk;ea=ia=Math.max(0,Math.floor(1*Z/U));for(ea*U<Z&&(ia+=1,Z=ea*U+U-Z,ea=Z/U*a(P,ea,U),x=X-G<ea?x+(X-G)/ea*1*Z:x+Z,G+=ea);G<X;)Z=a(P,ia,U),x=X-G<Z?x+(X-G)/Z*1*U:x+U,G+=Z,ia+=1;X=x;g[S].startTime=D;g[S].endTime=D+X;g[S].Jn=N;g[S].wd=r;S<=k.Zj&&(t+=N,n+=l,y+=l*f.$b[r].P);}g={Ki:!0,Yp:!1,Dq:g,o6a:0<n?1*y/n:0,U3:n,T3:t,S3:c};}return g;}};},function(g){function d(b,f){void 0===b&&(b=[]);void 0===f&&(f=a);this.data=b;this.length=this.data.length;this.compare=f;if(0<this.length)for(b=(this.length>>1)-1;0<=b;b--)this.oka(b);}function a(a,f){return a<f?-1:a>f?1:0;}d.prototype.constructor=d;d.prototype.push=function(a){this.data.push(a);this.length++;this.ZXa(this.length-1);};d.prototype.pop=function(){var a,f;if(0!==this.length){a=this.data[0];f=this.data.pop();this.length--;0<this.length&&(this.data[0]=f,this.oka(0));return a;}};d.prototype.bE=function(){return this.data[0];};d.prototype.ZXa=function(a){for(var b=this.data,d=this.compare,g=b[a],c,h;0<a;){c=a-1>>1;h=b[c];if(0<=d(g,h))break;b[a]=h;a=c;}b[a]=g;};d.prototype.oka=function(a){for(var b=this.data,d=this.compare,g=this.length>>1,c=b[a],h,p,q;a<g;){h=(a<<1)+1;p=b[h];q=h+1;q<this.length&&0>d(b[q],p)&&(h=q,p=b[q]);if(0<=d(p,c))break;b[a]=p;a=h;}b[a]=c;};g.T={TPa:d};},function(g,d,a){var n,L,x,G;function b(a,b,c){this.Wna=this.uTa(a,b,c);}function f(){}function h(){}function m(){}function c(a){this.i1a=a;}function k(){}function p(){}function q(){}function t(){this.N3={};}function l(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}n=a(13).assert;d=a(194).hda;L=a(352).ERa;x=a(194).cGa;new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");G=a(151).WPa||a(151);b.prototype.constructor=b;b.prototype.uTa=function(a,b,c){n(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);n(0<c,"expect buffer_step_sec > 0. but got "+c);for(var f=[];a<b;a+=c)f.push(a);f[f.length-1]<b&&f.push(b);return f;};b.prototype.kv=function(a){return this.uUa(a,this.Wna);};b.prototype.uUa=function(a,b){a=this.f6a(a,b);if(0===a)throw new f();if(a===b.length)throw new h();return a;};b.prototype.f6a=function(a,b){n(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;n(!1,"expect not coming here in digitize()");};b.prototype.GS=function(){return l(this.Wna.length-1);};f.prototype=Error();h.prototype=Error();m.prototype=Error();c.prototype.constructor=c;c.prototype.VERSION="0.5";c.prototype.CHa=-20;c.prototype.BHa=20;c.prototype.AHa=void 0;c.prototype.uHa=new d(void 0);c.prototype.wHa=0;c.prototype.vHa=1;c.prototype.FHa=!1;c.prototype.yHa=!0;c.prototype.xHa=!0;c.prototype.DHa=void 0;c.prototype.sHa=!0;c.prototype.tHa=0;c.prototype.xE=function(a){n(void 0!==a.UCa,"expect recipe.time_varying_bandwidth !== undefined");return this.bXa(this.i1a,a.UCa,void 0!==a.nxa?a.nxa:this.CHa,void 0!==a.Rwa?a.Rwa:this.BHa,void 0!==a.Qwa?a.Qwa:this.AHa,void 0!==a.Tna?a.Tna:this.uHa,void 0!==a.Zqa?a.Zqa:this.wHa,void 0!==a.eoa?a.eoa:this.vHa,void 0!==a.$qb?a.$qb:this.FHa,void 0!==a.vcb?a.vcb:this.yHa,void 0!==a.Pta?a.Pta:this.xHa,void 0!==a.Fza?a.Fza:this.DHa,void 0!==a.hna?a.hna:this.sHa,void 0!==a.Mna?a.Mna:this.tHa);};c.prototype.bXa=function(a,c,d,g,l,u,A,y,r,ea,Y,O,W,E){var R,S,D,ra,P,X,Z,J,ca,da,fa,ga,ha,ma,oa,qa,na,pa,ta,ua;function N(a){return a[X];}G.Qaa("dp: ");n(d<=u.Cf,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");n(u.Cf<=g,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");n(d<=A,"expect min_buffer_sec <= end_buffer_sec");n(A<=g,"expect end_buffer_sec <= max_buffer_sec");void 0!==l&&n(u.Ti<=l,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+u.Ti+" and "+l);R=new b(d,g,y);y=new t();S=0;D=u;y.put([0,R.kv(u.Cf)],[S,D,void 0,void 0,c,void 0,void 0,void 0]);ra=D=0;c=a.qcb();n(a.lD()==c.length,"expect chunk_map.get_n_epoch() == durations_sec.length");X=-1;for(Z in c){for(var X=X+1,U=!0,ia=a.Sh.map(N),C=R.GS(),va=0;va<C.length;va++){J=C[va];if(y.C7([X,J])){P=y.get([X,J]);for(var Q=P[0],Ra=P[1],T=P[4],aa=0;aa<ia.length;aa++){c=ia[aa];G.update("epoch-ibuf-chunk loop");u=void 0!==O?O(c.VK):c.VK;ca=T.Lp();try{P=this.WTa(Ra,c,ca,E);da=P[0];fa=P[1];ga=P[2];ha=P[3];ma=P[4];oa=P[5];}catch(Xa){if(Xa instanceof L)continue;else if(Xa instanceof f){D+=1;continue;}else throw Xa;}qa=S=!1;try{na=R.kv(ha.Cf);ea&&R.kv(da);Y&&R.kv(fa);if(void 0!==l)if(Y){if(ga.Ti>l)throw new m();}else if(ha.Ti>l)throw new m();}catch(Xa){if(Xa instanceof f)na=void 0,D+=1;else if(Xa instanceof h)W?S=!0:ra+=1,na=void 0;else if(Xa instanceof m)W?qa=S=!0:ra+=1,na=void 0;else throw Xa;}try{if(S&&qa){n(void 0!==l,"expect max_buffer_kb !== undefined");ta=Y?ga.Ti-l:ha.Ti-l;n(0<=ta,"pause dlnd kb cannot be -ve but is "+ta);try{pa=ha.vlb(ta);}catch(Xa){if(Xa instanceof x)throw new f();throw Xa;}ca.Hya(pa);ma+=pa;n(ha.Cf<g,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");na=R.kv(ha.Cf);}else if(S&&!qa){pa=Y?ga.Cf-g+1E-8:ha.Cf-g+1E-8;n(0<=pa,"pause dlnd kb cannot be -ve but is "+pa);try{ha.Vya(pa);}catch(Xa){if(Xa instanceof x)throw new f();throw Xa;}ca.Hya(pa);ma+=pa;n(d<=ha.Cf,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");n(ha.Cf<g,"cur_buffer_queue.total_remain_sec < max_buffer_sec");na=R.kv(ha.Cf);}else pa=0;}catch(Xa){if(Xa instanceof f)na=void 0,D+=1,pa=void 0;else if(Xa instanceof L)continue;else throw Xa;}S=y.C7([X+1,na])?y.get([X+1,na])[0]:-Infinity;this.cYa(ha,na,c,u,J,X+1,S,y,Q,aa,ca,ma,oa,pa)&&(U=!1);}}}if(U){--X;break;}}try{ua=this.Dka(X+1,R.kv(A),y,r,R);}catch(Xa){if(Xa instanceof k)try{ua=this.Dka(X+1,R.kv(A),y,!r,R);}catch(Ke){if(Ke instanceof k){if(D>ra)throw new p();throw new q();}throw Ke;}else throw Xa;}J=ua;for(d=[];-1<X;X--)P=y.get([X+1,J]),S=P[0],D=P[1],g=P[3],l=P[5],A=P[6],r=P[7],P=P[2],c=a.Sh[P][X],ea=c.Cs(),u=c.VK,d.unshift({tua:X,R6:P,info:{uEb:ea,VK:u,AEb:D.Cf,zEb:D.Ti,TFb:l,va:A,UIb:r}}),J=g;return d;};c.prototype.Dka=function(a,b,c,f,d){var g,h;g=!1;h=d.GS()[0];for(d=d.GS()[d.GS().length-1];;){if(b<h||b>d){g=!0;break;}if(c.C7([a,b]))break;else b=f?b-1:b+1;}if(g)throw new k();return b;};c.prototype.cYa=function(a,b,c,f,d,g,h,k,q,m,p,t,l,u){c=q+f*c.In;return void 0!==b&&c>h?(k.put([g,b],[c,a,m,d,p,t,l,u]),!0):!1;};c.prototype.WTa=function(a,b,c,d){var g,h,k;d=(b.Cs()+d)*b.In;c=c.z6a(d);d/=c;g=a.Cf-c;h=a.Cf+b.In;k=a.Lp();k.add(b,void 0);a=a.Lp();a.add(b,void 0);try{a.Vya(c);}catch(ia){if(ia instanceof x)throw new f();throw ia;}return[g,h,k,a,c,d];};k.prototype=Error();p.prototype=new k();q.prototype=new k();t.prototype={cca:function(a){return a.join(",");},put:function(a,b){this.N3[this.cca(a)]=b;},get:function(a){return this.N3[this.cca(a)];},C7:function(a){return this.cca(a)in this.N3;}};g.T={VIa:c,Fwb:b,Qvb:f,Rvb:h};},function(g,d,a){var x,G,N,r,S,X,D,U,P,ia;function b(a){var b,c,f;c=a.Xo;b=a.Fg;f=a.Sk.ba-b.U;c.timestamp>b.Bn&&P.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.Bn);a=[];for(var d,g=c.timestamp,h=0;h<c.trace.length;h++)g>=b.Bn&&(a.push(c.trace[h]),d=c.trace[h]),g+=c.Lk,f-=c.Lk;for(;0<f;)a.push(d),f-=c.Lk;b=c.Lk;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new S(a,c,!1);}function f(a,b){return a.Ty<b.Ty?1:a.Ty>b.Ty?-1:0;}function h(a){for(var b=a.Fg,c=a.Sk,f=c.Zj,d=a.nk,g=!0,h,k=[],q,m=f=Math.min(c.hq,f);m>=b.Gg;m--){ia.update("backward step loop");h=a.nk[0][m].U-a.Fg.U;m<f&&(x(void 0!==k[m+1],"expect solution[(fragIndex + 1)] !== undefined"),h=Math.min(k[m+1].startTime,h));c=d[0][m].aa;q=b.xu*d[0][m].duration*1/8;q=n(c+q,h,a.Xo,b.Bn);if(0>q){g=!1;break;}k[m]={startTime:q,endTime:h,UQ:h,Jn:c,wd:0};}return{Ki:g,Dq:k,Yp:!1,Tv:0===k.length?!0:!1};}function m(a,b){var N,r,R,S,D,P,X;for(var c=a.Fg,f=a.Sk,d=f.Zj,g=a.nk,h=0,k=0,q=b.Dq,m,p,u=0,A=0,n,y,d=Math.min(f.hq,d),G=c.Gg;G<=d;G++){ia.update("forward step loop");m=q[G];b=m.wd;n=g[b][G].duration;y=G===c.Gg?0:q[G-1].endTime;p=0;b=L(a,q,y,h,G);if(b.OJ)return{Ki:!1,Yp:!0};b.wM||(p=b.waitUntil-y,y=b.waitUntil);x(0<=p,"expect waittime >= 0 but got "+p);N=m.UQ;R=a.Xo;r=c.Bn;m=0;b=R.trace;p=1*R.Lk;S=Math.max(0,y+r-R.timestamp);R=N+r-R.timestamp;if(!(y>=N)){D=Math.max(0,Math.floor(1*S/p));P=1*R/p;if(D===Math.floor(P))m+=(R-S)/p*l(b,D,p);else for(P=Math.ceil(P),r=D,N=P,D*p<S&&(r++,m+=(D*p+p-S)/p*l(b,D,p)),P*p>R&&(m+=(R-N*p)/p*l(b,P,p),N--),S=r;S<=N;S++)m+=l(b,S,p);}p=c.xu*n*1/8;k+=p;b=t(m-p,G,g);m=b.Jn;b=b.wd;p=m+p;r=a.Xo;N=S=0;R=r.trace;P=Math.max(0,y+c.Bn-r.timestamp);r=1*r.Lk;X=D=Math.max(0,Math.floor(1*P/r));for(X*r<P&&(D+=1,P=X*r+r-P,X=P/r*l(R,X,r),S=p-N<X?S+(p-N)/X*1*P:S+P,N+=X);N<p;)ia.update("getDownloadTime"),P=l(R,D,r),S=p-N<P?S+(p-N)/P*1*r:S+r,N+=P,D+=1;p=S;q[G].startTime=y;q[G].endTime=y+p;q[G].Jn=m;q[G].wd=b;G<=f.Zj&&(h+=m,A+=n,u=void 0!=g[b][G].wc?u+n*g[b][G].wc:u+n*a.$b[b].wc);}return{Ki:!0,Yp:!1,Dq:q,sqa:0<A?1*u/A:0,U3:A,T3:h,S3:k};}function c(a){a=a.Fg.$;for(var b=[],c,f=0;f<a.length;f++)ia.update("get prebuffered chunks loop"),c=a[f],x(void 0!==c.wc,"expect frag.vmaf !== undefined"),c=new G(c.aa,c.duration/1E3,c.wc),b.push(c);return b;}function k(a){var b,c,f,d;b=a.nk;c=a.Fg;f=a.Sk;d=f.Zj;a=a.$b;for(var g=[],h,d=Math.min(f.hq,d),k=0;k<b.length;k++){for(var f=[],q=c.Gg;q<=d;q++)ia.update("get chunk map from play segment"),h=b[k][q],h=new G(h.aa,h.duration/1E3,void 0!==h.wc?h.wc:a[k].wc),f.push(h);g.push(f);}return new N(g,!1);}function p(a,b){x(a.lD()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,f=0,d,g,h=0;h<b.length;h++)ia.update("calculate twvmaf"),x(b[h].tua===h,"expect stream_choices[idx].i_epoch === idx"),g=a.Sh[b[h].R6][h],d=g.VK,g=g.In,c+=d*g,f+=g;return{sqa:c/f,U3:1E3*f};}function q(a,b,c){var f,d;x(a.lD()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");f=0;d=0;c=c.Fg.xu;for(var g,h=0;h<b.length;h++)ia.update("calculate Bytes"),x(b[h].tua===h,"expect stream_choices[idx].i_epoch === idx"),g=a.Sh[b[h].R6][h],f+=g.aa,d+=c*g.In*1E3/8;return{T3:f,S3:d};}function t(a,b,c){var f,d;f=[];c.forEach(function(a){f.push(a[b].aa);});c=f.filter(function(b){return b<=a;});0<c.length?(c=c[c.length-1],d=f.lastIndexOf(c)):(c=f[0],d=0);return{Jn:c,wd:d};}function l(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function n(a,b,c,f){var d,g,h,k,q;d=c.trace;g=1*c.Lk;q=b+f-c.timestamp;k=Math.floor(1*q/g);b=0+(q-k*g)/g*l(d,k,g);if(b>=a)h=q-1*a/b*(q-k*g);else for(q=k;b<a;){ia.update("find download start time");--q;if(0>q)return-1;k=l(d,q,g);if(b+k>=a){a=1*(a-b)/k*g;h=(q+1)*g-a;break;}b+=k;}return h+c.timestamp-f;}function L(a,b,c,f,d){var g,h,k,q,m,p;g=a.Fg;h=c+g.U;c=a.nk[g.IJ];a=a.W1;k={wM:!0,waitUntil:void 0,OJ:!1};q=c.filter(function(a){return a&&a.U<=h&&a.U+a.duration>h;})[0];if(void 0===q)return{OJ:!0};m=d-1-(q.index-1);f=g.yM+f;p=0;p=q.index<g.Gg?p+c.slice(g.jt,q.index).reduce(function(a,b){return a+b.aa;},0):p+g.yM;p=p+b.slice(g.Gg,q.index).reduce(function(a,b){return a+b.Jn;},0);f-=p;if(m>=a.hK||f>=a.iF)for(k.wM=!1,q=q.index;q<d&&(m>=a.hK||f>=a.iF);)ia.update("check buffer vacancy"),k.waitUntil=c[q].U+c[q].duration-g.U,f=q<g.Gg?f-c[q].aa:f-b[q].Jn,--m,q+=1;k.goa=f;k.BEb=m;return k;}x=a(13).assert;G=a(353).TGa;N=a(353).UGa;r=a(693).VIa;S=a(352).DRa;X=a(194).hda;D=a(692).TPa;U=a(48);P=new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");ia=a(151).WPa||a(151);g.T={rfb:function(a){var b;b=h(a);return!1===b.Ki||!0===b.Tv?b:m(a,b);},tJ:function(a){var b,c,d,g,k,q,p,t,l,u,A,y,L,G,N,R;P.debug("greedy DEBUG false");ia.Qaa("greedy-"+(a.zaa?"segvmaf":"dlvmaf")+": ");c=a.nk;b=a.nk;d=a.Fg;g=a.Sk;k=g.Zj;q=a.$b;k=Math.min(g.hq,k);for(y=d.Gg;y<=k;y++){b[0][y].Tx=b[0][y].aa;for(A=1;A<b.length;A++)b[A][y].Tx=b[A][y].aa,b[A-1][y].Tx===b[A][y].Tx&&(b[A][y].Tx=b[A-1][y].Tx+1);A=0;d=b[A][y];d.Ty=Infinity;d.Qf=A;for(A=1;A<b.length;A++)d=b[A][y],g=b[A-1][y],p=8*d.Tx/d.duration,t=8*g.Tx/g.duration,a.zaa&&void 0!==d.wc?(l=d.wc,u=g.wc):(l=q[A].wc,u=q[A-1].wc),d.Ty=(l-u)/(p-t),d.Qf=A,x(void 0!==g.Ty&&!isNaN(g.Ty),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=h(a);if(!1===b.Ki||!0===b.Tv)return b;k=a.nk;d=a.Fg;g=a.Sk;q=g.Zj;q=Math.min(g.hq,q);g=[];for(d=d.Gg;d<=q;d++)g.push(k[1][d]);for(k=new D(g,f);0<k.length;){ia.update("upgrade frags");q=k.pop();d=a;g=b;p=q;t=d.nk;l=d.Fg;N=d.Sk;u=N.Zj;A=!0;y=JSON.parse(JSON.stringify(g.Dq));void 0!==p.Qf&&x(y[p.index].wd+1===p.Qf,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");u=Math.min(N.hq,u);for(var r=p.index;r>=l.Gg;r--){R=r===p.index?y[r].wd+1:y[r].wd;N=d.nk[R][r].U-d.Fg.U;if(r<u)if(x(void 0!==y[r+1],"expect solution[(fragIndex + 1)] !== undefined"),G=y[r+1].startTime,G<N)N=G;else if(r!==p.index)break;G=t[R][r].aa;L=l.xu*t[R][r].duration*1/8;L=n(G+L,N,d.Xo,l.Bn);if(0>L){A=!1;break;}y[r]={startTime:L,endTime:N,UQ:N,Jn:G,wd:R};}d={Ki:A,Dq:y,Tv:g.Tv};!0===d.Ki&&(b=d,q.Qf+1<c.length&&k.push(c[q.Qf+1][q.index]));}return m(a,b);},dp:function(a){var f,d,g,m,t,l;ia.Qaa("dp-"+(a.zaa?"segvmaf":"dlvmaf")+": ");f=h(a);if(!1===f.Ki||!0===f.Tv)return f;d=k(a);g=new r(d);m=c(a);m={UCa:b(a),Mna:a.Fg.xu,nxa:0,Rwa:240,Qwa:8*a.W1.iF/1E3,eoa:.5,Tna:new X(m),Zqa:0,VGb:void 0,Pta:void 0,Fza:void 0,hna:!0};g=g.xE(m);m=p(d,g);d=q(d,g,a);t=[];l=a.Fg.Gg;g.forEach(function(a){t[l]={wd:a.R6};l++;});U(m,f);U(d,f);f.Dq=t;return f;}};},function(g,d,a){var h,m;function b(){}function f(a,b){return function(c){c.zaa=b;return a(c);};}h=a(694);m=a(691);b.prototype.constructor=b;b.prototype.create=function(a){var b;switch(a){case"htwbr":b=m.tJ;break;case"hvmaftb":b=h.rfb;break;case"hvmafgr":b=h.tJ;break;case"hvmafdp":b=h.dp;break;case"hvmafgr-dlvmaf":b=f(h.tJ,!1);break;case"hvmafgr-segvmaf":b=f(h.tJ,!0);break;case"hvmafdp-dlvmaf":b=f(h.dp,!1);break;case"hvmafdp-segvmaf":b=f(h.dp,!0);}return b;};g.T=b;},function(g,d,a){var f,h;function b(a,b,d,g){this.X=a;this.K=b;this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.fb=this.K.log.bind(this.K);this.JSa=new h();this.G=g;this.gP=[];this.Dk=void 0;a=g.QS;f.call(this,a.numB*a.bSizeMs,a.bSizeMs);}a(11);a(5);f=a(152);a(354);h=a(695);b.prototype=Object.create(f.prototype);b.prototype.add=function(a,b,d){this.Dk||(this.Dk=b);f.prototype.add.call(this,a,b,d);};b.prototype.q$a=function(){var a;if(0!==this.gP.length){a=[];this.gP.forEach(function(b){b&&b.WB&&a.push(b.As());});return a;}};b.prototype.Zd=function(){this.gP=[];};b.prototype.Ybb=function(){var a,b,d;a=this.get(this.G.QS.fillS);if(0===a[0]||null===a[0]){a.some(function(a,c){if(a)return b=a,d=c,!0;});if(b)for(var g=0;g<d;g++)a[g]=b;}a={trace:a,timestamp:this.Dk,Lk:this.yc};f.prototype.reset.call(this);this.Dk=void 0;return a;};b.prototype.r4=function(a){var b,f,d,g,h,m;if(a&&!a.WB){f=a.Sk.iva;f&&(a.M$=this.s1(a),a.nV=!1);if((b=this.Ybb())&&b.trace&&b.trace.length){d=a.Fg.Bn;g=b.timestamp;if(g>d){h=b.Lk;m=b.trace[0];d=Math.ceil(1*(g-d)/h);b.timestamp=g-d*h;for(g=0;g<d;g++)b.trace.splice(0,0,m);}b.trace.length&&b.trace.pop();}a.Xo=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.q0a(a),a.mya=b,f&&b&&(a.nV=b.Ki),a.WB=!0,this.gP.push(a));}};b.prototype.q0a=function(a){var g,h;for(var b=this.G.yJ,f={Ki:!1,Yp:!1},d=0;d<b.length;d++){g=b[d];h=this.JSa.create(g);h&&(h=h(a),f[g]=h,f.Ki=f.Ki||h.Ki,f.Yp=f.Yp||h.Yp);}return f;};b.prototype.s1=function(a){var b;a=a.Sk;b="";1E3>a.zM&&(b+=a.iEa);1E3>a.c1&&(b=b+(""!==b?",":"")+a.xna);1E3<=a.zM&&1E3<=a.c1&&(b="media");return b;};g.T=b;},function(g,d,a){var b,f,h,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(5);h=a(359);m=a(11);c=a(696);k=a(690);p=a(687);g=function(){var s2W;function a(a,b,f,d,g,q,l){var m2W,t,u,A,H2W,M2W,o7X,u7X,v7X,T2W;m2W=2;while(m2W!==32){o7X="L";o7X+="R";u7X="ba";u7X+="se";u7X+="l";u7X+="i";u7X+="ne";v7X="1SIYb";v7X+="Z";v7X+="rN";v7X+="JCp9";switch(m2W){case 34:this.wB=new k.Sea(l,g,this.K);m2W=23;break;case 2:this.K=b;this.Pb=d;m2W=4;break;case 16:m2W=a.qo?15:27;break;case 35:m2W=34;break;case 15:try{H2W=2;while(H2W!==3){switch(H2W){case 2:u=a.$j();A=new c(a,this.K,{bufferSize:u},g);this.Pb.IYa(A);H2W=4;break;case 4:this.Xla=A;H2W=3;break;}}}catch(D){var Y7X;Y7X="Hindsight";Y7X+=": Error when crea";Y7X+="ting QoEEvaluator: ";B6kk.V7X(0);a.Va.mq(B6kk.F7X(Y7X,D));}m2W=27;break;case 20:void 0!==b&&void 0!==b.tj&&void 0!==b.ci&&void 0!==b.uj&&(t=(b.uj-b.tj)/b.ci);this.GXa=[g.Jna,g.sba];d=g.vK?m.Ad.hp:m.Ad.Ft;f&&f.Fc>=d&&f.va&&t&&this.IUa(f,b,t);m2W=16;break;case 21:this.wB=new k.mKa(l,g,this.K);m2W=23;break;case 4:v7X;this.X=a;m2W=9;break;case 25:M2W=g.bdb;m2W=M2W===u7X?24:22;break;case 24:this.wB=new k.Sea(l,g,this.K);m2W=23;break;case 26:m2W=l&&1<l.length&&(g.LI&&(this.JJ=new p.kzb(g,l),this.$S=this.JJ.Rsa()),g.j4)?25:33;break;case 23:this.P_=this.wB.mT();m2W=33;break;case 9:this.Ha=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.G=g;this.BG=null;B6kk.Z7X(1);T2W=B6kk.i7X(2000000,15,1000015);this.ela=0===Math.floor(T2W*Math.random())%g.Z1;this.ln=this.RS=this.nua=this.IQ=this.Bo=void 0;m2W=12;break;case 12:this.Dba=this.YV=this.ZV=this.Cba=this.IU=this.JU=0;this.FB=h(g,q);b=this.Mka(f);m2W=20;break;case 27:this.P_=!1;m2W=26;break;case 22:m2W=M2W===o7X?21:35;break;case 33:g.RW&&(this.uP=this.tP=!1);m2W=32;break;}}}s2W=2;while(s2W!==24){switch(s2W){case 2:Object.defineProperties(a.prototype,{Jrb:{get:function(){var q2W;q2W=2;while(q2W!==1){switch(q2W){case 4:return this.GXa;break;q2W=1;break;case 2:return this.GXa;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mT:{get:function(){var n2W;n2W=2;while(n2W!==1){switch(n2W){case 2:return this.P_;break;case 4:return this.P_;break;n2W=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{D$:{get:function(){var V2W;V2W=2;while(V2W!==1){switch(V2W){case 4:return this.Xla;break;V2W=1;break;case 2:return this.Xla;break;}}},enumerable:!0,configurable:!0}});a.prototype.HBa=function(a,c,f){var v2W;v2W=2;while(v2W!==4){switch(v2W){case 2:this.ln=a;b.R(c)||(this.nua=c);b.R(f)||(this.RS=f);v2W=4;break;}}};a.prototype.ica=function(a){var d2W;d2W=2;while(d2W!==5){switch(d2W){case 2:this.G=a;this.FB.ica(a);d2W=5;break;}}};s2W=9;break;case 9:a.prototype.Q_=function(a,c,f,d){var L2W,g,b1k,e1k;L2W=2;while(L2W!==6){b1k="a";b1k+="v";b1k+="g";e1k="i";e1k+="q";e1k+="r";switch(L2W){case 4:L2W=void 0!==d?3:9;break;case 5:L2W=a===e1k?4:8;break;case 2:g=this.G;L2W=5;break;case 9:return!1;break;case 3:return c.va&&f&&b.pa(d)&&c.va.Fa<g.eI&&d>g.FY;break;case 8:L2W=a===b1k?7:9;break;case 7:return c.va?c.va.Fa<g.eI:!0;break;}}};s2W=8;break;case 8:a.prototype.Mka=function(a){var K2W,a2W,c1k;K2W=2;while(K2W!==4){c1k="tdig";c1k+="e";c1k+="st";switch(K2W){case 3:K2W=9;break;case 2:a2W=this.G.K6;K2W=a2W===c1k?1:3;break;case 5:return a;break;case 1:a=a.km;K2W=5;break;case 9:a=a.Ao&&a.Ao.OU;K2W=5;break;}}};a.prototype.IUa=function(a,b,c){var P2W,f;P2W=2;while(P2W!==9){switch(P2W){case 3:this.Q_(f.k8,a,b,c)&&(this.reb=!0);P2W=9;break;case 2:f=this.G;this.Q_(f.uw,a,b,c)?this.Bo=!0:this.Bo=!1;this.IQ=0;P2W=3;break;}}};a.prototype.lbb=function(a){var f2W;f2W=2;while(f2W!==1){switch(f2W){case 2:return 1===a?this.FB.jza:this.FB.iza;break;}}};a.prototype.HE=function(a){var N2W;N2W=2;while(N2W!==5){switch(N2W){case 2:this.FB.HE(a);this.BG=a;N2W=5;break;}}};s2W=13;break;case 20:a.prototype.Fjb=function(){var G2W,a,u2W;G2W=2;while(G2W!==3){switch(G2W){case 2:a=this.X;G2W=5;break;case 8:a=this.X;G2W=6;break;G2W=5;break;case 4:try{u2W=2;while(u2W!==5){switch(u2W){case 2:this.Pb.Rnb();this.Xla.Zd();u2W=5;break;}}}catch(A){var s1k;s1k="Hindsigh";s1k+="t: Error";s1k+=" during clean up: ";B6kk.Z7X(0);a.Va.mq(B6kk.F7X(s1k,A));}G2W=3;break;case 5:G2W=a.qo?4:3;break;}}};a.prototype.Ojb=function(a){var e2W;e2W=2;while(e2W!==1){switch(e2W){case 2:this.G.Tu&&a===m.L.VIDEO&&(this.Dba=this.Cba=this.YV=this.ZV=this.IU=this.JU=0);e2W=1;break;}}};a.prototype.Tjb=function(a,b,c,f){var U2W;U2W=2;while(U2W!==1){switch(U2W){case 2:this.G.Tu&&a===m.L.VIDEO&&(f?(this.JU+=b,this.IU+=c):(this.ZV+=b,this.YV+=c));U2W=1;break;}}};a.prototype.Njb=function(a,b){var F2W;F2W=2;while(F2W!==1){switch(F2W){case 2:a===m.L.VIDEO&&(this.Qub=b);F2W=1;break;}}};s2W=16;break;case 25:return a;break;case 13:a.prototype.soa=function(a,b){var O2W;O2W=2;while(O2W!==1){switch(O2W){case 2:this.FB.yJb&&a&&this.FB.soa(b,a);O2W=1;break;}}};a.prototype.xWa=function(a){var Q2W,b;Q2W=2;while(Q2W!==14){switch(Q2W){case 3:this.tP&&(this.tP=!1);Q2W=9;break;case 4:return!0;break;case 5:Q2W=this.tP&&a.bk()?4:3;break;case 9:Q2W=this.uP&&b.An&&!a.bk()?8:7;break;case 2:b=this.G;Q2W=5;break;case 8:return!0;break;case 7:this.uP&&(this.uP=!1);return!1;break;}}};a.prototype.BYa=function(a,b,c,f,d,g){var y2W,h;y2W=2;while(y2W!==4){switch(y2W){case 2:h=this.G;h.RW&&this.xWa(b)||!c||!f||!(c=g?Math.min(c,f,g):Math.min(c,f))||(this.Pb.get(!1),a=this.X.aD(a),b.track.bk()&&a>h.pQ&&c===d?(h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:1}),h.set({maxActiveRequestsPerSession:2}),h.set({maxPendingBufferLen:500})):(h.An=!0,h.JD=1,h.gq=2,h.Lv=500),b.track.eAa({type:b.track.config.type,connections:1,openrange:!1,pipeline:!0,socketBufferSize:h.lF,minRequestSize:h.SD}),this.Cba++,h.RW&&(this.tP=!0)):h.An&&!b.bk()&&(a<h.Y1||c!==d)&&(h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:3}),h.set({maxActiveRequestsPerSession:3}),h.set({maxPendingBufferLen:12E3})):(h.An=!0,h.JD=3,h.gq=3,h.Lv=12E3),b.track.eAa({type:b.config.type,connections:3,openrange:!1,pipeline:!0,socketBufferSize:h.lF,minRequestSize:h.SD}),this.Dba++,h.RW&&(this.uP=!0)));y2W=4;break;}}};a.prototype.DYa=function(a,b){var E2W,c,d,g;E2W=2;while(E2W!==13){switch(E2W){case 7:E2W=void 0===d||c>d?6:14;break;case 5:E2W=this.ela?4:13;break;case 2:c=this.G;E2W=5;break;case 4:void 0===this.Qj&&(this.Qj={startTime:f.time.ea(),Ur:[],tt:[],N7:void 0,I7:void 0});c=Math.floor((f.time.ea()-this.Qj.startTime)/c.cC);d=this.Qj.I7;g=this.Qj.N7?c-this.Qj.N7-1:c;E2W=7;break;case 14:this.Qj.I7=c;E2W=13;break;case 6:this.Qj.Ur[g]=a,this.Qj.tt[g]=b;E2W=14;break;}}};s2W=20;break;case 16:a.prototype.b1a=function(a){var Z2W,b,c,f,d,g,j1k,r1k;Z2W=2;while(Z2W!==7){j1k="no";j1k+="n";j1k+="e";r1k="i";r1k+="q";r1k+="r";switch(Z2W){case 2:b=this.G;Z2W=5;break;case 9:g=b.vK?m.Ad.hp:m.Ad.Ft;c&&c.Fc>=g&&this.Q_(b.uw,c,f,d)&&(this.Bo=!0,this.IQ=a.state);Z2W=7;break;case 4:c=this.Pb.get();r1k===b.uw&&(f=this.Mka(c),void 0!==f&&void 0!==f.tj&&void 0!==f.ci&&void 0!==f.uj&&(d=(f.uj-f.tj)/f.ci));Z2W=9;break;case 5:Z2W=j1k!==b.uw&&!0!==this.Bo&&a.state<=b.I8?4:7;break;}}};a.prototype.UYa=function(a){var Y2W;Y2W=2;while(Y2W!==5){switch(Y2W){case 2:a.Bo=this.Bo;a.$S=this.$S;Y2W=5;break;}}};a.prototype.N8a=function(a){var X2W,c,f,d,g,h,k,q,p,h1k,N1k;X2W=2;while(X2W!==35){h1k="sta";h1k+="rtp";h1k+="lay";N1k="log";N1k+="d";N1k+="a";N1k+="t";N1k+="a";switch(X2W){case 4:d=this.X;g={type:N1k,target:h1k,fields:{}};g.fields=c;Object.keys(a).forEach(function(b){var w2W;w2W=2;while(w2W!==1){switch(w2W){case 2:c[b]=a[b];w2W=1;break;case 4:c[b]=a[b];w2W=6;break;w2W=1;break;}}});X2W=7;break;case 7:h=this.Pb.get();h&&h.va&&(h=h.va.Fa);c.actualbw=h;c.isConserv=this.Bo;X2W=12;break;case 12:c.ccs=this.IQ;c.isLowEnd=this.reb;c.histdiscbw=this.ln;k=this.RS;X2W=19;break;case 2:c={};f=this.G;X2W=4;break;case 19:X2W=k?18:25;break;case 18:q=function(a){var I2W;I2W=2;while(I2W!==1){switch(I2W){case 2:return b.pa(a)?Number(a).toFixed(2):-1;break;}}};h=[q(k.min||void 0),q(k.N9||void 0),q(k.tj||void 0),q(k.ci||void 0),q(k.uj||void 0),q(k.O9||void 0),q(k.max||void 0)];p=[];k=b.isArray(k.rg)&&k.rg.reduce(function(a,b){var J2W,c;J2W=2;while(J2W!==9){switch(J2W){case 2:c=q(b.Ke||void 0);b=q(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});return a;break;}}},p);X2W=27;break;case 21:d.emit(g.type,g);X2W=35;break;case 27:c.histtdc=k;X2W=26;break;case 26:c.histtd=h;X2W=25;break;case 25:c.histage=this.nua;f.LI&&this.JJ&&(c.histsessionstat=this.JJ.Ssa(),c.initbwestimate=this.JJ.Rsa(),c.avghistbw=this.JJ.lS());f.j4&&this.wB&&(c.ishighstable=this.P_,c.avg_avtp=this.wB.q_a,c.avg_ne=Number(this.wB.r_a).toFixed(4));d.kb&&(f=d.$j(),c.maxAudioBufferAllowedBytes=f[m.L.AUDIO],c.maxVideoBufferAllowedBytes=f[m.L.VIDEO]);X2W=21;break;}}};a.prototype.O8a=function(a){var z2W,b,c,f,d,g,h,k,q,d1k;z2W=2;while(z2W!==19){d1k="n";d1k+="on";d1k+="e";switch(z2W){case 2:b=this.G;c=this.X;f=this.Pb.get(!0);d=[];z2W=9;break;case 13:q=0;f.Fc&&(h=f.va?f.va.Fa:0,k=f.Dg?f.Dg.Fa:0,q=f.yo?f.yo.Fa:0);a.location={responseTime:k,httpResponseTime:q,bandwidth:h,confidence:f.Fc,name:this.Qub};z2W=10;break;case 9:g=this;[m.L.VIDEO,m.L.AUDIO].forEach(function(a){var h2W,h;h2W=2;while(h2W!==3){switch(h2W){case 2:h2W=1;break;case 1:h2W=c.yg(a)?5:3;break;case 5:h=g.X.Pbb(a);void 0!==h&&(a===m.L.VIDEO&&(b.Tu&&(h.parallelDownloadMs=g.JU,h.parallelDownloadBytes=g.IU,h.singleDownloadMs=g.ZV,h.singleDownloadBytes=g.YV,h.switchFromParallelToSingle=g.Cba,h.switchFromSingleToParallel=g.Dba),f&&f.Fc&&f.va&&(h.asetput=f.va,h.aseiqr=f.Ao,h.tdigest=f.km&&f.km.As()||void 0),f&&f.avtp&&(h.avtp=f.avtp.Fa)),d.push(h));h2W=3;break;}}});a.stat=d;h=0;k=0;z2W=13;break;case 10:this.ela&&(a.bt={startTime:this.Qj.startTime,audioMs:this.Qj.Ur,videoMs:this.Qj.tt},this.Qj.Ur=[],this.Qj.tt=[],this.Qj.N7=this.Qj.I7);d1k!==b.uw&&(a.isConserv=this.Bo,a.ccs=this.IQ);z2W=19;break;}}};s2W=25;break;}}}();d.WEa=g;},function(g,d,a){var b,f,h,m,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(25);f=a(195);h=a(366);m=a(40);c=a(5);a=function(a){function d(b,c,f,d,g,h,k,m,p,l){d=a.call(this,d)||this;d.X=b;d.pg=c;d.zc=f;d.qf=g;d.A_=h;d.hXa=k;d.K=m;d.dYa=p;d.G=l;d.up=[Object.create(null),Object.create(null)];d.Ek=d.K.trace.bind(d.K);return d;}b.__extends(d,a);d.prototype.fv=function(a){return this.up[a];};d.prototype.Tk=function(a,b){return this.up[a][b];};d.prototype.Yta=function(a){return!!this.Tk(1,a);};d.prototype.Mma=function(a){this.up[a.O][a.za]=a;};d.prototype.gqa=function(a,b){delete this.up[a][b];};d.prototype.aob=function(a){var b,c,f,d;b=this.up[0];for(c in b){f=b[c];if(f&&f.gA){d=f.$nb();a(d,f);}}};d.prototype.Joa=function(a){this.u_===a.za&&(this.u_=void 0);};d.prototype.p1a=function(){this.cu=void 0;};d.prototype.Zpb=function(a){var c;if(a)this.cu=a;else if(!(this.cu&&0<this.cu.length||(a=this.G,a.dCa||(f.pl.Ul(1),this.zc.aD(1)<a.bU)))){a=this.zc.qa.tg.Rg(1).$b;for(var b=0;b<a.length;++b){c=a[b];if(c.lf&&c.inRange&&!c.Sg&&!this.Yta(c.za)){this.cu=[b];break;}}}};d.prototype.Igb=function(){var c,d;if(this.cu&&0!==this.cu.length&&!this.u_){f.pl.Ul(1);for(var a=this.zc.qa.tg,b=a.Rg(1);0<this.cu.length;){c=this.cu.shift();if(c=b.$b[c]){d=c.za;if(!this.Yta(d)&&c.lf){this.u_=d;this.kI(b,a.M,c,{offset:0,JL:!0});break;}}}}};d.prototype.aub=function(a,b,c){var f;f=this;b.forEach(function(b){var d;d=f.Tk(a,b.za);d&&!b.jd&&(d.stream.jd?b.NQ(d.stream):(d.FK||(d.FK=[]),d.FK.push(c)));});};d.prototype.kI=function(a,b,c,d,g,h){var k,q,m,p;k=a.O;f.pl.Ul(k);q=c.za;if(!this.pTa(a,c.Oa.ca,b,q,d.xs)){b=this.Tk(k,q);if(!b){d.aa=this.TTa(k,c.Bq,c.wg);q=!!d.dy;b=this.zc.cb.Bb[k];m=void 0!==g&&g!==a.Rb.ca;h=!d.xs||q||m||h?this.zc.OG:b.ik;c.url&&(b.O7=c.url);b=this.r_(k,c,h,d);if(!b.Vv()){this.zc.zi("MediaRequest open failed (2)",a.Rb.ca,"NFErr_MC_StreamingFailure");return;}}void 0!==g&&(p=this.zc.jc(g));d.xs&&p&&(p.Oa.Vc[k]=b);}this.A_.rh();};d.prototype.r_=function(a,b,c,d){var g,k;g=this;k=this.Tk(a,b.za);if(k)return k;a=f.pl.Ul(a);b=new h.Vca(b,this.G,c.track,d,this,!1,a);b.addEventListener("headerRequestCancelled",function(a){g.wUa(a.request);});b.Ac(this.X,this.X.YT,this.G,void 0);this.Mma(b);this.qf.wla(b);return b;};d.prototype.oca=function(a,b){var c,d;c=this;d=[];this.up.forEach(function(g,h){var q,m;f.pl.Ul(h);h=a[h];for(var k in g){q=g[k];if("function"===typeof q.DW){m=q.DW(h,b);1===m||2===m?d.push(q):3===m&&c.zi("swapUrl failure");}}});return d;};d.prototype.bi=function(a){var b,d,g,h;b=a.O;d=f.pl.Ul(b);if(this.zc.ye())d.warn("header onrequestcomplete ignored, session shutdown:",a.toString());else{g=a.ca;h=this.zc.jc(g);h?(this.pg.na("logdata",{type:"logdata",target:"startplay",fd:{usedNativeDataView:a.Bub}}),a.GK>a.ekb&&(this.zc.cb.Bb[b].G7=a.GK),a.JL&&this.Joa(a),this.Qka(a),a.Pl?this.zc.OP():a.dy&&(d.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),this.zc.sR(h.Oa.M)),this.$ka=c.time.ea(),this.zc.df[b].Xib(),this.A_.rka(),this.zc.lob()):d.warn("header onrequestcomplete but unknown manifestIndex:",g);}};d.prototype.Qka=function(a){var b,c,d,g,k;b=this.G;c=f.pl.Ul(a.O);d=a.$;if(b.u3){g=d.length;c.trace("fragment count:",g);for(var h=0;h<g;++h){k=d.get(h);c.trace("fragment: "+h+", startPts: "+k.U+", duration: "+k.duration+", offset: "+k.offset);}}this.Bja(a);if(b.IK&&b.IK.enabled&&void 0===d.On&&b.IK.simulatedFallback){g=d.length;b=[];for(h=0;h<g;++h)b[h]=Math.max(0,a.stream.wc+this.zc.JWa(h));d.vqb(b);}};d.prototype.Bja=function(a){var b,c,d,g,h,k,q,m,p,l,u,n;b=this;c=this.G;d=a.O;g=f.pl.Ul(d);h=a.ca;k=this.zc.jc(h);if(k){q=k.Oa;m=a.$;p=a.gA?60:m.length;l=m.get(p-1);u=a.za;a.Zk={Mi:l.U+l.duration,hfb:l.U,lastIndex:p-1};q.Qta(d,m);a.FK&&(a.FK.forEach(function(c){var f;f=b.zc.jc(c);f?(c=f.Oa.Up(d,u))&&c!==a.stream&&!c.jd&&c.NQ(a.stream):g.warn("otherManifestIndexes bad value:",c);}),a.FK=void 0);p=q.Up(d,u);l=q.Zp()?c.Ewa:0;n=this.zc.$j()[d];1===d&&0<c.iq&&(n=Math.min(n,c.iq));p.DDa(n,l);q.Vc[d]&&a!==q.Vc[d]?a.xs&&(k=q.Vc[d],c=a.stream,p=k&&k.stream,g.warn("first header received for non-current track (trackId "+c.eb+"streamId "+c.za+"), expected track "+(p&&p.eb)+", stream "+(p&&p.za)+", "+k)):(q.Vc[d]=a,c=this.zc.qa.tg,0===h&&(p=this.zc.hg?c.Rg(1).bb:c.Rg(0).bb,k.wQ(h,this.zc.yg.bind(this.zc),p,this.zc.qa,c)),k.YK=!1,k.tQ(h,this.zc.jc.bind(this.zc),this.G,this.zc.Qh,this.zc.hg,this.zc.qa,this.zc.Va,this.zc.L5.bind(this.zc)),this.zc.OP());this.hXa.F_();a.gA||this.qf.SVa(h,d,u,q.M,m);this.A_.rh();}else g.warn("addFragments for stale manifestIndex:",h);};d.prototype.pTa=function(a,b,c,f,d){return this.dYa&&this.zc.kb.Tg&&(c=this.zc.kb.Tg.i8(c,f))&&this.Nma(a,b,c,!1,d)?!0:!1;};d.prototype.Nma=function(a,b,c,d,g){f.pl.Ul(a.O);b=this.zc.jc(b);if(!b)return!1;b=b.Oa.Up(a.O,c.za);if(d!==!!c.Pl)return!1;this.Mma(c);c.iZa(b);this.Bja(c);c.Pl&&this.zc.OP();g&&this.qf.JVa(c.M,c.za);void 0!==a.qq&&a.et(a.qq);return!0;};d.prototype.TTa=function(a,b,c){var f;f=this.G;if(c)return f.KR?f.KR:f.OS;if(f.ZDa&&b)return b.offset+b.size;a=this.zc.cb.Bb[a];return a.G7?a.G7+128:2292+12*Math.ceil(this.zc.Fm/2E3);};d.prototype.wUa=function(a){this.gqa(a.O,a.za);};d.prototype.zi=function(a,b){a={type:"streamingFailure",msg:a,manifestIndex:b};this.na(a.type,a);};return d;}(a(83));d.kKa=a;m.mi(g.EventEmitter,a);},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(24);g=a(5);f=g.qk;new g.Console("ASEJS_SIDECHANNEL","media|asejs");g=function(){function a(a,c,f){this.Va=f;this.nYa=new b.ASa(a);this.mYa=c.oa;this.XSa=1E3*c.ohb/c.V_a;this.MTa=c.oR;}a.prototype.Ml=function(a){var c;c={s_xid:this.mYa,dl:this.MTa?1:0};a.Ae&&(c.bs=b.iC(Math.floor(a.Ae/this.XSa)+1,1,5));a.vU&&(c.limit_rate=a.vU);a.Xna&&(c.bb_reason=a.Xna);return this.dWa(c);};a.prototype.Eaa=function(a,b){var c,d;try{c=new f(void 0,"notification");d=this.Ml({Xna:a});b&&d&&c.open(b,void 0,2,void 0,void 0,void 0,d);}catch(q){this.Va.mq("SideChannel: Error when sending sendBlackBoxNotification. Error: "+q);}};a.prototype.dWa=function(a){var b;try{b=this.jXa(a);return this.nYa.encrypt(b);}catch(k){this.Va.mq("SideChannel: Error when obfuscating msg. Error: "+k);}};a.prototype.jXa=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();d.bRa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(25);h=a(5).hr;g=function(a){function c(b){var c;c=a.call(this)||this;c.Tla=b;c.OO=b.groupId;c.Sf=new f.Ow();c.Sf.on(c,h.zd.eG,c.dP);c.Sf.on(c,h.zd.$w,c.ZG);return c;}b.__extends(c,a);c.prototype.dkb=function(a,b,c){h.prototype.open.call(this,a,b,c);};c.prototype.cqb=function(a){this.OO=a;};Object.defineProperties(c.prototype,{groupId:{get:function(){return this.OO;},enumerable:!0,configurable:!0}});c.prototype.Zd=function(){this.Sf&&this.Sf.clear();h.prototype.Zd.call(this);};c.prototype.dP=function(a){this.Tla.smb(a.probed,a.affected);this.Zd();};c.prototype.ZG=function(a){this.Tla.pmb(a.probed,a.affected);this.Zd();};return c;}(h);d.oFa=g;},function(g,d,a){var f,h,m;function b(a,b){this.UG=a;this.vx=0===Math.floor(1E6*Math.random())%b.uz;this.groupId=1;this.config=b;this.ws={};this.dw={};}f=a(6);h=a(5);new h.Console("ASEJS_PROBE_MANAGER","asejs");m=a(700).oFa;b.prototype.constructor=b;b.prototype.rmb=function(a,b){var c,d,g,k,m,l,u,n,r,R,S;c=this.UG;d=a.Db;g=c.vCa(a.url);k=c.ET(a.url);m=this.config;l=h.time.ea();n=b;r=[];R=g.dk[0];S=!1;u=this.ws[d];if(!u)u=this.ws[d]={count:0,Vg:l,Zs:!1,error:b,Oaa:[],w$:{}};else if(u.Vg>=l-m.pW)return;u.Zs||(R&&k.id===R.id&&(a.isPrimary=!0),u.Vg=l,u.Zs=!1,u.error=b,++u.count,g&&g.Yc&&0!==g.Yc.length&&(f.forEach(g.Yc,function(b){var c,f,g;c=b.Ub.id;f=c+"-"+d;g=this.dw[f];if(void 0===g||void 0===g.bV)g&&g.ol&&clearTimeout(g.ol),b=this.vpa(b.url,a,c),this.dw[f]={W:!1,count:0,bV:b.ak()},r.push(b.ak()),S=!0;-1===u.Oaa.indexOf(c)&&u.Oaa.push(c);},this),this.vx&&0<r.length&&(g={type:"logdata",target:"endplay",fields:{}},b=n,n={ts:h.time.ea(),es:b.dna,fc:b.Wh,fn:b.qra,nc:b.sj,pb:r,gid:this.groupId},b.AJ&&(n.hc=b.AJ),g.fields.errpb={type:"array",value:n,adjust:["ts"]},c.gz(g)),S&&this.groupId++));};b.prototype.vpa=function(a,b,f){var c,d,g;c=this.UG.ET(b.url);c&&c.Ka&&c.Ka.yo&&c.Ka.yo.Fa||Math.random(0,1);c=new m(this);d=a.split("?");g="random="+parseInt(1E7*Math.random(),10);c.dkb(1<d.length?a+"&"+g:a+"?"+g,b,f);return c;};b.prototype.smb=function(a,b){var c,f,d,g,k,m,l,u;c=this.UG;f=this.config;d=b.Db;g=this.ws[d];m=a.url;l=this.dw[a.Db+"-"+d];if(g&&(k=g.error,l)){l&&l.ol&&clearTimeout(l.ol);l.W=!0;l.count=0;l.bV=void 0;g.w$[a.Db]=!0;(l=this.ws[a.Db])&&!0===l.Zs&&f.Rr&&(c.FAa(a.Db,l.error.pM[1]),this.vx&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.errst={type:"array",value:{ts:h.time.ea(),id:a.requestId,servid:b.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.gz(l)),this.ws[a.Db]=void 0);if(m!==b.url){u=this.dw[d+"-"+d];u&&u.W||(d=(d=c.ET(m))&&d.Ka&&d.Ka.yo&&d.Ka.yo.Fa||Math.random(0,1)*f.NT,d=Math.min(d,f.NT),setTimeout(function(){var f;if(!(!1!==g.Zs||u&&u.W)&&(g.Zs=!0,c.em(k.pM[0],k.pM[1],b.url,k),this.vx)){f={type:"logdata",target:"endplay",fields:{}};f.fields.erep={type:"array",value:{ts:h.time.ea(),id:a.requestId,servid:b.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.gz(f);}}.bind(this),d));}this.vx&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.pbres={type:"array",value:{ts:h.time.ea(),id:a.requestId,result:1,servid:a.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.gz(l));}};b.prototype.pmb=function(a,b){var c,d,g,k,m,l,u,n,r,R;c=this.UG;d=parseInt(b.Db,10);g=this.ws[d];k=parseInt(a.Db,10);m=this.dw[k+"-"+d];l=0;r=this.config;if(m&&g){m.W=!1;m.bV=void 0;g.w$[k]=!1;n=g.Oaa;if(r.Rr&&k===d&&b.isPrimary){R=c.ET(b.url);R=R&&R.Ka&&R.Ka.yo&&R.Ka.yo.Fa||300*Math.random(0,1);R=R*Math.pow(2,m.count);R=Math.min(R,12E4);R=R+Math.random(0,1)*(1E4>R?100:1E4);m.ol=setTimeout(function(){var c;m.ol=void 0;c=this.vpa(a.url,b,k);c.cqb(a.groupId);m.bV=c.ak();}.bind(this),R);}++m.count;k===d&&(l=0,n.forEach(function(a){!1===g.w$[a]&&l++;}),n.length===l&&g.count>=r.TT&&(u=g.error,g.Zs=!0,f.forEach(c.vCa(b.url).Yc,function(a){var b;c.em(u.pM[0],u.pM[1],a.url,u);if(this.vx){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:h.time.ea(),id:-1,servid:a.Ub.id},adjust:["ts"]};c.gz(b);}},this)));this.vx&&(d={type:"logdata",target:"endplay",fields:{}},d.fields.pbres={type:"array",value:{ts:h.time.ea(),id:a.requestId,result:0,servid:a.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.gz(d));}};b.prototype.kca=function(a){var b,c,f;b=a.url||a.mediaRequest.url;if(b){a=this.UG;b=a.wBa(b);c=this.ws[b];f=this.dw[b+"-"+b];c&&c.Zs&&this.config.Rr&&(a.FAa(c.error.dna,!1),this.vx&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:h.time.ea(),id:-1,servid:b},adjust:["ts"]},a.gz(c)),this.ws[b]=void 0,f&&f.ol&&clearTimeout(f.ol));}};b.prototype.reset=function(){var a,b,f;a=this.dw;for(f in a)a.hasOwnProperty(f)&&(b=a[f+"-"+f])&&b.ol&&clearTimeout(b.ol);this.dw={};this.ws={};};g.T=b;},function(g,d,a){var b,f,h,m,c,k,p,q,l,n,y,L,x,G,r,R;Object.defineProperty(d,"__esModule",{value:!0});g=a(25);b=a(6);f=a(11);h=a(5);m=new h.Console("ASEJS_ERROR_DIRECTOR","asejs");c=a(701);a=a(40);k=h.qk;p=k.Bt;q={};l={};n=[f.Gf.ar,!1];y=[f.Gf.ar,!0];L=[f.Gf.fx,!1];x=[f.Gf.fx,!0];G=[f.Gf.URL,!0];r=[-1,!1];R=[f.Gf.fx,!1];q[p.zvb]=L;q[p.WHa]=L;q[p.Mda]=L;q[p.hIa]=L;q[p.$Ha]=x;q[p.sGa]=x;q[p.mda]=R;q[p.lX]=R;q[p.tGa]=r;q[p.uGa]=R;q[p.vGa]=R;q[p.pGa]=L;q[p.rGa]=L;q[p.lda]=n;q[p.qGa]=L;q[p.oGa]=R;q[p.Nwb]=x;q[p.gKa]=R;q[p.Qea]=R;q[p.Pea]=R;q[p.wY]=R;q[p.Nea]=R;q[p.fKa]=G;q[p.yY]=x;q[p.uN]=G;q[p.zY]=y;q[p.AY]=x;q[p.iKa]=G;q[p.vN]=R;q[p.Rea]=x;q[p.hKa]=x;q[p.cIa]=x;q[p.XHa]=L;q[p.FQa]=L;q[p.NHa]=L;q[p.OHa]=L;q[p.PHa]=L;q[p.QHa]=L;q[p.RHa]=L;q[p.SHa]=L;q[p.THa]=L;q[p.UHa]=L;q[p.VHa]=L;q[p.YHa]=L;q[p.ZHa]=L;q[p.aIa]=L;q[p.bIa]=L;q[p.dIa]=L;q[p.eIa]=L;q[p.fIa]=L;q[p.gIa]=L;q[p.iIa]=L;q[p.jIa]=L;q[p.EQa]=R;q[p.TIMEOUT]=n;l[p.mda]=!0;l[p.Qea]=!0;l[p.Pea]=!0;l[p.Nea]=!0;l[p.Mda]=!0;n=function(){var G1k;function a(a,b,f){var H1k,d,a4d,Y5d,U5d,q5d,A5d,m5d;H1k=2;while(H1k!==18){a4d="sta";a4d+="rtBuf";a4d+="fering";Y5d="re";Y5d+="qu";Y5d+="e";Y5d+="stComple";Y5d+="te";U5d="requestPro";U5d+="gre";U5d+="ss";q5d="under";q5d+="f";q5d+="lo";q5d+="w";A5d="ne";A5d+="tworkFai";A5d+="l";A5d+="ed";m5d="1SIYbZ";m5d+="rNJC";m5d+="p9";switch(H1k){case 2:this.Do=b;this.config=f;m5d;q[p.wY]=f.sdb?x:R;this.Do.on(A5d,this.Ecb.bind(this));this.zD=h.time.ea();H1k=7;break;case 6:d=this.kca.bind(this);a.on(q5d,this.J9.bind(this));a.on(U5d,d);a.on(Y5d,d);a.on(a4d,this.Ejb.bind(this));this.Jba={};this.u$=new c(b,f);H1k=19;break;case 7:this.RQ=0;H1k=6;break;case 19:this.Odb();H1k=18;break;}}}G1k=2;while(G1k!==12){switch(G1k){case 2:a.prototype.qqb=function(a){var k1k;k1k=2;while(k1k!==1){switch(k1k){case 2:this.VV=a;k1k=1;break;case 4:this.VV=a;k1k=9;break;k1k=1;break;}}};a.prototype.em=function(a,c,d,g){var m1k,h,p,t,u,n,A,y,x,G,L4d,S4d,z4d,b4d,V4d;m1k=2;while(m1k!==23){L4d=" ";L4d+=": critical erro";L4d+="r coun";L4d+="t ";L4d+="= ";S4d=" ";S4d+="o";S4d+="n";S4d+=" ";z4d="Fa";z4d+="ilu";z4d+="r";z4d+="e ";b4d="Inval";b4d+="id affected for netwo";b4d+="rk fai";b4d+="l";b4d+="ure";V4d="Unmapped failure code in JSASE erro";V4d+="r ";V4d+="direct";V4d+="or : ";switch(m1k){case 6:m1k=d&&b.isArray(q[d])?14:24;break;case 14:A=q[d];m1k=13;break;case 13:this.vT={AJ:c,Wh:d,qra:t,sj:g};l[d]&&++this.RQ;m1k=11;break;case 24:B6kk.P5d(0);m.error(B6kk.M5d(V4d,d));m1k=23;break;case 19:y&&(p[y]=[a.url]);m1k=18;break;case 11:m1k=A!==r?10:23;break;case 26:m.error(b4d);return;break;case 15:m1k=void 0!==a.host&&void 0!==a.port?27:26;break;case 27:p=n.Qpb(a.host,a.port);m1k=18;break;case 2:h=this;m1k=5;break;case 18:x=A[0];G=A[1];u.No?b.forEach(p,function(b,k){var q1k,N4d;q1k=2;while(q1k!==5){N4d="err";N4d+="o";N4d+="r";switch(q1k){case 2:A===R||A===L?h.u$.rmb({url:void 0!==a.url?a.url:b[0],Db:k},{dna:k,pM:A,AJ:c,Wh:d,qra:t,sj:g}):b.some(function(a){var g1k;g1k=2;while(g1k!==5){switch(g1k){case 2:n.em(x,G,a);return x===f.Gf.fx;break;}}});!u.Np||0!==c&&void 0!==c||(b=void 0!==a.url?a.url:b[0],h.VV&&b&&h.VV.Eaa(N4d,b));q1k=5;break;}}}):b.forEach(p,function(b,d){var p1k,e4d;p1k=2;while(p1k!==5){e4d="er";e4d+="r";e4d+="or";switch(p1k){case 1:b.some(function(a){var w1k;w1k=2;while(w1k!==5){switch(w1k){case 2:n.em(x,G,a);return x===f.Gf.fx;break;}}}),!u.Np||0!==c&&void 0!==c||(b=void 0!==a.url?a.url:b[0],h.VV&&b&&h.VV.Eaa(e4d,b));p1k=5;break;case 2:p1k=A!==R||h.gob(d)?1:5;break;}}});m1k=23;break;case 5:p=k.Bt.name;t=d?p[d]:void 0;p={};u=this.config;n=this.Do;m.warn(z4d+t+S4d+JSON.stringify(a)+L4d+this.RQ);m1k=6;break;case 10:m1k=void 0!==a.url?20:15;break;case 20:y=n.wBa(a.url);m1k=19;break;}}};a.prototype.gob=function(a){var B1k,b,c,f;B1k=2;while(B1k!==13){switch(B1k){case 9:B1k=f.Vg<this.zD?8:7;break;case 2:b=h.time.ea();c=this.config;f=this.Jba[a];B1k=3;break;case 3:B1k=f?9:14;break;case 14:this.Jba[a]={Vg:b,count:1};B1k=13;break;case 6:return f.Zs=!0;break;case 8:f.Vg=b,f.count=1;B1k=13;break;case 7:B1k=!(f.Vg>=b-c.pW||f.Zs||(f.Vg=b,++f.count,f.count<c.TT))?6:13;break;}}};a.prototype.Ecb=function(a){var R1k,b,c,f,d,g,k,q,H4d,h4d,j4d,G4d,l4d,g4d;R1k=2;while(R1k!==6){H4d="s";H4d+="tre";H4d+="amingFa";H4d+="i";H4d+="lure";h4d=" ";h4d+="m";h4d+="s";h4d+=" a";h4d+="go";j4d="Network";j4d+=" has ";j4d+="failed ";G4d="te";G4d+="mpo";G4d+="ra";G4d+="rily";l4d="p";l4d+="er";l4d+="manently";g4d=" l";g4d+="ast ";g4d+="succ";g4d+="ess was ";switch(R1k){case 2:b=this;c=h.time.ea()-this.zD;f=a;R1k=3;break;case 3:q=this.config;B6kk.W5d(1);m.warn(B6kk.o5d(g4d,a?l4d:G4d,j4d,h4d,c));!a&&c>q.m9&&(f=!0);f?(this.tE&&(clearTimeout(this.tE),this.tE=void 0),this.Koa(),this.u$.reset(),this.vT&&(d=this.vT.Wh,g=this.vT.AJ,k=this.vT.sj),this.emit(H4d,{web:a,fkb:d,gkb:g,hkb:k})):this.tE||(this.tE=setTimeout(function(){var O1k;O1k=2;while(O1k!==5){switch(O1k){case 2:b.tE=void 0;b.lL();O1k=5;break;}}},q.n9));R1k=6;break;}}};a.prototype.lL=function(a){var S1k,u4d;S1k=2;while(S1k!==1){u4d="net";u4d+="workFailu";u4d+="r";u4d+="e";u4d+="Reset";switch(S1k){case 2:this.tE||(this.Do.lL(!!a),this.Jba={},this.emit(u4d));S1k=1;break;}}};a.prototype.kca=function(a){var K1k,b;K1k=2;while(K1k!==9){switch(K1k){case 5:this.zD=Math.max(a.timestamp||h.time.ea(),this.zD);this.Koa();b.No&&this.u$.kca(a);K1k=9;break;case 2:b=this.config;K1k=5;break;}}};a.prototype.Ejb=function(){var t1k;t1k=2;while(t1k!==1){switch(t1k){case 2:this.RQ=0;t1k=1;break;case 4:this.RQ=2;t1k=2;break;t1k=1;break;}}};G1k=7;break;case 7:a.prototype.J9=function(a){var M1k,b,c,d,X4d,c4d;M1k=2;while(M1k!==8){X4d="m";X4d+="s";c4d="Sett";c4d+="ing underflow timeout";c4d+=" in ";switch(M1k){case 9:c.qub&&!this.qM&&(m.info(c4d+d+X4d),this.qM=setTimeout(function(){var T1k,x4d,r4d;T1k=2;while(T1k!==4){x4d="ms, si";x4d+="nce underflow";x4d+=" w";x4d+="it";x4d+="h no success";r4d="Forcing";r4d+=" permanent";r4d+=" network fa";r4d+="ilur";r4d+="e after ";switch(T1k){case 2:B6kk.W5d(2);m.info(B6kk.M5d(d,r4d,x4d));b.qM=void 0;b.Do.em(f.Gf.ar,!0);T1k=4;break;}}},d));M1k=8;break;case 2:b=this;c=this.config;M1k=4;break;case 4:d=c.D8;this.zD=Math.max(a||h.time.ea(),this.zD);M1k=9;break;}}};a.prototype.Koa=function(){var l1k,K4d;l1k=2;while(l1k!==1){K4d="Cle";K4d+="ared underflow tim";K4d+="eout";switch(l1k){case 2:this.qM&&(clearTimeout(this.qM),this.qM=void 0,m.info(K4d));l1k=1;break;}}};a.prototype.Odb=function(){var U1k,b,c,f,d,v4d,w4d,Z4d;function a(a){var a1k,b,c,f;a1k=2;while(a1k!==3){switch(a1k){case 1:a1k=b?5:4;break;case 2:b=a.length;a1k=1;break;case 14:return a;break;a1k=3;break;case 5:f=Math.floor(Math.random()*b--),c=a[b],a[b]=a[f],a[f]=c;a1k=1;break;case 7:a1k=b?6:6;break;a1k=b?5:4;break;case 4:return a;break;}}}U1k=2;while(U1k!==11){v4d="manif";v4d+="estAdd";v4d+="e";v4d+="d";w4d="Initia";w4d+="lized networ";w4d+="k failure sim";w4d+="ulati";w4d+="on \"";Z4d="manif";Z4d+="estAdde";Z4d+="d";switch(U1k){case 2:b=this;c=this.Do;f=this.config.w3;U1k=3;break;case 3:d={n:0};U1k=9;break;case 8:c.on(Z4d,function(){var E1k,f;E1k=2;while(E1k!==9){switch(E1k){case 5:d.n=d.n||0;c.Ora(function(a,b,c,g){var P1k;P1k=2;while(P1k!==1){switch(P1k){case 2:d[g.id]||(d[g.id]=!0,f.push(g.id));P1k=1;break;}}});a(f).forEach(function(a){var W1k;W1k=2;while(W1k!==5){switch(W1k){case 2:setTimeout(function(){var A1k;A1k=2;while(A1k!==1){switch(A1k){case 2:b.em({url:a},k.Bt.AY);A1k=1;break;}}},4E3+d.n);d.n+=1E3;W1k=5;break;}}});E1k=9;break;case 2:f=[];E1k=5;break;}}});U1k=7;break;case 9:U1k=f==="1"?8:6;break;case 7:B6kk.W5d(2);m.warn(B6kk.M5d(f,w4d,'"'));U1k=11;break;case 13:U1k=12;break;case 14:c.on(v4d,function(){var n1k,a;n1k=2;while(n1k!==9){switch(n1k){case 2:a=[];n1k=5;break;case 5:d.n=d.n||0;c.Ora(function(b,c,f,g){var X1k;X1k=2;while(X1k!==1){switch(X1k){case 2:d[g.id]||(d[g.id]=!0,a.push({P:f.P,url:g.id}));X1k=1;break;}}});a.sort(function(a,b){var J1k;J1k=2;while(J1k!==1){switch(J1k){case 2:return b.P-a.P;break;case 4:return b.P%a.P;break;J1k=1;break;}}}).map(function(a){var I1k;I1k=2;while(I1k!==1){switch(I1k){case 2:return a.url;break;case 4:return a.url;break;I1k=1;break;}}}).forEach(function(a){var Q1k;Q1k=2;while(Q1k!==5){switch(Q1k){case 2:setTimeout(function(){var L1k;L1k=2;while(L1k!==1){switch(L1k){case 2:c.iy()||b.em({url:a},k.Bt.uN);L1k=1;break;}}},5E3*Math.random());d.n+=1E3;Q1k=5;break;}}});n1k=9;break;}}});U1k=7;break;case 12:return;break;case 6:U1k=f==="2"?14:13;break;}}};return a;break;}}}();d.vJa=n;a.mi(g.EventEmitter,n);},function(g,d,a){var b,f,h,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(25);f=a(153);h=a(380);m=a(702);c=a(24);k=a(13);p=a(699);q=a(59);g=function(){function a(a,b,c,f,d,g,h,k,m,q,p,l){void 0===b&&(b=!1);void 0===f&&(f=0);this.kXa=q;this.uXa=p;this.Va=l;this.sn=0;this.Nd=a;this.replace=b;this.E0=c;this.U=f;this.ba=d;this.U7=g;this.Do=h;this.SI=k;this.K=m;}a.bsa=function(b,c,f,d,g,k,m){var q,p,l;q=g.mBa;p=b.yg(1);l=new h.Wca({Kc:String(d.movieId),ca:g.ca,Ja:d,Aya:b.yg(0),Fya:p,wg:g.wg,$r:g.$r,config:c,K:f},function(){});p=(p=(p=p?a.Pka(d,1,q[1]):void 0)&&l.DS(p))&&p.$b;l.vJ&&p&&p.forEach(function(a){a.qn||(a.wg=!0);});return a.$ja(b,c,f,d,l,q,g,k,m);};a.$ja=function(f,d,g,h,k,q,l,u,t){var n,A,y,x,G,r,L;n=l.U;A=l.ba;y=l.c3;x=l.v6;l=l.sAa;l?(G=l.U7,y=l.Do,r=l.SI,y.uH(h)):(G=new b.Ow(),y=y(h),G.on(y,"logdata",function(a){c.na(f,a.type,a);}),r=new m.vJa(f,y,d),G.on(r,"streamingFailure",function(b){a.zUa(b,f,g,r);},f),G.on(r,"networkFailureReset",x,f));d.Np&&(u&&u.MU&&u.oa?(L=new p.bRa(u.MU,{oa:u.oa,oR:u.oR,ohb:d.KN.mx,V_a:d.KN.lv},t),r.qqb(L)):t.mq("SideChannel: pbcid/xid is missing."));return new a(k,!!l,q,n,A,G,y,r,g,u,L,t);};a.Pka=function(a,b,c){a=a[0===b?"audio_tracks":"video_tracks"];k.assert(a&&c<a.length,"Expected valid selected track index, but got MediaType: "+b+", Index: "+c+"."+("ManifestTracks length: "+(a&&a.length)));return a[c].track_id;};a.aXa=function(a,b,c,f){var d,g;d=b;g=Math.abs(a.Mi-b.Mi);g<=c.OT?d=a.Mi>b.Mi?a:b:g>c.OT&&(d=a.Mi<b.Mi?a:b,f.warn("maxPts between streams is largely different. Choosing lower maxPts:",d));return d;};a.zUa=function(a,b,c,f){var d,g,h;d=a.web;g=a.fkb;h=a.gkb;a=a.hkb;c.warn("Streaming failure, state is "+b.ja.Mbb()+" is permanent: "+d+", last error code: "+g+", last http code: "+h+", last native code: "+a);d?(c.warn(" > Permanent failure, done"),b.zi("Permanent failure",void 0,"NFErr_MC_StreamingFailure",g,h,a)):b.ja.Zl()?(c.warn(" > We are buffering, calling it!"),b.zi("Temporary failure while buffering",void 0,"NFErr_MC_StreamingFailure",a,h,a)):(c.warn(" > Resetting failures"),f.lL());};Object.defineProperties(a.prototype,{Oa:{get:function(){return this.Nd;},enumerable:!0,configurable:!0}});a.prototype.Qp=function(a){return this.Nd.DS(this.pS(a));};a.prototype.pS=function(b){return a.Pka(this.Nd.Ja,b,this.qS(b));};a.prototype.qS=function(a){return this.E0[a];};a.prototype.hsa=function(a,b){return this.l6(a,b)+(0===a?this.Nd.Ja.video_tracks.length:0);};a.prototype.l6=function(a,b){var c;c=-1;(a=this.Nd.Ja[0===a?"audio_tracks":"video_tracks"])&&a.some(function(a,f){if(a.track_id===b)return c=f,!0;});return c;};a.prototype.Zd=function(){this.Nd.w5a();delete this.Nd;};a.prototype.jca=function(a,b){this.Nd.jca(a,b);};a.prototype.clone=function(b){return a.$ja(b,b.G,this.K,this.Nd.Ja,this.Nd,this.E0,{U:this.U,ba:this.ba,c3:function(a){return b.BO(a);},v6:b.L_,sAa:this.replace?b.Gab():void 0},this.kXa,this.Va);};a.prototype.gca=function(a){this.E0[0]=a;};a.prototype.Xsa=function(){return this.Zk?this.Zk.Mi:this.ba?this.ba:this.Nd.Ja.duration;};a.prototype.wQ=function(a,b,c,f,d,g,h){var k,q,m,p;if(g){k=g.Xa[1].ck;g=g.Xa[0].ck;if(!k||!g)return{wz:[],so:[]};q=k.ba;m=g.ba;k=m-q;h||(q=void 0);m-=g.U;}p=this.zra(b,d.Xa,c,q,k,m);a===f.Nu&&[1,0].forEach(function(a){var b;b=d.Rg(a);b&&(b.xg=p[a]);});return{wz:p.map(function(a){return a.U;}),so:p};};a.prototype.B0a=function(a,b,c){var f,d,g;f=this.Nd.Vc[a];if(f&&f.stream.jd){if(this.so&&this.so[a]&&this.so[a].U<=b&&this.so[a].ba>b)return this.so[a].Hc;a=f.$;d=a.Gi(b,void 0,!0);g=void 0;c&&(b=f.stream.Zf(d).QR(b))&&(g=b.Hd);void 0===g&&(g=a.gg(d));return g;}};a.prototype.tQ=function(a,b,c,d,g,h,k,q){var m,p,l;if(!this.YK){m=this.Nd.Vc[0]&&this.Nd.Vc[0].stream.jd;p=this.Nd.Vc[1]&&this.Nd.Vc[1].stream.jd;if(!(d&&!m||g&&!p)){this.lca(a,c,d,g,h,k);m=[0,0];0===a||this.iK||this.replace||(l=b(a-1),l=f.eQ(this.Nd.M,l.Nd.M),l=this.wQ(a,function(a){return[d,g][a];},this.U,h,h.tg,h.tg,l),m=l.wz);this.U=m[1];this.wz=m;this.so=l&&l.so;this.poa(a,b);k.NVa(a,this.sn,this.U,this.Zk.Mi,g?this.Nd.Vc[1].Zk.Mi:this.Nd.Vc[0].Zk.Mi);this.YK=!0;for(a+=1;a<q();++a)l=b(a),l.YK=!1,l.tQ(a,b,c,d,g,h,k,q);}}};a.prototype.poa=function(a,b){0===a||this.replace?this.sn=0:(a=b(a-1),this.sn=a.sn+a.Xsa()-this.U);};a.prototype.lca=function(b,c,f,d,g,h){var k,m,q,p,l,u;k=this;m=this.Nd.Vc[0];q=this.Nd.Vc[1];if((!f||m&&m.stream.jd)&&(!d||q&&q.stream.jd)){p=function(a){return[f,d][a];};l=this.ba||Infinity;u=this.$I(p,g.tg.Xa,l,c);m=u.map(function(a){return{Mi:a.ba,hfb:a.U,lastIndex:a.index};});this.Zk=m=d?!c.En||c.dn?m[1]:a.aXa(m[0],m[1],c,this.K):m[0];h.QVa(b,d?this.Nd.Vc[1].Zk.Mi:this.Nd.Vc[0].Zk.Mi,m.Mi);b=g.I4(b);0<b.length&&b.forEach(function(a){var b;b=a.xa.ba;b&&b<l&&(u=k.$I(p,a.Xa,b,c));b=a.Xa[1];a=a.Xa[0];b&&b.BL(u[1]);a&&a.BL(u[0]);});}};a.prototype.OR=function(a,b){var c;c=this.Nd.Vc[a];if(c&&c.stream.jd){if(b=c.$.Gi(b),-1!==b)return b;}else if(a=this.Nd.Qna[a])return Math.round(b/a);};a.prototype.zra=function(a,b,c,f,d,g){var h;h=this;return this.Ama(a)?[1,0].map(function(k){if(!a(k))return{};k=b[k].yra(h.Nd.Vc[k].stream,c,f,d,g);c=k.U;return k;}).reverse():[];};a.prototype.$I=function(a,b,c,f){var d;d=this;return this.Ama(a)?[1,0].map(function(g){var h;if(!a(g))return{};h=d.Nd.Vc[g].stream;g=b[g].V8a(h,c);c=f.ml?new q.gc(g.wb,h.Ia.ga).yf:g.ba;return g;}).reverse():[];};Object.defineProperties(a.prototype,{aba:{get:function(){return this.uXa;},enumerable:!0,configurable:!0}});a.prototype.Ama=function(a){var b,c;b=this.Nd.Vc;if(!b)return!1;c=b[1];c=!a(1)||c&&c.stream.jd;b=b[0];a=!a(0)||b&&b.stream.jd;return c&&a?!0:!1;};return a;}();d.kga=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f,d,g,c,h,p,q,l,n){this.id=a;this.ca=f;this.U=d;this.tI=c;this.mj=h;this.UE=p;this.fo=q;this.ftb=l;this.bza=n;this.ba=g||Infinity;this.fo="number"===typeof q?q:this.ba;}a.prototype.toString=function(){return"segmentId: "+this.id+"playlistSegmentId: "+this.bza+" manifestIndex: "+this.ca+" pts: "+this.U+"-"+this.ba+" defaultKey: "+this.tI+" dests: "+JSON.stringify(this.mj)+" terminal: "+!!this.UE;};a.prototype.toJSON=function(){return{id:this.id,manifestIndex:this.ca,"startPts:":this.U,endPts:this.ba,defaultKey:this.tI,"dests:":this.mj,terminal:!!this.UE,beginJITPts:this.fo,playlistSegmentId:this.bza};};return a;}();d.WQa=g;},function(g,d,a){var b,f,h,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(13);a(5);h=a(58);m=a(24);c=a(210);k=a(94);p=a(201);g=function(a){function d(b,c,f,g,h,m){c=a.call(this,b,g,h,m)||this;c.HO=f;c.xk=void 0;c.G_=d.BA.INIT;c.QDb=g.offset;c.S_=k.pk.prototype.toString.call(c)+" multiple";c.KB(b.url,g.offset,8,0);return c;}b.__extends(d,a);Object.defineProperties(d.prototype,{data:{get:function(){return this.xk;},enumerable:!0,configurable:!0}});d.prototype.bi=function(a){var b,g;this.xk=this.xk?m.Wm(this.xk,a.response):a.response;a.eL();switch(this.G_){case d.BA.INIT:b=new DataView(this.xk);g=b.getUint32(0);b=b.getUint32(4);h.GG(b);this.KB(a.url,a.offset+a.aa,g,0);c.rA.prototype.bi.call(this,a);this.G_=d.BA.cga;break;case d.BA.cga:b=new DataView(this.xk);g=b.getUint32(this.Nja-8);b=b.getUint32(this.Nja-4);h.GG(b);this.KB(a.url,a.offset+a.aa,g-8,0);this.G_=d.BA.aga;c.rA.prototype.bi.call(this,a);break;case d.BA.aga:c.rA.prototype.bi.call(this,a);break;default:f.assert(!1);}};d.prototype.KB=function(a,b,c,f){a=new p.NM(this.stream,this.HO,this.S_+" ("+this.ta.length+")",{M:this.M,O:this.O,za:this.za,P:this.P,offset:b,aa:c,url:a,location:this.location,Db:this.Db,responseType:f},this,this.K);this.push(a);this.Nja=this.ta.reduce(function(a,b){return a+b.aa;},0);};d.BA={INIT:0,cga:1,aga:2,name:["INIT","MOOF","MDAT"]};return d;}(c.rA);d.nFa=g;},function(g,d,a){var b,f,h,m,c,k,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(13);f=a(6);g=a(40);h=a(5);m=a(94);c=a(209);k=a(154);p=h.qk;a=function(a){function c(b,c,f,d,g,h,k){c=this;c=["cache","edit"].filter(function(a,b){return[h,d.Ta][b];});c=c.length?"("+c.join(",")+")":"";void 0===d.responseType&&(d.responseType=p.Sc&&!p.Sc.uE.gx?0:1);c=a.call(this,b,f,c,d,g,k)||this;m.pk.call(c,b,d);c.RUa=d.ofb;c.Sf.on(c,p.zd.PAb,c.fWa);c.Sf.on(c,p.zd.OAb,c.eWa);return c;}b.__extends(c,a);c.prototype.Ac=function(a,b,c,f){k.Dw.prototype.Ac.call(this,a,b,c,f);this.Pb||!a.G.ZP&&this.Yb||(this.Pb=a.kb.$e);};c.prototype.Vv=function(){var a;a={start:this.offset,end:this.offset+this.aa-1};void 0!==this.Oc&&0<=this.Oc&&void 0!==this.Te&&(this.iO=this.qla(this.iO,!0),a={start:0,end:-1});return p.prototype.open.call(this,this.iO,a,this.hO,{},void 0,void 0,this.wja);};c.prototype.DW=function(a,b){var c,f;if(this.complete)return 0;c=this.cma;f=a[c];if(!f)return this.K.warn("updateUrl, missing stream for streamId:",c,"mediaRequest:",this,"streamMap:",a),1;if(!f.url)return this.K.warn("updateurl, missing url for streamId:",c,"mediaRequest:",this,"stream:",f),2;a=this.qla(f.url,!1);return this.url===a||(b(this,f.location,f.Ub),this.ZL(a))?0:(this.K.warn("swapUrl failed: ",this.WC),3);};c.prototype.eP=function(){this.pd||(this.pd=!0,this.bk=this.track.bk(),this.oy(this),this.hk=0,this.gl=this.tc);};c.prototype.Dla=function(){var a;a=this.tc;this.zl=h.time.ea()-this.tc;this.ny(this);this.gl=a;};c.prototype.Fla=function(){var a;a=this.tc;this.zl=h.time.ea()-this.tc;this.$C(this);this.gl=a;this.hk=this.pe;};c.prototype.fWa=function(){var a;a=this.gfb;this.Lg=!0;this.Pb&&(this.Pb.Fz(a,{requestId:this.Hm(),ae:this.Db,type:this.O}),this.Pb.Z$());};c.prototype.dP=function(){var a;a=this.tc;this.zl=h.time.ea()-this.tc;this.Pb&&this.Lg&&this.Pb.Hz(h.time.ea(),this.Lg,{requestId:this.Hm(),ae:this.Db,type:this.O});this.Lg=this.pd=!1;this.$u(this);this.gl=a;this.hk=this.pe;this.Zd();};c.prototype.eWa=function(){this.Pb&&(this.Pb.Ix(this.KHb,this.gfb,this.ffb,{requestId:this.Hm(),ae:this.Db,type:this.O}),this.Pb.Hz(this.ffb,this.Lg,{requestId:this.Hm(),ae:this.Db,type:this.O}));this.Lg=!1;};c.prototype.iTa=function(a,b,c,f){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?f:a-c;};c.prototype.qla=function(a,b){var c,d;if(f.R(this.Oc)||0>this.Oc||f.R(this.Te))return a;c=[];d=this.iTa(this.Oc,this.Te-1,this.RUa,this.Mb.pib);c.push("ptsRange/"+this.Oc+"-"+(this.Te-1));0<d&&b&&c.push("timeDelay/"+d);a=a.split("?");b=a[0];for(var d="",g=0;g<c.length;g++)d+="/"+c[g];return a[1]?b+(d+"?"+a[1]):b+d;};return c;}(c.tF);d.jFa=a;g.mi(m.pk,a,!1);},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);g=a(40);f=a(212);a=a(155);h=function(){function a(b,f){this.sa=[];this.Jg=void 0;this.Vb=0;this.K=b;f&&f.length&&(Array.isArray(f)?(this.sa=f.slice(),this.AG(0,this.sa.length)):f instanceof a&&(this.sa=f.sa.slice(),this.AG(0,this.sa.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.sa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.sa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.sa[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vg:{get:function(){return this.sa[this.sa.length-1];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ab:{get:function(){return this.first&&this.first.ab;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wb:{get:function(){return this.Vg&&this.Vg.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ipa:{get:function(){return this.Jg;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Vb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.first&&this.first.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Qo:{get:function(){return this.first&&this.first.Qo;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.sa;},enumerable:!0,configurable:!0}});a.prototype.get=function(a){0>a&&(a+=this.sa.length);return this.sa[a];};a.prototype.push=function(a){this.sa.push(a);this.AG(this.sa.length-1);return this.length;};a.prototype.unshift=function(a){this.sa.unshift(a);this.AG(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.sa.length)return this.y0(this.sa.length-1),this.sa.pop();};a.prototype.shift=function(){if(0!==this.sa.length)return this.y0(0),this.sa.shift();};a.prototype.splice=function(a,b){for(var c,f=[],d=2;d<arguments.length;d++)f[d-2]=arguments[d];0>a&&(a+=this.sa.length);0>a&&(a=0);a>this.sa.length&&(a=this.sa.length);if(void 0===b||0>b)b=0;b=Math.min(b,this.sa.length-a);0<b&&this.y0(a,a+b);d=(c=this.sa).splice.apply(c,[a,b].concat(f));0<f.length&&this.AG(a,a+arguments.length-2);return d;};a.prototype.slice=function(b,f){void 0===b&&(b=0);void 0===f&&(f=this.sa.length);0>b&&(b+=this.sa.length);if(b>=this.sa.length)return new a(this.K);f>this.sa.length&&(f=this.sa.length);0>f&&(f+=this.sa.length);return new a(this.K,this.sa.slice(b,f));};a.prototype.Yl=function(a){if(0===this.sa.length||a.ab>=this.wb)this.push(a);else if(a.wb<=this.ab)this.unshift(a);else{for(var c=0,f=this.sa.length-1,d;c<f-1;)d=Math.floor((f+c)/2),b.assert(d!==f&&d!==c),a.ab>=this.sa[d].wb?c=d:f=d;b.assert(c!==f);b.assert(this.sa[c].wb<=a.ab&&this.sa[f].ab>=a.wb);this.splice(f,0,a);}};a.prototype.remove=function(a){a=this.sa.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];b=b.map(function(a){return a.sa;});return new a(this.K,Array.prototype.concat.apply(this.sa,b));};a.prototype.forEach=function(a){var b;b=this;this.sa.forEach(function(c,f){return a(c,f,b);});};a.prototype.some=function(a){var b;b=this;return this.sa.some(function(c,f){return a(c,f,b);});};a.prototype.every=function(a){var b;b=this;return this.sa.every(function(c,f){return a(c,f,b);});};a.prototype.map=function(a){var b;b=this;return this.sa.map(function(c,f){return a(c,f,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.sa.reduce(function(b,f,d){return a(b,f,d,c);},b);};a.prototype.indexOf=function(a){return this.sa.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.sa.some(function(f,d){c=d;return a(f,d,b);})?this.sa[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.sa.some(function(f,d){c=d;return a(f,d,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.K,this.sa.filter(function(a,f){return b(a,f,c);}));};a.prototype.XR=function(a){for(var b=this.sa.length-1;0<=b;--b)a(this.sa[b],b,this);};a.prototype.lba=function(a){for(var b=this.sa.length-1;0<=b;--b)if(a(this.sa[b],b,this))return!0;return!1;};a.prototype.PR=function(a){if(this.empty||a<this.Oc||a>=this.Te)return-1;for(var b=0,c=this.sa.length-1,f;c>b;){f=Math.floor((c+b)/2);if(a>=this.sa[f].Oc&&a<this.sa[f].Te){c=f;break;}a<this.sa[f].Te?c=f-1:b=f+1;}return c;};a.prototype.YC=function(a){if(this.empty||a<this.Hc||a>=this.ee)return-1;for(var b=0,c=this.sa.length-1,f;c>b;){f=Math.floor((c+b)/2);if(a>=this.sa[f].Hc&&a<this.sa[f].ee){c=f;break;}a<this.sa[f].ee?c=f-1:b=f+1;}return c;};a.prototype.Ara=function(a){a=this.PR(a);return 0<=a?this.sa[a]:void 0;};a.prototype.Bra=function(a){a=this.YC(a);return 0<=a?this.sa[a]:void 0;};a.prototype.QP=function(a){var b;b=this.sa[a].wb;for(a+=1;a<this.sa.length&&b===this.sa[a].ab;++a)b=this.sa[a].wb;a<this.sa.length?void 0===this.Jg?this.Jg=new f.uF(this,{wb:b}):this.Jg.Paa(b):void 0===this.Jg?this.Jg=new f.uF(this,{}):this.Jg.y2();};a.prototype.dB=function(a,b){for(var c=a;c<b;++c)this.Vb+=this.sa[c].aa;void 0===this.Jg||0===a?this.QP(0):this.Jg.wb===this.wb?this.QP(a-1):this.sa[a].ab===this.Jg.wb&&this.QP(a);};a.prototype.Cr=function(a,b){var c;if(0===a)this.Jg=void 0,b<this.length&&this.QP(b);else{c=this.Jg;c.wb>this.sa[a-1].wb&&(b<this.length?c.Paa(this.sa[a-1].wb):c.y2());}for(;a<b;++a)this.Vb-=this.sa[a].aa;};a.prototype.AG=function(a,b){void 0===b&&(b=a+1);this.dB(a,b);};a.prototype.y0=function(a,b){void 0===b&&(b=a+1);this.Cr(a,b);};return a;}();d.ZW=h;g.mi(a.OM,h);},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(13);g=function(){function a(a,b){this.dc=a;this.nB=b;this.xr();}Object.defineProperties(a.prototype,{length:{get:function(){return this.ju;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.ju;},enumerable:!0,configurable:!0}});a.prototype.H9a=function(){return this.vB&&this.vB.get(0);};a.prototype.w_a=function(){return this.iB&&this.iB.get(this.iB.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.dc.length;++b)if(this.Tf[b+1]>a)return this.dc[b].get(a-this.Tf[b]);};a.prototype.push=function(a){this.dc[this.nB(a)].push(a);this.xr();return this.ju;};a.prototype.shift=function(){var a;if(this.vB){a=this.vB.shift();this.xr();return a;}};a.prototype.pop=function(){var a;if(this.iB){a=this.iB.pop();this.xr();return a;}};a.prototype.unshift=function(a){this.dc[this.nB(a)].unshift(a);this.xr();return this.ju;};a.prototype.Yl=function(a){var b;b=this.nB(a);this.dc[b].Yl(a);this.xr();};a.prototype.remove=function(a){var b;b=this.dc.some(function(b){return b.remove(a);});b&&this.xr();return b;};a.prototype.splice=function(a,b){var u,n,r,x;for(var f,c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];for(var d=[],g,h=a+Math.max(0,b),l=0;l<this.dc.length;++l){u=this.dc[l];n=this.Tf[l];r=this.Tf[l+1];if(a<r){x=a-n;n=Math.min(h-n,u.length);void 0===g&&0<x&&n<u.length?Array.prototype.push.apply(d,u.splice.apply(u,[x,n-x].concat(c))):(Array.prototype.push.apply(d,u.splice(x,n-x)),void 0===g&&(g=0<l&&0===x?l-1:l));a=r;if(a>=h)break;}}if(c.length&&void 0!==g){for(h=this.nB(c[0]);0<g&&h<g&&this.dc[g].empty;)--g;for(;c.length&&h===g;){this.dc[g].push(c.shift());if(!c.length)break;h=this.nB(c[0]);}for(;c.length&&++g<this.dc.length&&this.dc[g].empty;)for(;c.length&&h===g;){this.dc[g].push(c.shift());if(!c.length)break;h=this.nB(c[0]);}c.length&&(f=this.dc[g]).splice.apply(f,[0,0].concat(c));}this.xr();return d;};a.prototype.find=function(a){var b,f;b=this;return this.dc.some(function(c,d){f=c.find(b.tu(a,d));return void 0!==f;})?f:void 0;};a.prototype.findIndex=function(a){var f;for(var b=0;b<this.dc.length;++b){f=this.dc[b].findIndex(this.tu(a,b));if(-1!==f)return f+this.Tf[b];}return-1;};a.prototype.indexOf=function(a){var f;for(var b=0;b<this.dc.length;++b){f=this.dc[b].indexOf(a);if(-1!==f)return f+this.Tf[b];}return-1;};a.prototype.map=function(a){var b,f;b=this;f=this.dc.map(function(c,f){return c.map(b.tu(a,f));});return Array.prototype.concat.apply([],f);};a.prototype.reduce=function(a,b){var f;f=this;return this.dc.reduce(function(b,d,g){return d.reduce(f.lYa(a,g),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.dc.forEach(function(f,c){f.forEach(b.tu(a,c));});};a.prototype.XR=function(a){for(var b=this.dc.length-1;0<=b;--b)this.dc[b].XR(this.tu(a,b));};a.prototype.some=function(a){var b;b=this;return this.dc.some(function(f,c){return f.some(b.tu(a,c));});};a.prototype.lba=function(a){for(var b=this.dc.length-1;0<=b;--b)if(this.dc[b].lba(this.tu(a,b)))return!0;return!1;};a.prototype.every=function(a){var b;b=this;return this.dc.every(function(f,c){return f.every(b.tu(a,c));});};a.prototype.q9a=function(a,b){var h,l;function f(b){return b.reduce(function(b,c,f,d){return void 0===c?b:void 0===b?f:0>a(c,d[b])?f:b;},void 0);}for(var c=this,d=this.dc.map(function(){return 0;}),g=this.dc.filter(function(a){return a.empty;}).length;g<this.dc.length;){h=d.map(function(a,b){return a<c.dc[b].length?c.dc[b].get(a):void 0;});l=f(h);b(h[l],this.Tf[l]+d[l],this);++d[l];d[l]===this.dc[l].length&&++g;}};a.prototype.move=function(a){return this.remove(a)?(this.Yl(a),!0):!1;};a.prototype.Fqb=function(){var a;if(this.dc[1].length){a=this.dc[1].shift();this.dc[0].push(a);this.xr();}};a.prototype.Cra=function(a){for(var b=-1,f=0;f<this.dc.length;++f)if(b=a(this.dc[f]),-1!==b){b+=this.Tf[f];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.xr=function(){var b;this.ju=0;this.Tf=[0];this.iB=this.vB=void 0;for(var a=0;a<this.dc.length;++a){b=this.dc[a];this.ju+=b.length;this.Tf.push(this.Tf[this.Tf.length-1]+b.length);!this.vB&&b.length&&(this.vB=b);b.length&&(this.iB=b);}};a.prototype.tu=function(a,b){var f,c;f=this;c=this.Tf[b];return function(b,d){return a(b,c+d,f);};};a.prototype.lYa=function(a,b){var f,c;f=this;c=this.Tf[b];return function(b,d,g){return a(b,d,c+g,f);};};return a;}();d.$Ga=g;},function(g,d,a){var b,f,h,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(13);f=a(708);h=a(707);g=a(155);m=a(83);c=a(40);k=a(212);a=function(a){function c(b,c){var f,d;f=this;d=[new h.ZW(b),new h.ZW(b),new h.ZW(b)];f=a.call(this,d,function(a){return a.complete?f.empty||a.ab<=f.K1a?0:1:a.active?1:2;})||this;f.ic=d[0];f.pd=d[1];f.zp=d[2];f.Mm=0;f.a_=0;f.K=b;m.call(f,c);return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{aa:{get:function(){return this.ic.aa+this.pd.aa+this.zp.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{zDa:{get:function(){return this.zp;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{active:{get:function(){return this.pd;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return this.ic;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{hnb:{get:function(){return this.Mm;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Xoa:{get:function(){return this.ic.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Xv:{get:function(){return this.ic.aa+this.pd.aa-this.Mm;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{first:{get:function(){return this.H9a();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Vg:{get:function(){return this.w_a();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{c4:{get:function(){return!this.ic.empty||this.zp.empty||this.pd.empty?this.first:this.pd.ab<this.zp.ab?this.pd.first:this.zp.first;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Hva:{get:function(){return this.zp.empty||this.pd.empty?this.Vg:this.pd.wb<this.zp.wb?this.zp.Vg:this.pd.Vg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Jra:{get:function(){return this.zp.first;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ga:{get:function(){return this.first&&this.first.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ab:{get:function(){return this.c4&&this.c4.ab;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wb:{get:function(){return this.Hva&&this.Hva.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Qo:{get:function(){return this.first&&this.first.Qo;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{I1a:{get:function(){return this.ic.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Mkb:{get:function(){return this.pd.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ldb:{get:function(){return this.Te-this.H1a||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{K1a:{get:function(){return this.ic.empty?this.ab:this.ic.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{H1a:{get:function(){return this.ic.empty?this.Oc:this.ic.Te;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{M2:{get:function(){return this.ic.empty?this.Hc:this.ic.ee;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{J1a:{get:function(){return this.ic.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{T9:{get:function(){return this.pd.ee||this.ic.ee;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ap:{get:function(){return this.zp.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ap:{get:function(){return this.pd.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{NV:{get:function(){return this.ic.concat(this.pd);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ipa:{get:function(){return this.Jg;},enumerable:!0,configurable:!0}});c.prototype.dB=function(a){var b;a.El?++this.a_:this.Mm+=a.pe;if(this.empty)this.Jg=new k.uF(this,{});else if(a.ab!==this.wb&&a.ab===this.Jg.wb){b=a.wb;this.q9a(function(a,b){return a.ab-b.ab;},function(a){b=a.ab===b?a.wb:b;});b===this.wb&&this.Jg.y2();}a.oqb(this);};c.prototype.Cr=function(a){a.El?--this.a_:this.Mm-=a.pe;this.empty?this.Jg=void 0:a.ab!==this.wb&&a.wb<this.Jg.wb&&a.ab>=this.Jg.ab&&this.Jg.Paa(a.ab);a.Ioa();};c.prototype.push=function(b){this.dB(b);return a.prototype.push.call(this,b);};c.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.Cr(b);return b;};c.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.Cr(b);return b;};c.prototype.unshift=function(b){this.dB(b);return a.prototype.unshift.call(this,b);};c.prototype.Yl=function(b){this.dB(b);a.prototype.Yl.call(this,b);};c.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.Cr(b);return!0;};c.prototype.splice=function(b,c){for(var f=[],d=2;d<arguments.length;d++)f[d-2]=arguments[d];d=a.prototype.splice.apply(this,[b,c].concat(f));f.forEach(this.dB.bind(this));d.forEach(this.Cr.bind(this));return d;};c.prototype.Fmb=function(a){var b;b=this;this.reduce(function(c,f,d){f.El&&(a&&a(f,d,b),0===c.length||c[0].end!==d?c.unshift({start:d,end:d+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};c.prototype.PR=function(a){return this.Cra(function(b){return b.PR(a);});};c.prototype.YC=function(a){return this.Cra(function(b){return b.YC(a);});};c.prototype.Ara=function(a){a=this.PR(a);return-1!==a?this.get(a):void 0;};c.prototype.Bra=function(a){a=this.YC(a);return-1!==a?this.get(a):void 0;};c.prototype.kz=function(a){this.move(a);this.oy(a);};c.prototype.EK=function(a){this.Mm+=a.pe-a.hk;this.$C(a);};c.prototype.bi=function(a){for(this.Mm+=a.pe-a.hk;this.pd.first&&this.pd.first.complete&&(this.ic.empty?this.pd.first===this.c4:this.pd.first.ab===this.ic.wb);)this.Fqb();this.$u(a);};c.prototype.DU=function(a,b){this.Mm-=a.pe;++this.a_;this.aS(a,b);};return c;}(f.$Ga);d.iFa=a;c.mi(m,a,!1);c.mi(g.OM,a);},function(g,d,a){var f,h,m,c,k,p,q,l,n,y;function b(a,c){var f;f=a.Ee?b(a.Ee,c):[];f.push({Rb:a.xa.id,exa:a.Xa[c].Za});return f;}f=a(0);h=a(13);m=a(6);c=a(11);k=a(5);d=a(25);p=a(211);q=a(709);l=a(706);n=a(705);y=a(83);a=a(54);y=function(a){function d(b,c,f,d,g,h){var k;k=a.call(this,d)||this;k.X=b;k.qf=c;k.cc=f;k.aH=d;k.Sj=g;k.G=h;k.DBa(d.K);k.dma();return k;}f.__extends(d,a);Object.defineProperties(d.prototype,{Tz:{get:function(){return 0<this.Gz;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pba:{get:function(){return!this.rx;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gz:{get:function(){return this.ta.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ap:{get:function(){return this.ta.ap;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Vx:{get:function(){return this.ta.M2||(this.ei?this.ei.Vx:0);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ae:{get:function(){return this.Oja();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Bu:{get:function(){return this.l_();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Bj:{get:function(){return this.hTa();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Au:{get:function(){return this.cTa();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{aF:{get:function(){return this.ta.I1a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pt:{get:function(){return this.Pja();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Wv:{get:function(){return this.oUa();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gya:{get:function(){return this.w0a();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{MS:{get:function(){return this.ta.length>this.ta.ap;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ap:{get:function(){return this.ta.Ap;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ei:{get:function(){return this.cc.Ee&&this.cc.Ee.Xa[this.Sj].Za;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$kb:{get:function(){return this.ta.length-this.Km;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$:{get:function(){return this.ta;},enumerable:!0,configurable:!0}});d.prototype.DBa=function(a){this.K=a;this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.fb=this.K.log.bind(this.K);};d.prototype.w0a=function(){return this.G.Mr?this.ta.Mkb:this.ta.Ldb;};d.prototype.v4a=function(a,b,c,f){var d,g;d=this.G;this.G.KD&&a.$j()[this.Sj]-this.Oka()<b.aa&&(b.KD=this.G.KD);m.R(f)||(b.location=f.location,b.Db=f.Ub,b.Naa=f.ll);if(d.Np){g=this.X&&this.X.gf&&this.X.gf.aba;g&&(b.UV=g.Ml({Ae:this.aH.Ae,vU:d.m7a?d.vU:void 0}));}h.assert(!b.Wp);b=d.l7a?new n.nFa(f,d,c.track,b,this.ta,this.K):f.Oa.LC(this.Sj)?new l.jFa(f,d,c.track,b,this.ta,!1,this.K):p.$W.create(f,d,c.track,b,this.ta,!1,this.K);b.Ac(a,a.YT,this.G,this.aH);this.UB(b);this.qf.wla(b);return b;};d.prototype.jZa=function(a,b){var c;c=this.aH;b.Ac(a,a.YT,this.G,this.aH);b.o1=!0;this.UB(b);b.complete?(this.o_(b),this.qf.Rxa(c,a.jc(b.Oa.ca).Oa,b.za,b.Hc),this.cF(),this.$u(b)):(b.active&&this.oy(b),b.dAa&&this.ny(b));};d.prototype.reset=function(){this.ta.forEach(function(a){a.Zd();});this.dma();};d.prototype.GAa=function(){this.rx=!1;};d.prototype.qYa=function(){this.ta.forEach(function(a){a.abort();});this.reset();};d.prototype.UB=function(a){this.ta.Yl(a);this.o_(a);a.aq&&(this.rx=!1);};d.prototype.cF=function(){var a,b,c;b=this.aH.O;a=this.cc;if(a.active&&this.Km!==this.ta.length){if(a=a.Ee){c=a.mta(b);if(0!==c&&(a.Xa[b].DH(),c=a.mta(b),0!==c))return;}for(var c=this.G.jhb,f=0;this.Km<this.ta.length;){if(a=this.ta.get(this.Km)){if(this.ta.Jra&&this.ta.Jra.ab<a.ab)break;if(!a.Fy())break;this.X.df[b].VZa(a);++f;m.pa(this.Hc)||(this.Hc=a.Hc);}++this.Km;if(!m.R(c)&&f>=c)break;}}};d.prototype.fnb=function(a){var f;for(var b,c=0;c<this.ta.length;++c){f=this.ta.get(c);f&&a<f.ee&&(m.R(b)&&(b=c),f.Ph=!1);}m.R(b)||(this.Km=b,this.cF());};d.prototype.pqb=function(a,b,c){var f;f=this.G;0!==this.ta.ap&&this.ta.zDa.first.P!==b&&(f.jf&&this.Oh("setSelectedBitrate new bitrate: "+b),this.sYa(a,c));};d.prototype.rYa=function(a){a=this.ta.YC(a);if(-1!==a)for(;++a<this.ta.length;)this.Ut(this.ta.get(a));this.w0();this.cF();};d.prototype.sYa=function(a,b){var c,f,d;c=this;f=[];if(0!==this.ta.ap){d=this.ta.T9;this.ta.zDa.lba(function(b){if(!m.R(a)&&b.Oa.ca!==a||b.aq||d>b.Hc)return!0;b.TR&&(c.rx=!1);if(!c.Ut(b))return c.Ha("request abort failed:",b.toString()),!0;f.unshift(b);});this.w0();f.length&&"function"===typeof b&&b(f);}};d.prototype.tV=function(){this.w0();};d.prototype.Hmb=function(a,c){var f,d,g,h;f=this.G;d=a;g=this.X.kb.cCa;if(a>g){d=a-g;h=function(a,b){var g,h,k;g=!1;h=0;k=b.some(function(b){if(d<b.ee)return g&&a.o_(b),!0;++h;b.Ph||(a.Ha("pruning unappended request:",b&&b.toString()),f.jf&&a.Oh("prune pts:"+d+" unappended request:"+(b&&b.toString())),b.TR&&(a.rx=!1,g=!0),a.Ut(b,c)||a.bd("MediaRequest.abort error:",b.Wh));});0<h&&(b.splice(0,h),a.Km-=Math.min(h,a.Km));return k;};b(this.cc,this.Sj).some(function(a){a=a.exa;return h(a,a.ta);});return d;}};d.prototype.Yab=function(){return this.ta.empty?null:Math.min(this.ta.ipa.ee,this.ta.T9);};d.prototype.uta=function(){var a,c,f,d,g,h;a=this.G;c=null;f=null;d=0;g=0;h=[];b(this.cc,this.Sj).forEach(function(b){var k;b=b.exa.ta;m.pa(b.Hc)&&(null===f||b.Hc<f)&&(f=b.Hc);k=a.Mr?b.T9:b.ee;m.pa(k)&&(null===c||k>c)&&(c=k);d+=b.Xv;g=a.fba?g+b.hnb:g+b.Xoa;Array.prototype.push.apply(h,b.NV.$);});return{Ilb:c,Hc:f,Xv:d,mm:g,$:h};};d.prototype.ZC=function(a,b,c){return this.Cka(a,!1,b,c);};d.prototype.Y8a=function(a){return this.Cka(a,!0,void 0,void 0);};d.prototype.oca=function(a,b){var c,f;c=this;f=[];this.ta.forEach(function(d){var g;g=d.DW(a[d.O],b);1===g||2===g?f.push(d):3===g&&c.zi("swapUrl failure");});return f;};d.prototype.Ri=function(a){this.G.cL&&this.fnb(a);};d.prototype.Uv=function(a){a.Gy&&a.Fy()&&this.cF();this.ny(a);};d.prototype.bi=function(a){a.Gy&&!a.Ph&&this.cF();this.$u(a);};d.prototype.s1=function(a){var b,f,d;b=this.Sj===c.L.VIDEO?"v_":"a_";f=this.ta;d=f.YC(a);a=0<=d?f.get(d):void 0;return(f=0<=d&&d+1<f.length?f.get(d+1):void 0)&&a?a.ee!==f.Hc?b+"rg":a.complete&&f.complete?b+"uk":b+"fd":b+"rm";};d.prototype.oUa=function(){return this.ta.Ap+(this.G.Mr?0:this.ta.ap);};d.prototype.hTa=function(){return void 0===this.ta.Hc?0:this.ta.ee-this.ta.Hc;};d.prototype.cTa=function(){var a,b;a=this.l_(!0);b=this.Oja(0,!0);return{aa:a,yf:b};};d.prototype.Oja=function(a,b){void 0===a&&(a=this.X.ja.kf());a=b?Math.max(this.ta.Hc,a):a;return Math.max(this.ta.M2-a,0)||0;};d.prototype.l_=function(a){var b;b=this.ta.J1a;return a||!this.ei?b:b+(this.ei.ta.M2>=this.ta.Hc?this.ei.l_():0);};d.prototype.Pja=function(){return this.ta.Xoa+(this.ei?this.ei.Pja():0);};d.prototype.Oka=function(a){return(this.cc.Ee&&this.cc.Ee.Xa&&void 0!==a&&this.cc.Ee.Xa[a]?this.cc.Ee.Xa[a].Za.Oka(a):0)+this.ta.aa;};d.prototype.dma=function(){this.ta=new q.iFa(this.K,this);this.Km=0;this.Hc=null;this.rx=!1;};d.prototype.o_=function(a){this.rx?a.TR=!1:this.rx=a.TR=!0;};d.prototype.Ut=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};d.prototype.w0=function(){var a,b;a=this;b=0;this.ta.Fmb(function(c,f){f<a.Km&&++b;});this.Km-=b;};d.prototype.Cka=function(a,b,c,f){for(var d,g=this;g;){d=g.ta;if(d.length&&(d=b?d.Ara(a):d.Bra(a))&&(void 0===c||c===d.Oa.ca))return d;if(f)break;g=g.ei;}};d.prototype.zi=function(a){a={type:"streamingFailure",msg:a};this.na(a.type,a);};d.prototype.Oh=function(a){a={type:"managerdebugevent",message:"@"+k.time.ea()+", "+a};this.na(a.type,a);};return d;}(y);a(d.EventEmitter,y.prototype);g.T=y;},function(g,d,a){var b,f,h,m,c,k,p,q,l,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(83);f=a(5);h=a(710);m=a(6);c=a(200);k=a(11);p=a(59);q=a(358);l=a(24);n=a(13);a=function(a){function d(b,c,d,g,k,m,p,u){var t;t=a.call(this,g)||this;t.X=b;t.qf=c;t.K=d;t.Rb=g;t.O=k;t.bb=m;t.Daa=p;t.G=u;t.yja=!1;t.kb=b.kb;t.aVa();t.Udb=m;t.bb=m;t.QE=new q.KZ(void 0,p,u,g.Ee?g.Ee.Xa[k].QE:void 0);t.M7=f.time.ea();t.efb=void 0;t.Za=new h(b,c,g,t,k,u);t.Za.addEventListener("streamingFailure",function(a){b.zi(a.msg,t.Rb.ca);});u.jf&&t.Za.addEventListener("managerdebugevent",function(a){l.na(b,a.type,a);});t.eib=1===k?u.iU:u.aU;t.dU=(1===k?u.UD:u.QD)||u.dU;t.Hp=!1;t.a2=0;t.Xy=u.e7;t.sza=f.time.ea();t.iH=!1;u.ml&&(t.dz=0,t.Jz=0,t.Xx=0);return t;}b.__extends(d,a);Object.defineProperties(d.prototype,{Tz:{get:function(){return this.Za.Tz;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pba:{get:function(){return this.Za.pba;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ji:{get:function(){return this.Rb.xa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Vx:{get:function(){return this.Za.Vx;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ae:{get:function(){return this.Za.Ae;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Bu:{get:function(){return this.Za.Bu;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Bj:{get:function(){return this.Za.Bj;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Au:{get:function(){return this.Za.Au;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{aF:{get:function(){return this.Za.aF;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pt:{get:function(){return this.Za.pt;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{W_a:{get:function(){var a;a=this.X.$j()[this.O];return this.Za.pt/a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{X_a:{get:function(){var a;a=this.X.$j()[this.O];return this.Za.uta().mm/a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{MS:{get:function(){return this.Za.MS;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gz:{get:function(){return this.Za.Gz;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$b:{get:function(){return this.Rb.zta(this.O);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hg:{get:function(){return this.yja;},set:function(a){this.yja=a;},enumerable:!0,configurable:!0}});d.prototype.reset=function(a,b){this.Hp=!1;this.seeking=void 0;this.Hg=!1;this.Za.reset();a&&(this.vE=!0);this.xV={reason:b,time:f.time.ea()};};d.prototype.Ri=function(a){this.Za.Ri(a);this.Xy=this.G.e7;};d.prototype.DH=function(){this.Za.cF();};d.prototype.QBa=function(a,b,f){var d;this.ima=b;this.D0=f;f=this.X;d=this.O;f.re.aub(d,b.$b,a);0===d&&(this.iH=c.gna(this.G,b.$b[0]));f.yUa(this,b.Sy);this.u0a(b.$b);f.re.p1a();this.Hg=!1;};d.prototype.iqb=function(a,b){var c;if(this.G.VB){c=this.Za.Yab();null!==c?(this.bb=c,this.ai=c===a?b:this.X.jc(this.Rb.ca).OR(this.O,this.bb)):(this.Ha("nextPts from requestManager returns null,","fall back to linear increasing streamingPts"),this.bb=a,this.ai=b);}else this.bb=a,this.ai=b;};d.prototype.et=function(a){var b,c,f;if(this.xg&&this.xg.U===a)b=this.xg.index,c=a;else{f=this.X.jc(this.Rb.ca);b=f.Oa.Vc[this.O];if(!b||!b.stream.jd){this.qq=a;return;}c=b.$;this.xg=this.yra(b.stream,a,void 0,void 0);if(void 0===this.xg){if(b=c.length-1,c=c.gg(b),this.Ha("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",f.wg),f.wg){this.qq=a;return;}}else b=this.xg.index,c=this.xg.U;}this.ai=b;this.bb=c;this.qq=void 0;};d.prototype.uob=function(a){this.et(a);this.Hg=!1;this.ba=void 0;this.Za.GAa();};d.prototype.tob=function(a){this.xg=a;this.Hg=!1;this.ba=void 0;this.ai=this.xg.index;this.bb=this.xg.U;this.qq=void 0;this.Za.GAa();};d.prototype.Gob=function(a){var b;b=this.X.jc(this.Rb.ca).Oa.Vc[this.O];if(b&&b.stream.jd){for(var c=b.$;0<this.ai&&this.bb>a;)this.bb=c.gg(--this.ai);this.ai<this.xg.index&&(this.xg=b.stream.Zf(this.ai));this.qq=void 0;}else this.qq=a;};d.prototype.Lub=function(a){var b,c;b=this.ima.Up(a);c="verifying streamId: "+a+" stream's track: "+(b?b.za:"unknown")+" currentTrack: "+this.ima.eb;return b?!0:(this.X.Oh(c),this.X.Oh("unknown streamId: "+a),!1);};d.prototype.u0a=function(a){this.mua=a.reduce(function(a,b){return b.inRange&&b.lf&&!b.Sg&&b.P>a.P?b:a;},a[0]);this.edb=a.indexOf(this.mua);};d.prototype.Y7a=function(a){return 1===this.O?0:this.iH?0:this.G.En?a&&a.yf||0:this.G.dn&&a?-a.yf:0;};d.prototype.FL=function(){return 1===this.O&&this.G.rs||0===this.O&&this.G.dn;};d.prototype.yra=function(a,b,c,f,d){var g,h,k,m,q,p,l;n.assert(b>=a.$.gg(0));g=this.G;h=this.FL();k=a.$;m=b+0;0===this.O&&void 0===f&&h&&g.eo&&!g.Mx&&a.yj&&(b=Math.max(a.$.gg(0),b+a.yj.yf));q=k.Gi(m,void 0,!0);a.Oa.LC(this.O)&&(q=Math.floor(q/g.E9)*g.E9);p=a.Zf(q);if(p.ba<b)return p;if(h){m=1===this.O?m:b;l=p.QR(m);l?(0<l.gm&&p.Ej({start:l.gm}),0!==this.O||g.$wa||l.Hd<(g.eo&&!g.Mx&&a.yj?Math.floor(a.yj.yf):0)&&p.Fqa()):m>=p.ba&&q<k.length-1&&(p=a.Zf(q+1));}1===this.O&&c&&p.ba===c&&q<k.length-1?p=a.Zf(q+1):0===this.O&&!h&&void 0!==f&&!g.En&&(c=b+f,c-p.U>g.Rgb||p.U<c-d)&&(p=a.Zf(q+1));h&&0===this.O&&!p.Ta&&(g.MJ||g.Nua||g.X6a)&&void 0!==f&&p.Ej({});p.CL(b);return p;};d.prototype.V8a=function(a,b){var c,f,d,g,h;f=this.G;if(f.ml&&(c=this.cUa(a,b)))return c;c=a.$;d=c.Ia;g=b?b+this.Y7a(d):c.QC(c.length-1);d=c.Gi(g,void 0,!0);c=a.Zf(d);0===d||c.U!==b||1!==this.O&&f.En||(--d,c=a.Zf(d));if(this.FL()){g=1===this.O?g:b;if(g<c.ba){h=c.$8a(g);h&&0!==h.gm?c.Ej({end:h.gm}):0===this.O&&(h||g<c.U)&&0!==d?c=a.Zf(d-1):1===this.O&&h&&0!==d&&(c=a.Zf(d-1));}0!==this.O||c.Ta||!f.MJ&&!f.Mua||c.Ej();}else 0===this.O&&!f.En&&b-c.U<c.duration/2&&0!==d&&(c=a.Zf(d-1));c.CL(b);return c;};d.prototype.BL=function(a){this.ck=a;this.ba=a.ba;};d.prototype.YUa=function(a,b){var c,d,g,h,k,q;c=this.G;d=this.Rb;g=a.url;h=this.O;k=this.X.cb.Bb[h];b=b.$;q=this.ai;q>=b.length?this.Ha("makeRequest nextFragmentIndex:",q,"past fragments length:",b.length,"fastplay:",this.X.yk):this.xg&&this.ck?(b=a.Oa.LC(h)?this.iUa(a,q):this.jUa(a,q))?(q=b.b4.GC(a.Ia),this.Jz+=q,this.X.ja.Zl()&&++this.a2,b.aq&&1===h&&this.qf.k0(d.xa,b.ba),this.X.G0(h,b.U),b.MBa(new p.gc(d.Rc,1E3)),f.time.ea(),d=this.Za.v4a(this.X,b,k.ik,a),d.Vv()?(d.Jz=q,k.Fva=a.Ub,m.pa(k.Sl)||(k.zo=a.ll,k.HJ=a.HJ||-1,k.Sl=a.P,k.Rdb=a.Baa,m.R(a.Baa)||this.X.Md.HBa(a.Baa,a.Xl,a.Wk)),g&&(k.O7=b.url),c.zR&&this.kb.$e.UB(f.time.ea(),b.aa),this.X.FG(this)||this.Ha("!continueDriving in requestCreated"),this.iqb(d.Te,b.wK),this.X.sTa(this),this.X.rh()):(this.Ha("MediaRequest.open error: "+d.Wh+" native: "+d.sj),7!==d.readyState&&(this.Ha("makeRequest caught:",d.Wh),this.X.zi("MediaRequest open failed (1)",this.Rb.ca,"NFErr_MC_StreamingFailure")))):this.Ha("makeRequest unable to get valid fragment"):this.Ha("makeRequest delayed, first or last fragment not set","first:",!!this.xg,"last:",!!this.ck);};d.prototype.kz=function(a){a.ba&&a.U&&(this.Xy-=a.ba-a.U);this.oy(a);};d.prototype.Uv=function(a){this.ny(a);};d.prototype.bi=function(a){this.$u(a);};d.prototype.Stb=function(a){var b;b=f.time.ea();this.Xy+=a*(b-this.sza);this.sza=b;};d.prototype.sob=function(){this.Xy=this.G.e7;};d.prototype.CQ=function(a){var b,c;b=this.G;if(!b.ml){c=this.Rb;!c.xa.UE||this.X.AB||this.X.hP||(m.R(a)&&(a=this.X.ja.kf()||0),a-=c.Rc,this.Hg&&!this.Xq&&a+b.Fsb>=this.ba&&0===this.Za.Wv&&0===this.Za.ap&&this.qf.GVa(this,this.X.ze,this.X.sb.length));}};d.prototype.Rta=function(a){var b,c,f,d;b=this.G;c=this.Rb;f=a.Oa.ca;d=this.X;d.ja.u7()||d.ja.Ye()||(this.qf.aWa(a.O,f,this.D0,this.Vx),b.ml&&(this.Xx+=a.Jz,this.Ha("handleRequestDone, adding frames:",a.Jz,"total frames:",this.Xx,"needed frames:",c.Rg(a.O).dz)),d.Yt()||(b=c.Rg(k.L.VIDEO))&&!b.Hp&&b.MS&&d.cb.zS(b),this.CQ(),d.ycb(a),d.Uh.FG(this)&&d.Uh.rh());};d.prototype.toJSON=function(){return{started:this.Tz,startOfSequence:this.pba,segmentId:this.ji,requestedBufferLevel:this.Bj,manifestIndex:this.Rb.ca,hasFragments:this.MS};};d.prototype.aVa=function(){this.K=l.ID(f,this.K,"["+this.O+"]");this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.fb=this.K.log.bind(this.K);this.bu=this.K.debug.bind(this.K);this.Za&&this.Za.DBa(this.K);};d.prototype.jUa=function(a,b){var c,f;c=a.$;f=b===this.xg.index;b===this.ck.index?(a=a.Qsa(this.ck),a.CL(this.ck.vw),a.z8()):f?(a=a.Qsa(this.xg),a.CL(this.xg.vw)):a=a.Zf(b);a.wK=b+1;if(!a.Ta&&!this.X.Zp)for(++b;b<c.length&&b<this.ck.index&&(a.aa<this.eib||a.duration<this.dU);++b)a.p1(c.get(b)),a.wK=b+1;return a;};d.prototype.iUa=function(a,b){var c,d;c=this.G;d=a.$;a=a.Zf(b);a.wK=b+1;if(!a.Ta)for(++b;b<d.length&&b<this.ck.index&&(a.duration<this.dU||0!==b%c.E9);++b)a.p1(d.get(b)),a.wK=b+1;a.ofb=this.X.QO+(f.time.ea()-this.X.RO);return a;};d.prototype.cUa=function(a,b){var f,d;f=this.G;if(f.ml){d=a.$;if(d){if(1===this.O)b=d.Gi(f.ml*a.Ia.yf,void 0,!0),d=a.Zf(b),d.Ej({start:0,end:f.ml-b*d.b4.GC(a.Ia)}),this.dz=f.ml;else{f=c.fta(f,this.X.YT)+f.$Za*a.Ia.yf;b+=f;f=Math.ceil(b/a.Ia.yf);b=d.Gi(b,void 0,!0);for(var g=0,h=0;h<b;++h)d=a.Zf(h),g+=d.b4.GC(a.Ia);g=f-g;d=a.Zf(b);d.Ej({end:g});this.dz=f;}d.z8();return d;}}};return d;}(g);d.Gha=a;},function(g,d,a){var b,f,h,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(48);h=a(6);m=a(711);g=a(83);c=a(11);k=a(153);p=a(5);q=a(24).ID;a=function(a){function d(b,f,d,g,k,l,u,t,n,A){var y,r;y=a.call(this,b)||this;y.X=b;y.qf=f;y.K=d;y.kb=g;y.xa=l;y.U=u;y.ca=t;y.Ee=n;y.active=!1;y.G=b.G;y.Ee=n;y.xa=l;y.U=u;y.fo=l.fo;y.children=Object.create(null);y.Hq=[];y.CWa=l.id&&l.id.length?"{"+l.id+"}":"";y.K=q(p,d,y.CWa);y.bd=y.K.error.bind(y.K);y.Ha=y.K.warn.bind(y.K);y.Ek=y.K.trace.bind(y.K);y.fb=y.K.log.bind(y.K);y.bu=y.K.debug.bind(y.K);f=b.jc(t);y.Rc=f.sn;y.i0=f.Oa.M;y.ca=t;y.Xc=void 0;h.pa(A)||(A=u);y.Xa=[];r=k.Jrb;[c.L.AUDIO,c.L.VIDEO].forEach(function(a){var c;if(b.yg(a)){c=new m.Gha(b,y.qf,y.K,y,a,A,r[a],y.G);y.Xa[a]=c;}});y.Eua(t);return y;}b.__extends(d,a);Object.defineProperties(d.prototype,{M:{get:function(){return this.i0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Bj:{get:function(){return[this.Xa[0].Bj,this.Xa[1].Bj];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Au:{get:function(){return[this.Xa[0].Au,this.Xa[1].Au];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{sn:{get:function(){return this.X.jc(this.ca).sn;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Oc:{get:function(){return this.U;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Te:{get:function(){return this.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ba:{get:function(){return h.pa(this.vka)?this.vka:this.xa.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hc:{get:function(){return this.U+this.Rc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ee:{get:function(){return this.ba+this.Rc;},enumerable:!0,configurable:!0}});d.prototype.toJSON=function(){return{segment:this.xa.id,active:this.active,branchOffset:this.Rc,manifestIndex:this.ca,contentStartPts:this.U,contentEndPts:this.ba,playerStartPts:this.Hc,playerEndPts:this.ee,pipelines:this.Xa,previousBranch:this.Ee};};d.prototype.fqb=function(a){this.ca=a;};d.prototype.Rg=function(a){return this.Xa[a];};d.prototype.zta=function(a){return this.X.jc(this.ca).Qp(a).$b;};d.prototype.ubb=function(a){return this.Xa[a].Gz;};d.prototype.aD=function(a){return this.Xa[a].Ae;};d.prototype.Eua=function(a){var b;b=this.X.jc(a);this.Xa.forEach(function(c){var f,d;f=c.O;d=b.Qp(f);d&&(f=b.hsa(f,d.eb),c.QBa(a,d,f));});};d.prototype.Uaa=function(a,b,c){var f,d,g,h,m,q,p,l,u,t;f=this;d=this.G;g=this.X;h=this.xa;m=this.ca;q=g.jc(m);p=g.M;if(a){l=g.jc(a.ca);l&&(p=l.Oa.M);}p=k.eQ(q.Oa.M,p);u=g.yg.bind(g);a=q.wQ(m,u,h.U,g.qa,this,a,p);g=a.wz;t=a.so;void 0===b&&(b=[0,1]);0===t.length||b.forEach(function(a){var b,g;b=f.Xa[a];c&&(b.xg=t[a]);g=q.$I(u,f.Xa,h.ba,d);b.BL(g[a]);});return g;};d.prototype.fAa=function(a){var b,c,f,d,g;b=this.X;c=this.Xa[0];void 0===a&&(a=c.Udb);f=new m.Gha(b,this.qf,this.K,this,0,a,c.Daa,this.G);f.vE=!0;f.xV={reason:"audioTrackChange",time:p.time.ea()};this.Xa[0]=f;d=this.ca;g=b.jc(d);b=g.Qp(0);g=g.hsa(0,b.eb);f.QBa(d,b,g);this.Uaa(this.Ee,[0],!0);f.et(a);c.reset(!0,"audioTrackChange");h.dd(this.children,function(a){a&&a.fAa();});};d.prototype.DH=function(){this.Xa.forEach(function(a){a.DH();});};d.prototype.Zd=function(){this.Ee&&(this.Ee=this.Ee.children[this.xa.id]=void 0);h.dd(this.children,function(a){a&&a.Ee&&(a.Ee=void 0);});this.children=Object.create(null);this.mB=void 0;};d.prototype.mta=function(a){return this.Xa[a].Za.$kb;};d.prototype.t0a=function(a){var b,c;b=this.hUa();b=this.Jka(a,b);if(0>b)return-1;b=a.QC(b);c=this.ba;c=this.Jka(a,this.fo||c);return 0>c?-1:Math.max(b,a.gg(c));};d.prototype.Doa=function(){var a,b;if(!("number"!==typeof this.fo||this.fo>=this.ba)){a=this.X.jc(this.ca).Oa.Vc[c.L.VIDEO];if(a){a=a.$;b=this.t0a(a);if(!(0>b)&&(b=a.Gi(b,0,!0),!(0>b)&&(b=this.Kka(b,a),(a=b<a.length&&a.QC(b))&&a<this.ba)))return a;}}};d.prototype.Ptb=function(a){this.Rc+=a;};d.prototype.GDa=function(a){var b,f,d;b=this;this.vka=a;f=this.X;d=f.jc(this.ca);this.Xa.forEach(function(g){var h,k,m;h=g.O;k=d.Oa.Vc[h];m=k.$.Gi(a-1,0,!0);k=k.stream.Zf(m);g.BL(k);if(m=g.Za.Y8a(k.Oc))m.z8(),h===c.L.VIDEO&&b.qf.k0(b.xa,k.ba);g.Za.rYa(a);f.df[h].I0a(b.xa.id,a);g.bb>k.ba&&g.et(k.ba);});};d.prototype.r2=function(a,b,f,d,g,h){var k,m,q,l,u,t;k=this.G;m=this.X;q=this.Xa[c.L.AUDIO];l=this.Xa[c.L.VIDEO];u=q?q.Ae:0;t=l?l.Ae:0;if(!d&&!g)return!0;if(f&&a.Mo>=k.$h&&(k.$$&&(h=a.Mo+1E3),k.aaa&&(!b.connected||!a.connected)))return!1;k.jf&&m.Oh("Branch checkBufferingComplete, audio: "+u+" video: "+t);if(k.ml){if(this.aTa)return this.Ha("checkBufferingComplete ignored because stallAtFrameCount already hit"),!0;a=l&&l.Xx<l.dz;if(!(q&&q.Xx<q.dz||a))return this.Ha("checkBufferingComplete with enough frames, declare bufferingComplete","audio:",q?q.Xx:"n/a","video:",l?l.Xx:"n/a"),this.aTa=!0,m.jH(),!0;}h=this.DQ(h);g&&(u>=k.$h||h)&&(g=m.fB.eb,this.RSa(g,m.gf.l6(0,g)),m.fB=void 0);if(h)return m.jH(),!0;if(d){d=!l||t>k.$h;if((!q||u>k.$h)&&d&&(q=p.time.ea()-m.k_,q>=k.iE))return this.Ha("buffering longer than limit: "+q+" >= "+k.iE+", audio buffer: "+u+" ms, video buffer: "+t+" ms"),m.jH(),!0;this.qf.DVa();}return!1;};d.prototype.DQ=function(a,b){var f,d,g,h,k,m,q,p;f=this.G;d=this.X;g=this.Xa[c.L.AUDIO];h=this.Xa[c.L.VIDEO];k=g?b?g.Bj:g.Ae:0;b=h?b?h.Bj:h.Ae:0;a||(a=f.$h);m=!d.Qh||g.Hg&&0===g.Za.Wv;q=!d.hg||h.Hg&&0===h.Za.Wv;p=m&&q;m=!m&&k<f.$h;if(!p&&(m||!q&&b<a))return!1;if(h&&h.Hp||!d.hg)return!0;a=g?g.Za.ap:0;h=h?h.Za.ap:0;f=f.Mr&&(0!==a||0!==h);if(p&&!f)if(this.X.hP&&0===k&&0===b)this.Ha("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};d.prototype.Vpb=function(a){var b,c;b=this.G;c=this.X;this.Xa.forEach(function(a){a.seeking=void 0;});a&&(b.jf&&this.Xa.forEach(function(a){var b;if(a){b=c.df[a.O]||{};a="bufferingComplete: , mediaType: "+a.O+", bufferLevelBytes: "+a.Bu+", totalBufferMs: "+a.aF+", totalBufferBytes: "+a.pt+", partials: "+a.Za.Wv+", streamingPts: "+a.bb+", completeStreamingPts: "+a.Vx+", fragments: "+JSON.stringify(a.Za.$)+", toAppend: "+JSON.stringify(b.Ai);c.Oh(a);}}),this.qf.EVa());};d.prototype.tsa=function(){var a,b;a=!0;b={};this.Xa.map(function(f){var d;d=f.O===c.L.VIDEO?"v":"a";f=f.Au;b[d+"buflmsec"]=f.yf;b[d+"buflbytes"]=f.aa;a=a&&0<f.yf;});return{IS:a,TH:b};};d.prototype.dW=function(a,b){var c,f,d;c=this;f=p.time.ea();d={};h.dd(this.children,function(a){var b,g;if(a){a.Xc?(a.Xc.E6a=f-a.Xc.bT,a.Xc.bT=void 0,b=a.Xc.weight):b=c.kb.xta(c.xa.id,a.xa.id);g=a.tsa();d[a.xa.id]={weight:b,TH:g.TH,IS:g.IS};}});b={requestTime:f,IV:a,G5a:b,bW:this.xa.id,Xc:d};a||(a=this.X.ja.kf(),b.jCa=a-this.U+this.Rc,b.dR=0,b.startTime=f);this.Hq.unshift(b);return b;};d.prototype.M1a=function(a){var b,c;b=this.Hq[0];b.IV&&(b.jCa=this.ba-this.U);c=a.tsa();b.mDa={};f(c.TH,b.mDa);b.IS=a.Au.every(function(a){return 0<a.yf;});this.Hq=[];return b;};d.prototype.Ri=function(a){var b;b=this.xa;a-=this.Rc;if(b.U<a&&a<b.ba)this.Hq.shift();else if(b=this.Hq[0])b.Ri=!0;};d.prototype.Y0a=function(){var a,b,c,f;a=this;b=this.kb;c=this.X;f=!0;h.dd(this.xa.mj,function(d,g){(d=b.iD(g))?(g=c.jc(d.ca),d=g.Oa,d.Vc[0]&&d.Vc[1]&&d.Vc[0].stream.jd&&d.Vc[1].stream.jd||(f=!1),a.X.ja.pv(d.M)||g.hs||(f=!1)):a.Ha("invalid segment:",g,"in dests:",a.xa.mj);});return f;};d.prototype.reset=function(a,b){this.Xa.forEach(function(c){(h.R(b)||c.O===b)&&c.reset(!1,a);});this.Ee&&this.Ee.reset(a,b);};d.prototype.RSa=function(a,b){this.qf.BVa(a,b);};d.prototype.hUa=function(){var a,b;a=this.X;b=0;this.Xa.forEach(function(c){c=a.df[c.O].Eab()||0;c>b&&(b=c);});return b;};d.prototype.Jka=function(a,b){return a.Gi(b-1,0,!0);};d.prototype.Kka=function(a,b){var c,f;c=this.xa.ftb;f=a>=b.length-1;if(!c||f)return f?b.length-1:a;this.LUa(c,b.QC(a))&&(a=this.Kka(a+1,b));return a;};d.prototype.LUa=function(a,b){var f,d;if(!a)return!1;for(var c=0;c<a.length;c++){f=a[c][0];d=a[c][1];if(b<f)break;if(b>=f&&b<d)return!0;}return!1;};return d;}(g);d.ZFa=a;},function(g,d,a){var b,f,h,m,c,k,p,q,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(11);h=a(48);m=a(5);c=a(712);k=a(704);p=a(375);q=a(24);l=a(13);g=function(){function a(a,b,c,f,d,g,h){this.X=a;this.qf=b;this.K=c;this.Md=f;this.G=h;this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.fb=this.K.log.bind(this.K);this.wl=[];this.Tj={};d?(this.j_=!0,this.sWa(d,g)):(this.zk=this.s_("",0,0,void 0,void 0,{},!0),this.zk.w9=!0,this.zk.ba=Infinity,this.HP=[this.zk]);this.cc=this.zO(this.zk,this.zk.U,0,void 0,g);this.cc.active=!0;this.iP=this.WO=void 0;}Object.defineProperties(a.prototype,{Zp:{get:function(){return!!this.j_;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Uua:{get:function(){return 0===this.cc.Xa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{KJ:{get:function(){return this.zk;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Th:{get:function(){return this.cc.xa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Nu:{get:function(){return this.cc.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tg:{get:function(){return this.cc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ug:{get:function(){return this.cc.Xa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{boa:{get:function(){return this.wl;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rc:{get:function(){return this.cc.Rc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{df:{get:function(){return this.X.df;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xj:{get:function(){return this.WO?this.WO:this.boa[0];},enumerable:!0,configurable:!0}});a.prototype.iD=function(a){return this.Tj[a];};a.prototype.Z5=function(a){return"m"+a;};a.prototype.aD=function(a){return(a=this.cc.Xa[a])?a.Ae:0;};a.prototype.xta=function(a,b){var c;c=this.Tj[a];if(c)return(a=c.mj[b])&&a.weight;this.Ha("getSegmentWeight, unknown segment:",a);};a.prototype.Ebb=function(a){var b;b=this.Tj[a];if(b)return b.U;this.Ha("getSegmentStartPts, unknown segment:",a);};a.prototype.obb=function(){var a;a=this.xj.xa;return a&&("number"===typeof a.fo?a.fo:a.ba);};a.prototype.Dbb=function(a){var c;c=this.Tj[a];if(!c)this.Ha("getSegmentDuration, unknown segment:",a);else if(b.pa(c.ba)&&isFinite(c.ba)&&b.pa(c.U)&&isFinite(c.U))return c.ba-c.U;};a.prototype.I4=function(a){return this.wl.filter(function(b){if(b.ca===a)return!0;});};a.prototype.T8a=function(a,b){return this.zka(a,!1,b);};a.prototype.S8a=function(a,b){return this.zka(a,!0,b);};a.prototype.bob=function(a,c){b.dd(this.wl,function(b){b.ca===a&&(b.ca=c);});b.dd(this.Tj,function(b){b.ca===a&&(b.ca=c);});};a.prototype.EAa=function(){var a;a=this;b.dd(this.wl,function(b){b.Rc=a.X.jc(b.ca).sn;});};a.prototype.RV=function(a){b.dd(this.wl,function(b){b.zta(f.L.VIDEO).forEach(function(b){h(p.x1(b.ff,b.P,a),b);});});};a.prototype.N4a=function(){this.wl.forEach(function(a){a.active=!1;});};a.prototype.Gmb=function(){var a;for(;0<this.wl.length;){a=this.wl[0];if(!a.active)break;if(a===this.cc)break;if(!a.Xa.every(function(a){return 0===a.Gz;}))break;a.Zd();this.wl.shift();}};a.prototype.x1a=function(a,b){var c,f;c=this.cc;if(c.jwa)a=c.jwa;else{f=this.cc.Rc;a=this.zO(c.xa,0,a,c);a.Xa.forEach(function(a){a.et(0);a.BL(c.Xa[a.O].ck);});a.Rc=f+b;c.jwa=a;}this.cB(a,c);};a.prototype.VYa=function(a,b,c){var f,d;if(!this.j_){this.j_=!0;f=this.Z5(0);this.zk.id=f;this.Tj[f]=this.zk;this.zk.ba=this.X.vab().Xsa();this.zk.gE=!0;}d=this.Z5(a);a=this.s_(d,a,b,c,void 0,{},!0);a.gE=!0;this.HP.forEach(function(a){a.mj={};a.mj[d]={weight:100};a.tI=d;a.UE=!1;});this.HP=[a];};a.prototype.Ju=function(a,c){var f,d,g,h;f=this.xj;d=f.dW(c);g=f.xa;h=f.children[a];if(c){if(!g.mj[a])return this.cc.Ha("chooseNextSegment, invalid destination:",a,"for current segment:",g.id),!1;if(f.sg)return f.sg===a;f.sg=a;h&&f.$R?this.cB(h,f):this.G.KI&&(a=f.Doa(),b.R(a)||f.GDa(a));return!0;}if(void 0!==f.sg)return!1;if(!h)return d.Dxa=!0,!1;c||(d.Dxa=!h.DQ());this.X.A0("chooseNextSegment");f.$R=void 0;f.sg=a;this.cB(h,f);return!0;};a.prototype.jdb=function(a,c){var f,d,g,h,k,m,q;f=this;h=a.xa;c&&!a.sg&&(a.sg=h.tI,a.dW(!0,!0));a.children=Object.create(null);if(this.G.bkb)if(a.sg)d=this.Tj[a.sg],g=this.t_(d,a),a.children[a.sg]=g;else{b.dd(h.mj,function(a,c){d=f.Tj[c];a=d.weight;if(b.R(q)||a>q)k=d,m=c,q=a;});k&&(g=this.t_(k,a),a.children[m]=g);}else b.dd(h.mj,function(b,c){a.sg&&c!==a.sg||(d=f.Tj[c],g=f.t_(d,a),a.children[c]=g);});a.sg&&(c=a.children[a.sg])&&this.cB(c,a);a.$R=!0;};a.prototype.Wsb=function(){var a;a=0;b.dd(this.wl,function(b){b.Xa.forEach(function(b){a+=b.Za.Ap;});});return a;};a.prototype.lsb=function(a,b){var c,f;c=this.dUa(a,b);if(c){c!==this.cc.xa&&(this.N4a(),f=this.zO(c,a,b,this.cc),f.Ee=void 0,f.Uaa(void 0,void 0,!0),this.CSa(this.cc),this.cB(f,this.cc));c===this.xj.xa&&(this.xj.Hq.shift(),f&&(f.Hq=this.xj.Hq,f.sg=this.xj.sg));this.qf.yla(c,this.cc.Rc);this.cc.$R=void 0;}else this.Ha("findSegment no segment for manifestIndex:",b);};a.prototype.qwa=function(a,b){var c;c=a.xa;b||(b=c.tI);q.tL(c.id);a.sg||(a.sg=b,a.dW(!0,!0));(b=a.children[a.sg])&&this.cB(b,a);};a.prototype.EBa=function(a,b){if(this.cc!==a){if(b)for(b=this.cc;b&&b!==a;)b.active=!1,b=b.Ee;this.cc=a;}};a.prototype.bp=function(a,b){var c,f,d,g,h;c=this;if(this.Zp){f=this.G;d=this.xj;g=d.xa;h=q.tL(g.id);!d.sg&&!g.UE&&d.ba-b<=f.jU&&(this.Ha(h+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.qwa(d));}this.cc.Xa.forEach(function(a){c.X.yg(a.O)&&c.df[a.O].bp(b);});};a.prototype.ejb=function(a,b){var c,d;if(this.Zp){c=this.WO;if(this.G.Bdb&&a&&this.iP&&a.U===this.iP)this.Ek("Ignoring pts that wiggled back into previous segment",this.iP);else if(a=a.Mf.Rb,!c||a.xa.id!==c.xa.id){d=c&&c.Xa[f.L.VIDEO].ck;this.iP=d&&d.U;this.WO=a;this.WSa(c);c=c&&c.M1a(a);this.qf.XVa(a.xa,b,c);}}};a.prototype.Zd=function(){this.ITa(this.cc);};a.prototype.Vib=function(a,b,c){b.w9||(b.U=this.X.kta(a,b.U,!0),c||(b.ba=this.X.kta(a,b.ba,!1)),b.w9=!0);};a.prototype.hca=function(a,c){var f;q.tL(a);f=this.Tj[a];f?(b.dd(f.mj,function(a,b){a.weight=c[b]||0;}),a=this.Ika(f.mj),f.fo="number"===typeof a?f.U+a:f.ba):this.Ha("updateChoiceMapEntry, unknown segment:",a);};a.prototype.Zka=function(a,b,c){var f;f=b?c.Te:c.ee;return(b?c.Oc:c.Hc)<=a&&a<f;};a.prototype.zka=function(a,c,f){var k;for(var d=this.X,g=this.cc;g;){if((!b.pa(f)||d.n7(f,g.ca))&&this.Zka(a,c,g))return g;g=g.Ee;}if(c)for(var g=Object.keys(this.cc.children),h=0;h<g.length;h++){k=this.cc.children[g[h]];if((!b.pa(f)||d.n7(f,k.ca))&&this.Zka(a,c,k))return k;}};a.prototype.t_=function(a,b){var c,d;c=this.zO(a,a.U,a.ca,b);d=c.Uaa(b,void 0,this.G.O$);[f.L.VIDEO,f.L.AUDIO].forEach(function(a){var g,h;g=c.Xa[a];h=b.Xa[a];a===f.L.VIDEO&&(h=h.bb+b.Rc,c.Rc=h-d[a],c.U=d[a]);g.et(d[a]);});this.qf.yla(a,c.Rc);return c;};a.prototype.CSa=function(a){for(var b=[a.xa.id];a.Ee;)a=a.Ee,b.unshift(a.xa.id);this.$Z(a);};a.prototype.$Z=function(a){var c,f,d;c=this;f=a.xa;b.dd(a.children,function(a){a&&c.$Z(a);});a.Xa.forEach(function(a){a.Za.qYa();});a.active=!1;a.Zd();d=-1;this.wl.some(function(b,c){return b===a?(d=c,!0):!1;});-1!==d?this.wl.splice(d,1):this.Ha("Unable to find branch:",a,"in branches array");this.qf.UVa(f);};a.prototype.cB=function(a,c){var f,d,g,h,k,q;f=this;d=c.xa;c.ca!==a.ca&&this.X.fla(a.ca);a.active=!0;if(this.G.KI&&this.cc.active){g=this.cc.Doa();if(!b.R(g)){h=this.cc.ba;this.cc.GDa(g);a.Ptb(this.cc.ba-h);}}a.Xa.forEach(function(a){a.DH();});k=m.time.ea();q={};b.dd(c.children,function(b){b&&(b.Xc&&(b.Xc.Ae=b.Xa.map(function(a){return a.Au.yf;}),b.Xc.E6a=k-b.Xc.bT,b.Xc.bT=void 0,q[b.xa.id]=b.Xc),b.xa.id!==a.xa.id&&f.$Z(b));});c.children=Object.create(null);c.children[a.xa.id]=a;c.mB=void 0;this.EBa(a);this.qf.VVa(a.xa,q);1<Object.keys(d.mj).length&&a.DQ();};a.prototype.ITa=function(a){var b;b=this;0!==a.Xa.length&&(a.Xa.forEach(function(a){a.Za.reset();a.QE=void 0;a.active&&b.bd("Destroying active pipeline!");}),a.Xa=[],a.Zd());};a.prototype.WSa=function(a){var b,c;if(a){b=m.time.ea();c=a.Hq[0];c&&void 0===c.dR?c.dR=b-c.requestTime:c||(this.Ha("missing metrics for branch:",a.xa.id),c={bW:a.xa.id,IV:!0,dR:0,Xc:{}},a.Hq.unshift(c));void 0===c.startTime&&(c.startTime=b);}};a.prototype.dUa=function(a,c){var f,d,h,k;l.assert(0<=a);for(var g in this.Tj){h=this.Tj[g];if(this.X.n7(h.ca,c)){if(h.U<=a&&(Infinity===h.ba||void 0===h.ba||a<h.ba))return h;k=Math.min(Math.abs(a-h.U),Math.abs(a-h.ba));if(b.R(f)||k<f)f=k,d=h;}}return d;};a.prototype.s_=function(a,b,c,f,d,g,h,m,q){b=new k.WQa(a,b,c,f,d,g,h,m,q);return this.Tj[a]=b;};a.prototype.sWa=function(a,c){var f,d,g;f=this;this.zk=void 0;this.HP=[];d=null;g=null;b.dd(a.segments,function(a,h){var k,m,q,p,l,u;k=a.startTimeMs;m=a.endTimeMs;q={};b.dd(a.next,function(b,c){q[c]={weight:b.weight||0,tKb:b.transitionHint||a.transitionHint,V6a:"number"===typeof b.earliestSkipRequestOffset?b.earliestSkipRequestOffset:a.earliestSkipRequestOffset};});l=f.Ika(q);"number"===typeof l&&(p=k+l);u=a.defaultNext;b.R(u)&&(u=Object.keys(q)[0]);l=b.R(u);p=f.s_(h,0,k,m,u,q,l,p,a.transitionDelayZones);k<=c&&(c<m||b.R(m))?f.zk=p:k>c&&(!d||k<g)&&(d=h,g=k);l&&f.HP.push(p);});this.zk||(this.zk=d?this.Tj[d]:this.Tj[a.initialSegment]);};a.prototype.Ika=function(a){var c,d;d=0;b.dd(a,function(a){var b,g;b=a.weight||0;d+=0<b?1:0;g=a.earliestSkipRequestOffset;0<b&&a.transitionHint===f.xQa.Gda&&"number"===typeof g&&(void 0===c||c>g)&&(c=g);});return 1<d&&c;};a.prototype.zO=function(a,b,f,d,g){a=new c.ZFa(this.X,this.qf,this.K,this,this.Md,a,b,f,d,g);this.wl.push(a);return a;};return a;}();d.$Fa=g;},function(g,d,a){var b,f,h,m,c,k,p,q,l,n,y,r,x,G,N,R,S,X,D,U,P,ia,Z,E,Y,O,W,C,J,M;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(25);h=a(6);m=a(713);c=a(195);k=a(703);p=a(11);q=a(698);l=a(381);n=a(362);y=a(697);r=a(686);x=a(351);G=a(684);N=a(153);R=a(5);S=R.qk;X=R.Promise;D=R.MediaSource;U=a(83);P=a(24);a(13);ia=a(682);Z=a(681);E=a(680);Y=a(679);O=a(54);W=a(678);C=a(677);J=a(676);g=a(40);M=a(196).RCb;a=function(a){var d4d;d4d=2;while(d4d!==105){switch(d4d){case 2:b.__extends(d,a);Object.defineProperties(d.prototype,{M:{get:function(){var C4d;C4d=2;while(C4d!==1){switch(C4d){case 2:return String(this.gf.Oa.M);break;case 4:return String(this.gf.Oa.M);break;C4d=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{oa:{get:function(){var k4d,m5o;k4d=2;while(k4d!==1){m5o="d";m5o+="ep";m5o+="r";m5o+="e";m5o+="cated";switch(k4d){case 2:throw Error(m5o);k4d=1;break;case 4:throw Error("");k4d=3;break;k4d=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zp:{get:function(){var n4d;n4d=2;while(n4d!==1){switch(n4d){case 4:return this.qa.Zp;break;n4d=1;break;case 2:return this.qa.Zp;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{YT:{get:function(){var I4d;I4d=2;while(I4d!==1){switch(I4d){case 2:return this.Re.Sc;break;case 4:return this.Re.Sc;break;I4d=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Qh:{get:function(){var J4d;J4d=2;while(J4d!==1){switch(J4d){case 4:return this.yg(p.L.AUDIO);break;J4d=1;break;case 2:return this.yg(p.L.AUDIO);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{hg:{get:function(){var t4d;t4d=2;while(t4d!==1){switch(t4d){case 4:return this.yg(p.L.VIDEO);break;t4d=1;break;case 2:return this.yg(p.L.VIDEO);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{attributes:{get:function(){var p4d;p4d=2;while(p4d!==1){switch(p4d){case 4:return this.d_;break;p4d=1;break;case 2:return this.d_;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{U7:{get:function(){var s4d;s4d=2;while(s4d!==1){switch(s4d){case 4:return this.Sf;break;s4d=1;break;case 2:return this.Sf;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ca:{get:function(){var i4d;i4d=2;while(i4d!==1){switch(i4d){case 2:return this.ze;break;case 4:return this.ze;break;i4d=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{RK:{get:function(){var Q4d;Q4d=2;while(Q4d!==1){switch(Q4d){case 4:return 7>=this.XO?this.XO:9;break;Q4d=1;break;case 2:return 0<=this.XO?this.XO:0;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gf:{get:function(){var y4d;y4d=2;while(y4d!==1){switch(y4d){case 2:return this.sb[this.ze];break;case 4:return this.sb[this.ze];break;y4d=1;break;}}},enumerable:!0,configurable:!0}});d4d=11;break;case 11:Object.defineProperties(d.prototype,{dt:{get:function(){var O4d;O4d=2;while(O4d!==1){switch(O4d){case 2:return this.kb.dt;break;case 4:return this.kb.dt;break;O4d=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{fw:{get:function(){var M4d;M4d=2;while(M4d!==1){switch(M4d){case 4:return this.WWa;break;M4d=1;break;case 2:return this.WWa;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{j8:{get:function(){var o4d;o4d=2;while(o4d!==1){switch(o4d){case 2:return this.AB;break;case 4:return this.AB;break;o4d=1;break;}}},enumerable:!0,configurable:!0}});d.prototype.yg=function(a){var P4d;P4d=2;while(P4d!==1){switch(P4d){case 4:return this.L0[a];break;P4d=1;break;case 2:return this.L0[a];break;}}};d.prototype.M5=function(){var W4d;W4d=2;while(W4d!==1){switch(W4d){case 2:return(this.sb||[]).reduce(function(a,b){var m4d,c;m4d=2;while(m4d!==3){switch(m4d){case 2:c=b.Oa;[p.L.AUDIO,p.L.VIDEO].forEach(function(b){var A4d;A4d=2;while(A4d!==1){switch(A4d){case 2:c.eK[b]>a[b]&&(a[b]=c.eK[b]);A4d=1;break;}}});return a;break;}}},[0,0]);break;}}};d.prototype.$j=function(a){var q4d;q4d=2;while(q4d!==5){switch(q4d){case 2:a=a||this.M5();return this.kb.$j(a[0],a[1]);break;}}};d.prototype.Awa=function(){var U4d,a;U4d=2;while(U4d!==3){switch(U4d){case 2:a=0;h.forEach(this.gf.Oa.Ja.audio_tracks,function(b){var Y4d;Y4d=2;while(Y4d!==1){switch(Y4d){case 2:h.forEach(b.streams,function(b){var a6d;a6d=2;while(a6d!==1){switch(a6d){case 2:a=Math.max(a,b.bitrate);a6d=1;break;}}});Y4d=1;break;}}});return a;break;}}};d.prototype.nEa=function(){var V6d;V6d=2;while(V6d!==1){switch(V6d){case 4:return this.G.yub?~this.vP:+9;break;V6d=1;break;case 2:return this.G.yub?!this.vP:!1;break;}}};d.prototype.aD=function(a){var b6d;b6d=2;while(b6d!==1){switch(b6d){case 2:return this.qa.aD(a);break;case 4:return this.qa.aD(a);break;b6d=1;break;}}};d.prototype.jc=function(a){var N6d;N6d=2;while(N6d!==1){switch(N6d){case 4:return this.sb[a];break;N6d=1;break;case 2:return this.sb[a];break;}}};d.prototype.vab=function(){var e6d,a;e6d=2;while(e6d!==4){switch(e6d){case 2:a=this.sb[0];return a.wg?this.sb[1]:a;break;}}};d.prototype.Gab=function(){var X8n=B6kk;var z6d,Q9d,y9d;z6d=2;while(z6d!==1){switch(z6d){case 4:X8n.A4o(0);Q9d=X8n.H4o(13,18);return this.sb[this.sb.length+Q9d];break;z6d=1;break;case 2:X8n.B5o(1);y9d=X8n.E4o(16,16);return this.sb[this.sb.length-y9d];break;}}};d4d=23;break;case 23:d.prototype.L5=function(){var S6d;S6d=2;while(S6d!==1){switch(S6d){case 4:return this.sb.length;break;S6d=1;break;case 2:return this.sb.length;break;}}};d.prototype.n7=function(a,b){var L6d;L6d=2;while(L6d!==9){switch(L6d){case 5:a=this.sb[a];b=this.sb[b];return a.wg&&b.iK||b.wg&&a.iK;break;case 2:L6d=a===b?1:5;break;case 1:return!0;break;}}};d.prototype.q5=function(a){var g6d;g6d=2;while(g6d!==5){switch(g6d){case 1:return{Rc:a.Rc,Hc:a.Hc,ee:a.ee,Oc:a.Oc,Te:a.Te};break;case 2:g6d=(a=this.qa.xj.children[a])?1:5;break;}}};d.prototype.U5=function(){var l6d,a;l6d=2;while(l6d!==4){switch(l6d){case 9:l6d=0;break;l6d=1;break;case 1:a=this.qa.xj;return{id:a.xa.id,Rc:a.Rc,Hc:a.Hc,ee:a.ee,Oc:a.Oc,Te:a.Te};break;case 2:l6d=1;break;}}};d.prototype.mqb=function(){var G6d;G6d=2;while(G6d!==5){switch(G6d){case 2:this.hP=!1;this.qa.ug.forEach(function(a){var j6d;j6d=2;while(j6d!==1){switch(j6d){case 4:a.CQ();j6d=2;break;j6d=1;break;case 2:a.CQ();j6d=1;break;}}});G6d=5;break;}}};d.prototype.hca=function(a,b){var h6d;h6d=2;while(h6d!==1){switch(h6d){case 2:return this.qa.hca(a,b);break;case 4:return this.qa.hca(a,b);break;h6d=1;break;}}};d.prototype.rTa=function(){var H6d,a,b;H6d=2;while(H6d!==9){switch(H6d){case 1:H6d=b<this.sb.length?5:3;break;case 4:++b;H6d=1;break;case 2:b=0;H6d=1;break;case 5:a=this.sb[b],a.U7.clear(),a.Zd();H6d=4;break;case 3:this.sb.length=0;H6d=9;break;}}};d.prototype.BO=function(a){var u6d,b;u6d=2;while(u6d!==3){switch(u6d){case 2:b=new n.Pfa(this,this.kb.$e,this.kb.CD,!this.yk,this.G);u6d=5;break;case 6:b.uH(a);return b;break;u6d=3;break;case 5:b.uH(a);return b;break;}}};d.prototype.open=function(){var c6d,a,b,c,f,d,g,k,m,q,W5o,w5o,i5o,e5o,b5o,U5o,G5o,L5o,Q5o,a5o,V5o;c6d=2;while(c6d!==28){W5o="NFErr_MC_St";W5o+="rea";W5o+="mingInit";W5o+="Fai";W5o+="lure";w5o="st";w5o+="artPts must b";w5o+="e a positiv";w5o+="e number, n";w5o+="ot ";i5o="he";i5o+="ade";i5o+="rs";e5o="creat";e5o+="eM";e5o+="ediaSourc";e5o+="eStart";b5o="creat";b5o+="eMediaSourc";b5o+="eEn";b5o+="d";U5o="N";U5o+="FErr_MC_Strea";U5o+="min";U5o+="gInitFailure";G5o="exceptio";G5o+="n in";G5o+=" init";L5o="E";L5o+="r";L5o+="r";L5o+="o";L5o+="r:";Q5o="st";Q5o+="ar";Q5o+="t";Q5o+="play";a5o="log";a5o+="da";a5o+="ta";V5o="Er";V5o+="r";V5o+="o";V5o+="r:";switch(c6d){case 23:throw this.Ek(V5o,m.error),m.error;c6d=22;break;case 15:c6d=1===m.readyState?27:29;break;case 30:this.emit(f.type,f);c6d=28;break;case 12:this.rXa();this.vP=!1;g=b.xH;this.kb.Tg&&this.kb.Tg.yH(g,this.yl.sessionId);c6d=19;break;case 34:this.Va.PVa(f[p.L.AUDIO],f[p.L.VIDEO]);q=function(){var w6d,S5o;w6d=2;while(w6d!==5){S5o="shutdown detected before start";S5o+="Reque";S5o+="sts";switch(w6d){case 2:a.Va.RVa();a.ye()?a.Ha(S5o):a.BXa(c);w6d=5;break;}}};b.H5a?setTimeout(function(){var v6d;v6d=2;while(v6d!==1){switch(v6d){case 2:a.Rja(c).then(q);v6d=1;break;case 4:a.Rja(c).then(q);v6d=6;break;v6d=1;break;}}},0):this.Rja(c).then(function(){var d6d;d6d=2;while(d6d!==1){switch(d6d){case 2:setTimeout(q,0);d6d=1;break;case 4:setTimeout(q,7);d6d=7;break;d6d=1;break;}}});f={type:a5o,target:Q5o,fields:{audiogapconfig:b.RD,audiogapdpi:this.Re.Sc&&this.Re.Sc.RD}};c6d=30;break;case 22:m.sourceBuffers.forEach(function(c){var r6d,f,z5o,f5o,u5o,p5o,Z5o;r6d=2;while(r6d!==14){z5o="l";z5o+="ogd";z5o+="at";z5o+="a";f5o="e";f5o+="r";f5o+="ror";u5o="reques";u5o+="t";u5o+="Appe";u5o+="n";u5o+="ded";p5o="h";p5o+="e";p5o+="ad";p5o+="erAppended";Z5o="m";Z5o+="anage";Z5o+="rd";Z5o+="ebug";Z5o+="event";switch(r6d){case 7:b.jf&&c.addEventListener(Z5o,function(b){var Z6d;Z6d=2;while(Z6d!==1){switch(Z6d){case 4:P.na(a,b.type,b);Z6d=5;break;Z6d=1;break;case 2:P.na(a,b.type,b);Z6d=1;break;}}});a.df[f]=c;r6d=14;break;case 2:f=c.O;c=new x.bGa(a,a.cb.Bb[f].K,f,m,c,a.re.fv(f),b);c.addEventListener(p5o,a.vUa.bind(a));c.addEventListener(u5o,a.xUa.bind(a));c.addEventListener(f5o,function(b){var x6d,l5o;x6d=2;while(x6d!==1){l5o="NFE";l5o+="rr_MC_Stream";l5o+="ing";l5o+="Failure";switch(x6d){case 2:a.zi(b.errorstr,void 0,l5o);x6d=1;break;}}});c.addEventListener(z5o,function(b){var K6d;K6d=2;while(K6d!==1){switch(K6d){case 4:P.na(a,b.type,b);K6d=6;break;K6d=1;break;case 2:P.na(a,b.type,b);K6d=1;break;}}});r6d=7;break;}}});this.fw&&this.Va.AVa();f=this.M5();c6d=34;break;case 5:c6d=!h.pa(this.kH)||0>this.kH?4:3;break;case 29:this.Ek(L5o,m.error),this.zi(G5o,void 0,U5o);c6d=28;break;case 24:c6d=!m.l1(f)?23:22;break;case 27:this.Va.zr(b5o);m.Sc||(m.Sc=D.Sc);this.Re=m;c6d=24;break;case 2:a=this;c6d=5;break;case 3:b=this.G;c=this.M;f=[];c6d=7;break;case 19:k=this.GI.zTa(d,this.M);d.forEach(function(b,c){var X6d,n5o;X6d=2;while(X6d!==1){n5o="h";n5o+="e";n5o+="a";n5o+="de";n5o+="rs";switch(X6d){case 2:n5o===b?a.OG=k[c]:a.cb.Bb[b].ik=k[c];X6d=1;break;}}});this.Va.zr(e5o);m=new D(this.ja.aI);c6d=15;break;case 7:d=[i5o];this.hg&&(f.push(1),d.push(1));this.Qh&&(f.push(p.L.AUDIO),d.push(0));this.GI.HUa();c6d=12;break;case 4:this.zi(w5o+this.kH,void 0,W5o);c6d=28;break;}}};d.prototype.flush=function(){var D6d;D6d=2;while(D6d!==1){switch(D6d){case 4:this.Ev.flush();D6d=5;break;D6d=1;break;case 2:this.Ev.flush();D6d=1;break;}}};d.prototype.paused=function(){var f6d;f6d=2;while(f6d!==1){switch(f6d){case 2:this.ja.paused();f6d=1;break;case 4:this.ja.paused();f6d=9;break;f6d=1;break;}}};d.prototype.yW=function(){var E6d;E6d=2;while(E6d!==1){switch(E6d){case 2:this.ja.yW();E6d=1;break;case 4:this.ja.yW();E6d=9;break;E6d=1;break;}}};d4d=43;break;case 43:d.prototype.close=function(){var B6d;B6d=2;while(B6d!==1){switch(B6d){case 4:this.Ev.close();B6d=7;break;B6d=1;break;case 2:this.Ev.close();B6d=1;break;}}};d.prototype.Wnb=function(){var T6d;T6d=2;while(T6d!==1){switch(T6d){case 4:this.kb.NWa(this);T6d=2;break;T6d=1;break;case 2:this.kb.NWa(this);T6d=1;break;}}};d.prototype.Zd=function(){var R6d,a,X5o;R6d=2;while(R6d!==12){X5o="Error ";X5o+="on Med";X5o+="iaSource ";X5o+="destro";X5o+="y: ";switch(R6d){case 2:this.Md.Fjb();this.vO();this.qa.Zd();R6d=3;break;case 6:a=this.Re;this.Re=void 0;h.R(a)||a.cn()||this.Ha(X5o,a.error);R6d=12;break;case 3:this.GI.KTa();this.ja.Jd(p.Ma.TN);this.rTa();this.Sf.clear();R6d=6;break;}}};d.prototype.suspend=function(){var F6d;F6d=2;while(F6d!==1){switch(F6d){case 2:this.Ev.suspend();F6d=1;break;case 4:this.Ev.suspend();F6d=2;break;F6d=1;break;}}};d.prototype.resume=function(){var C6d;C6d=2;while(C6d!==1){switch(C6d){case 2:this.Ev.resume();C6d=1;break;case 4:this.Ev.resume();C6d=8;break;C6d=1;break;}}};d.prototype.ye=function(){var k6d;k6d=2;while(k6d!==1){switch(k6d){case 4:return this.Ev.o0&&this.qa.Uua;break;k6d=1;break;case 2:return this.Ev.o0||this.qa.Uua;break;}}};d.prototype.qXa=function(){var n6d,a;n6d=2;while(n6d!==7){switch(n6d){case 2:a=this.G;this.su&&clearTimeout(this.su);this.su=setTimeout(this.nH.bind(this),a.zW);n6d=3;break;case 3:this.pO||(this.pO=setInterval(this.Va.vla.bind(this.Va),a.cC));this.BP||(this.BP=setInterval(this.Va.bWa.bind(this.Va),a.uba));this.fw&&!this.nO&&(this.nO=setInterval(this.Va.ula.bind(this.Va),a.D1));n6d=7;break;}}};d.prototype.rXa=function(){var I6d,a,b,c;I6d=2;while(I6d!==7){switch(I6d){case 2:a=this;b=this.G;I6d=4;break;case 4:I6d=b.FV?3:7;break;case 3:this.CG&&clearInterval(this.CG);c=-1;this.CG=setInterval(function(){var J6d,b,q5o;J6d=2;while(J6d!==4){q5o="v";q5o+="b";switch(J6d){case 2:b=a.cb.Bb[p.L.VIDEO];(b=b.Av&&b.Av.P)&&c!==b&&(R.storage.set(q5o,b),c=b);J6d=4;break;}}},b.FV);I6d=7;break;}}};d.prototype.vO=function(){var t6d;t6d=2;while(t6d!==6){switch(t6d){case 2:this.su&&(clearTimeout(this.su),this.su=void 0);this.pO&&(clearInterval(this.pO),this.pO=void 0);this.BP&&(clearInterval(this.BP),this.BP=void 0);t6d=4;break;case 4:this.nO&&(clearInterval(this.nO),this.nO=void 0);this.kB&&(clearTimeout(this.kB),this.kB=void 0);this.B_&&(clearTimeout(this.B_),this.B_=void 0);t6d=8;break;case 8:this.CG&&(clearInterval(this.CG),this.CG=void 0);this.Uh.vO();t6d=6;break;}}};d.prototype.play=function(){var p6d;p6d=2;while(p6d!==1){switch(p6d){case 2:this.Ev.play();p6d=1;break;case 4:this.Ev.play();p6d=8;break;p6d=1;break;}}};d.prototype.stop=function(){var s6d;s6d=2;while(s6d!==1){switch(s6d){case 4:this.Ev.stop();s6d=4;break;s6d=1;break;case 2:this.Ev.stop();s6d=1;break;}}};d.prototype.AE=function(a,b){var i6d;i6d=2;while(i6d!==1){switch(i6d){case 4:return this.Uo.AE(a,b);break;i6d=1;break;case 2:return this.Uo.AE(a,b);break;}}};d4d=50;break;case 59:d.prototype.IXa=function(a){var G7d,b,c,f,d,O5o,s5o,g5o;G7d=2;while(G7d!==15){O5o=",";O5o+=" ";s5o=", str";s5o+="ea";s5o+="mingPts: ";g5o="swi";g5o+="tch";g5o+="Manifest man";g5o+="ifest";g5o+="Index: ";switch(G7d){case 2:b=this.sb[a];c=this.qa.tg;G7d=4;break;case 4:f=c.Rg(p.L.AUDIO);f=f?f.bb:void 0;d=c.Rg(p.L.VIDEO);d=d?d.bb:void 0;this.G.jf&&this.Oh(g5o+a+s5o+f+O5o+d);f=this.yk;G7d=14;break;case 14:this.yk=!1;b.Ox&&(b.Lx=!0);d=this.ze;f?this.qa.bob(d,a):c.fqb(a);c.Eua(a);[p.L.VIDEO,p.L.AUDIO].forEach(function(a){var j7d,f;j7d=2;while(j7d!==4){switch(j7d){case 2:f=c.Rg(a);f&&!b.replace&&(b.so?f.tob(b.so[a]):(a=b.wz[a],f.uob(a)));j7d=4;break;}}}.bind(this));G7d=19;break;case 19:this.fla(a);b.lca(a,this.G,this.Qh,this.hg,this.qa,this.Va);this.Uo.F_();this.Uh.rh();G7d=15;break;}}};d.prototype.Cjb=function(){var h7d,a,b,c,T5o;h7d=2;while(h7d!==13){T5o="onAudioTrackSwitchStarted ignored";T5o+=", no a";T5o+="udio pipeline";switch(h7d){case 2:a=this.qa.tg.Rg(p.L.AUDIO);h7d=5;break;case 5:h7d=a?4:14;break;case 14:this.Ha(T5o);h7d=13;break;case 4:b=this.ja.kf();c=this.cb.Bb[a.O];(b=a.Za.ZC(b))&&b.Mf!=a&&(a=b.Mf);this.FWa(a);c.oF=!1;this.Uh.rh();h7d=13;break;}}};d.prototype.msb=function(a){var H7d,b,c,f,d,J5o,k5o,j5o,y5o,P5o,x5o,D5o,r5o;H7d=2;while(H7d!==22){J5o="sw";J5o+="itchTracks rejected, previous switch still waiting to st";J5o+="art";k5o=" ";k5o+="t";k5o+="o";k5o+=":";k5o+=" ";j5o="switchTr";j5o+="a";j5o+="cks current: ";y5o="switchTracks reje";y5o+="cted,";y5o+=" buffering";P5o="switchT";P5o+="r";P5o+="acks rejected, previ";P5o+="ous switch still in progres";P5o+="s: ";x5o="switchT";x5o+="racks";x5o+=" rej";x5o+="ecte";x5o+="d, audio disabled";D5o="swi";D5o+="tch";D5o+="Tr";D5o+="acks can't find trackId:";r5o="switch";r5o+="Trac";r5o+="ks rejected, buffe";r5o+="rLevelMs";switch(H7d){case 12:f=this.qa.aD(p.L.VIDEO);H7d=11;break;case 3:H7d=this.fB?9:8;break;case 8:H7d=this.ja.Zl()?7:6;break;case 18:H7d=!f?17:16;break;case 6:c=this.cb.Bb[p.L.AUDIO];H7d=14;break;case 10:return this.Ha(r5o,f,"<",b.cU),!1;break;case 11:H7d=f<b.cU?10:20;break;case 17:return this.Ha(D5o,a),!1;break;case 2:b=this.G;H7d=5;break;case 4:return this.Ha(x5o),!1;break;case 9:return this.Ha(P5o+JSON.stringify(this.fB)),!1;break;case 27:return!1;break;case 7:return this.Ha(y5o),!1;break;case 15:H7d=d===f.eb?27:26;break;case 26:b.jf&&this.Oh(j5o+d+k5o+f.eb);c.sU={eb:a};this.AXa(this.qa.tg.Rg(p.L.AUDIO));return!0;break;case 20:a=a.aC;f=this.gf.Oa.DS(a);H7d=18;break;case 16:d=this.gf.pS(0);H7d=15;break;case 5:H7d=!this.Qh?4:3;break;case 14:H7d=c.oF?13:12;break;case 13:return this.Ha(J5o),!1;break;}}};d.prototype.RV=function(a,b){var u7d;u7d=2;while(u7d!==1){switch(u7d){case 2:void 0!==b?this.jc(b).Qp(1).$b.forEach(function(b){var c7d;c7d=2;while(c7d!==1){switch(c7d){case 2:O(l.x1(b.ff,b.P,a),b);c7d=1;break;}}}):(this.i_=a,this.qa.RV(a));u7d=1;break;}}};d.prototype.ZC=function(a,b,c){var X7d;X7d=2;while(X7d!==1){switch(X7d){case 2:return this.qa.xj.Xa[b].Za.ZC(a,void 0,c);break;}}};d.prototype.fC=function(a){var r7d;r7d=2;while(r7d!==1){switch(r7d){case 4:return this.Uo.fC(a);break;r7d=1;break;case 2:return this.Uo.fC(a);break;}}};d.prototype.s4=function(a,b){var x7d,c,f;x7d=2;while(x7d!==8){switch(x7d){case 5:a=c.H4(a,b);x7d=4;break;case 2:c=this.cb;x7d=5;break;case 4:f=this.Md.D$;a&&!a.WB&&f.r4(a);b?c.baa():(b=f.q$a(),this.Va.KVa(b));x7d=8;break;}}};d.prototype.Bka=function(a,b){var K7d,c,f,d,v5o,I5o;K7d=2;while(K7d!==14){v5o=" ";v5o+="return";v5o+="ing i";v5o+="ndex: ";I5o="findNewStreamInde";I5o+="x unable";I5o+=" to find stream fo";I5o+="r bitrate: ";switch(K7d){case 1:K7d=0<=d?5:7;break;case 2:d=a.length-1;K7d=1;break;case 5:K7d=(f=a[d],f.lf&&!f.Sg&&f.inRange)?4:8;break;case 3:return d;break;case 9:c=d;K7d=8;break;case 4:K7d=f.P<=b?3:9;break;case 7:B6kk.B5o(2);this.Ha(B6kk.E4o(c,I5o,b,v5o));return c;break;case 8:--d;K7d=1;break;}}};d.prototype.sTa=function(a){var Z7d,b;Z7d=2;while(Z7d!==3){switch(Z7d){case 2:b=this.cb.Bb[a.O];b.Li&&b.Li.AQ&&(b.Li.AQ=void 0);a.vE&&(b.Co=void 0,b.Li=void 0,b.aJ=void 0,b.Sl=void 0,a.vE=void 0);Z7d=3;break;}}};d.prototype.C0a=function(a,b,c){var w7d;w7d=2;while(w7d!==1){switch(w7d){case 2:return this.sb[b].B0a(p.L.VIDEO,a,c||!1);break;}}};d.prototype.Zx=function(a,b){var v7d,c,f;v7d=2;while(v7d!==8){switch(v7d){case 2:void 0===a&&(a=this.RK);f=this.qa.T8a(b,a);f?c=f.Rc:(f=this.qa.I4(a),0<f.length&&(f=f[0],c=f.Rc));h.pa(c)||(c=this.sb[a].sn);B6kk.B5o(0);return B6kk.E4o(c,b);break;}}};d.prototype.V2=function(a,b){var d7d,c,f;d7d=2;while(d7d!==8){switch(d7d){case 2:void 0===a&&(a=this.RK);f=this.qa.S8a(b,a);f?c=f.Rc:(f=this.qa.I4(a),0<f.length&&(f=f[0],c=f.Rc));h.pa(c)||(c=this.sb[a].sn);B6kk.B5o(3);return B6kk.H4o(c,b);break;}}};d4d=70;break;case 50:d.prototype.seek=function(a,b){var Q6d;Q6d=2;while(Q6d!==1){switch(Q6d){case 2:return this.Uo.seek(a,b);break;case 4:return this.Uo.seek(a,b);break;Q6d=1;break;}}};d.prototype.Itb=function(a){var y6d,b,c,f,d,o6d,B6o,t5o,o5o,N5o,c5o;y6d=2;while(y6d!==17){B6o="un";B6o+="d";B6o+="erfl";B6o+="ow";t5o="b";t5o+="ranch";t5o+="Offs";t5o+="et:";o5o="entry.mani";o5o+="festOff";o5o+="set";o5o+=":";N5o="cont";N5o+="ent";N5o+="Pts:";c5o="underflow: ";c5o+="going to BUFFERING at player pts";c5o+=":";switch(y6d){case 3:this.Ha(c5o,a,N5o,f,o5o,this.gf.sn,t5o,this.qa.Rc);d=c.PT;this.df.forEach(function(b){var O6d;O6d=2;while(O6d!==1){switch(O6d){case 2:d=Math.max(0,Math.min(d,b.Fab-a));O6d=1;break;}}});this.gf.Oa.LC()&&(this.QO=f+c.Fba,this.RO=R.time.ea());this.qa.ug.forEach(function(f){var M6d,d,g,A5o,E5o,H5o,C5o,h5o,F5o,R5o,Y5o,d5o,K5o,M5o;M6d=2;while(M6d!==8){A5o="re";A5o+="bu";A5o+="f";A5o+="fe";A5o+="r";E5o=", toAp";E5o+="pend";E5o+=": ";H5o=", f";H5o+="r";H5o+="agm";H5o+="e";H5o+="nts: ";C5o=", complet";C5o+="eStreamin";C5o+="g";C5o+="Pts: ";h5o=", ";h5o+="stream";h5o+="ingPts";h5o+=": ";F5o=", p";F5o+="arti";F5o+="als: ";R5o=",";R5o+=" tota";R5o+="lBufferBytes: ";Y5o=", to";Y5o+="talBu";Y5o+="ffe";Y5o+="rMs:";Y5o+=" ";d5o=",";d5o+=" ";d5o+="bufferLevelBytes";d5o+=": ";K5o=", ";K5o+="medi";K5o+="aType: ";M5o="u";M5o+="n";M5o+="derflow: ";switch(M6d){case 2:d=f.O;c.jf&&(g=b.df[d],g=M5o+a+K5o+d+d5o+f.Bu+Y5o+f.aF+R5o+f.pt+F5o+f.Za.Wv+h5o+f.bb+C5o+f.Vx+H5o+JSON.stringify(f.Za.$)+E5o+JSON.stringify(g.Ai));M6d=4;break;case 9:c.Np&&b.gf.aba&&(f=b.gf.aba,d=b.cb.Bb[d],f.Eaa(A5o,d.O7));M6d=8;break;case 4:c.jf&&b.Oh(g);f.Hp=!1;M6d=9;break;}}});this.emit(B6o);this.yP(2);y6d=12;break;case 12:this.Uh.rh();y6d=11;break;case 20:f=this.kb.$e.get(!1);f=f.Fc?f.va.Fa:0;d>c.E8a&&f>c.D8a&&this.jH();y6d=17;break;case 11:y6d=this.qo?10:20;break;case 2:b=this;c=this.G;f=this.Zx(this.RK,a);y6d=3;break;case 10:try{o6d=2;while(o6d!==1){switch(o6d){case 4:this.s4(p.Ma.Ij);o6d=2;break;o6d=1;break;case 2:this.s4(p.Ma.Ij);o6d=1;break;}}}catch(nb){var m6o;m6o="Hindsight: Error when evalu";m6o+="a";m6o+="ti";m6o+="ng QoE at Buffering: ";B6kk.A4o(3);this.Va.mq(B6kk.E4o(nb,m6o));}y6d=20;break;}}};d.prototype.Ri=function(a){var P6d;P6d=2;while(P6d!==1){switch(P6d){case 2:this.Uo.Ri(a);P6d=1;break;case 4:this.Uo.Ri(a);P6d=9;break;P6d=1;break;}}};d.prototype.Ju=function(a,b,c){var W6d;W6d=2;while(W6d!==1){switch(W6d){case 2:return this.Uo.Ju(a,b,c);break;case 4:return this.Uo.Ju(a,b,c);break;W6d=1;break;}}};d.prototype.fla=function(a){var m6d,b;m6d=2;while(m6d!==9){switch(m6d){case 3:this.cb.Fcb(b.replace);m6d=9;break;case 2:this.ze=a;b=this.sb[a];this.Va.OVa(a,b);m6d=3;break;}}};d.prototype.uH=function(a,b){var A6d,c,f,d,g,m,q,l,u,G6o,L6o,z6o,l6o,f6o,u6o,p6o,Z6o,Q6o,a6o,S6o,V6o;A6d=2;while(A6d!==41){G6o=",";G6o+=" ";L6o=") l";L6o+="ast";L6o+="StreamAppended: (";z6o=",";z6o+=" ";l6o=" streamC";l6o+="o";l6o+="unt: (";f6o=" playe";f6o+="r";f6o+="Sta";f6o+="te:";f6o+=" ";u6o="ad";u6o+="dManifest";u6o+=",";u6o+=" currentPt";u6o+="s: ";p6o="boo";p6o+="lea";p6o+="n";Z6o="vide";Z6o+="o_tra";Z6o+="ck";Z6o+="s";Q6o="a";Q6o+="u";Q6o+="dio";Q6o+="_tracks";a6o="addMani";a6o+="fest ignored, ";a6o+="pipel";a6o+="ines alr";a6o+="eady set EOS:";S6o="addManifest in fastplay b";S6o+="ut no";S6o+="t";S6o+=" drm manifest, leaving space for it";V6o="addMa";V6o+="nifest: pipelines a";V6o+="lready shutdown";switch(A6d){case 3:this.Ha(V6o);A6d=41;break;case 13:b||(b={});b.i$&&(this.hP=!0);g=this.sb.length;b.replace&&1!==g?g=1:this.yk&&!b.replace&&1===g&&(this.Ha(S6o),g=this.sb[0].clone(this),g.B8a=!0,this.sb.push(g),g=this.sb.length);d=b.U||0;m=b.ba;this.re.aob(function(a,b){var q6d;q6d=2;while(q6d!==1){switch(q6d){case 2:a?c.re.Qka(b):c.YD(b);q6d=1;break;}}});A6d=17;break;case 28:return!0;break;case 29:A6d=this.Qh&&h.R(b)||this.hg&&h.R(d)?28:44;break;case 14:this.Ha(a6o,g.Xq,d.Xq);A6d=41;break;case 44:this.pP(a,g);this.OP();return!0;break;case 6:A6d=this.Qh&&g.Xq||this.hg&&d.Xq?14:13;break;case 4:A6d=this.ye()?3:9;break;case 17:a=k.kga.bsa(this,this.G,this.K,a,{ca:g,mBa:b.Xsb||[this.gf.qS(0),this.gf.qS(1)],wg:!1,$r:b.$r||this.i_,U:d,ba:m,c3:function(a){var U6d;U6d=2;while(U6d!==1){switch(U6d){case 2:return c.BO(a);break;case 4:return c.BO(a);break;U6d=1;break;}}},v6:this.L_,sAa:b.replace?this.sb[this.sb.length-1]:void 0},this.yl,this.Va);q=a.Oa;l=[Q6o,Z6o];A6d=27;break;case 9:d=this.qa.ug;A6d=8;break;case 27:u=this.M5();b.replace&&l.forEach(function(a,b){var Y6d,f,d;Y6d=2;while(Y6d!==9){switch(Y6d){case 2:f=q.Bs(b);Y6d=5;break;case 5:Y6d=f?4:9;break;case 4:d=c.sb[0].Oa.Bs(b);d&&Object.keys(f).forEach(function(a){var a7d,c;a7d=2;while(a7d!==4){switch(a7d){case 2:c=d[a];c&&c.jd&&(f[a].NQ(c),a=q.eK,a[b]>u[b]&&(u[b]=a[b]));a7d=4;break;}}});Y6d=9;break;}}});l.forEach(function(a,b){var V7d,d;V7d=2;while(V7d!==4){switch(V7d){case 2:d=q.Bs(b);d&&Object.keys(d).forEach(function(a){var b7d,g;b7d=2;while(b7d!==3){switch(b7d){case 2:g=c.$j(u)[b];1===b&&0<f.iq&&(g=Math.min(g,f.iq));d[a].DDa(g,q.Zp()?f.Ewa:0);b7d=3;break;}}});V7d=4;break;}}});a.iK=a.replace;a.hs=b.hs;A6d=22;break;case 22:p6o===typeof b.Ox?(a.Ox=b.Ox,a.Lx=b.Ox):(a.Ox=!0,a.Lx=!0);this.sb[g]&&this.sb[g].Zd();this.sb[g]=a;a.poa(g,this.jc.bind(this));b.replace||this.qa.VYa(g,d,m);b=this.cb.Bb[p.L.AUDIO].Co;d=this.cb.Bb[p.L.VIDEO].Co;A6d=30;break;case 2:c=this;f=this.G;A6d=4;break;case 30:f.jf&&this.Oh(u6o+this.ja.kf()+f6o+this.ja.gd()+l6o+a.Qp(0).$b.length+z6o+a.Qp(1).$b.length+L6o+b+G6o+d+")");A6d=29;break;case 8:g=d[p.L.AUDIO];d=d[p.L.VIDEO];A6d=6;break;}}};d.prototype.WP=function(a){var N7d;N7d=2;while(N7d!==1){switch(N7d){case 2:return this.Uo.WP(a);break;case 4:return this.Uo.WP(a);break;N7d=1;break;}}};d.prototype.sR=function(a){var e7d,b,c,f,d,e6o,n6o,b6o,U6o;e7d=2;while(e7d!==13){e6o=" r";e6o+="eadyS";e6o+="tate: ";n6o=" f";n6o+="or mo";n6o+="vieId";n6o+=": ";b6o=",";b6o+=" ";U6o="drmReady a";U6o+="t strea";U6o+="ming pts: ";switch(e7d){case 4:h.R(b)&&(b=!0);f=this.qa.ug;d=f[p.L.AUDIO];f=f[p.L.VIDEO];e7d=7;break;case 5:e7d=!this.ye()?4:13;break;case 7:c.jf&&this.Oh(U6o+d.bb+b6o+f.bb+n6o+a+e6o+b);B6kk.B5o(3);this.ja.$pb(B6kk.E4o("",a),b);e7d=14;break;case 2:c=this.G;e7d=5;break;case 14:b&&(this.df.forEach(function(a){var z7d;z7d=2;while(z7d!==5){switch(z7d){case 2:c.T4&&a.r9a();c.QW&&a.resume();z7d=5;break;}}}),this.yk&&this.NP(this.Uo.yi?this.Uo.yi.ca:this.ze+1),this.Uo.F_());e7d=13;break;}}};d.prototype.pv=function(){var S7d;S7d=2;while(S7d!==1){switch(S7d){case 2:return this.ja.pv(this.gf.Oa.M)||this.gf.hs;break;}}};d.prototype.Sja=function(a){var L7d,b,c,f,d;L7d=2;while(L7d!==20){switch(L7d){case 6:d=this.sb[a];b=d.Oa;L7d=13;break;case 4:b=this.qa.ug;c=b[p.L.AUDIO];b=b[p.L.VIDEO];c=!c||c.Hg;f=!b||b.Hg;L7d=6;break;case 1:L7d=a>=this.sb.length?5:4;break;case 5:return!1;break;case 12:return!1;break;case 2:L7d=1;break;case 13:L7d=!(a===this.ze+1&&d.replace||c&&f)||!this.ja.pv(b.M)&&!d.hs?12:11;break;case 11:a=!this.hg||b.Vc[p.L.VIDEO]&&b.Vc[p.L.VIDEO].stream.jd;return(!this.Qh||b.Vc[p.L.AUDIO]&&b.Vc[p.L.AUDIO].stream.jd)&&a?!0:!1;break;}}};d.prototype.OP=function(){var g7d;g7d=2;while(g7d!==1){switch(g7d){case 2:this.NP(this.ze+1);g7d=1;break;case 4:this.NP(this.ze*4);g7d=9;break;g7d=1;break;}}};d.prototype.NP=function(a){var l7d,b;l7d=2;while(l7d!==14){switch(l7d){case 2:l7d=1;break;case 9:return!1;break;case 1:l7d=!this.Sja(a)?5:4;break;case 8:this.IXa(a);this.Uh.rh();return!0;break;case 4:b=this.sb[a];l7d=3;break;case 3:l7d=b.B8a||!b.replace?9:8;break;case 5:return!1;break;}}};d4d=59;break;case 70:d.prototype.kta=function(a,b,c){var D7d,f;D7d=2;while(D7d!==7){switch(D7d){case 4:D7d=!a.length?3:9;break;case 3:return b;break;case 2:f=this.jc(a.ca);a=c?f.zra(this.yg.bind(this),a.Xa,b):f.$I(this.yg.bind(this),a.Xa,b,this.G);D7d=4;break;case 9:b=a[p.L.VIDEO];return c?b.U:b.ba;break;}}};d.prototype.mUa=function(a,b){var f7d,c,f;f7d=2;while(f7d!==14){switch(f7d){case 3:f.JL&&this.re.Joa(f);f7d=14;break;case 2:c=this.G;f=this.re.Tk(a.O,b.za);f7d=4;break;case 9:f7d=f?8:7;break;case 8:return f;break;case 4:f7d=f&&!f.$?3:9;break;case 7:f7d=h.R(c.c9)||h.R(this.re.$ka)||h.R(this.re.ala)||(f=R.time.ea(),!(f-this.re.$ka<c.c9||f-this.re.ala<c.c9))?6:14;break;case 6:this.re.kI(a,this.M,b,{url:b.url,offset:0}),this.re.ala=R.time.ea();f7d=14;break;}}};d.prototype.Yt=function(){var E7d;E7d=2;while(E7d!==1){switch(E7d){case 2:return this.qa.tg.r2(this.cb.Bb[p.L.VIDEO],this.cb.Bb[p.L.AUDIO],this.hg,this.ja.Zl(),void 0!==this.fB,this.G.$h);break;}}};d.prototype.jH=function(){var B7d;B7d=2;while(B7d!==9){switch(B7d){case 1:this.nH();this.kB&&(clearTimeout(this.kB),this.kB=void 0);this.ja.Jd(p.Ma.ad);this.Uh.rh();B7d=9;break;case 2:this.qa.tg.Vpb(this.ja.Zl());B7d=1;break;}}};d.prototype.lma=function(a,b){var T7d,R7d;T7d=2;while(T7d!==7){switch(T7d){case 8:try{R7d=2;while(R7d!==1){switch(R7d){case 2:this.s4(p.Ma.UN,{ba:a.ba});R7d=1;break;}}}catch(la){var i6o;i6o="Hindsight: Error evalu";i6o+="ating Qo";i6o+="E at endO";i6o+="fStream: ";B6kk.B5o(3);this.Va.mq(B6kk.E4o(la,i6o));}T7d=7;break;case 2:a.Hg=!0;a.ba=h.pa(b)?b:a.bb;a.Xq=!1;a.CQ();T7d=3;break;case 3:this.Yt();T7d=9;break;case 9:T7d=this.qo&&a.O===p.L.VIDEO?8:7;break;}}};d.prototype.RWa=function(){var F7d,a;F7d=2;while(F7d!==4){switch(F7d){case 2:a=this.kb.$e;a&&(a=a.get())&&a.avtp&&this.dt.FYa({avtp:a.avtp.Fa});F7d=4;break;}}};d.prototype.BXa=function(a){var C7d,b,c,X6o,W6o,w6o;C7d=2;while(C7d!==8){X6o="start";X6o+="up, pla";X6o+="yerState no";X6o+=" longer STARTING:";W6o="fai";W6o+="led to start";W6o+=" au";W6o+="dio";W6o+=" pipeline";w6o="failed";w6o+=" t";w6o+="o st";w6o+="art vi";w6o+="deo pipeline";switch(C7d){case 3:b=b[p.L.VIDEO];this.hg&&!this.pma(a,b)?this.Ha(w6o):this.Qh&&!this.pma(a,c)?this.Ha(W6o):(this.Mla=!0,this.sb[0].z6=!0,c=this.cb.Bb[p.L.VIDEO],b=this.cb.Bb[p.L.AUDIO],(c&&0<c.Mo||b&&0<b.Mo)&&this.Va.IVa(a,b?b.Mo:0,c?c.Mo:0,b?b.PK:0,c?c.PK:0),this.ja.mva()?(this.yP(0),this.Qh&&(a=this.gf.qS(0),c=this.gf.pS(0),this.Va.LVa(a,c))):this.Ha(X6o,this.ja.gd()));C7d=8;break;case 2:this.ja.Jd(p.Ma.Lh);b=this.qa.ug;c=b[p.L.AUDIO];C7d=3;break;}}};d.prototype.pma=function(a,b){var k7d,c,f,g6o,q6o;k7d=2;while(k7d!==13){g6o="NFErr_MC_";g6o+="StreamingInitFa";g6o+="ilure";q6o="sta";q6o+="rtPipeline fa";q6o+="iled";switch(k7d){case 7:return!0;break;case 3:return this.ye()||this.zi(q6o,b.Rb.ca,g6o),!1;break;case 9:f=b.$b[f];k7d=8;break;case 2:c=b.O;f=this.cb.Gbb(b);k7d=4;break;case 6:this.re.kI(b,a,f,{offset:0,dy:!this.yk&&!this.q_&&c===p.L.VIDEO,xs:!this.cb.Bb[c].h9a},f.Oa.ca);return!0;break;case 4:k7d=h.R(f)?3:9;break;case 8:k7d=this.re.Tk(c,f.za)?7:6;break;}}};d.prototype.yP=function(a,b){var n7d,c,f,d,g;n7d=2;while(n7d!==17){switch(n7d){case 19:this.ja.Zl()&&(this.kB=setTimeout(function(){var t7d;t7d=2;while(t7d!==1){switch(t7d){case 4:c.Yt();t7d=3;break;t7d=1;break;case 2:c.Yt();t7d=1;break;}}},f.iE));this.Uh.rh();n7d=17;break;case 2:c=this;f=this.G;d=this.cb.Bb[p.L.AUDIO]||{};g=this.cb.Bb[p.L.VIDEO]||{};d.UH=void 0;n7d=8;break;case 8:g.UH=void 0;this.vP=!1;this.ja.Jd(2===a?p.Ma.Qt:p.Ma.Ij);this.Va.FVa(b);this.qa.ug.forEach(function(b){var I7d;I7d=2;while(I7d!==5){switch(I7d){case 2:b.a2=0;b.seeking=0===a||1===a;I7d=5;break;}}});n7d=12;break;case 12:this.k_=R.time.ea();d.Il=g.Il=this.k_;0===a&&(!this.hg||0<g.Mo)&&(!this.Qh||0<d.Mo)&&this.Yt();f.MI&&(this.B_=setTimeout(function(){var J7d;J7d=2;while(J7d!==1){switch(J7d){case 2:c.RWa();J7d=1;break;case 4:c.RWa();J7d=9;break;J7d=1;break;}}},f.e4));n7d=19;break;}}};d.prototype.PP=function(a){var p7d,b,s6o;p7d=2;while(p7d!==4){s6o="wi";s6o+="pe";s6o+="HeaderC";s6o+="ach";s6o+="e:";switch(p7d){case 2:p7d=1;break;case 1:b=this.G;b.p9||(b.jf&&this.Oh(s6o+a),this.kb.loa(),this.Hf&&(this.Hf=void 0));p7d=4;break;}}};d.prototype.Rja=function(a){var s7d,b,c,f,d,j6o,T6o;s7d=2;while(s7d!==14){j6o="c";j6o+="a";j6o+="tc";j6o+="h";T6o="che";T6o+="c";T6o+="kF";T6o+="or";T6o+="HcdStart";switch(s7d){case 9:f=function(a,b){var i7d,c,f,d,g,k,m,O6o;i7d=2;while(i7d!==13){O6o="adopt";O6o+="Pipeli";O6o+="ne no";O6o+=" header for streamId:";switch(i7d){case 9:i7d=m&&(f=m.za,c=m.Wp.stream,h.R(b.ln)||this.Md.HBa(b.ln,b.Xl,b.Wk),g.zo=b.zo,g.Sl=b.Sl,g.Rdb=b.ln,a.Lub(f))?8:13;break;case 2:d=a.O;g=this.cb.Bb[d];k=!this.yk&&!this.q_&&d===p.L.VIDEO;m=b[d];i7d=9;break;case 8:i7d=!m.Wp?7:6;break;case 6:i7d=this.re.Nma(a,this.ze,m.Wp,k,!0)?14:13;break;case 7:a.bd(O6o,f);i7d=13;break;case 14:return b=this.re.Tk(d,f).$,b=b.Gi(a.bb,void 0,!0),k=c.Zf(b),c=k.U,a.FL()&&(k=k.QR(a.bb))&&0<k.Hd&&(c=k.Hd),a.bb!==c&&(a.bb=c,a.ai=b,this.G0(d,c)),this.HSa(a,m.data),g.h9a=!0,d===p.L.AUDIO&&this.Md.HE(m.Wp.P),f;break;}}}.bind(this);this.Va.zr(T6o);this.sb.forEach(function(b){var Q7d;Q7d=2;while(Q7d!==1){switch(Q7d){case 2:N.eQ(b.Oa.M,a)&&(d=b);Q7d=1;break;}}});return this.kb.Tg.xgb(a,d?d.Oa:void 0).then(function(a){var y7d,d,g,k,P6o,x6o,D6o,r6o;y7d=2;while(y7d!==10){P6o="ad";P6o+="optHc";P6o+="dEn";P6o+="d";x6o="ado";x6o+="ptHcd";x6o+="Start";D6o="headerCacheDataNotFo";D6o+="u";D6o+="nd";r6o="check";r6o+="For";r6o+="Hcd";r6o+="En";r6o+="d";switch(y7d){case 2:b.Va.zr(r6o);y7d=5;break;case 5:y7d=h.R(a)?4:3;break;case 4:c.xH||b.PP(D6o);y7d=10;break;case 3:d=b.qa.ug;g=d[p.L.AUDIO];d=d[p.L.VIDEO];b.Va.zr(x6o);y7d=6;break;case 6:k=!0;b.hg&&(k=f(d,a));!b.Qh||c.Zcb&&!k||f(g,a);b.Ska=a;y7d=11;break;case 11:b.Va.zr(P6o);y7d=10;break;}}}).then(function(){var O7d,y6o;O7d=2;while(O7d!==1){y6o="adopted";y6o+="C";y6o+="omple";y6o+="tedR";y6o+="equests";switch(O7d){case 2:c.xH||b.Hf&&0!==b.Hf.length||b.PP(y6o);O7d=1;break;}}})[j6o](function(a){var M7d,k6o;M7d=2;while(M7d!==1){k6o="headerCache:lookupDataPromis";k6o+="e";k6o+=" caugh";k6o+="t er";k6o+="ror:";switch(M7d){case 4:b.Ha("",a);M7d=5;break;M7d=1;break;case 2:b.Ha(k6o,a);M7d=1;break;}}});break;case 4:s7d=!this.eYa||!this.kb.Tg?3:9;break;case 2:b=this;c=this.G;s7d=4;break;case 3:return this.kb.k0a(),X.resolve();break;}}};d.prototype.HSa=function(a,b){var o7d,c,g,k,f,d,m,I6o,J6o;o7d=2;while(o7d!==20){I6o="adoptData, no";I6o+="t adopti";I6o+="ng fa";I6o+="iled med";I6o+="iaRequest:";J6o="adoptDat";J6o+="a,";J6o+=" not ad";J6o+="opting aborted mediaReq";J6o+="uest:";switch(o7d){case 1:o7d=0!==b.length?5:20;break;case 14:7===m.readyState?a.Ha(J6o,m.toString()):6===m.readyState?(a.Ha(I6o,m.toString()),this.Ut(a,m,!1)):a.bb>=m.Oc&&a.bb<m.Te&&(a.bb<d||!h.pa(d))?(this.ISa(a,m),a.bb=m.Te,h.pa(d)&&a.bb>=d&&this.Va.k0(f,m.Te),c===p.L.AUDIO&&this.Md.HE(m.P),m.complete?(g.Mo+=m.duration,m.agb&&(g.PK+=m.duration),k=m):(this.Hf||(this.Hf=[]),this.Hf.push(m))):this.Ut(a,m,!1);o7d=7;break;case 7:o7d=0<b.length?6:13;break;case 10:b=this.sb[a.Rb.ca],f=b.OR(c,a.bb),void 0!==f?(a.ai=f,a.xg=b.Oa.Vc[c].stream.Zf(a.ai)):a.ai=a.ck?a.ck.index+1:a.ai+1;o7d=20;break;case 9:this.kO=!0;o7d=8;break;case 8:c=a.O,g=this.cb.Bb[c];o7d=7;break;case 13:k&&k.Mf.Rta(k);this.kO=!1;o7d=11;break;case 6:m=b.shift();o7d=14;break;case 2:o7d=1;break;case 11:o7d=k||this.Hf&&this.Hf.length?10:20;break;case 5:c=a.Rb;f=c.xa;d=Math.min(this.sb[0].ba||Infinity,c.ba||Infinity);o7d=9;break;}}};d4d=83;break;case 83:d.prototype.ISa=function(a,b){var P7d,c,N6o,c6o,v6o;P7d=2;while(P7d!==9){N6o=", p";N6o+="ts:";N6o+=" ";c6o=", sta";c6o+="te:";c6o+=" ";v6o="adoptMediaR";v6o+="e";v6o+="qu";v6o+="est: ty";v6o+="pe: ";switch(P7d){case 5:this.G.jf&&this.Oh(v6o+c+c6o+b.readyState+N6o+b.Oc);this.G0(c,b.Oc);a.Za.jZa(this,b);P7d=9;break;case 2:c=a.O;P7d=5;break;}}};d.prototype.pP=function(a,b,c,f){var W7d,d,g,k;W7d=2;while(W7d!==7){switch(W7d){case 2:d=this;g=a.Oa.M;k=a.Do;W7d=3;break;case 3:this.qa.ug.forEach(function(m){var m7d,q,l,u,t6o,o6o;m7d=2;while(m7d!==6){t6o="request";t6o+="HeadersFro";t6o+="mM";t6o+="anifest, shutd";t6o+="own detected";o6o="reques";o6o+="tHeadersFromManifest, unable t";o6o+="o update urls";switch(m7d){case 3:m7d=d.ye()?9:8;break;case 8:u=d.cb.HD(m);k.AW(u,b,l.$b)?(u=d.cb.Bb[q],u=d.Bka(l.$b,u.Co?u.Co.P:0),l=l.$b[u],(u=d.re.Tk(q,l.za))&&u.$?a.jca(m.O,u,b):d.re.kI(m,g,l,{offset:0,JL:!1,dy:q===p.L.VIDEO,xs:!0},b,c)):m.Ha(o6o);m7d=6;break;case 5:m7d=d.yg(q)&&(h.R(f)||q===f)?4:6;break;case 4:l=a.Qp(q);m7d=3;break;case 2:q=m.O;m7d=5;break;case 9:d.Ha(t6o);m7d=6;break;}}});a.z6=!0;a.tQ(b,this.jc.bind(this),this.G,this.Qh,this.hg,this.qa,this.Va,this.L5.bind(this));W7d=7;break;}}};d.prototype.A0=function(a,b){var A7d,c;A7d=2;while(A7d!==3){switch(A7d){case 2:c=this;A7d=5;break;case 5:this.qa.tg.reset(a,b);(void 0===b?[p.L.AUDIO,p.L.VIDEO]:[b]).forEach(function(a){var q7d;q7d=2;while(q7d!==4){switch(q7d){case 2:c.df[a].reset();c.$Wa(a);c.Md.Ojb(a);q7d=4;break;}}});A7d=3;break;}}};d.prototype.$Wa=function(a){var U7d;U7d=2;while(U7d!==8){switch(U7d){case 1:a.Av=void 0;a.L7=void 0;U7d=4;break;case 4:a.Mo=0;a.PK=0;a.connected=!1;U7d=8;break;case 2:a=this.cb.Bb[a];U7d=1;break;}}};d.prototype.G0=function(a,b){var Y7d,c,f,M6o;Y7d=2;while(Y7d!==8){M6o="p";M6o+="t";M6o+="schange";M6o+="d";switch(Y7d){case 2:c=this.qa.tg;Y7d=5;break;case 5:Y7d=c.Rg(a)?4:8;break;case 4:f=this.cb.Bb[a];h.R(f.Hk)&&(f.Hk=b,a===p.L.VIDEO&&this.Qh&&(a=this.cb.Bb[p.L.AUDIO],h.R(a.Hk)&&(c=c.Rg(p.L.AUDIO),c.et(b)),this.emit(M6o,b)));h.R(f.UH)&&(f.UH=b);Y7d=8;break;}}};d.prototype.ycb=function(a){var a9d,b,K6o;a9d=2;while(a9d!==4){K6o="all";K6o+="C";K6o+="o";K6o+="mplete";K6o+="d";switch(a9d){case 5:this.Hf&&(a=this.Hf.indexOf(a),-1!=a&&this.Hf.splice(a,1),0===this.Hf.length&&(this.Hf=void 0,b.xH||this.kO||this.PP(K6o)));a9d=4;break;case 2:b=this.G;a9d=5;break;}}};d.prototype.nH=function(){var V9d,a,b,c,f,d,g,k,m,Y6o;V9d=2;while(V9d!==16){Y6o="n";Y6o+="u";Y6o+="m";Y6o+="be";Y6o+="r";switch(V9d){case 11:this.kb.Tg&&f.Zk&&f.Zk.Mi-g<=b.kxa&&this.kb.Tg.yH(!0,this.yl.sessionId);this.ja.gd()===p.Ma.ad&&([p.L.VIDEO,p.L.AUDIO].forEach(function(b){var b9d,c,f,q,l,u,t,d6o;b9d=2;while(b9d!==13){d6o="Unab";d6o+="le ";d6o+="to ";d6o+="find request presenting at player";d6o+="Pts:";switch(b9d){case 7:t?(u=t.ee-g,u<m&&(m=u),l=a.cb.Bb[b],q=t.Oa.ca,u=t.Mf,a.hg&&b!==p.L.VIDEO||(a.qa.ejb(t,t.dm),q>a.XO?(a.XO=q,f=0<q?q-1:null,a.Va.MVa(q,a.sb[q],g,t.dm,null!==f?a.sb[f].Oa.M:null,f),k=a.Zx(q,g)):a.AB&&t.dm!=l.kfb&&a.Va.cWa(t.dm)),l.kfb=t.dm,f=t.za,f!=l.L7&&(l.L7=f,b=a.sb[q].Oa.Up(b,f),q=a.Zx(q,t.Hc),a.Va.ZVa(u,t.Hc,q,b.Oa.ca,b.Qf)),t=t.P,h.R(t)||t==c.Xya||(c.Xya=t)):c.Ha(d6o,g);a.HWa(u,g);a.qa.Gmb();b9d=13;break;case 2:b9d=1;break;case 1:b9d=a.yg(b)?5:13;break;case 5:c=d.Rg(b);b9d=4;break;case 3:u=c;c.CQ(g);(t=c.Za.ZC(g))&&!t.Ph&&(t=a.df[b].bfb);b9d=7;break;case 4:b9d=c?3:13;break;}}}),this.qa.bp(g,k));this.Uh.rh();m=Math.max(m,1);V9d=18;break;case 6:this.vP=!0;m=b.zW;V9d=13;break;case 2:a=this;b=this.G;c=this.RK;f=this.sb[c];V9d=9;break;case 13:V9d=b.KI||b.Rqa?12:11;break;case 9:d=this.qa.tg;g=this.ja.kf()||0;k=this.Zx(c,g);V9d=6;break;case 18:this.su&&clearTimeout(this.su);this.su=setTimeout(this.nH.bind(this),m);V9d=16;break;case 12:c=this.qa.obb(),Y6o===typeof c&&c-b.d9<=k&&(m=Math.min(m,b.S_a));V9d=11;break;}}};d.prototype.FG=function(a){var N9d;N9d=2;while(N9d!==1){switch(N9d){case 4:return this.Uh.FG(a);break;N9d=1;break;case 2:return this.Uh.FG(a);break;}}};d.prototype.rh=function(){var e9d;e9d=2;while(e9d!==1){switch(e9d){case 2:return this.Uh.rh();break;case 4:return this.Uh.rh();break;e9d=1;break;}}};d.prototype.UP=function(a,b){var z9d;z9d=2;while(z9d!==1){switch(z9d){case 4:return this.Ut(a.Mf,a,b);break;z9d=1;break;case 2:return this.Ut(a.Mf,a,b);break;}}};d.prototype.Ut=function(a,b,c){var S9d,f,d;S9d=2;while(S9d!==14){switch(S9d){case 3:b.Sf&&b.Sf.clear();f.VB||a.Za.tV(b);this.df[a.O].tV(b);!0===c&&this.Uh.rh();S9d=6;break;case 2:f=this.G;d=b.abort();b.Zd();S9d=3;break;case 6:return d;break;}}};d.prototype.AXa=function(a){var L9d,b,c,R6o;L9d=2;while(L9d!==3){R6o="no n";R6o+="ewAu";R6o+="dioTrack";R6o+=" set";switch(L9d){case 2:b=a.O;c=this.cb.Bb[b];h.R(c.sU)?a.Ha(R6o):(this.df[b].pause(),c.oF=!0,a=this.gf.Qp(0),c=this.gf.Oa.DS(c.sU.eb),this.Va.CVa(a,c));L9d=3;break;}}};d4d=98;break;case 115:d.prototype.L_=function(){var T9d,F6o;T9d=2;while(T9d!==3){F6o="Net";F6o+="w";F6o+="ork failures";F6o+=" ";F6o+="reset!";switch(T9d){case 1:this.Dx=!1;this.V0();this.Uh.rh();T9d=3;break;case 2:this.Ha(F6o);T9d=1;break;}}};d.prototype.JWa=function(a){var R9d,b;R9d=2;while(R9d!==9){switch(R9d){case 2:b=this.G.IK.fallbackBound;void 0===this.TP&&(this.TP=[]);void 0===this.TP[a]&&(this.TP[a]=Math.floor(2*Math.random()*b)-b);R9d=3;break;case 3:return this.TP[a];break;}}};d.prototype.yUa=function(a,b){var F9d;F9d=2;while(F9d!==1){switch(F9d){case 2:this.d_[a.O]=this.kb.osa(b);F9d=1;break;}}};d.prototype.qTa=function(a,b,f,d){var C9d,g,h,k,m,q,C6o,h6o;C9d=2;while(C9d!==20){C6o="sta";C6o+="rt";C6o+="p";C6o+="l";C6o+="ay";h6o="log";h6o+="dat";h6o+="a";switch(C9d){case 6:g=k.location===k.$U;m=k.Ub===k.s$;d&&k.Ub&&!f.yD?(q=p.Pe.St,k.ll=p.Pe.name[q],this.Va.zla(b,a,k.Ub,k.ll,k.location,k.P),f.yD=k.Ub):!d&&k.Ub&&k.Ub!==f.yD&&(q=k.ll,q=m?void 0===f.yD?p.Pe.St:h.DE===p.Pe.mZ?p.Pe.zQa:p.Pe.dX:p.Pe.yQa,k.ll=p.Pe.name[q],this.Va.zla(b,a,k.Ub,k.ll,k.location,k.P),f.yD=k.Ub);f.xD||(m={type:h6o,target:C6o,fields:{}},a===p.L.AUDIO?m.fields.alocid=k.location:a===p.L.VIDEO&&(m.fields.locid=k.location),this.emit(m.type,m));C9d=11;break;case 2:c.pl.Ul(a);g=this.sb[b];h=g.Do;C9d=3;break;case 7:g=h.K5().filter(function(a){var k9d,M9d;k9d=2;while(k9d!==1){switch(k9d){case 4:B6kk.A4o(4);M9d=B6kk.E4o(4,136,132);return M9d!=a.oc[k.za];break;k9d=1;break;case 2:return void 0!==a.oc[k.za];break;}}})[0],m=g.children.filter(function(a){var n9d;n9d=2;while(n9d!==1){switch(n9d){case 2:return a.Yc.some(function(a){var I9d;I9d=2;while(I9d!==1){switch(I9d){case 2:return a.stream.id===k.za;break;case 4:return a.stream.id==k.za;break;I9d=1;break;}}});break;}}})[0],k.$U=g.id,k.s$=m.id;C9d=6;break;case 8:C9d=void 0===k.$U||void 0===k.s$?7:6;break;case 11:d&&k.location&&!f.xD?(q=p.Pe.St,k.ll=p.Pe.name[q],this.Va.xla(b,a,k.location,k.Y7,k.Ub,k.Pz,k.ll,k.sq),f.xD=k.location):!d&&k.location&&k.location!==f.xD&&(q=k.ll,q=g?void 0===f.xD?p.Pe.St:h.DE===p.Pe.mZ?p.Pe.BLa:p.Pe.dX:p.Pe.ALa,k.ll=p.Pe.name[q],this.Va.xla(b,a,k.location,k.Y7,k.Ub,k.Pz,k.ll,k.sq),k.sq=void 0,f.xD=k.location);this.G.No||(k.Cva=k.location,k.Eva=k.Ub);C9d=20;break;case 3:k=g.Oa.Up(a,f);f=this.cb.Bb[a];C9d=8;break;}}};d.prototype.kz=function(a){var J9d,H6o;J9d=2;while(J9d!==1){H6o="requestError ignored, pipelin";H6o+="es shutd";H6o+="o";H6o+="wn, mediaRequest:";switch(J9d){case 2:this.ye()?this.Ha(H6o,a):(a.Yb||this.Va.Rxa(a.Mf,this.sb[a.Oa.ca].Oa,a.za,a.Hc),this.qTa(a.O,a.Oa.ca,a.za,a.Yb),this.H0(a,a.location,a.Db));J9d=1;break;}}};d.prototype.Uv=function(a){var t9d,E6o;t9d=2;while(t9d!==1){E6o="onfirstbyt";E6o+="e ig";E6o+="nored, pip";E6o+="elines shutdown, medi";E6o+="aRequest:";switch(t9d){case 2:this.ye()?this.Ha(E6o,a):a.o1||(this.cb.Bb[a.O].connected=!0);t9d=1;break;}}};d.prototype.EK=function(a){var p9d,b,B7o,A6o;p9d=2;while(p9d!==8){B7o="requestProg";B7o+="r";B7o+="es";B7o+="s";A6o="onprogress ignored, pipeli";A6o+="nes s";A6o+="hutdown, mediaRe";A6o+="ques";A6o+="t:";switch(p9d){case 5:this.Ha(A6o,a);p9d=8;break;case 1:p9d=this.ye()?5:4;break;case 4:b=a.tc;p9d=3;break;case 2:p9d=1;break;case 3:this.G.yR&&this.FP.push(a.uT);this.emit(B7o,{timestamp:b,url:a.url});p9d=8;break;}}};d.prototype.bi=function(a){var s9d,V7o,m7o;s9d=2;while(s9d!==1){V7o="r";V7o+="eque";V7o+="stCo";V7o+="mplet";V7o+="e";m7o="oncompl";m7o+="ete i";m7o+="gnored, pipelines shutdown,";m7o+=" mediaRequ";m7o+="est:";switch(s9d){case 2:this.ye()?this.Ha(m7o,a):(this.Dx&&(this.Dx=!1,this.sb[a.ca].SI.lL(!0)),a.o1||a.Yb||this.Md.Tjb(a.O,a.duration,a.pe,a.bk),a.Yb||a.Mf.Rta(a),this.G.yR&&this.FP.push(a.uT),this.emit(V7o,{timestamp:a.tc,mediaRequest:a}));s9d=1;break;}}};d.prototype.YD=function(a){var i9d,b,p7o,Z7o,Q7o,a7o,S7o;i9d=2;while(i9d!==4){p7o="N";p7o+="FErr_MC_St";p7o+="reami";p7o+="ngFail";p7o+="ure";Z7o="un";Z7o+="kno";Z7o+="wn";Q7o=", ";Q7o+="e";Q7o+="rrorm";Q7o+="sg:";Q7o+=" ";a7o="MP4 p";a7o+="arsing";a7o+=" err";a7o+="or on: ";S7o="reques";S7o+="tE";S7o+="rror ignored, pipeline";S7o+="s shutdown, mediaReq";S7o+="uest:";switch(i9d){case 2:b=a.Wh;this.ye()?this.Ha(S7o,a):a.Yb&&a.parseError?(this.Ha(a7o+a+Q7o,a.parseError),this.zi(a.parseError)):(this.G.wcb&&b===S.Bt.wY&&0<a.pe&&(b=S.Bt.lX),this.sb[a.ca].SI.em({url:a.url},a.status,b,a.sj),this.V0()||this.zi(a.WC||Z7o,void 0,p7o,b,a.status,a.sj));i9d=4;break;}}};return d;break;case 98:d.prototype.FWa=function(a){var g9d,b,f,d,g,h,k,m,q,f7o,u7o;g9d=2;while(g9d!==33){f7o="aud";f7o+="i";f7o+="o";f7o+="Switch";u7o="audioTra";u7o+="c";u7o+="kCha";u7o+="ng";u7o+="e";switch(g9d){case 8:h=this.cb.Bb[d];this.fB=h.sU;k=this.gf;k.pS(d);g9d=13;break;case 18:h.sU=void 0;h.Co=void 0;h.Li=void 0;h.aJ=void 0;g9d=27;break;case 27:h.Sl=void 0;this.A0(u7o,d);this.qa.EBa(g,!0);h=function(a){var G9d,b,c,f;G9d=2;while(G9d!==8){switch(G9d){case 9:k.Qp(d).$b.some(function(a){var j9d;j9d=2;while(j9d!==4){switch(j9d){case 2:f=b.re.Tk(d,a.za);j9d=1;break;case 1:j9d=!(f&&f.stream&&f.stream.$&&q<f.stream.$.gg(0))?5:4;break;case 5:return f;break;case 7:return f;break;j9d=4;break;}}})?(c.Oa.Vc[p.L.AUDIO]=f,c.YK=!1,f.stream.jd&&k.tQ(this.ze,this.jc.bind(this),this.G,this.Qh,this.hg,this.qa,this.Va,this.L5.bind(this))):(c.Oa.Vc[p.L.AUDIO]=void 0,c.YK=!1,this.pP(k,a,!0,p.L.AUDIO));G9d=8;break;case 3:G9d=c.z6?9:8;break;case 2:b=this;c=this.sb[a];c.gca(m);G9d=3;break;}}}.bind(this);g9d=23;break;case 2:b=this;f=this.G;d=a.O;c.pl.Ul(d);g=a.Rb;g9d=8;break;case 13:m=k.l6(d,this.fB.eb);q=this.ja.kf()-g.Rc;this.Hf&&0<this.Hf.length&&(this.Hf=this.Hf.filter(function(c){var l9d;l9d=2;while(l9d!==4){switch(l9d){case 1:return!0;break;case 9:l9d=c.O===d?5:4;break;l9d=c.O!==d?1:5;break;case 7:b.Ut(a,c,+7);l9d=6;break;l9d=4;break;case 2:l9d=c.O!==d?1:5;break;case 5:b.Ut(a,c,!1);l9d=4;break;}}}),0===this.Hf.length&&(this.Hf=void 0,f.xH||this.PP(f7o)));f=this.kb.nsa(k.Oa.Ja,[m],d);this.d_[d]=f[d];this.GI.ama(a);g9d=18;break;case 22:g9d=f<this.sb.length?21:34;break;case 21:h(f);g9d=35;break;case 35:++f;g9d=22;break;case 23:f=this.ze;g9d=22;break;case 34:g.fAa(q);g9d=33;break;}}};d.prototype.H0=function(a,b,c){var h9d,f,z7o,l7o;h9d=2;while(h9d!==4){z7o="vid";z7o+="eo_l";z7o+="oc";z7o+="atio";z7o+="n";l7o="l";l7o+="oc";l7o+="at";l7o+="ion";switch(h9d){case 2:f=this.G.o9;h.R(b)||h.R(c)||(a.location=b,a.Db=c,(l7o===f||z7o===f&&a.O===p.L.VIDEO)&&this.kb.$e.QV(b),this.Md.Njb(a.O,b));h9d=4;break;}}};d.prototype.V0=function(){var H9d,a,b,c,f,d,g,k,m,b7o,U7o;H9d=2;while(H9d!==16){b7o="ma";b7o+="n";b7o+="ife";b7o+="sts";b7o+=":";U7o="updateRe";U7o+="questUrls, no manifestEntry";U7o+=":";switch(H9d){case 9:H9d=!f?8:7;break;case 5:b=[];c=0;f=this.gf;H9d=9;break;case 2:a=this;H9d=5;break;case 7:d=f.Do;g=[f.Oa.Bs(0),f.Oa.Bs(1)];this.qa.ug.forEach(function(c){var u9d,f,G7o,L7o;u9d=2;while(u9d!==8){G7o="location selector";G7o+=" returned nul";G7o+="l s";G7o+="tre";G7o+="amList";L7o="loca";L7o+="tion selector is gon";L7o+="e, session h";L7o+="as been closed";switch(u9d){case 5:u9d=d?4:9;break;case 1:u9d=a.yg(c.O)?5:8;break;case 2:u9d=1;break;case 9:c.Ha(L7o);u9d=8;break;case 4:f=a.cb.HD(c);d.AW(f,a.ze,c.$b)?(k=c.Za.oca(g,a.H0.bind(a)),0<k.length&&b.push.apply(b,k)):c.Ha(G7o);u9d=8;break;}}});k=this.re.oca(g,this.H0.bind(this));0<k.length&&b.push.apply(b,k);H9d=11;break;case 11:H9d=0<b.length?10:17;break;case 8:return this.bd(U7o,this.ze,b7o,this.sb.length),!1;break;case 10:m={};H9d=20;break;case 20:b.forEach(function(b){var c9d,f;c9d=2;while(c9d!==4){switch(c9d){case 2:f=b.ca;b.Yb&&f>a.ze&&(m[b.ca]=!0,++c);c9d=4;break;}}});h.dd(m,function(b,c){var X9d;X9d=2;while(X9d!==1){switch(X9d){case 2:a.pP(a.sb[c],c);X9d=1;break;}}});return c===b.length?!0:!1;break;case 17:return!0;break;}}};d.prototype.HWa=function(a,b){var r9d,c;r9d=2;while(r9d!==3){switch(r9d){case 2:c=this.df[a.O];a=a.Za.Hmb(b,function(a){var x9d;x9d=2;while(x9d!==1){switch(x9d){case 4:c.tV(a);x9d=4;break;x9d=1;break;case 2:c.tV(a);x9d=1;break;}}});h.R(a)||this.Uh.rh();r9d=3;break;}}};d.prototype.vUa=function(a){var K9d,b,c;K9d=2;while(K9d!==7){switch(K9d){case 2:b=this;c=a.mediaType;a=this.sb[a.manifestIndex].Oa.Up(c,a.streamId);this.nXa(this.qa.tg.Rg(c),a);this.G=this.hpa.NSa(a.ff,this.G);this.sb.forEach(function(a,c){var Z9d;Z9d=2;while(Z9d!==1){switch(Z9d){case 2:a.z6||0===c||b.pP(a,c);Z9d=1;break;}}});K9d=7;break;}}};d.prototype.xUa=function(a){var w9d,b;w9d=2;while(w9d!==8){switch(w9d){case 4:b.Vta=!0;a.TR&&this.Va.HVa(b,a);a.aq&&this.Va.WVa(b.O,a.Oa.ca,b.Rb.xa);w9d=8;break;case 2:a=a.request;b=a.Mf;w9d=4;break;}}};d.prototype.nXa=function(a,b){var v9d;v9d=2;while(v9d!==1){switch(v9d){case 2:this.cb.Bb[a.O].Co={id:b.za,index:b.Qf,P:b.P,va:b.Ka&&b.Ka.Fc&&b.Ka.va?b.Ka.va.Fa:0,location:b.location};v9d=1;break;}}};d.prototype.j7=function(a){var d9d,b,c,f,d;d9d=2;while(d9d!==13){switch(d9d){case 3:d9d=c?9:14;break;case 9:d=c[p.L.VIDEO];c=c[p.L.AUDIO];d&&c&&(b.vspts=d.bb,b.aspts=c.bb,b.vbuflbytes=d.Bu,b.abuflbytes=c.Bu,b.vbuflmsec=d.Ae,b.abuflmsec=c.Ae,a&&(b.a=c.Za.$.toJSON(),b.v=d.Za.$.toJSON()));d9d=6;break;case 4:f=this.df;d9d=3;break;case 6:a&&f&&(a=f[p.L.VIDEO],f=f[p.L.AUDIO],a&&f&&(b.atoappend=JSON.stringify(a.Ai),b.vtoappend=JSON.stringify(f.Ai)));d9d=14;break;case 14:return b;break;case 2:b={};c=this.qa.ug;d9d=4;break;}}};d.prototype.Pbb=function(a){var D9d,b,c,f,d,g,h;D9d=2;while(D9d!==13){switch(D9d){case 5:D9d=b?4:13;break;case 4:c=this.cb.Bb[a];f=b.pt;c=c.Co?c.Co.P:0;d=b.Za.Gya;g=this.qa.Rc;h=this.$j()[a];return{type:a,availableMediaBuffer:h-f,completeBuffer:b.Ae,incompleteBuffer:d,playbackBitrate:b.Xya,streamingBitrate:c,streamingTime:b.bb+g,usedMediaBuffer:f,toappend:b.Zub};break;case 2:b=this.qa.tg.Rg(a);D9d=5;break;}}};d.prototype.lob=function(){var f9d,a,n7o;f9d=2;while(f9d!==4){n7o="r";n7o+="equestGa";n7o+="rbageCollection";switch(f9d){case 2:a={type:n7o,time:R.time.ea()};P.na(this,a.type,a);f9d=4;break;}}};d.prototype.Oh=function(a){var E9d,i7o,e7o;E9d=2;while(E9d!==5){i7o=",";i7o+=" ";e7o="m";e7o+="anager";e7o+="d";e7o+="eb";e7o+="ugevent";switch(E9d){case 2:a={type:e7o,message:"@"+R.time.ea()+i7o+a};P.na(this,a.type,a);E9d=5;break;}}};d.prototype.zi=function(a,b,c,f,d,g){var B9d,w7o;B9d=2;while(B9d!==1){w7o="NF";w7o+="Err_MC_Strea";w7o+="min";w7o+="gFa";w7o+="ilure";switch(B9d){case 2:this.Dx||(h.R(c)&&(c=w7o),this.Dx=!0,this.Va.$Va(c,a,f,d,g,b));B9d=1;break;}}};d4d=115;break;}}function d(b,c,d,g,h,l,u,t,n,A){var D4d,x,T7o,O7o,s7o,g7o,q7o,X7o;D4d=2;while(D4d!==68){T7o="me";T7o+="diaca";T7o+="che";O7o="me";O7o+="di";O7o+="a";O7o+="|a";O7o+="sejs";s7o="A";s7o+="S";s7o+="E";s7o+="JS";g7o="1SIYb";g7o+="Z";g7o+="rNJCp9";q7o="m";q7o+="an";q7o+="agerde";q7o+="bugeven";q7o+="t";X7o="str";X7o+="e";X7o+="amingF";X7o+="ailure";switch(D4d){case 76:h=n.cdb;for(var L in h){n=h[L];h.hasOwnProperty(L)&&n&&(x.G[L]=n);}D4d=74;break;case 55:x.Md=new y.WEa(x,x.K,g,x.kb.$e,n,x.Awa(),u);D4d=77;break;case 37:D4d=n.jf&&x.kb.Tg?36:54;break;case 7:x.Ha=x.K.warn.bind(x.K);x.Ek=x.K.trace.bind(x.K);x.Va=new W.INa(x,x.K);x.hpa=new ia.cHa(x.K);x.Ev=new Y.ILa(x,x.K);x.L0=[!0,!0];D4d=10;break;case 62:n.yR&&(x.FP=new M(n.Efa.c,n.Efa.maxc));d=k.kga.bsa(x,x.G,x.K,c,{ca:0,mBa:d,wg:!!h.wg,$r:A||x.i_,U:0,ba:h.ba,c3:function(a){var T4d;T4d=2;while(T4d!==1){switch(T4d){case 2:return x.BO(a);break;case 4:return x.BO(a);break;T4d=1;break;}}},v6:x.L_},l,x.Va);d.wg=h.wg;d.Ox=!0;d.Lx=!0;d.Oa.LC()&&(x.QO=x.kH+n.Fba,x.RO=R.time.ea());x.sb=[d];D4d=55;break;case 33:x.QO=0;x.RO=0;x.ze=0;x.d_=u;D4d=29;break;case 73:x.qa=new m.$Fa(x,x.Va,x.K,x.Md,c.choiceMap,x.kH,x.G);x.cb=new r.kRa(x,x.K,x.Md,x.G);x.qo&&x.ja.addListener(function(a){var R4d,F4d;R4d=2;while(R4d!==1){switch(R4d){case 2:try{F4d=2;while(F4d!==1){switch(F4d){case 2:x.cb.Vtb.bind(x.cb)(a);F4d=1;break;}}}catch(sa){var W7o;W7o="Hindsight: Err";W7o+="or ";W7o+="when adding updatePlaySegm";W7o+="ent Listener: ";B6kk.B5o(3);x.Va.mq(B6kk.H4o(sa,W7o));}R4d=1;break;}}});U.call(x);return x;break;case 52:g=Math.floor(1E6*Math.random());x.qo=0===g%n.J6&&0<n.yJ.length;l&&l.ag&&(x.qo=!1,n.Tu&&!n.$6a&&(n.set?n.set({enableAdaptiveParallelStreaming:!1}):n.Tu=!1));x.k4=x.qo&&0===g%n.I6;0===Math.floor(1E6*Math.random())%n.BH&&(x.WWa=new G.lQa());x.re=new q.kKa(x,x,x,x,x.Va,x.Uh,x.Uo,x.K,b,x.G);x.Sf.on(x.re,X7o,function(a){var B4d;B4d=2;while(B4d!==1){switch(B4d){case 2:x.zi(a.msg,a.manifestIndex);B4d=1;break;}}});D4d=45;break;case 36:x.Sf.on(x.kb.Tg,q7o,function(a){var f4d;f4d=2;while(f4d!==1){switch(f4d){case 4:P.na(x,a.type,a);f4d=0;break;f4d=1;break;case 2:P.na(x,a.type,a);f4d=1;break;}}});D4d=54;break;case 77:D4d=n.j4&&x.Md.mT?76:73;break;case 10:h.LKb?x.L0[p.L.AUDIO]=!1:h.jEb&&(x.L0[p.L.VIDEO]=!1);x.kb=b;D4d=19;break;case 15:x.yk=!!h.wg;x.q_=!!h.hs;b=!!h.hF;x.eYa=!!h.EW;x.AB=h.j8;x.rP=void 0;D4d=22;break;case 19:x.yl=l;n=x.hpa.LSa(c,n);x.G=n;x.hP=h.i$;D4d=15;break;case 4:x.i_=[];g7o;x.K=new R.Console(s7o,O7o,"("+l.sessionId+")");x.bd=x.K.error.bind(x.K);D4d=7;break;case 29:x.Dx=!1;D4d=28;break;case 45:x.df=[];g=x.BO(c).Nbb();u=null;n.MI&&(u=x.kb.dt.pu);D4d=62;break;case 2:x=a.call(this)||this;x.kO=!1;D4d=4;break;case 53:x.Sf.on(x.kb.Tg,T7o,function(a){var E4d,r7o;E4d=2;while(E4d!==1){r7o="m";r7o+="e";r7o+="diacache";switch(E4d){case 2:P.na(x,r7o,a);E4d=1;break;case 4:P.na(x,"",a);E4d=4;break;E4d=1;break;}}});D4d=52;break;case 54:D4d=(n.rca||n.Aw)&&x.kb.Tg?53:52;break;case 28:x.vP=!1;x.OG=void 0;x.Ala=0;x.XO=-1;D4d=41;break;case 74:x.Md.ica(x.G);D4d=73;break;case 22:x.YTa=R.time.ea()+h.gGb;x.ja=new C.kFa(t);x.Fm=c.duration;x.kH=g||0;D4d=33;break;case 41:x.Sf=new f.Ow();x.Uo=new J.VQa(x,x.K);x.Uh=new E.MIa(x,x.K);x.GI=new Z.LIa(x,x.K);D4d=37;break;}}}}(U);d.aRa=a;g.mi(f.EventEmitter,a);},function(g,d,a){var f,h,m,c,k,p;function b(a,b,d){k=d;p=d.map(function(a,b){return a.lf&&a.inRange&&!a.Sg?b:null;}).filter(function(a){return null!==a;});if(null===c)return a=h(d),c=d[a].P,new m(a);if(!p.length)return null;a=p.filter(function(a){return d[a].P==c;})[0];return void 0===a?(f.log("Defaulting to first stream due to unvalid bitrate requested: "+c),new m(p[0])):new m(a);}a(6);a(11);d=a(44);a=a(5);f=d.console;h=d.K4;m=d.op;c=null;k=null;p=null;a.V0a&&(a.V0a.QE={Ac:function(){p=k=c=null;},Caa:function(a){c=a;},SGb:function(){return{all:k,SDa:p};}});g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){(function(){var D7o,b,y3P;D7o=2;while(D7o!==8){y3P="1";y3P+="SIYbZ";y3P+="r";y3P+="NJCp9";switch(D7o){case 2:a(6);b=a(11);a(44);g.T={checkBuffering:function(a,d,g,c,h){var n8n=B6kk;var x7o,k,m,l,u,n,r,G,L3P,P3P,x3P,A3P,j7o,k7o,J7o;x7o=2;while(x7o!==38){L3P="h";L3P+="i";L3P+="g";L3P+="ht";L3P+="p";P3P="outof";P3P+="ran";P3P+="ge";x3P="ma";x3P+="xs";x3P+="ize";A3P="no";A3P+="rebu";A3P+="ff";switch(x7o){case 44:return u=Math.min(g,m+G),{complete:!1,Lz:u,Qi:f(u)};break;case 41:return{complete:!0,reason:A3P};break;case 25:r=d.$.bm(a);x7o=24;break;case 10:x7o=!l?20:19;break;case 2:k=a.buffer;m=a.Ae||k.Qk-k.sf;l=d.va||0;x7o=3;break;case 42:--h;x7o=31;break;case 19:n=0;k.$.forEach(function(a){var y7o;y7o=2;while(y7o!==1){switch(y7o){case 2:n+=a.U+a.duration>k.sf?a.aa:0;y7o=1;break;}}});x7o=17;break;case 7:x7o=l<=h.o8&&(0<l||!h.v4)?6:14;break;case 8:return{complete:!0,reason:x3P};break;case 31:x7o=h>a?30:41;break;case 43:G=c.offset;x7o=42;break;case 26:return{complete:!0,reason:P3P};break;case 32:--h;x7o=31;break;case 9:x7o=m>=g?8:7;break;case 24:x7o=m>=u?23:40;break;case 23:x7o=l>d.P*h.LR?22:21;break;case 22:return{complete:!0,reason:L3P};break;case 6:return{complete:!1,dK:!0};break;case 30:c=d.$.get(h);n8n.w3P(0);j7o=n8n.d3P(12,4);G=j7o*G/l-c.U-u;x7o=28;break;case 14:n8n.w3P(1);k7o=n8n.v3P(1,14,13,16,19,2912,2893);u=h.$h*(a.state===b.Ma.Qt?h.N$:k7o);h.o7a&&d.Ka&&d.Ka.Dg&&d.Ka.Dg.Fa>h.h8&&(u+=h.m1+d.Ka.Dg.Fa*h.U9);c&&(u+=c.RQ*h.n1);u=g?Math.min(g,u):u;x7o=10;break;case 40:0<l&&l<d.P&&(u=Math.min(g,Math.max(h.dL*(d.P/l-1),u)));return{complete:!1,Lz:u,Qi:f(u)};break;case 17:x7o=!d.$||!d.$.length?16:15;break;case 27:x7o=-1===a?26:25;break;case 28:x7o=0<G?44:43;break;case 21:u=d.$.cd(a);h=Math.min(a+Math.floor(h.dL/u),d.$.length-1);G=d.$.bm(h);n8n.w3P(2);J7o=n8n.d3P(80,10);u=J7o*r/l-k.sf;x7o=32;break;case 3:u=0;x7o=9;break;case 16:return l<d.P&&(u=Math.min(g,Math.max(h.dL*(d.P/l-1),u))),{complete:!1,Lz:u,Qi:(n-k.Xv)/(n+(u-(k.bb-k.sf))*d.P/8)};break;case 20:return{complete:!1,Lz:u};break;case 15:a=d.$.Gi(k.bb);x7o=27;break;}}function f(a){var P7o;P7o=2;while(P7o!==5){switch(P7o){case 2:a=d.$.NR(k.sf+a,void 0,!0);return(n-k.Xv)/(n+(a.offset+a.aa)-r);break;}}}}};y3P;D7o=8;break;}}}());},function(g,d,a){(function(){var G3P,f,d,h,c,P8x;G3P=2;while(G3P!==13){P8x="1S";P8x+="IYbZ";P8x+="rNJCp";P8x+="9";switch(G3P){case 6:g.T={STARTING:d.STARTING,BUFFERING:d.BUFFERING,REBUFFERING:d.REBUFFERING,PLAYING:b,PAUSED:b};P8x;G3P=13;break;case 2:f=a(6);a(11);d=a(44);G3P=3;break;case 3:a(5);h=d.assert;c=d.op;d=a(197);G3P=6;break;}}function b(a,b,d,g){var T3P,k,G8x,k8x,C3P;T3P=2;while(T3P!==11){G8x="pla";G8x+="yer m";G8x+="issing streamin";G8x+="gInd";G8x+="ex";k8x="Must have ";k8x+="at";k8x+=" least one selec";k8x+="ted stream";switch(T3P){case 4:b=c(g);T3P=3;break;case 2:h(!f.R(g),k8x);h(f.pa(b.pw),G8x);T3P=4;break;case 3:B6kk.j8x(0);C3P=B6kk.f8x(20,12,9);g=d.length-C3P;T3P=9;break;case 9:T3P=-1<g?8:13;break;case 7:T3P=k.Ka&&k.Ka.va&&k.P<k.Ka.va.Fa-a.Csb?6:14;break;case 8:k=d[g];T3P=7;break;case 13:b.wd=0;return b;break;case 14:--g;T3P=9;break;case 6:return b.wd=g,b;break;}}}}());},function(g,d,a){var f;function b(a,b,c){return new f(c.length-1);}a(6);f=a(44).op;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var f;function b(){return new f(0);}a(6);f=a(44).op;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){(function(){var U8x,h,c,k,p,q,l,n,y,r,x,T1x;function d(a,b,c,f){var d8x;d8x=2;while(d8x!==1){switch(d8x){case 2:return f&&a>c.Gv&&(h.R(this.zv)||this.xT>this.zv||b-this.zv>c.FT);break;}}}function b(a,b){var S8x,c;S8x=2;while(S8x!==3){switch(S8x){case 2:c=void 0;b.some(function(b){var w8x,f;w8x=2;while(w8x!==3){switch(w8x){case 2:f=b.profiles;(f=f&&0<=f.indexOf(a))&&(c=b.override);w8x=4;break;case 4:return f;break;}}});return c;break;}}}function f(a,b,c,f){var s8x,g,m,l,u,t,n,A,x,G,O1x,K1x,E1x,b1x,F1x,v1x,r1x,W1x,h1x,L1x,e1x,l8x,R8x,i8x,C8x,u8x,g8x,A8x,Z8x,H8x,I8x,J8x,z8x;s8x=2;while(s8x!==28){O1x="kbps, streaming";O1x+="P";O1x+="ts :";K1x=", a";K1x+="udio";K1x+=" t";K1x+="hroug";K1x+="hput:";E1x=" kbps";E1x+=", pr";E1x+="ofile :";b1x="sel";b1x+="ec";b1x+="tAudioStream: sele";b1x+="cted stream :";F1x=" kbps, try to d";F1x+="o";F1x+="wnswi";F1x+="t";F1x+="ch";v1x=" kbps";v1x+=" ";v1x+="< ";r1x="t";r1x+="h";r1x+="roughput for audio ";W1x=",";W1x+=" stream";W1x+="in";W1x+="gPts";W1x+=" = ";h1x=", lastUp";h1x+="s";h1x+="witchPts = ";L1x="  Upswitch allowed.";L1x+=" ";L1x+="lastD";L1x+="ownswitchPts = ";e1x=" ";e1x+="k";e1x+="b";e1x+="p";e1x+="s";l8x=" kbp";l8x+="s";l8x+=" >";l8x+=" ";R8x="throug";R8x+="hpu";R8x+="t";R8x+=" fo";R8x+="r audio ";i8x=" ";i8x+="k";i8x+="bp";i8x+="s";C8x=" kbps";C8x+=", t";C8x+="o ";u8x="switc";u8x+="h";u8x+="ing audio from ";g8x="d";g8x+="o";g8x+="wn";A8x="u";A8x+="p";Z8x="Must have at least ";Z8x+="o";Z8x+="ne sele";Z8x+="cted stream";H8x="m";H8x+="s";I8x=", ";I8x+="buf";I8x+="fer level ";I8x+="= ";J8x=", lastU";J8x+="pswitch";J8x+="Pts = ";z8x="  Upswi";z8x+="tch ";z8x+="not allowed. lastDownswitchPts = ";switch(s8x){case 9:m=f;a.ECa.some(function(f){var N8x,d,h,k,m,q,p;N8x=2;while(N8x!==13){switch(N8x){case 5:h=d&&0<=d.indexOf(g);N8x=4;break;case 2:d=f.profiles;N8x=5;break;case 3:k=(f=f.$D)&&f.fU||a.fU;m=f&&f.iIb||-Infinity;q=f&&f.Awa||Infinity;p=b.buffer.Hu;N8x=6;break;case 6:l=c.filter(function(a){var o8x,b;o8x=2;while(o8x!==4){switch(o8x){case 2:b=a.P;o8x=5;break;case 5:return b>=m&&b<=q&&0<=d.indexOf(a.ff)&&b*k/8<p;break;}}}).map(function(a){var x8x;x8x=2;while(x8x!==1){switch(x8x){case 4:return a.Qf;break;x8x=1;break;case 2:return a.Qf;break;}}});N8x=14;break;case 4:N8x=h?3:14;break;case 14:return h;break;}}});s8x=7;break;case 23:s8x=d(G,t.bb,x,b.Iy)?22:33;break;case 10:s8x=0>n?20:19;break;case 33:p&&k.log(z8x+this.zv+J8x+this.xT+I8x+G+H8x);s8x=32;break;case 25:n--;s8x=17;break;case 17:s8x=0<=n?16:32;break;case 2:q(!h.R(f),Z8x);g=c[f].ff;s8x=4;break;case 19:s8x=n&&A<x.zqa*t?18:24;break;case 3:return new r(f);break;case 35:s8x=(t=l[n],G=c[t],y(G)&&A>x.BDa*G.P)?34:21;break;case 12:A=u.va;x=a.c_a;s8x=10;break;case 32:A=c[m];m!==f&&p&&k.log((m>f?A8x:g8x)+u8x+u.P+C8x+A.P+i8x);s8x=30;break;case 34:m=t;s8x=32;break;case 27:s8x=y(G)&&(0==n||G.P*x.zqa<A)?26:25;break;case 16:t=l[n];G=c[t];s8x=27;break;case 26:m=t;s8x=32;break;case 4:s8x=!(a&&a.$L&&0<=a.$L.indexOf(g))?3:9;break;case 24:s8x=n<l.length-1&&A>x.BDa*t&&(p&&k.log(R8x+A+l8x+x.BDa+"*"+t+e1x),t=b.buffer,G=t.Qk-t.sf,u.$&&u.$.length)?23:32;break;case 6:u=c[f];t=u.P;n=l.indexOf(f);s8x=12;break;case 22:p&&k.log(L1x+this.zv+h1x+this.xT+W1x+t.bb);s8x=21;break;case 21:s8x=++n<l.length?35:32;break;case 7:s8x=l&&1<l.length?6:32;break;case 18:p&&k.log(r1x+A+v1x+x.zqa+"*"+t+F1x),--n;s8x=17;break;case 20:m=0;s8x=32;break;case 30:p&&k.log(b1x+A.P+E1x+g+K1x+A.va+O1x+b.buffer.bb);return new r(m);break;}}}U8x=2;while(U8x!==10){T1x="1SIYb";T1x+="ZrN";T1x+="J";T1x+="Cp9";switch(U8x){case 14:r=c.op;U8x=13;break;case 2:h=a(6);c=a(44);k=c.console;p=c.debug;q=c.assert;U8x=8;break;case 8:l=a(48);n=a(11);y=c.Ky;U8x=14;break;case 13:x=a(355);g.T={STARTING:function(a,c,f,d){var Q8x,g,h,f1x,c1x,t1x;Q8x=2;while(Q8x!==14){f1x=" k";f1x+="bps, pr";f1x+="o";f1x+="file";f1x+=" :";c1x="selectAudioStrea";c1x+="mStarti";c1x+="ng: selected st";c1x+="ream ";c1x+=":";t1x="selectAudioStreamStarti";t1x+="n";t1x+="g: overriding config with";t1x+=" ";switch(Q8x){case 2:g=a;h=f[d||0].ff;Q8x=4;break;case 4:Q8x=(h=a&&a.$L&&0<=a.$L.indexOf(h)?b(h,a.ECa):b(h,a.a_a))?3:9;break;case 3:g={minInitAudioBitrate:a.rK,minHCInitAudioBitrate:a.qK,maxInitAudioBitrate:a.fK,minRequiredAudioBuffer:a.fU},p&&k.log(t1x+JSON.stringify(h)),l(h,g);Q8x=9;break;case 9:a=x[n.Ma.name[n.Ma.Lh]](g,c,f,d);f=f[a.wd];p&&k.log(c1x+f.P+f1x+f.ff);return a;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};T1x;U8x=10;break;}}}());},function(g,d,a){var f,h,m,c;function b(a,b,d){var g,k;g=this.W_;b=b.buffer.bb;k="forward"===a.Hob;if(f.R(g))return g=k?h(d):h(d,d.length),this.X_=b,this.W_=g,new c(g);m(d[g])||(g=h(d,g),this.X_=b,this.W_=g);if(0>g)return null;if(b>this.X_+a.Esb){a=d.map(function(a,b){return a.lf&&a.inRange&&!a.Sg?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;k?g=(a.indexOf(g)+1)%a.length:(g=a.indexOf(g)-1,0>g&&(g=a.length-1));this.W_=a[g];this.X_=b;return new c(a[g]);}return new c(g);}f=a(6);a(11);d=a(44);h=d.K4;m=d.Ky;c=d.op;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){function b(a){this.data=a;this.right=this.left=null;}function f(a){this.Cd=null;this.Rj=a;this.size=0;}d=a(356);b.prototype.tf=function(a){return a?this.right:this.left;};b.prototype.im=function(a,b){a?this.right=b:this.left=b;};f.prototype=new d();f.prototype.Yl=function(a){if(null===this.Cd)return this.Cd=new b(a),this.size++,!0;for(var f=0,c=null,d=this.Cd;;){if(null===d)return d=new b(a),c.im(f,d),ret=!0,this.size++,!0;if(0===this.Rj(d.data,a))return!1;f=0>this.Rj(d.data,a);c=d;d=d.tf(f);}};f.prototype.remove=function(a){var f,c,d,l,h;if(null===this.Cd)return!1;f=new b(void 0);c=f;c.right=this.Cd;for(var d=null,g=null,h=1;null!==c.tf(h);){d=c;c=c.tf(h);l=this.Rj(a,c.data);h=0<l;0===l&&(g=c);}return null!==g?(g.data=c.data,d.im(d.right===c,c.tf(null===c.left)),this.Cd=f.right,this.size--,!0):!1;};g.T=f;},function(g,d,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function f(a){this.Cd=null;this.Rj=a;this.size=0;}function h(a){return null!==a&&a.red;}function m(a,b){var c;c=a.tf(!b);a.im(!b,c.tf(b));c.im(b,a);a.red=!0;c.red=!1;return c;}function c(a,b){a.im(!b,m(a.tf(!b),!b));return m(a,b);}d=a(356);b.prototype.tf=function(a){return a?this.right:this.left;};b.prototype.im=function(a,b){a?this.right=b:this.left=b;};f.prototype=new d();f.prototype.Yl=function(a){var f,d,g,k,l,u,n,r,N;f=!1;if(null===this.Cd)this.Cd=new b(a),f=!0,this.size++;else{d=new b(void 0);g=0;k=0;l=null;u=d;n=null;r=this.Cd;for(u.right=this.Cd;;){null===r?(r=new b(a),n.im(g,r),f=!0,this.size++):h(r.left)&&h(r.right)&&(r.red=!0,r.left.red=!1,r.right.red=!1);if(h(r)&&h(n)){N=u.right===l;r===n.tf(k)?u.im(N,m(l,!k)):u.im(N,c(l,!k));}N=this.Rj(r.data,a);if(0===N)break;k=g;g=0>N;null!==l&&(u=l);l=n;n=r;r=r.tf(g);}this.Cd=d.right;}this.Cd.red=!1;return f;};f.prototype.remove=function(a){var f,d,n,g,r,u,N;if(null===this.Cd)return!1;f=new b(void 0);d=f;d.right=this.Cd;for(var g=null,k,l=null,u=1;null!==d.tf(u);){n=u;k=g;g=d;d=d.tf(u);r=this.Rj(a,d.data);u=0<r;0===r&&(l=d);if(!h(d)&&!h(d.tf(u)))if(h(d.tf(!u)))k=m(d,u),g.im(n,k),g=k;else if(!h(d.tf(!u))&&(r=g.tf(!n),null!==r))if(h(r.tf(!n))||h(r.tf(n))){N=k.right===g;h(r.tf(n))?k.im(N,c(g,n)):h(r.tf(!n))&&k.im(N,m(g,n));n=k.tf(N);n.red=!0;d.red=!0;n.left.red=!1;n.right.red=!1;}else g.red=!1,r.red=!0,d.red=!0;}null!==l&&(l.data=d.data,g.im(g.right===d,d.tf(null===d.left)),this.size--);this.Cd=f.right;null!==this.Cd&&(this.Cd.red=!1);return null!==l;};g.T=f;},function(g,d,a){g.T={bQa:a(723),mwb:a(722)};},function(g,d,a){var f;function b(a,b,c){a=c.map(function(a,b){return a.lf&&a.inRange&&!a.Sg?b:null;}).filter(function(a){return null!==a;});return a.length?new f(a[Math.floor(Math.random()*a.length)]):null;}a(11);f=a(44).op;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var f,h,m,c;function b(a,b,d,g){if(f.R(g))a=h(d);else if(m(d[g]))a=g;else if(a=h(d,g),0>a)return null;return new c(a);}f=a(6);a(11);d=a(44);h=d.K4;m=d.Ky;c=d.op;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.yna=function(a,f){var b;return a.some(function(a){b=a;return f(a);})?b:void 0;};a.YB=function(a,f){var b;b=-1;return a.some(function(a,c){b=c;return f(a);})?b:-1;};a.jIb=function(a){return function(b,d){return a(b)<a(d)?b:d;};};return a;}();d.LM=g;},function(g,d,a){var b,f,h,m,c,k,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);f=a(5);h=a(6);m=a(727);c=new f.Console("ASEJS_STREAM_SELECTOR","media|asejs");k=[b.Ma.name[b.Ma.Lh],b.Ma.name[b.Ma.Ij],b.Ma.name[b.Ma.Qt],b.Ma.name[b.Ma.ad],b.Ma.name[b.Ma.oi],"checkBuffering"];p={first:a(726),random:a(725),optimized:a(197),roundrobin:a(721),selectaudio:a(355),selectaudioadaptive:a(720),"default":a(197),lowest:a(719),highest:a(718),throughputthreshold:a(717),checkdefault:a(716),testscript:a(715)};q={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};g=function(){var m1x;m1x=2;function a(a,b,c,f){var j1x,d,s5W;j1x=2;while(j1x!==7){s5W="1";s5W+="SIYbZ";s5W+="r";s5W+="NJCp9";switch(j1x){case 3:f&&(this.tx=f.tx,this.PO=f.PO);b=b||this.G.sba;this.Md=k.reduce(function(a,c){var B1x;B1x=2;while(B1x!==5){switch(B1x){case 2:a[c]=((p[b]||p[q[c]])[c]||p[q[c]][c]).bind(d);return a;break;}}},{});j1x=7;break;case 2:d=this;this.G=c;s5W;j1x=3;break;}}}while(m1x!==6){switch(m1x){case 5:a.prototype.Irb=function(a,b,c){var z1x;z1x=2;while(z1x!==1){switch(z1x){case 2:h.R(b)?this.T_=this.Y_=void 0:b.P<c.P&&(this.Y_=a);z1x=1;break;}}};a.prototype.XR=function(a,b){var J1x,c;J1x=2;while(J1x!==3){switch(J1x){case 7:J1x=6<c?0:5;break;J1x=0<=c?5:3;break;case 2:c=a.length-1;J1x=1;break;case 1:J1x=0<=c?5:3;break;case 4:--c;J1x=1;break;case 5:b(a[c],c,a);J1x=4;break;case 14:++c;J1x=2;break;J1x=1;break;}}};Object.defineProperties(a.prototype,{zv:{get:function(){var I1x;I1x=2;while(I1x!==1){switch(I1x){case 4:return this.T_;break;I1x=1;break;case 2:return this.T_;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xT:{get:function(){var H1x;H1x=2;while(H1x!==1){switch(H1x){case 2:return this.Y_;break;case 4:return this.Y_;break;H1x=1;break;}}},enumerable:!0,configurable:!0}});m1x=8;break;case 8:Object.defineProperties(a.prototype,{lfb:{get:function(){var V1x;V1x=2;while(V1x!==1){switch(V1x){case 2:return this.tx;break;case 4:return this.tx;break;V1x=1;break;}}},enumerable:!0,configurable:!0}});return a;break;case 2:a.prototype.Caa=function(a,d,g,k,q,p,l){var Y1x,u,t,n,A,y,r,x,L,G,N,R,E,C,n1x,M5W,A1x;Y1x=2;while(Y1x!==56){M5W="Stream selector called with in";M5W+="valid";M5W+=" ";M5W+="play";M5W+="er state ";switch(Y1x){case 27:G=C;r.kW?G=C.filter(function(a){var s1x;s1x=2;while(s1x!==1){switch(s1x){case 2:return a.Zu;break;case 4:return a.Zu;break;s1x=1;break;}}}):r.Py||a.state===b.Ma.ad||a.state===b.Ma.oi||(G=C.filter(function(a){var a1x;a1x=2;while(a1x!==1){switch(a1x){case 2:return!a.YBa;break;case 4:return~a.YBa;break;a1x=1;break;}}}));C=0<G.length?G:C.slice(0,1);void 0!==x&&(G=m.LM.YB(C,function(a){var N1x;N1x=2;while(N1x!==1){switch(N1x){case 4:return a.P>=d[x].P;break;N1x=1;break;case 2:return a.P>d[x].P;break;}}}),L=0<G?G-1:0===G?0:C.length-1);Y1x=23;break;case 59:Y1x=n1x===b.Ma.oi?35:58;break;case 36:q.$&&q.$.length||(L=!0,u.ps.push(G));Y1x=53;break;case 54:--G;Y1x=38;break;case 33:Y1x=(u.ps=[],d.forEach(function(a,b){var o1x;o1x=2;while(o1x!==4){switch(o1x){case 2:a===u.Vo&&(u.wd=b);a.tba&&u.ps.push(b);a.tba=!1;o1x=4;break;}}}),!u.ps.length)?32:52;break;case 22:this.Y_=this.T_=void 0;Y1x=21;break;case 40:Y1x=!L?39:53;break;case 61:Y1x=n1x===b.Ma.Qt?62:60;break;case 16:C=d.filter(function(a){var U1x;U1x=2;while(U1x!==1){switch(U1x){case 2:return a&&a.lf&&a.inRange&&!a.Sg;break;}}});C.length||(C=d.filter(function(a){var S1x;S1x=2;while(S1x!==1){switch(S1x){case 4:return a||a.lf||-a.Sg;break;S1x=1;break;case 2:return a&&a.lf&&!a.Sg;break;}}}),C.forEach(function(a){var w1x;w1x=2;while(w1x!==1){switch(w1x){case 2:a.inRange=!0;w1x=1;break;case 4:a.inRange=~7;w1x=4;break;w1x=1;break;}}}));Y1x=27;break;case 32:G=a.Ae||g.Qk-g.sf;q=void 0;L=!1;Y1x=29;break;case 21:this.PO=b.tN.Lh;Y1x=35;break;case 35:u=this.Md[b.Ma.name[n]].call(this,r,a,C,L,k,q);Y1x=34;break;case 43:Y1x=(q=d[G],q.lf&&q.inRange&&!q.Sg)?42:41;break;case 34:Y1x=u.Vo?33:64;break;case 63:Y1x=n1x===b.Ma.Ij?62:61;break;case 50:this.tx=u.wd;q=d[u.wd];u.reason&&(q.ll=u.reason,q.Baa=u.Gs,q.HJ=u.HJ,q.Xl=u.Xl,q.Wk=u.Wk);h.pa(x)&&q.P<d[x].P&&(this.T_=g.bb);a.state!==b.Ma.ad&&a.state!==b.Ma.oi?(p=this.r2(a,q,p,l),(u.Hp=p.complete)?u.reason=p.reason:(u.Hp=!1,u.Lz=p.Lz,u.dK=p.dK,u.Qi=p.Qi)):u.Hp=!0;a.vR&&(u.bb=g.bb,p=a&&a.pw,l=q.$,u.Xm=l&&void 0!==p&&!isNaN(p)&&0<=p&&p<l.length?l.gg(p):g.bb,u.Wlb=q.va||0,u.rjb=q.Ka&&q.Ka.va&&q.Ka.va.Fa||0,u.$_a=g.Qk-g.sf,u.goa=g.mm,u.Hlb=n,u.Ap=a&&a.Ap,u.sDa=A,u.ssb=f.time.ea());return u;break;case 10:Y1x=!(0<=x)?20:19;break;case 38:Y1x=0<=G?37:53;break;case 7:h.pa(x)&&x>=d.length&&(x=this.tx=void 0);G=g.$;N=G.length;Y1x=13;break;case 41:++G;Y1x=44;break;case 42:q.$&&q.$.length||(L=!0,u.ps.push(G));Y1x=40;break;case 2:g=a&&a.buffer;n=a&&a.state;A=f.time.ea();r=this.G;x=this.tx;h.pa(x)&&a&&a.state===b.Ma.Lh&&(x=this.tx=void 0);Y1x=7;break;case 13:Y1x=0<N?12:19;break;case 28:B6kk.f5W(0);A1x=B6kk.x5W(5,20,100);G=u.wd+A1x;Y1x=44;break;case 23:n1x=a.state;Y1x=n1x===b.Ma.Lh?22:63;break;case 52:Y1x=!u||null===u.wd?51:50;break;case 58:return c.error(M5W+b.Ma.name[a.state]),null;break;case 19:h.R(x)&&(x=this.tx);this.XR(d,function(c){var G1x;G1x=2;while(G1x!==1){switch(G1x){case 2:c.lf&&c.inRange&&!c.Sg&&c.Ka&&c.Ka.Fc?(t!==c.Ka&&(t=c.Ka,a&&a.Bo&&c.Ka&&(c.Ka.Bo=!0),n===b.Ma.Lh&&r.LI&&a.$S&&r.y1&&(c.Ka.va.Fa=a.$S),y=Math.floor(k(c.Ka,a.buffer)),y=0===y?1:y),c.va=y):c.va=void 0;G1x=1;break;}}});n===b.Ma.Lh&&h.pa(x)&&(n=b.Ma.Ij);Y1x=16;break;case 29:Y1x=r.dCa&&G>r.bU?28:53;break;case 64:q=function(a){var x1x;x1x=2;while(x1x!==1){switch(x1x){case 2:return m.LM.YB(d,function(b){var d1x;d1x=2;while(d1x!==1){switch(d1x){case 4:return b==C[a];break;d1x=1;break;case 2:return b===C[a];break;}}});break;}}},u.wd=q(u.wd),u.ps&&(u.ps=u.ps.map(q));Y1x=52;break;case 53:L||(u.ps=void 0);Y1x=52;break;case 20:E=G[N-1].P,G=m.LM.YB(d,function(a){var k1x;k1x=2;while(k1x!==1){switch(k1x){case 4:return a.P<=E;break;k1x=1;break;case 2:return a.P>E;break;}}}),x=0<G?G-1:0===G?0:d.length-1;Y1x=19;break;case 37:Y1x=(q=d[G],q.lf&&q.inRange&&!q.Sg)?36:54;break;case 12:R=G[N-1].za;x=m.LM.YB(d,function(a){var P1x;P1x=2;while(P1x!==1){switch(P1x){case 4:return a.za==R;break;P1x=1;break;case 2:return a.za===R;break;}}});Y1x=10;break;case 60:Y1x=n1x===b.Ma.ad?35:59;break;case 62:this.PO=b.tN.Lh;Y1x=35;break;case 51:return null;break;case 44:Y1x=G<d.length?43:40;break;case 39:G=u.wd-1;Y1x=38;break;}}};a.prototype.r2=function(a,b,c,f){var Q1x;Q1x=2;while(Q1x!==1){switch(Q1x){case 2:return this.Md.checkBuffering.call(this,a,b,c,f,this.G);break;}}};m1x=5;break;}}}();d.KZ=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(40);f=a(94);a=function(a){function d(b,d,g,h,m){h=a.call(this,b,d,h,m)||this;d.aa=g.byteLength;f.pk.call(h,b,d);h.HB=g;h.bTa=d.aa;return h;}b.__extends(d,a);Object.defineProperties(d.prototype,{Yb:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bk:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{uT:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{tc:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{sj:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Wh:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.HB;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{agb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pe:{get:function(){return this.bTa;},enumerable:!0,configurable:!0}});d.prototype.Fy=function(){return!0;};d.prototype.XB=function(a){return this.Ph=a.appendBuffer(this.response,this);};d.prototype.ak=function(){return-1;};d.prototype.abort=function(){return!0;};d.prototype.Zd=function(){};d.prototype.ZL=function(){return!1;};return d;}(a(154).Dw);d.hFa=a;g.mi(f.pk,a);},function(g,d,a){var f,h,m,c;function b(a){return{mediaType:a.O,streamId:a.za,movieId:a.M,bitrate:a.P,location:a.location,serverId:a.Db,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.ga,frameDuration:a.stream.Ia&&a.stream.Ia.yd,encrypted:a.Pl};}Object.defineProperty(d,"__esModule",{value:!0});f=a(6);h=a(729);m=a(365);c=a(59);d.fMa={AN:"movieEntry",dKa:"header",OY:"metadata",cKa:"headerData",KJa:"sizes",JJa:"durations",Dea:"fragments",pMa:"response",Yi:"billboard",Nt:{lifespan:259200}};d.ksa=function(a,b,c){var f,d;f=b.headerData;c&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(d={Fj:c.startTicks,offset:c.offset,ga:c.timescale,sizes:new Uint32Array(b.sizes),cd:new Uint32Array(b.durations)});return{Yb:!0,O:a.mediaType,M:a.movieId,za:a.streamId,P:a.bitrate,location:a.location,Db:a.serverId,aa:a.bytes,offset:a.offset,Fs:f,Pl:a.encrypted,ga:a.timescale,Ia:a.frameDuration,ie:a.saveToDisk,$:d};};d.jsa=function(a,b){var c,f,d;b=b.response;c=a.startTicks;f=a.durationTicks;void 0!==c&&void 0!==f&&(d=c+f);return{Yb:!1,O:a.mediaType,M:a.movieId,za:a.streamId,P:a.bitrate,location:a.location,Db:a.serverId,aa:a.bytes,offset:a.offset,response:b,ga:a.timescale,ab:a.startTicks,Ol:f,ie:a.saveToDisk,wb:d};};d.gta=function(a){return{Td:a.priority,M:a.movieId,headers:{},xo:0,wC:0,NS:0,ie:a.saveToDisk,Kb:a.stats,Sl:a.firstSelectedStreamBitrate,zo:a.initSelectionReason,ln:a.histDiscountedThroughputValue,Wk:a.histTdigest,Xl:a.histAge,Hk:void 0};};d.ita=function(a,b,d,g){var k,q;k={headers:{},data:{}};d.forEach(function(f){var d,q;d=f.O;if(d=g&&g.Up(d,f.za))if(f.$&&d.zU(f.ga,f.Ia?new c.gc(f.Ia,f.ga):void 0,f.$),f.Yb&&d&&d.jd)void 0===k.headers&&(k.headers={}),k.headers[f.za]=new m.aX(d,{aa:f.aa,offset:f.offset,Fs:f.Fs,Pl:f.Pl,gA:!1},a);else{if(f.response instanceof ArrayBuffer&&void 0!==d.$&&void 0!==f.ab&&void 0!==f.ga&&void 0!==f.wb){q=d.$.NR(new c.gc(f.ab,f.ga).yf);void 0!==q&&(d=new h.hFa(d,{ga:f.ga,ab:f.ab,wb:f.wb,index:q.index,offset:f.offset,aa:f.aa},f.response,b,a),void 0===k.data&&(k.data={}),k.data[f.za]||(k.data[f.za]=[]),k.data[f.za].push(d));}}else a.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+f.za+" movieId: "+f.M);});if(!f.R(k.data)){q=k.data;Object.keys(q).forEach(function(a){q[a].sort(function(a,b){return a.ab-b.ab;});});}return k;};d.bta=function(a){return{mediaType:a.O,streamId:a.za,movieId:a.M,bitrate:a.P,location:a.location,serverId:a.Db,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.ga,startTicks:a.ab,durationTicks:a.Ol};};d.nab=b;d.jab=function(a){var c,f,d,g;c=b(a);a.stream.jd&&a.stream&&a.stream.$&&(f={timescale:a.stream.$.ga,startTicks:a.stream.$.Fj,offset:a.stream.$.bm(0)},g=a.stream.$.IE,d=g.sizes.buffer,g=g.cd.buffer);return{mediaType:c.mediaType,streamId:c.streamId,movieId:c.movieId,bitrate:c.bitrate,location:c.location,serverId:c.serverId,saveToDisk:!0,offset:c.offset,bytes:c.bytes,timescale:c.timescale,frameDuration:c.frameDuration,headerData:a.Fs,encrypted:a.Pl,fragments:f,sizes:d,durations:g};};d.hta=function(a){return{priority:a.Td,movieId:a.M,saveToDisk:a.ie,firstSelectedStreamBitrate:a.Sl,initSelectionReason:a.zo,histDiscountedThroughputValue:a.ln,histTdigest:a.Wk,histAge:a.Xl};};d.neb=function(a){return!f.has(a,"startTicks");};d.Yua=function(a){return!a.Fs||!a.ga||!a.$||void 0===a.$.Fj||void 0===a.$.offset||void 0===a.$.cd||!a.$.cd.length||void 0===a.$.sizes||!a.$.sizes.length;};d.Xua=function(a){return void 0===a.aa||void 0===a.offset||void 0===a.ga||void 0===a.ab||void 0===a.Ol;};},function(g,d,a){var m,c;function b(a,c,f){Object.keys(a).forEach(function(d){var g,h;if(m.Xe(a[d]))if(a[d].iT){g=a[d];h=f+g.offset;a[d]=c.slice(h,h+g.byteLength);}else a[d]=b(a[d],c,f);});return a;}function f(a,b,c){Object.keys(a).forEach(function(d){var g;if(m.iT(a[d])){g=a[d];b.push(g);a[d]={iT:!0,offset:c.o3,byteLength:g.byteLength};c.o3+=g.byteLength;}else m.Xe(a[d])&&f(a[d],b,c);});return a;}function h(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}m=a(108);c=a(48);g.T={i2a:function(a){var b,d,g;b=c(a,{});a=[];b=f(b,a,{o3:0});b=JSON.stringify(b);d=new ArrayBuffer(b.length+4);g=new DataView(d);g.setUint32(0,b.length);for(var k=4,m=0,l=b.length;m<l;m++)g.setUint8(k,b.charCodeAt(m)),k++;a=[d].concat(a);return h.apply(null,a);},h2a:function(a){var c;c=new DataView(a,0,4).getInt32(0);for(var f=new Uint8Array(a,4,c),d="",g=0;g<f.byteLength;g++)d+=String.fromCharCode(f[g]);c=4+c;d=JSON.parse(d);return b(d,a,c);}};},function(g,d,a){var h;function b(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function f(a,b){var c,d,g;c=[];if(h.Xe(b)){d={};g={};g[a]=d;c.push(g);c=Object.keys(b).reduce(function(c,g){var k,m,q;k=b[g];q={};h.iT(k)?(m=a+".__embed__."+g,q[m]=k,c.push(q)):h.Xe(k)?(m=a+".__sub__."+g,k=f(m,k),d[g]=k[0][m],c=c.concat(k.slice(1))):d[g]=k;return c;},c);}else g={},g[a]=b,c.push(g);return c;}h=a(108);g.T={l6a:f,Ydb:function(a){var c,n;c=Object.keys(a).map(function(a){return a.split(".");});c.sort(b);for(var f=c[0],d=f.length,f=a[f.join(".")],g=1;g<c.length;g++)for(var h=!1,m=!1,l=f,u=d;u<c[g].length;u++){n=c[g][u];switch(n){case"__metadata__":break;case"__sub__":m=!0;break;case"__embed__":h=!0;break;default:m?(l=l[n],m=!1):h&&(l[n]=a[c[g].join(".")],h=!1);}}return f;},qeb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(g,d,a){function b(a){return a;}function f(){return b;}a(6);g.T={jJ:f,b6:f};},function(g,d,a){var b,f,h,m;b=a(6);f=a(108);h={};h[f.wm.Jw]=function(a){return a;};h[f.wm.VN]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[f.wm.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};m={};m[f.wm.Jw]=function(a){return a;};m[f.wm.VN]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),f=0,d=a.length;f<d;f++)c[f]=a.charCodeAt(f);return b;};m[f.wm.OBJECT]=function(a){return b.R(a)||b.Qa(a)?a:m[f.wm.VN](JSON.stringify(a));};g.T={jJ:function(a){return h[a]||h[f.wm.Jw];},b6:function(a){return m[a]||m[f.wm.Jw];}};},function(g){function d(a){if(!(this instanceof d))return new d(a);if("undefined"===typeof a)this.Rj=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Rj=a;}this.Im=[];}function a(f,d){var g,c,h,p,q,l,u;g=f.Im;c=f.Rj;h=2*d+1;p=2*d+2;q=g[d];l=g[h];u=g[p];l&&c(l.Td,q.Td)&&(!u||c(l.Td,u.Td))?(b(g,d,h),a(f,h)):u&&c(u.Td,q.Td)&&(b(g,d,p),a(f,p));}function b(a,b,d){var c;c=a[b];a[b]=a[d];a[d]=c;}d.prototype.clear=function(){this.Im=[];};d.prototype.Yl=function(a,d){this.Im.push({Td:a,value:d});a=this.Im;d=this.Rj;for(var f=a.length-1,c=0===f?null:Math.floor((f-1)/2);null!==c&&d(a[f].Td,a[c].Td);)b(a,f,c),f=c,c=0===f?null:Math.floor((f-1)/2);};d.prototype.remove=function(){var f;if(0!==this.Im.length){f=this.Im[0];b(this.Im,0,this.Im.length-1);this.Im.pop();a(this,0);return f.value;}};d.prototype.bE=function(){if(0!==this.Im.length)return this.Im[0].value;};d.prototype.enqueue=d.prototype.Yl;d.prototype.N5a=d.prototype.remove;d.prototype.cA=function(){return this.Im.map(function(a){return a.value;});};g.T=d;},function(g,d,a){var f,h,m,c,k,p,q,l;function b(a,d,g){var L,U;function u(a,b,c,f){a.info.call(a,function(a,d){var g;if(a)f(a);else{try{g=d.values[this.context].entries[b][c].size;}catch(va){g=-1;}-1<g?f(null,g):this.ep(function(a,b){a?f(a):(b[c]&&(g=b[c].size),f(null,g));});}}.bind(a));}function t(a,c,f,d,g,m,p){var l;m?m.Vj||(m.Vj={}):m={Vj:{}};L(d);l=h.time.now();d=new q(function(b,d){a.create(h.storage.PA,c,f,function(a,c){a?d(a):b(c);});}).then(function(f){f.W?u(a,h.storage.PA,c,function(a,d){a?p(a):(U(d),L(d),m.Vj[b.JM.IY]={W:!0,time:g,Rh:d,wv:c,Kza:f,duration:h.time.now()-l},m.Ii=f.Ii,p(null,m));}):(m.Vj[b.JM.IY]={W:!1,wv:c,error:f.error},p(null,m));},function(a){p(a);});k.uq(d);}function n(a,b,c,f,d,g){f.Yl(c.time,c);for(var h=c.time-864E5,k=f.bE();k&&!isNaN(k.time)&&k.time<h;)k=f.N5a(),L(0-(k.aa||0)),k=f.bE();f=f.cA().map(function(a){return a.time+";"+a.aa;});t(a,b,Array.prototype.join.call(f,"|"),c.aa,c.time,d,g);}function A(a,c,f,d,g,k,q,l,t){var A;A=h.time.now();a.create(f,d,g,function(g,r){var y;if(g)p.error("Failed to replace item",d,g);else if(r.W){y=r.Ii;u(a,f,d,function(f,g){var m,p;if(f)t(f);else{f={time:l,aa:g||0};m={Ii:y,Vj:{}};p=h.time.now()-A;m.Vj[b.JM.REPLACE]={W:!0,time:l,Rh:g,wv:d,Kza:r,duration:p};k?n(a,c,f,q,m,t):(L(g),t(null,m));}});}else t(m.fO.rm(r.error||"Failed to create item"));});}function r(a,c,f,d,g,k,q,l,t){var A;A=h.time.now();a.append(f,d,g,function(g,r){var y;if(g)p.error("Failed to save item "+d,g),t(g);else if(r.W){y=r.Ii;u(a,f,d,function(f,g){var m,p;if(f)t(f);else{f={time:l,aa:g||0};m={Ii:y,Vj:{}};p=h.time.now()-A;m.Vj[b.JM.sQa]={W:!0,time:l,Rh:g,wv:d,Kza:r,duration:p};k?n(a,c,f,q,m,t):(L(g),t(null,m));}});}else t(m.fO.rm(r.error||"Failed to save item"));});}function y(a,b){a&&f.Nb(a.remove)&&a.ti.valid&&a.remove(h.storage.PA,b.zB,function(c,d){if(c)p.error("Failed to delete old journal key",c);else try{d&&(f.R(d.error)||d.error.some(function(a){return"NFErr_FileNotFound"===a.dGb;}))&&n(a,b.zB,{time:0,aa:0},b.fH,0,function(){});}catch(Y){}});}if(!a.ti.valid)return l;this.jka=f.R(d)||f.Qa(d)?0:d;this.y_=a;this.R_=this.DG=0;this.fH=new c();this.vWa=g||"default";this.zB=this.vWa+".NRDCACHEJOURNALKEY";L=function(a){isNaN(a)||(this.DG+=a);return this.DG;}.bind(this);U=function(a){isNaN(a)||(this.R_+=a);return this.R_;}.bind(this);this.H5=function(){return this.zB;};this.save=function(a,b,c,f){var d;d=h.time.now();r(this.y_,this.zB,a,b,c,0<=this.jka,this.fH,d,f);};this.replace=function(a,b,c,f){var d;d=h.time.now();A(this.y_,this.zB,a,b,c,0<=this.jka,this.fH,d,f);};this.wsa=function(a){var b,d;b=this.DG;a-=864E5;for(var c=this.fH.cA(),f=0;f<c.length;f++){d=c[f];d.time<a&&!isNaN(d.aa)&&(b-=d.aa);}return b;};(function(a){var b;b=a.y_;a.DG=0;b.read(h.storage.PA,a.zB,0,-1,function(c,f){var d,g,k,q;d=[];g=0;k=!0;if(c)p.error("Failed to compile records",c);else if(f.W){c=String.fromCharCode.apply(null,new Uint8Array(f.value));c=String.prototype.split.call(c,"|");f=c.reduce(function(a,b){return a+(b.length+40);},0);L(f);d=c.map(function(a){a=a.split(";");return{time:Number(a[0]),aa:Number(a[1])};});try{if(!isNaN(d.reduce(function(a,b){return a+b.aa;},0)))for(var k=!1,m=h.time.now()-864E5;g<d.length;g++){q=d[g];q.time<m||(a.fH.Yl(q.time,q),L(q.aa));}}catch(M){}}k&&y(b,a);});}(this));}f=a(6);h=a(109);m=a(199);c=a(735);d=a(48);k=a(198);p=new h.Console("DISKWRITEMANAGER","media|asejs");q=h.Promise;d({JM:{sQa:"saveitem",REPLACE:"replaceitem",IY:"journalupdate"}},b);l={save:function(a,b,c,f){f(m.bga);},replace:function(a,b,c,f){f(m.bga);},H5:function(){return"";},wsa:function(){return 0;}};b.prototype.constructor=b;g.T={create:function(a,c,f){return new b(a,c,f);},zAb:l};},function(g,d,a){var k,p,q,l,n,r,L,x,G;function b(){}function f(c,d,g,q,l){var u;u=k.Nb(q)?q:b;this.ku=c;this.jr=g.Hu;this.Kr=0;this.VTa=g.o8a||"NONE";this.mr=k.R(l)||k.Qa(l)?0:l;this.qd={};this.Zn=g.cIb||p.storage.PA;this.rp=d;this.SB=n.create(this.rp,g.J4a*this.mr,this.ku);this.on=this.addEventListener=G.addEventListener;this.removeEventListener=G.removeEventListener;this.emit=this.na=G.na;this.Rka=m(this,f.zd.REPLACE);this.AUa=m(this,f.zd.sja);this.yx;this.yx=g.WDa?a(734):a(733);this.rp.query(this.Zn,this.am(""),function(a,b){var c;if(a)u(a);else{c=this.SB.H5();a=Object.keys(b).filter(function(a){return a!==c&&r.tD(a);}).map(this.bca.bind(this));this.lV(a,function(a,c){Object.keys(c).map(function(a){var f,d;f=c[a];this.qd[r.JR(a)]=f;if(f.daa&&1<Object.keys(f.daa).length){d=0;Object.keys(f.daa).forEach(function(a){b[this.am(a)]&&k.pa(b[this.am(a)].size)&&(d+=b[this.am(a)].size);}.bind(this));a=r.JR(a);this.qd[a].size=d;}else a=r.JR(a),b[this.am(a)]&&(this.qd[a].size=b[this.am(a)].size);}.bind(this));h(this.rp,this.Zn,this.ku,function(a,b){this.Kr=b;a?u(a):u(null,this);}.bind(this));}.bind(this));}}.bind(this));}function h(a,c,f,d){var g;g=k.Nb(d)?d:b;a.query(c,f,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),g(null,a));});}function m(a,b){return function(c,d,g,m,q){return function(l,u){var t;if(l)d||a.na(f.zd.ERROR,{itemKey:c,error:l}),g(l);else{t={Rh:0,duration:0,items:[],time:p.time.now()};Object.keys(u.Vj).map(function(b){var c;c=u.Vj[b];b={key:a.bca(c.wv),mf:b};c.W?(t.Rh+=c.Rh,b.rT=c.Rh,k.pa(c.duration)&&(t.duration+=c.duration)):b.error=c.error;t.items.push(b);});l=k.Nb(m)?m():0;0<q&&(t.vC=q-l);h(a.rp,a.Zn,a.ku,function(c,f){c?g(c):(a.Kr=f,t.Ii=a.jr-f,d||a.na(b,x.Bsa(t)),g(null,t));});}};};}function c(a,b){return 0<b&&a>=b?!0:!1;}k=a(6);p=a(109);q=a(199);d=a(48);l=new p.Console("MEDIACACHE","media|asejs");n=a(736);r=a(360);L=a(108);x=a(198);G=a(25).EventEmitter;d({zd:{sja:"writeitem",REPLACE:"replaceitem",IY:"journalupdate",ERROR:"mediacache-error"}},f);f.prototype.getName=function(){return this.ku;};f.prototype.bca=function(a){return a.slice(this.ku.length+1);};f.prototype.z5=function(){return Object.keys(this.qd).filter(function(a){a=r.c5(this.qd[a]);return void 0===a||0>=a.$oa();}.bind(this));};f.prototype.dbb=function(){return Object.keys(this.qd).reduce(function(a,b){var c;c=this.qd[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:p.time.now()}).AJb;};f.prototype.bab=function(){var a;switch(this.VTa){case"FIFO":a=this.dbb();}return a;};f.prototype.K5a=function(a){var c;c=k.Nb(a)?a:b;this.Wsa(function(b){var f,d,g;f=this.qd;d=Object.keys(f).reduce(function(a,b){b=f[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!r.tD(a)&&0>d.indexOf(a);}))&&0<b.length){g=this;b=p.Promise.all(b.map(function(a){return new p.Promise(function(b,c){g["delete"](a,function(a){a?c(a):b();});});})).then(function(){c(void 0,{Q$:!0});},function(a){c(a,{Q$:!1});});x.uq(b);}else a(void 0,{Q$:!1});}.bind(this));};f.prototype.cnb=function(a,c,f){var d,g;d=k.Nb(c)?c:b;c=this.am(a);g=p.time.now();this.rp.read(this.Zn,c,0,-1,function(b,c){var h;if(b)d(b);else if(c&&c.W&&c.value){k.Nb(f)||(f=this.yx.jJ(L.wm.Jw),r.tD(a)?f=this.yx.jJ(L.wm.OBJECT):(b=this.qd[a],!k.R(b)&&k.pa(b.resourceIndex[a])?(b=b.resourceIndex[a],k.R(b)&&(b=L.wm.Jw),f=this.yx.jJ(b)):l.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{h=f(c.value);}catch(Z){return d(q.VA.rm(Z.message));}c={duration:p.time.now()-g};this.qd[a]&&k.pa(this.qd[a].size)&&(c.cs=k.pa(this.qd[a].size)?this.qd[a].size:0);d(null,h,c);}else d(q.VA.rm(c.error));}.bind(this));};f.prototype.read=function(a,b,c){this.cnb(a,b,c);};f.prototype.lV=function(a,c,f){var d,g,h;d=k.Nb(c)?c:b;if("[object Array]"!==Object.prototype.toString.call(a))d(q.VA.rm("item keys must be an array"));else{g={};h=[];a=p.Promise.all(a.map(function(a){return new p.Promise(function(b,c){var d;f&&!k.R(f[a])&&(d=this.yx.jJ(f[a]));this.read(a,function(f,d,k){f?(d={},d[a]=f,c(d)):(g[a]=d,h.push({duration:k.duration,cs:k.cs}),b());},d);}.bind(this));}.bind(this))).then(function(){var a;a={};0<h.length&&(a=h.reduce(function(a,b){k.pa(b.duration)&&(a.duration+=b.duration);k.pa(b.cs)&&(a.cs+=b.cs);return a;},{duration:0,cs:0}));d(null,g,a);},function(a){d(a);});x.uq(a);}};f.prototype.write=function(a,f,d,g,h){var m,p,l;d=k.Nb(d)?d:b;m=this.am(a);p="function"===typeof h?h():0;l=L.m6(f);l=this.yx.b6(l)(f);l.byteLength+this.Kr>=this.jr?d(q.uA):c(l.byteLength+p,this.mr)?d(q.gO):this.SB.save(this.Zn,m,f,this.AUa(a,g,d,h,this.mr),l.byteLength);};f.prototype.replace=function(a,f,d,g,h){var m,p,u,t;m=k.Nb(d)?d:b;p=this.am(a);u=0;"function"===typeof h&&(u=h());d=L.m6(f);t=this.yx.b6(d)(f);d=(this.qd[a]||{}).size||0;0>=d&&this.qd[a]?this.nta([a],function(b){l.trace("Replacing key",a,"which exists:",!!this.qd[a],this.qd[a]?this.qd[a]:void 0,"and has size",b,"with",f,"with size",t.byteLength,"plus _used",this.Kr,"vs capacity",this.jr);t.byteLength-b+this.Kr>=this.jr?m(q.uA):c(t.byteLength-b+u,this.mr)?m(q.gO):this.SB.replace(this.Zn,p,f,this.Rka(a,g,m,h,this.mr),t.byteLength);}.bind(this)):(l.trace("Replacing key",a,"which exists:",!!this.qd[a],this.qd[a]?this.qd[a]:void 0,"and has size",d,"with",f,"with size",t.byteLength,"plus _used",this.Kr,"vs capacity",this.jr),t.byteLength-d+this.Kr>=this.jr?m(q.uA):c(t.byteLength-d+u,this.mr)?m(q.gO):this.SB.replace(this.Zn,p,f,this.Rka(a,g,m,h,this.mr),t.byteLength));};f.prototype.cob=function(a,c,d,g){var h;h=k.Nb(c)?c:b;"[object Object]"!==Object.prototype.toString.call(a)?h(q.fO.rm("items must be a map of keys to objects")):(c=p.Promise.all(Object.keys(a).map(function(b){return new p.Promise(function(c){this.replace(b,a[b],function(a,f){a?c({error:a,fm:b}):c(f);},!0,g);}.bind(this));}.bind(this))).then(function(a){var b,c,m,q;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.Rh+=c.Rh,k.pa(c.duration)&&(a.duration+=c.duration),!k.R(c.Ii)&&c.Ii<b&&(b=c.Ii),c.items.map(function(b){a.items.push({key:b.key,mf:b.mf,rT:b.rT,pgb:b.pgb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.Ii=b));return a;},{Rh:0,items:[],time:p.time.now(),duration:0});0<this.mr&&(c.vC=this.mr-g());m=a.filter(function(a){return!k.R(a.error);});q=x.Ota(m);d||(q?q.forEach(function(a){this.na(f.zd.ERROR,a);}.bind(this)):this.na(f.zd.REPLACE,x.Bsa(c)));h(q,c);}catch(Y){h(Y);}}.bind(this),function(a){d||this.na(f.zd.ERROR,a);h(a);}.bind(this)),x.uq(c));};f.prototype["delete"]=function(a,c){var f;f=k.Nb(c)?c:b;this.rp.remove(this.Zn,this.am(a),function(a,b){a?f(a):b&&b.W?h(this.rp,this.Zn,this.am(""),function(a,b){a?f(a):(this.Kr=b,f());}.bind(this)):f(q.GHa.rm(b.error));}.bind(this));};f.prototype.Wsa=function(a){this.query("",function(b,c){b?(l.error("Failed to get keys",b),a([])):a(c);});};f.prototype.query=function(a,c){var f,d;f=k.Nb(c)?c:b;d=this.SB.H5();this.rp.query(this.Zn,this.am(a),function(a,b){a?f(a):f(null,Object.keys(b).filter(function(a){return a!==d;}).map(this.bca.bind(this)));}.bind(this));};f.prototype.am=function(a){return this.ku+"."+a;};f.prototype.clear=function(a){var c;c=k.Nb(a)?a:b;this.Wsa(function(a){var b;b=p.Promise.all(a.map(function(a){return new p.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){c(a);},function(a){this.na(f.zd.ERROR,a);c([],a);}.bind(this));x.uq(b);}.bind(this));};f.prototype.nta=function(a,c){var f,d;f=k.Nb(c)?c:b;d=(a||[]).map(function(a){return this.am(a);}.bind(this));this.rp.query(this.Zn,this.ku,function(b,c){b?(l.error("failed to get persisted size for keyset ",a,b),f(0)):(b=Object.keys(c).filter(function(a){return 0<=d.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),f(b));}.bind(this));};f.prototype.o$a=function(a){return this.SB.wsa(a);};f.prototype.constructor=f;g.T=f;},function(g,d,a){var f,h,m,c,k;function b(a){this.ti=a;this.context=a.context;this.Nxa="NULLCONTEXT"===a.context?!0:!1;}f=a(6);h=a(109);m=new h.Console("DISKCACHE","media|asejs");c={context:"NULLCONTEXT",read:function(a,b,c,f,d){d("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,f){f("MediaCache is not supported");},append:function(a,b,c,f){f("MediaCache is not supported");},query:function(a,b,c){c([]);}};b.prototype.Fx=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.Nxa)throw Error("Media Cache not supported");b.apply(this.ti,a);}catch(A){c(A);}};b.prototype.query=function(a,b,c,f){try{if(this.Nxa)throw Error("Media Cache not supported");this.ti.query(a,b,function(a){c(null,a);},f);}catch(y){c(y);}};b.prototype.read=function(a,b,c,f,d){this.Fx(this.ti.read,a,b,c,f,d);};b.prototype.remove=function(a,b,c){this.Fx(this.ti.remove,a,b,c);};b.prototype.create=function(a,b,c,f){this.Fx(this.ti.create,a,b,c,f);};b.prototype.append=function(a,b,c,f){this.Fx(this.ti.append,a,b,c,f);};b.prototype.info=function(a){this.Fx(this.ti.info,a);};b.prototype.ep=function(a){this.Fx(this.ti.ep,a);};b.prototype.flush=function(a){this.Fx(this.ti.flush,a);};b.prototype.clear=function(){this.ti.clear();};g.T={b4a:function(a){var d,g,p,l,u;d=a.QFb||"NRDMEDIADISKCACHE";k=a.Qu||0;0!==k||f.R(h.options)||f.R(h.options.MD)||(k=h.options.MD);a=k;try{l=h.storage.EC;if(!l||!f.Xe(l))throw m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(p=l[d])m.warn("Disk store exists, returning"),g=new b(p);else{if(f.R(h.storage)||!f.Nb(h.storage.OQ)||h.options&&0===h.options.MD)throw m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";m.warn("Disk store context doesn't exist, creating with size "+a);u=h.storage.OQ({context:d,size:a,encrypted:!0,signed:!0});if(!u||!u.valid)throw"Failed to create disk store context";g=new b(u);}}catch(x){m.warn("Exception creating disk store context - returning NullContext (noops)",x);g=new b(c);}return g;},O$a:function(){return k;},txb:b};},function(g,d,a){var b,f,h,m,c;b=a(6);h=[];c=!1;g.T={Jua:function(d,g,q){var k;if(c)b.Nb(q)&&(f.pn||f.Dy?setTimeout(function(){q(f);},0):h.push(q));else{c=!0;k=a(109);k.FJ(d);m=new k.Console("MEDIACACHE","media|asejs");f=new(a(361))(g,function(a){a&&m.warn("Failed to initialize MediaCache",a);b.Nb(q)&&setTimeout(function(){q(f);},0);h.map(function(a){setTimeout(function(){a(f);},0);});});}return f;},sGb:function(c,d){f=new(a(361))(c,function(a,c){a&&m.warn("Failed to initialize MediaCache",a);b.Nb(d)&&setTimeout(function(){d(c);},0);});}};},function(g,d,a){var b,f,h,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});a(13);b=a(739);f=a(25);h=a(6);m=a(211);g=a(40);c=a(730);k=c.fMa;a=function(){var a76;function a(a,b,c){var p76,i66,Y66,S66,B66;p76=2;while(p76!==13){i66="1SI";i66+="YbZrNJCp";i66+="9";Y66="Me";Y66+="dia cache has ";Y66+="not been";Y66+=" ini";Y66+="tiaized";S66="med";S66+="i";S66+="a|asejs";B66="MEDI";B66+="ACACH";B66+="E";switch(p76){case 4:this.Jm=a.R8?a.R8:!1;p76=3;break;case 2:this.K=new b.Console(B66,S66);this.X0=(a.Aw||a.rca)&&0<(a.Qu||(b.options||{}).MD||0);this.STa=a.k7a?a.k7a:!1;p76=4;break;case 3:this.dVa=a.Uwa?a.Uwa:!1;this.G=a;this.Bk=b;this.If=c;this.vp=Promise.reject(Y66);i66;p76=13;break;}}}a76=2;while(a76!==27){switch(a76){case 8:a.prototype.Qob=function(a,b,f){var N76,d,g,m,q,p,t66;N76=2;while(N76!==11){t66="Un";t66+="abl";t66+="e to save fragment because response is";t66+=" not an ArrayBu";t66+="ffer";switch(N76){case 4:N76=g instanceof ArrayBuffer?3:12;break;case 2:d=this;N76=5;break;case 3:m=this.Bk.time.ea();q=[a.M,a.za,a.Oc].join(".");a=c.bta(a);N76=7;break;case 6:p[q+"."+k.OY]={fm:a,kd:k.Nt};h.R(g)||(p[q+"."+k.pMa]={fm:g,kd:k.Nt});this.kh.ZAa(k.Yi,p,function(a){var B76,g66;B76=2;while(B76!==5){g66="Faile";g66+="d ";g66+="to save fr";g66+="agmen";g66+="t";switch(B76){case 2:a?d.K.warn(g66,a):(a=d.Bk.time.ea()-m,h.R(b.Kb.om)&&(b.Kb.om=0),b.Kb.om+=a);f();B76=5;break;}}});N76=11;break;case 7:p={};N76=6;break;case 12:f(Error(t66));N76=11;break;case 5:g=a.response;N76=4;break;}}};a.prototype.Uob=function(a){var S76,E,g,p,l,u,b,f,d,q,n,r,D,P,C;S76=2;while(S76!==32){switch(S76){case 11:S76=l<u.length?10:21;break;case 7:q={};Object.keys(a.headers).forEach(function(b){var Y76,f;Y76=2;while(Y76!==4){switch(Y76){case 2:f=c.jab(a.headers[b]);q[b]=f;Y76=4;break;}}});S76=14;break;case 18:S76=r?17:22;break;case 17:E=0;S76=16;break;case 22:l++;S76=11;break;case 13:S76=a&&a.data?12:35;break;case 8:S76=a.headers?7:13;break;case 10:n=u[l];r=p[n];D={};S76=18;break;case 15:P=r[E];S76=27;break;case 16:S76=E<r.length?15:23;break;case 9:d.movieEntry=g;S76=8;break;case 21:d.data=g;S76=35;break;case 35:g={lifespan:259200};this.dVa&&(g.convertToBinaryData=!0);this.kh.save(k.Yi,a.M,d,g,function(a){var i76,Q66;i76=2;while(i76!==1){Q66="s";Q66+="av";Q66+="e";Q66+="tod";Q66+="isk";switch(i76){case 2:a||b.EE(Q66,{$Aa:b.Bk.time.ea()-f});i76=1;break;}}});S76=32;break;case 27:S76=P instanceof m.$W&&P.response instanceof ArrayBuffer&&!h.R(P.Oc)?26:24;break;case 26:C=c.bta(P);S76=25;break;case 14:d.headers=q;S76=13;break;case 12:g={},p=a.data,l=0,u=Object.keys(a.data);S76=11;break;case 24:E++;S76=16;break;case 25:D[P.Oc]={mediaType:C.mediaType,streamId:C.streamId,movieId:C.movieId,bitrate:C.bitrate,location:C.location,serverId:C.serverId,saveToDisk:C.saveToDisk,offset:C.offset,bytes:C.bytes,timescale:C.timescale,startTicks:C.startTicks,durationTicks:C.durationTicks,response:P.response};S76=24;break;case 23:g[n]=D;S76=22;break;case 2:b=this;f=this.Bk.time.ea();d={};g=c.hta(a);S76=9;break;}}};a.prototype.$ua=function(a){var g76;g76=2;while(g76!==1){switch(g76){case 2:return!(h.R(a)||h.Qa(a)||h.R(a.Kb)||h.Qa(a.Kb)||h.R(a.M)||h.Qa(a.M)||h.R(a.Td)||h.Qa(a.Td));break;}}};a.prototype.zgb=function(a){var t76,b,c;t76=2;while(t76!==3){switch(t76){case 2:b=this;c=h.R(a)?"":a.toString();return new Promise(function(a){var Q76,I76;Q76=2;while(Q76!==4){switch(Q76){case 1:a();Q76=4;break;case 8:a();Q76=2;break;Q76=4;break;case 2:Q76=h.R(b.kh)?1:5;break;case 5:try{I76=2;while(I76!==1){switch(I76){case 2:b.kh.xz(k.Yi,"",function(b){var J76;J76=2;while(J76!==5){switch(J76){case 2:b=b.filter(function(a){var G76,I66;G76=2;while(G76!==5){I66="m";I66+="ovi";I66+="eEntry";switch(G76){case 2:a=a.split(".");return c&&(c===a[0]||I66===a[0]&&c===a[1]);break;}}}).reduce(function(a,b){var m76,c,J66;m76=2;while(m76!==3){J66="mo";J66+="vie";J66+="Entr";J66+="y";switch(m76){case 2:c=b.split(".");J66!==c[0]&&(b=c[1],c=c[2],h.R(a[b])&&(a[b]={}),h.R(a[b][c])&&(a[b][c]=!0));return a;break;}}},{});a(b);J76=5;break;}}});I76=1;break;}}}catch(L){a();}Q76=4;break;}}});break;}}};a.prototype.Vfb=function(a,b){var W76,c;W76=2;while(W76!==4){switch(W76){case 1:c=this;return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var C76,c,f;C76=2;while(C76!==7){switch(C76){case 3:f=b.data;C76=9;break;case 4:C76=b.data?3:8;break;case 9:Object.keys(f).forEach(function(a){var u76;u76=2;while(u76!==5){switch(u76){case 2:c[a]||(c[a]={});u76=1;break;case 3:c[a]&&(c[a]={});u76=3;break;u76=1;break;case 1:f[a].forEach(function(b){var n76;n76=2;while(n76!==1){switch(n76){case 2:h.R(b.Oc)||(c[a][b.Oc]=!0);n76=1;break;}}});u76=5;break;}}});C76=8;break;case 2:c={};b.headers&&Object.keys(b.headers).forEach(function(a){var H76;H76=2;while(H76!==5){switch(H76){case 2:c[a]||(c[a]={});c[a].header=!0;H76=5;break;}}});C76=4;break;case 8:return a(c);break;}}}):this.Yka(a).then(function(b){var U76;U76=2;while(U76!==5){switch(U76){case 3:U76=b?7:7;break;U76=b?1:5;break;case 2:U76=b?1:5;break;case 1:return new Promise(function(b){var y76;y76=2;while(y76!==1){switch(y76){case 2:c.kh.read(k.Yi,a,function(c,f){var o76,d,g;o76=2;while(o76!==4){switch(o76){case 3:o76=h.R(f)?9:8;break;case 1:o76=c?5:3;break;case 2:o76=1;break;case 8:d=f[a];g={};d.headers&&Object.keys(d.headers).forEach(function(a){var x76;x76=2;while(x76!==5){switch(x76){case 2:g[a]||(g[a]={});g[a].header=!0;x76=5;break;}}});d.data&&Object.keys(d.data).forEach(function(a){var c76;c76=2;while(c76!==5){switch(c76){case 2:g[a]||(g[a]={});Object.keys(d.data[a]).forEach(function(b){var d76;d76=2;while(d76!==1){switch(d76){case 4:g[a][b]=-2;d76=2;break;d76=1;break;case 2:g[a][b]=!0;d76=1;break;}}});c76=5;break;}}});o76=13;break;case 5:b();o76=4;break;case 9:b(void 0);o76=4;break;case 13:b(g);o76=4;break;}}});y76=1;break;}}});break;}}});break;case 2:W76=1;break;}}};a76=12;break;case 12:a.prototype.Vab=function(){var f76,a,G66;f76=2;while(f76!==4){G66="Media ";G66+="cach";G66+="e is not enabl";G66+="ed";switch(f76){case 2:a=this;return this.vp?this.vp.then(function(){var s76;s76=2;while(s76!==1){switch(s76){case 2:return new Promise(function(b){var M76;M76=2;while(M76!==1){switch(M76){case 2:a.kh.xz(k.Yi,k.AN,function(a){var a66,c;a66=2;while(a66!==8){switch(a66){case 4:c=[];a.forEach(function(a){var p66;p66=2;while(p66!==1){switch(p66){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);p66=1;break;}}});b(c);a66=8;break;case 5:b([]);a66=8;break;case 1:a66=!a||0>=a.length?5:4;break;case 2:a66=1;break;}}});M76=1;break;}}});break;}}}):Promise.reject(G66);break;}}};a.prototype.EE=function(a,b){var L66,c,H66,C66,W66,m66;L66=2;while(L66!==8){H66="medi";H66+="a";H66+="ca";H66+="ch";H66+="e";C66="m";C66+="e";C66+="diaca";C66+="cheloo";C66+="kup";W66="s";W66+="a";W66+="vetod";W66+="is";W66+="k";m66="m";m66+="ediaca";m66+="c";m66+="hesta";m66+="ts";switch(L66){case 2:c={type:m66,operation:a};W66===a&&(c.saveTime=b.$Aa);C66===a&&(c.lookupTime=b.IT,c.dataFound=b.TQ);c.oneObject=this.Jm;this.STa&&this.na(H66,c);L66=8;break;}}};a.prototype.Mmb=function(a,b){var F66,f,d;F66=2;while(F66!==3){switch(F66){case 2:f=this;d=Object.keys(a).map(function(b){var e66;e66=2;while(e66!==1){switch(e66){case 4:return f.$3a(a[b]);break;e66=1;break;case 2:return f.$3a(a[b]);break;}}});return Promise.all(d).then(function(a){var q66;q66=2;while(q66!==5){switch(q66){case 2:a.sort(function(a,b){var P66;P66=2;while(P66!==1){switch(P66){case 2:return a.Yb===b.Yb?0:a.Yb?-1:1;break;}}});return c.ita(f.K,f.If,a,b);break;}}});break;}}};a76=20;break;case 2:a.prototype.Ac=function(a,c){var L76,f,n66;L76=2;while(L76!==4){n66="Media ";n66+="cach";n66+="e is di";n66+="sa";n66+="bled";switch(L76){case 2:f=this;return this.vp=this.X0?new Promise(function(d,g){var F76;F76=2;while(F76!==1){switch(F76){case 2:(void 0!==c&&null!==c?c.Jua:function(a){var e76;e76=2;while(e76!==1){switch(e76){case 4:return b.Jua(f.Bk,f.G,a);break;e76=1;break;case 2:return b.Jua(f.Bk,f.G,a);break;}}})(function(b){var q76,c,u66;q76=2;while(q76!==3){u66="Me";u66+="dia ";u66+="cache did";u66+=" not i";u66+="nitialize";switch(q76){case 8:q76=7;break;q76=1;break;case 1:f.kh=b;c=b.pn;(b=b.Dy)?g(b):c?(f.Dqb(a),d()):g(Error(u66));q76=3;break;case 2:q76=1;break;}}});F76=1;break;}}}):Promise.reject(n66);break;}}};a.prototype.Xfb=function(a){var P76,b,f,d;P76=2;while(P76!==9){switch(P76){case 2:b=this;f=[k.AN,a].join(".");d=this.Bk.time.ea();return this.vp.then(function(){var V76;V76=2;while(V76!==1){switch(V76){case 2:return new Promise(function(g){var T76;T76=2;while(T76!==1){switch(T76){case 2:b.kh.xz(k.Yi,f,function(f){var w76,m,U66;w76=2;while(w76!==9){U66="mediacac";U66+="helo";U66+="okup";switch(w76){case 1:w76=!f||0>=f.length?5:4;break;case 2:w76=1;break;case 5:g(),b.EE(U66,{IT:b.Bk.time.ea()-d,TQ:!1});w76=9;break;case 4:m=f[0];b.kh.read(k.Yi,m,function(f,d){var K76,v76,k,q,o66,y66;K76=2;while(K76!==14){o66=" ";o66+="f";o66+="ail";o66+="e";o66+="d";y66="Rea";y66+="ding mov";y66+="ie en";y66+="t";y66+="ry ";switch(K76){case 4:K76=d instanceof ArrayBuffer?3:9;break;case 8:h.R(k)||(q=c.gta(k));h.R(q)||h.Qa(q)||(q.Kb=q.Kb||{},q.headers=q.headers||{});b.$ua(q)?g(q):(b.eXa(a),g());K76=14;break;case 5:K76=!h.R(d)?4:8;break;case 9:k={priority:d.priority,movieId:d.movieId,saveToDisk:d.saveToDisk,firstSelectedStreamBitrate:d.firstSelectedStreamBitrate,initSelectionReason:d.initSelectionReason,histDiscountedThroughputValue:d.histDiscountedThroughput,histTdigest:d.histTdigest,histAge:d.histAge,headerCount:d.headerCount,dataRequestCount:d.dataRequestCount,headerRequestCount:d.headerRequestCount,stats:d.stats};K76=8;break;case 3:try{v76=2;while(v76!==1){switch(v76){case 2:k=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(d)));v76=1;break;}}}catch(D){}K76=8;break;case 2:f&&b.K.warn(y66+m+o66,f);K76=5;break;}}});w76=9;break;}}});T76=1;break;}}});break;}}});break;}}};a.prototype.Qfb=function(a,b,c){var b76,f,d,x66;b76=2;while(b76!==8){x66="Medi";x66+="a";x66+=" cach";x66+="e is not e";x66+="nabled";switch(b76){case 4:return Promise.reject(x66);break;case 2:f=this;b76=5;break;case 5:b76=!this.vp?4:3;break;case 3:d=this.Bk.time.ea();return this.vp.then(function(){var O76;O76=2;while(O76!==1){switch(O76){case 2:return new Promise(function(g){var D76;D76=2;while(D76!==1){switch(D76){case 2:f.kh.xz(k.Yi,a,function(k){var h76;h76=2;while(h76!==5){switch(h76){case 2:k=k.reduce(function(a,b){var z76,c,c66;z76=2;while(z76!==8){c66="dr";c66+="mHeader._";c66+="_";c66+="embed__";switch(z76){case 2:c=b.substr(0,b.lastIndexOf("."));z76=5;break;case 5:z76=-1!==c.indexOf(c66)?4:3;break;case 4:return a;break;case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});f.Mmb(k,b).then(function(b){var r76,k,m,f66,d66;r76=2;while(r76!==6){f66="me";f66+="diacach";f66+="elookup";d66="No ";d66+="con";d66+="tent data";d66+=" found for ";switch(r76){case 1:r76=void 0===c||void 0===b?5:4;break;case 2:r76=1;break;case 4:k=f.Bk.time.ea()-d;m=!1;h.R(b)||h.R(b.data)||!h.Xe(b.data)?f.K.trace(d66+a,c):m=!0;f.EE(f66,{IT:k,TQ:m});g(b);r76=6;break;case 5:return g();break;}}},function(){var A76;A76=2;while(A76!==1){switch(A76){case 4:g();A76=0;break;A76=1;break;case 2:g();A76=1;break;}}});h76=5;break;}}});D76=1;break;}}});break;}}});break;}}};a.prototype.Rfb=function(a,b){var k76,c,f;k76=2;while(k76!==3){switch(k76){case 2:c=this;f=this.Bk.time.ea();return this.vp.then(function(){var R76;R76=2;while(R76!==1){switch(R76){case 4:return c.Yka(a);break;R76=1;break;case 2:return c.Yka(a);break;}}}).then(function(d){var j76,s66;j76=2;while(j76!==5){s66="mediacachelook";s66+="u";s66+="p";switch(j76){case 1:return c.KWa(a.toString(),b,f);break;case 2:j76=d?1:4;break;case 4:c.EE(s66,{IT:c.Bk.time.ea()-f,TQ:!1});j76=5;break;}}});break;}}};a.prototype.Tob=function(a,b){var l76,f;l76=2;while(l76!==4){switch(l76){case 2:f=c.hta(a);this.kh.save(k.Yi,[k.AN,a.M].join("."),f,k.Nt,function(){var E76;E76=2;while(E76!==1){switch(E76){case 2:b();E76=1;break;case 4:b();E76=0;break;E76=1;break;}}});l76=4;break;}}};a.prototype.Rob=function(a,b){var Z76,f,d,g,m,q,p;Z76=2;while(Z76!==19){switch(Z76){case 6:Z76=a.stream.jd&&!h.R(a.stream.$)?14:20;break;case 3:m=c.nab(a);q={};q[d+"."+k.OY]={fm:m,kd:k.Nt};q[d+"."+k.cKa]={fm:a.Fs,kd:k.Nt};Z76=6;break;case 14:m={timescale:a.stream.$.ga,startTicks:a.stream.$.Fj,offset:a.stream.$.bm(0)};p=a.stream.$.IE;q[d+"."+k.Dea]={fm:m,kd:k.Nt};q[d+"."+k.KJa]={fm:p.sizes.buffer,kd:k.Nt};Z76=10;break;case 2:f=this;d=[a.M,a.za,k.dKa].join(".");g=this.Bk.time.ea();Z76=3;break;case 10:q[d+"."+k.JJa]={fm:p.cd.buffer,kd:k.Nt};Z76=20;break;case 20:this.kh.ZAa(k.Yi,q,function(c){var X76;X76=2;while(X76!==5){switch(X76){case 2:c||(c=f.Bk.time.ea()-g,a.Ni&&(h.R(a.Ni.Kb.om)&&(a.Ni.Kb.om=0),a.Ni.Kb.om+=c));b();X76=5;break;}}});Z76=19;break;}}};a76=8;break;case 20:a.prototype.$3a=function(a){var V66,b,f,d,g;V66=2;while(V66!==3){switch(V66){case 2:b=this;g={};return new Promise(function(h,m){var T66,q;T66=2;while(T66!==5){switch(T66){case 2:b.kh.lV(k.Yi,a,function(a,b){var w66,p,K66,p96,a96,M66;w66=2;while(w66!==5){switch(w66){case 2:try{K66=2;while(K66!==19){p96="Header fragment";p96+="s was an array";p96+=" bu";p96+="ffer, is invali";p96+="d type ";a96="Missing or invalid h";a96+="eader data parts for ";a96+="stream ";M66="Miss";M66+="ing o";M66+="r invalid media data pa";M66+="rts for stream ";switch(K66){case 4:K66=c.neb(d)?3:20;break;case 5:Object.keys(b).map(function(a){var v66,c,h,b66;v66=2;while(v66!==9){switch(v66){case 2:c=a.substr(a.lastIndexOf(".")+1);v66=5;break;case 3:c===k.Dea?f=b[a]:g[c]=b[a];v66=9;break;case 5:v66=c===k.OY?4:3;break;case 4:try{b66=2;while(b66!==5){switch(b66){case 2:h=new Uint8Array(b[a]);d=JSON.parse(String.fromCharCode.apply(null,h));b66=5;break;}}}catch(ia){d=b[a];}v66=9;break;}}});K66=4;break;case 6:K66=q.Yb?14:11;break;case 3:K66=f instanceof ArrayBuffer?9:7;break;case 12:h(q);K66=19;break;case 10:return p=M66+q.za,m(p);break;case 1:return m(a);break;case 2:K66=a||void 0===b?1:5;break;case 14:K66=c.Yua(q)?13:12;break;case 13:return p=a96+q.za,m(p);break;case 7:q=c.ksa(d,g,f);K66=6;break;case 11:K66=c.Xua(q)?10:12;break;case 20:q=c.jsa(d,{response:g.response});K66=6;break;case 9:p=p96+q.za;return m(p);break;}}}catch(D){m(D);}w66=5;break;}}});T66=5;break;}}});break;}}};a.prototype.KWa=function(a,b,f){var O66,d;O66=2;while(O66!==4){switch(O66){case 2:d=this;return new Promise(function(g,m){var D66,q;D66=2;while(D66!==5){switch(D66){case 2:d.kh.read(k.Yi,a,function(k,p){var h66,u,n,l,t,y,A,r,q96,e96,F96,L96;h66=2;while(h66!==4){q96="Missing or invalid";q96+=" header data parts for stream";q96+=" ";e96="Header fra";e96+="gments was an array buffer, is";e96+=" invalid type ";F96="Missing or invalid media ";F96+="data parts f";F96+="o";F96+="r s";F96+="tream ";L96="medi";L96+="aca";L96+="chelook";L96+="u";L96+="p";switch(h66){case 19:h66=t.fragments instanceof ArrayBuffer?18:17;break;case 43:d.EE(L96,{IT:d.Bk.time.ea()-f,TQ:!0});g(q);h66=4;break;case 3:h66=h.R(p)?9:8;break;case 32:return k=F96+y.za,m(k);break;case 17:t=c.ksa(t,t,t.fragments);h66=16;break;case 21:h66=A<r.length?35:29;break;case 29:u++;h66=23;break;case 26:u++;h66=11;break;case 27:p.push(t);h66=26;break;case 13:h66=l.headers?12:25;break;case 10:t=n[u];t=l.headers[t];h66=19;break;case 30:A++;h66=21;break;case 12:u=0,n=Object.keys(l.headers);h66=11;break;case 18:return k=e96+t.streamId,m(k);break;case 25:h66=l.data?24:28;break;case 16:h66=c.Yua(t)?15:27;break;case 1:h66=k?5:3;break;case 2:h66=1;break;case 28:q=c.ita(d.K,d.If,p,b);h66=44;break;case 8:l=p[a];h66=7;break;case 33:h66=c.Xua(y)?32:31;break;case 35:y=l[t][r[A]];y=c.jsa(y,y);h66=33;break;case 6:k=c.gta(l.movieEntry);p=[];h66=13;break;case 23:h66=u<n.length?22:28;break;case 9:g();h66=4;break;case 15:return k=q96+t.za,m(k);break;case 22:t=n[u],A=0,r=Object.keys(l[t]);h66=21;break;case 31:p.push(y);h66=30;break;case 7:h66=l.movieEntry?6:43;break;case 5:m(k);h66=4;break;case 24:l=l.data,u=0,n=Object.keys(l);h66=23;break;case 44:void 0!==q&&(q.Ni=k);h66=43;break;case 11:h66=u<n.length?10:25;break;}}});D66=5;break;}}});break;}}};a.prototype.Yka=function(a){var z66,b,P96;z66=2;while(z66!==4){P96="Media cache is not ena";P96+="b";P96+="led";switch(z66){case 2:b=this;return this.vp?this.vp.then(function(){var r66;r66=2;while(r66!==1){switch(r66){case 2:return new Promise(function(c){var A66;A66=2;while(A66!==1){switch(A66){case 2:b.kh.xz(k.Yi,a.toString(),function(b){var k66;k66=2;while(k66!==1){switch(k66){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?c(!0):c(!1):c(!1);k66=1;break;}}});A66=1;break;}}});break;}}}):Promise.reject(P96);break;}}};a.prototype.eXa=function(a){var R66,f,d;R66=2;while(R66!==9){switch(R66){case 2:f=this;d=a.toString();this.kh.xz(k.Yi,[k.AN,a].join("."),c);this.kh.xz(k.Yi,d,c);R66=9;break;}}function b(a){var j66,V96;j66=2;while(j66!==1){V96="dele";V96+="t";V96+="e";switch(j66){case 2:f.kh[V96](k.Yi,a);j66=1;break;}}}function c(a){var l66;l66=2;while(l66!==1){switch(l66){case 4:a.map(b);l66=6;break;l66=1;break;case 2:a.map(b);l66=1;break;}}}};a76=16;break;case 16:a.prototype.Dqb=function(a){var E66,b,K96,T96;E66=2;while(E66!==3){K96="medi";K96+="acach";K96+="e-";K96+="err";K96+="or";T96="m";T96+="e";T96+="di";T96+="ac";T96+="ache";switch(E66){case 2:b=new f.Ow();E66=5;break;case 5:b.on(this.kh,T96,function(b){var Z66,w96;Z66=2;while(Z66!==4){w96="m";w96+="ed";w96+="iaca";w96+="che";switch(Z66){case 2:Z66=b.keys||b.items?1:5;break;case 1:b.keys||b.items.map(function(a){var X66;X66=2;while(X66!==1){switch(X66){case 2:return a.key;break;case 4:return a.key;break;X66=1;break;}}});Z66=5;break;case 5:a.na(w96,b);Z66=4;break;}}});b.on(this.kh,K96,function(b){var N66,b96,v96;N66=2;while(N66!==5){b96="m";b96+="ed";b96+="iacache";v96="e";v96+="r";v96+="r";v96+="o";v96+="r";switch(N66){case 2:b.type=v96;a.na(b96,b);N66=5;break;}}});E66=3;break;}}};return a;break;}}}();d.PMa=a;g.mi(f.EventEmitter,a);},function(g,d,a){var q,l,n,r,L,x,G,N;function b(a){var c,f,d;a=a.parent;c=!1;if(a&&a.children){f={};f[x.$i]=[];f[x.pi]=[];f[x.TEMPORARY]=[];d=a.children;d.forEach(function(a){a&&f[a.Od].push(a);});0<f[x.$i].length||(f[x.pi].length===d.length?a.Od!==x.pi&&(a.Od=x.pi,L.error("PERM failing :",n.Gf.name[a.gy]+" "+a.id),c=!0):(a.Od===x.$i&&(a.Od=x.TEMPORARY,L.error("TEMP failing :",n.Gf.name[a.gy]+" "+a.id),c=!0),f[x.TEMPORARY].forEach(function(a){a.Od=x.$i;})),c&&b(a));}}function f(a){var c;for(var b=[];a;a=a.parent)switch(a.gy){case n.Gf.fx:c=a;b.unshift(c.id+"("+c.name+")");break;case n.Gf.Lfa:b.unshift(a.id);break;case n.Gf.URL:b.unshift("<url for "+a.stream.P+">");}return b.length?"/"+b.join("/"):"";}function h(a){var b;if((a=a.parent)&&0<a.children.length&&a.Od!==x.$i){b={};b[x.$i]=[];b[x.pi]=[];b[x.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.Od].push(a);});0<b[x.$i].length&&(a.Od=x.$i,h(a));}}function m(a){return a.Od!==x.$i;}function c(a){switch(a.Od){case x.$i:return"OK";case x.pi:return"FAILED PERMANENTLY";case x.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function k(a){a.yca=a.Ka.Fc>=n.Ad.Ft&&!a.Ka.iy?a.Ka.va.Fa*a.weight:0;}function p(a,b){if(a.Od===x.TEMPORARY||a.Od===x.pi&&b)a.Od=x.$i;a.children&&a.children.forEach(function(a){a&&p(a,b);});}Object.defineProperty(d,"__esModule",{value:!0});q=a(6);g=a(25);l=a(40);n=a(11);r=a(5);L=new r.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.$i=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.pi=2]="PERMANENT";}(x||(x={})));(function(a){a[a.LNa=0]="ORIGINAL";a[a.CGa=1]="CONTINUOUS";}(G||(G={})));(function(a){a[a.St=0]="STARTUP";a[a.HBb=1]="REBUFFER";a[a.ex=2]="SEEK";a[a.qyb=3]="FAILURE";a[a.XAb=4]="PERFORMANCE";}(N||(N={})));a=function(){var O96;function a(a,b,c,f,d){var D96,g,r5M,S5M,n5M,W5M;D96=2;while(D96!==25){r5M="1S";r5M+="I";r5M+="Yb";r5M+="ZrNJC";r5M+="p9";S5M="un";S5M+="de";S5M+="rfl";S5M+="ow";n5M="c";n5M+="lo";n5M+="s";n5M+="e";W5M="ne";W5M+="two";W5M+="rk";switch(D96){case 8:this.config=d;this.Oo=d.MC&&f;this.mode=G.LNa;this.bq=void 0;this.dk={};D96=12;break;case 4:this.$e=b;this.CD=c;this.Oo=f;D96=8;break;case 2:g=this;this.events=a;D96=4;break;case 12:this.Ln={};this.Yc={};this.oc={};this.Ns=[];D96=19;break;case 19:this.qU=!1;this.$k={id:W5M,gy:n.Gf.ar,Od:x.$i,sq:void 0,parent:void 0,children:this.Ns};D96=17;break;case 27:a.on(n5M,function(){var z96;z96=2;while(z96!==1){switch(z96){case 2:g.glb();z96=1;break;case 4:g.glb();z96=7;break;z96=1;break;}}});D96=26;break;case 17:this.CE=this.$O=null;this.DE=n.Pe.St;D96=15;break;case 15:D96=a&&(a.on(S5M,function(){var h96;h96=2;while(h96!==1){switch(h96){case 4:g.kob();h96=6;break;h96=1;break;case 2:g.kob();h96=1;break;}}}),d.fgb)?27:26;break;case 26:r5M;D96=25;break;}}}O96=2;while(O96!==27){switch(O96){case 3:a.prototype.ET=function(a){var j96;j96=2;while(j96!==5){switch(j96){case 1:return a.Ub.location;break;case 9:return a.Ub.location;break;j96=5;break;case 2:j96=(a=this.Yc[a])&&a.Ub?1:5;break;}}};a.prototype.vCa=function(a){var l96;l96=2;while(l96!==5){switch(l96){case 3:l96=(a=this.Yc[a])?2:7;break;l96=(a=this.Yc[a])?1:5;break;case 2:l96=(a=this.Yc[a])?1:5;break;case 9:return a.stream;break;l96=5;break;case 1:return a.stream;break;}}};O96=8;break;case 2:a.prototype.Nbb=function(){var r96;r96=2;while(r96!==1){switch(r96){case 2:return this.Ns[0].Ka;break;case 4:return this.Ns[4].Ka;break;r96=1;break;}}};a.prototype.K5=function(){var A96;A96=2;while(A96!==1){switch(A96){case 2:return this.Ns;break;case 4:return this.Ns;break;A96=1;break;}}};a.prototype.iy=function(){var k96;k96=2;while(k96!==1){switch(k96){case 4:return m(this.$k);break;k96=1;break;case 2:return m(this.$k);break;}}};a.prototype.wBa=function(a){var R96;R96=2;while(R96!==5){switch(R96){case 2:R96=(a=this.Yc[a])&&a.parent?1:5;break;case 9:return a.parent.id;break;R96=5;break;case 1:return a.parent.id;break;}}};O96=3;break;case 8:a.prototype.Ora=function(a){var E96,b;E96=2;while(E96!==3){switch(E96){case 2:E96=1;break;case 5:b=a.bind(this);q.forEach(this.Yc,function(a){var Z96,c;Z96=2;while(Z96!==4){switch(Z96){case 2:c=a.Ub;b(c.location,c,a.stream,a);Z96=4;break;}}});E96=3;break;case 1:E96=a?5:3;break;}}};a.prototype.uH=function(a){var X96,b,Z5M;X96=2;while(X96!==20){Z5M="mani";Z5M+="festA";Z5M+="d";Z5M+="ded";switch(X96){case 2:b=this;a.locations.forEach(function(a){var N96,c,f,d,g;N96=2;while(N96!==13){switch(N96){case 2:c=a.key;N96=5;break;case 5:N96=!b.dk[c]?4:13;break;case 14:k(a);N96=13;break;case 4:f=[];d=b.CD.get(c);g=b.$k;a={id:c,gy:n.Gf.Lfa,Od:x.$i,fe:a.rank,level:a.level,weight:a.weight,sq:void 0,parent:g,children:f,Ln:f,oc:{},Ws:!1,tza:!1,Ka:d,yca:null,HQ:void 0};N96=7;break;case 7:b.dk[a.id]=a;g.children.push(a);N96=14;break;}}});this.$O=r.time.ea();X96=3;break;case 3:this.Ns.sort(function(a,b){var B96;B96=2;while(B96!==1){switch(B96){case 2:return a.level-b.level||a.fe-b.fe;break;}}});a.servers.forEach(function(a){var S96,c,f,d;S96=2;while(S96!==14){switch(S96){case 2:c=a.id;S96=5;break;case 5:S96=!b.Ln[c]?4:14;break;case 4:f=b.dk[a.key];S96=3;break;case 9:d=[];S96=8;break;case 3:S96=f?9:14;break;case 8:a={id:c,gy:n.Gf.fx,Od:x.$i,sq:void 0,parent:f,children:d,Yc:d,name:a.name,type:a.type,fe:a.rank,location:f};b.Ln[a.id]=a;f.children.push(a);S96=14;break;}}});a.audio_tracks.forEach(function(a){var Y96;Y96=2;while(Y96!==1){switch(Y96){case 4:b.vza(a);Y96=7;break;Y96=1;break;case 2:b.vza(a);Y96=1;break;}}});X96=7;break;case 13:this.Ns=a;this.$k.children=a;this.emit(Z5M);this.dump();X96=20;break;case 7:a.video_tracks.forEach(function(a){var i96;i96=2;while(i96!==1){switch(i96){case 2:b.vza(a);i96=1;break;case 4:b.vza(a);i96=8;break;i96=1;break;}}});a=this.Ns.filter(function(a){var g96,c;g96=2;while(g96!==3){switch(g96){case 2:c=a.Ln.every(function(a){var t96,O16;t96=2;while(t96!==1){switch(t96){case 2:return 0===a.Yc.length;break;case 4:B6kk.f5M(0);O16=B6kk.x5M(5,10,3,7,13);return O16==a.Yc.length;break;t96=1;break;}}});c&&(a.Ln.forEach(function(a){var Q96;Q96=2;while(Q96!==1){switch(Q96){case 2:b.Ln[a.id]=void 0;Q96=1;break;}}}),b.dk[a.id]=void 0,a.parent=void 0,a.children.length=0,a.oc={});return!c;break;}}});a.forEach(function(a){var I96;I96=2;while(I96!==1){switch(I96){case 2:a.Ln.sort(function(a,b){var J96;J96=2;while(J96!==1){switch(J96){case 2:return a.fe-b.fe;break;case 4:return a.fe%b.fe;break;J96=1;break;}}});I96=1;break;}}});X96=13;break;}}};a.prototype.AW=function(a,b,c){var G96,f,d,g,h,p,l,u,t,U5M,G5M,y5M,F5M;G96=2;while(G96!==25){U5M="(empty ";U5M+="strea";U5M+="m list";U5M+=")";G5M="Did not f";G5M+="ind ";G5M+="a URL for ANY";G5M+=" stream...";y5M="netwo";y5M+="rkFa";y5M+="iled";F5M="Network has f";F5M+="ailed, ";F5M+="not upd";F5M+="ating stream selec";F5M+="tion";switch(G96){case 18:return this.em(n.Gf.ar,!1),!1;break;case 6:G96=m(this.$k)?14:13;break;case 20:this.CE=this.Rtb(a);G96=19;break;case 15:return this.em(n.Gf.ar,!1),!1;break;case 8:l=0;r.lo&&r.lo(b);G96=6;break;case 13:u=n.Ad.Ft;d.vK&&(u=n.Ad.hp);this.$e.location&&g.Fc>=u&&(b=this.dk[this.$e.location])&&(b.Ka=g,k(b));G96=10;break;case 27:c.forEach(function(a,b){var m96,c,h5M,l5M,I5M,J5M;m96=2;while(m96!==4){h5M=" Kb";h5M+="p";h5M+="s";h5M+=")";l5M=" ";l5M+="(";I5M="]";I5M+=" ";J5M="Fail";J5M+="in";J5M+="g ";J5M+="stre";J5M+="am [";switch(m96){case 2:c=a.id;t.some(function(b){var W96,f,k;W96=2;while(W96!==7){switch(W96){case 1:f=b.oc[c];W96=5;break;case 4:return!1;break;case 2:W96=1;break;case 3:k=f.dk[0];void 0===a.$U&&(a.$U=k.id,a.s$=f.sM[k.id][0].Ub.id);return f.sM[b.id].some(function(c){var C96,f,t5M,v5M,u5M,o5M,A5M;C96=2;while(C96!==11){t5M="l";t5M+="oc";t5M+="ation";t5M+="failove";t5M+="r";v5M="serv";v5M+="erfai";v5M+="l";v5M+="over";u5M="p";u5M+="erf";u5M+="orma";u5M+="nce";o5M="p";o5M+="r";o5M+="o";o5M+="be";A5M="u";A5M+="nkn";A5M+="own";switch(C96){case 5:return c.Ub.Od===x.TEMPORARY&&(a.Od=x.TEMPORARY),d.No&&a.Ub===c.Ub.id&&c.Ub.sq&&(a.sq=c.Ub.sq),!1;break;case 2:C96=1;break;case 4:C96=m(c)?3:9;break;case 1:C96=m(c.Ub)?5:4;break;case 13:a.Ka=d.T1?b.Ka.Fc>=n.Ad.hp?!d.mza||p<d.lza?b.Ka:b.Ka.va&&b.Ka.va.Fa&&g.va&&g.va.Fa&&b.Ka.va.Fa<g.va.Fa?g:b.Ka:g.Fc<u?b.Ka:g:g.Fc===n.Ad.HAVE_NOTHING||b.Ka.Fc>=n.Ad.hp?!d.mza||p<d.lza?b.Ka:b.Ka.va&&b.Ka.va.Fa&&g.va&&g.va.Fa&&b.Ka.va.Fa<g.va.Fa?g:b.Ka:g;return!0;break;case 3:return!1;break;case 9:f=A5M;a.location!==b.id&&(d.No?a.Leb=b.id===k.id:f=b!==t[0]?""+n.Pe.dX:void 0===a.location?""+n.Pe.St:h?o5M:q.R(a.Cva)||a.Cva===b.id?q.R(a.Eva)||a.Eva===c.Ub.id?u5M:v5M:t5M,a.location=b.id,a.Y7=b.level,a.ll=f);a.url=c.url;a.Ub=c.Ub.id;a.Pz=c.Ub.name;C96=13;break;}}});break;case 5:W96=!f?4:3;break;}}})?(a.Sg=void 0,a.Od=void 0,a.lf&&++l):a.Od&&a.Od===x.TEMPORARY?f.$k.Od=x.TEMPORARY:a.Sg||(L.warn(J5M+b+I5M+c+l5M+a.P+h5M),a.s1a(),a.Sg=!0);m96=4;break;}}});return m(this.$k)?(L.warn(F5M),this.qU=!0,this.emit(y5M,this.$k.Od===x.pi),!1):l?!0:(L.warn(G5M+(c.length?"":U5M)),this.em(n.Gf.ar,!0),!1);break;case 10:G96=q.Qa(this.CE)||h?20:19;break;case 19:G96=!this.CE?18:17;break;case 16:G96=!t.length?15:27;break;case 14:return!1;break;case 17:t=this.CE;G96=16;break;case 2:f=this;d=this.config;g=this.$e.get();h=this.Oo;p=a.buffer.Qk-a.buffer.sf||0;G96=8;break;}}};a.prototype.Qpb=function(a,b){var H96,c,f;H96=2;while(H96!==9){switch(H96){case 2:c={};f=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;H96=4;break;case 4:q.forEach(this.Yc,function(d,g){var u96,h,k,m,p,E5M,k5M,D16;u96=2;while(u96!==13){E5M="8";E5M+="0";k5M="4";k5M+="4";k5M+="3";switch(u96){case 2:d=d.parent?d.parent.id:"";h=c[d];k=g.match(f);u96=3;break;case 14:q.Qd(p)&&q.Qd(k)&&p===a&&k==b&&(h?h.push(g):c[d]=[g]);u96=13;break;case 9:B6kk.T5M(1);D16=B6kk.x5M(13,20,8);m="s"===k[D16];p=k[2];k=k[3];k.length||(k=m?k5M:E5M);u96=14;break;case 3:u96=k&&4===k.length?9:13;break;}}});return c;break;}}};O96=13;break;case 10:a.prototype.gz=function(a){var x96,M5M;x96=2;while(x96!==1){M5M="l";M5M+="ogd";M5M+="a";M5M+="ta";switch(x96){case 2:this.na(M5M,a);x96=1;break;case 4:this.na("",a);x96=2;break;x96=1;break;}}};a.prototype.vza=function(a){var c96,b;c96=2;while(c96!==4){switch(c96){case 2:b=this;a.streams.forEach(function(a){var d96,c,f,d,Y5M;d96=2;while(d96!==13){Y5M="n";Y5M+="o";Y5M+="n";Y5M+="e";Y5M+="-";switch(d96){case 2:c=a.downloadable_id;f=b.oc[c];d96=4;break;case 3:d=a.content_profile;f={id:c,P:a.bitrate,wc:a.vmaf,type:a.type,profile:d,clear:0===d.indexOf(Y5M),lf:!0,Yc:[],sM:{},dk:[]};d96=8;break;case 7:a.urls.forEach(function(a){var f96,c,d,g;f96=2;while(f96!==11){switch(f96){case 4:f96=q.R(d)&&(a=b.Ln[a.cdn_id])?3:11;break;case 2:c=a.url;d=b.Yc[c];f96=4;break;case 3:g=a.location;d={id:c,gy:n.Gf.URL,Od:x.$i,sq:void 0,parent:a,children:[],url:c,Ub:a,stream:f};b.Yc[c]=d;a.children.push(d);f.Yc.push(d);f96=14;break;case 14:0===f.dk.filter(function(a){var s96;s96=2;while(s96!==1){switch(s96){case 4:return a.id!==g.id;break;s96=1;break;case 2:return a.id===g.id;break;}}}).length&&f.dk.push(g);g.oc[f.id]=f;(c=f.sM[g.id])?c.push(d):f.sM[g.id]=[d];f96=11;break;}}});q.dd(f.sM,function(a){var M96;M96=2;while(M96!==1){switch(M96){case 2:a.sort(function(a,b){var a16;a16=2;while(a16!==1){switch(a16){case 4:return a.Ub.fe*b.Ub.fe;break;a16=1;break;case 2:return a.Ub.fe-b.Ub.fe;break;}}});M96=1;break;}}});f.dk=f.dk.sort(function(a,b){var p16;p16=2;while(p16!==1){switch(p16){case 2:return a.level-b.level||a.fe-b.fe;break;}}});d96=13;break;case 4:d96=q.R(f)?3:7;break;case 8:b.oc[f.id]=f;d96=7;break;}}});c96=4;break;}}};a.prototype.Rtb=function(a){var L16,b,c,f,d,g,h;L16=2;while(L16!==27){switch(L16){case 15:c.MC?(g=n.Pe.eMa,this.mode===G.CGa&&(this.Oo=f>c.Kba)):g=this.DE;L16=18;break;case 19:a.every(function(a){var P16;P16=2;while(P16!==5){switch(P16){case 2:q.Qa(h)&&(h=a.level);return h!==a.level?(b.Oo=!1,g=n.Pe.Zca,!1):a.Ka.Fc<n.Ad.hp?!1:a.Ka.va.Fa>c.D4?(b.Oo=!1,g=n.Pe.EJa,!1):!0;break;}}})&&(this.Oo=!1,g=n.Pe.Zca);L16=18;break;case 3:f=a.Qk-a.sf;a=this.Ns.filter(function(a){var F16;F16=2;while(F16!==1){switch(F16){case 2:return!m(a)&&0!==a.level;break;case 4:return-m(a)||8==a.level;break;F16=1;break;}}});L16=8;break;case 2:b=this;c=this.config;a=a.buffer;L16=3;break;case 14:L16=null===this.$O||this.$O+c.X7<d?13:12;break;case 12:g=null;L16=11;break;case 7:return null;break;case 18:c.MC?a.sort(function(a,c){var V16;V16=2;while(V16!==1){switch(V16){case 2:return a.level-c.level||(b.Oo&&a.Ws&&!c.Ws?-1:0)||(b.Oo&&c.Ws&&!a.Ws?1:0)||(b.Oo&&a.Ws&&c.Ws?a.fe-c.fe:0)||c.HQ-a.HQ||c.yca-a.yca||a.fe-c.fe;break;}}}):a.sort(function(a,b){var T16;T16=2;while(T16!==1){switch(T16){case 2:return a.level-b.level||a.fe-b.fe;break;}}});this.bq||q.Qa(g)||(this.bq=!0);return a;break;case 6:d=r.time.ea();L16=14;break;case 11:L16=this.Oo?10:15;break;case 10:a.forEach(function(a){var q16;q16=2;while(q16!==1){switch(q16){case 2:a.Ka.Fc>=n.Ad.hp?(a.tza=a.tza||a.Ws,a.Ws=!1,a.HQ=n.Ad.hp):(a.Ws=!0,a.HQ=a.Ka.Fc);q16=1;break;}}});h=null;L16=19;break;case 8:L16=0===a.length?7:6;break;case 13:a.forEach(function(a){var e16;e16=2;while(e16!==1){switch(e16){case 2:a.id!==b.$e.location&&(a.Ka=b.CD.get(a.id));e16=1;break;}}}),this.$O=d;L16=12;break;}}};a.prototype.kob=function(){var w16,a;w16=2;while(w16!==9){switch(w16){case 3:this.Ns.forEach(function(b){var K16;K16=2;while(K16!==1){switch(K16){case 2:b.id!==a&&b.Ka&&b.Ka.Fc>n.Ad.Ft&&(b.Ka.Fc=n.Ad.Ft);K16=1;break;}}});w16=9;break;case 2:a=this.$e.location;this.bq=!1;this.Oo=this.config.MC&&!0;w16=3;break;}}};a.prototype.glb=function(){var v16,a;v16=2;while(v16!==4){switch(v16){case 2:a=this;this.qU||this.Ns.forEach(function(b){var b16;b16=2;while(b16!==1){switch(b16){case 2:b.Od===x.TEMPORARY&&a.CD.fail(b.id,r.time.ea());b16=1;break;}}});v16=4;break;}}};a.prototype.dump=function(){};O96=15;break;case 13:a.prototype.em=function(a,d,g,h){var n96,U96,k,q,p,p6M,c6M,B6M,d5M,N5M,O5M,g5M,b5M,i5M;n96=2;while(n96!==25){p6M=" ";p6M+=":";p6M+=" wa";p6M+="s";p6M+=" ";c6M=" ";c6M+="at";c6M+=" ";B6M=" failur";B6M+="e repor";B6M+="ted ";B6M+="for ";d5M="T";d5M+="E";d5M+="MP";N5M="P";N5M+="E";N5M+="RM";O5M="net";O5M+="work";O5M+="F";O5M+="ail";O5M+="ed";g5M="Emitting";g5M+=" ne";g5M+="tworkFailed, permanent =";b5M="Unable to find failure entity for";b5M+=" URL";b5M+=" ";i5M="Invalid ";i5M+="f";i5M+="ailure stat";i5M+="e";switch(n96){case 7:return;break;case 5:k=k.parent;n96=1;break;case 4:n96=k?3:26;break;case 15:n96=27;break;case 8:U96=k.Od;n96=U96===x.pi?7:6;break;case 16:n96=U96===x.$i?14:15;break;case 27:throw Error(i5M);n96=14;break;case 26:B6kk.T5M(2);L.warn(B6kk.x5M(g,b5M));n96=25;break;case 14:k.Od=p;b(k);this.qU=this.qU||m(this.$k);a=this.$k.Od;a>q&&(L.warn(g5M,a===x.pi),this.emit(O5M,a===x.pi));n96=20;break;case 2:k=a!==n.Gf.ar&&g?this.Yc[g]:this.$k,q=this.$k.Od,p=d?x.pi:x.TEMPORARY;n96=1;break;case 6:n96=U96===x.TEMPORARY?14:16;break;case 1:n96=k&&k.parent&&k.gy!==a?5:4;break;case 20:this.CE=null;this.DE=n.Pe.ERROR;h&&(this.DE=n.Pe.NOa,k.sq=h);this.dump();n96=25;break;case 9:L.warn((d?N5M:d5M)+B6M+n.Gf.name[a]+c6M+f(k)+p6M+c(k));n96=8;break;case 3:n96=p!==k.Od?9:25;break;}}};O96=12;break;case 12:a.prototype.FAa=function(a,b){var y96;y96=2;while(y96!==3){switch(y96){case 7:p(a,b),h(a);y96=2;break;y96=5;break;case 2:y96=(a=this.Ln[a])?1:5;break;case 1:p(a,b),h(a);y96=5;break;case 5:this.CE=null;this.DE=n.Pe.mZ;y96=3;break;}}};a.prototype.lL=function(a){var o96;o96=2;while(o96!==1){switch(o96){case 4:p(this.$k,a);o96=5;break;o96=1;break;case 2:p(this.$k,a);o96=1;break;}}};O96=10;break;case 15:return a;break;}}}();d.Pfa=a;l.mi(g.EventEmitter,a);},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(25);g=a(54);a=function(){function a(a,f){var c;c=this;this.track=a;this.mo=!1;this.listeners=new b.Ow();this.listeners.on(a,"networkfailing",function(){c.emit("networkfailing");});this.listeners.on(a,"error",function(){c.emit("error");});if(f)this.mo=!0,setTimeout(function(){return c.emit("created");},0);else this.listeners.on(a,"created",function(){c.mo=!0;c.emit("created");});}Object.defineProperties(a.prototype,{C4:{get:function(){return this.track.C4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wh:{get:function(){return this.track.Wh;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sj:{get:function(){return this.track.sj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pra:{get:function(){return this.track.pra;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{config:{get:function(){return this.track.config;},enumerable:!0,configurable:!0}});a.prototype.cn=function(){this.listeners.clear();};a.prototype.bk=function(){return this.track.bk();};a.prototype.toString=function(){return this.track.toString();};return a;}();d.pQa=a;g(b.EventEmitter,a.prototype);},function(g,d,a){var b,f,h,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(200);f=a(11);h=a(153);m=a(207);c=a(59);k=a(24);a(13);a(5);g=function(){var P6M;P6M=2;function a(){var a6M,e2K;a6M=2;while(a6M!==1){e2K="1";e2K+="SIY";e2K+="bZrNJ";e2K+="Cp";e2K+="9";switch(a6M){case 4:"";a6M=3;break;a6M=1;break;case 2:e2K;a6M=1;break;}}}while(P6M!==13){switch(P6M){case 3:a.prototype.lTa=function(){var w6M,W2K;w6M=2;while(w6M!==1){W2K="on";W2K+="Ex";W2K+="it";switch(w6M){case 4:return this.Qja(this.Mb.Nua,"");break;w6M=1;break;case 2:return this.Qja(this.Mb.Nua,W2K);break;}}};a.prototype.MSa=function(a,f){var q6M,g,h,k,m,q,p,l,u,n,t;q6M=2;function d(a){var V6M,b,c;V6M=2;while(V6M!==9){switch(V6M){case 4:B6kk.k2K(0);c=B6kk.D2K(b,n);return{Hn:a,Ol:b,wGb:c,Jxa:0<a&&c<p/1E3};break;case 2:a=Math.floor(Math.min(l,a)/q.yd);b=q.yd*a;V6M=4;break;}}}while(q6M!==18){switch(q6M){case 2:k=this.Mb;m=!0;g=!1;h=b.fta(k,this.wu);q6M=9;break;case 14:n=u-this.Wra;f=k.t9a||f;a&&!f&&(g=d(n),t=g.Hn,g=g.Jxa);q6M=11;break;case 9:q=this.Ia;p=q.ga;l=this.Ol;u=a?a.NK:this.VU-2*q.yd;q6M=14;break;case 11:g||(t=u-c.gc.uxa(h,p),t=new c.gc(t-this.Wra,p),h=d(k.ml?Infinity:Math.max(0,t.yd)),t=h.Hn,(h=h.Jxa)&&0<t&&!k.ml&&--t);this.Ej({start:0,end:t});t<(k.lib||1)&&(m=!1);return{Hqb:m,Cgb:g};break;}}};a.prototype.XB=function(a,b,c,d,g){var K6M,h;K6M=2;while(K6M!==6){switch(K6M){case 2:h=this.Mb;K6M=5;break;case 5:K6M=this.Ph?4:3;break;case 4:return!1;break;case 3:a=this.Xra?a.appendBuffer(k.Wm(this.Mqa),this):this.Ta&&!this.aq?this.PTa(a,b,d,g):this.Ta&&this.aq?this.QTa(a,c,d,g):this.O===f.L.AUDIO&&h.En&&b&&this.vw&&b.ee>=this.ee&&this.Te-this.vw<this.vw-this.Oc?!0:a.appendBuffer(this.response,this);this.Ph=!0;this.eL();return a;break;}}};a.prototype.PTa=function(a,b,c,d){var s6M,g,h,q,Y2K,C2K;s6M=2;while(s6M!==6){Y2K=" ";Y2K+="f";Y2K+="rom";Y2K+=" ";Y2K+="[ ";C2K="AseFra";C2K+="g";C2K+="mentMediaRequest: Fragment e";C2K+="dit failed for ";switch(s6M){case 2:h={Cq:0};g=!1;q=!0;this.O===f.L.AUDIO&&b&&(c?d&&this.Fqa():this.Yja(b)?b.Ta&&this.Ta&&this.Ta.start!==b.Ta.end&&this.Ej({start:b.Ta.end}):(h=this.kTa(),b.ee===this.Hc&&(h.Cq=0)));0>=this.duration&&(q=!1,g=!0);s6M=8;break;case 8:q&&(this.Ta&&(0<this.Ta.start||h.Cq)?(g=new m.DN(this.stream,this.response),(b=g.mAa(this.Ta.start,this.Rv,h.Cq,h.caa))?(g=a.appendBuffer(k.Wm(b.Yf),this),this.nP(h),this.fP(b.Yf)):(this.K.error(C2K+this.toString()+Y2K+this.av+"-"+this.cS+"]"),g=!0)):g=a.appendBuffer(this.response,this));return g;break;}}};P6M=6;break;case 2:a.prototype.Yja=function(a){var H6M;H6M=2;while(H6M!==1){switch(H6M){case 2:return a&&h.eQ(a.M,this.M)&&a.Ura===this.Ura?!0:!1;break;}}};a.prototype.jTa=function(){var R6M,a,b,c,f;R6M=2;while(R6M!==7){switch(R6M){case 3:f=this.wu&&this.wu.Fp;Array.isArray(f)&&Array.isArray(a.Fp)?f=f.filter(function(b){var H8n=B6kk;var m6M,Q6M,e6M;m6M=2;while(m6M!==1){switch(m6M){case 2:H8n.Z2K(1);Q6M=H8n.D2K(16,25,10);return Q6M!==a.Fp.indexOf(b);break;case 4:H8n.k2K(2);e6M=H8n.F2K(37,14,2);return e6M==a.Fp.indexOf(b);break;m6M=1;break;}}}):Array.isArray(a.Fp)?f=a.Fp:Array.isArray(f)||(f=[]);return-1!==f.indexOf(this.profile)?{Pra:!!b,HAa:!b,dba:!b||!c}:{Pra:!1,HAa:!1,dba:!c};break;case 2:a=this.Mb;b=void 0!==a.tw?a.tw:this.wu&&this.wu.tw;c=void 0!==a.rw?a.rw:this.wu&&this.wu.rw;R6M=3;break;}}};a.prototype.Qja=function(a,b){var D6M,c,f,d,g,q2K,U2K;D6M=2;while(D6M!==13){q2K="def";q2K+="au";q2K+="lt";U2K="de";U2K+="f";U2K+="au";U2K+="l";U2K+="t";switch(D6M){case 4:D6M=void 0!==d.MJ&&null!==d.MJ?3:14;break;case 2:d=this.Mb;g=this.jTa();D6M=4;break;case 3:D6M=(c=(void 0!==a?a:d.MJ)||0,a=d.Lua&&d.Lua[this.stream.profile])?9:8;break;case 9:f=a.name,c=void 0!==a[b]?a[b]:void 0!==a[U2K]?a[q2K]:c;D6M=8;break;case 8:g.Cq=g.dba?void 0!==c?c:1:0;g.caa=void 0!==f?f:g.HAa;return g;break;case 14:g.dba=!1;D6M=8;break;}}};a.prototype.kTa=function(){var X6M,v2K;X6M=2;while(X6M!==1){v2K="o";v2K+="n";v2K+="E";v2K+="nt";v2K+="ry";switch(X6M){case 2:return this.Qja(this.Mb.Mua,v2K);break;case 4:return this.Qja(this.Mb.Mua,"");break;X6M=1;break;}}};P6M=3;break;case 6:a.prototype.QTa=function(a,b,c,d){var L6M,g,h,q,J2K,I2K;L6M=2;while(L6M!==6){J2K=" ";J2K+="from ";J2K+="[";J2K+=" ";I2K="AseFragmentMediaRequest: ";I2K+="Fragme";I2K+="nt edi";I2K+="t failed";I2K+=" for ";switch(L6M){case 2:g=this.Mb;q={Cq:0};h=!0;this.O===f.L.AUDIO&&(c?d&&(this.L6a(),h=0<this.Ta.end):this.Yja(b)?b.Ta&&0!==b.Ta.start?this.Ej({start:0,end:b.Ta.start}):h=!1:(q=this.lTa(),g.En||(b=this.MSa(b,q.Pra),(h=b.Hqb)&&b.Cgb&&!q.caa&&(q.Cq=0))));h&&0===this.duration&&(h=!1);L6M=8;break;case 8:h?this.Ta&&this.Ta.end<this.eJ||q.Cq?(h=new m.DN(this.stream,this.response),(h=h.pAa(this.Ta&&this.Ta.end,this.ga,q.Cq,q.caa))?(a=a.appendBuffer(k.Wm(h.Yf),this),this.nP(q),this.fP(h.Yf)):(this.K.error(I2K+this.toString()+J2K+this.av+"-"+this.cS+"]"),a=!0)):a=a.appendBuffer(this.response,this):a=!0;return a;break;}}};return a;break;}}}();d.Ovb=g;d["default"]=new g();},function(g){var d,a,b,f;d={name:"heaac-2-dash reset sample",profile:53,Nk:2,sampleRate:24E3,duration:1024,ht:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Nk:2,sampleRate:24E3,duration:1024,ht:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,Nk:6,sampleRate:48E3,duration:1536,ht:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,Nk:2,sampleRate:48E3,duration:1536,ht:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};g.T={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":b,"ddplus-5.1hq-dash":b,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":d,"heaac-2hq-dash":d},"heaac-2-dash":d,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":f};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){var a,b,f,d,g;this.nf();a=this.yq([{Vba:"int32"},{cqa:"int32"},{aR:"int32"},{cR:"int32"},{bR:"int32"}]);b=a.Vba;f=a.cqa;d=a.aR;g=a.bR;a=a.cR;this.fd={eb:b,z5a:f,$Q:d,Zpa:g,$pa:a};this.Vba=b;this.cqa=f;this.aR=d;this.cR=a;this.bR=g;return!0;};f.Xj="trex";f.Sb=!1;return f;}(a(32).Fh);d["default"]=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(93);a=a(32);f=g.WY;a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.nf();this.fd=this.yq([{xU:"int32"},{zI:"int16"}]);return!0;};d.Xj=f;d.Sb=!1;return d;}(a.Fh);d["default"]=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(206);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.nf();this.gJa=f.sea.Oza(this.J);return!0;};d.Xj="esds";d.Sb=!1;return d;}(a(32).Fh);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.jy=function(){var a;a=this.ly("esds");if(a=a&&a.gJa.ly(5))this.dS=a.dS;return!0;};f.Xj="mp4a";f.Sb=!0;return f;}(a(370)["default"]);d["default"]=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(58);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.nf();this.fd=this.yq([{cJb:"int32"},{Tta:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.fd.Tta=f.GG(this.fd.Tta);return!0;};d.Xj="hdlr";d.Sb=!1;return d;}(a(32).Fh);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.fd=this.yq([{yEb:"int32"},{vn:"int32"},{t_a:"int32"}]);return!0;};f.Xj="btrt";f.Sb=!1;return f;}(a(32).Fh);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.fd=this.yq([{aHb:"int32"},{KKb:"int32"}]);return!0;};f.Xj="pasp";f.Sb=!1;return f;}(a(32).Fh);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.nf();this.fd=this.yq(1===this.version?[{Vra:"int64"}]:[{Vra:"int32"}]);return!0;};f.Xj="mehd";f.Sb=!1;return f;}(a(32).Fh);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){var a;this.nf();a=1===this.version?[{Ng:"int64"},{modificationTime:"int64"},{eb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{Ng:"int32"},{modificationTime:"int32"},{eb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{pfb:"int16"},{oZa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.fd=this.yq(a);this.fd.pKb=!!(this.Je&1);this.fd.qKb=!!(this.Je&2);this.fd.rKb=!!(this.Je&4);this.fd.sKb=!!(this.Je&8);this.J.console.trace("Finished parsing track box");return!0;};f.Xj="tkhd";f.Sb=!1;return f;}(a(32).Fh);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Xj="trak";f.Sb=!0;return f;}(a(32).Fh);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.nf();this.fd=1===this.version?this.yq([{Ng:"int64"},{modificationTime:"int64"},{ga:"int32"},{duration:"int64"}]):this.yq([{Ng:"int32"},{modificationTime:"int32"},{ga:"int32"},{duration:"int32"}]);return!0;};f.Xj="mvhd";f.Sb=!1;return f;}(a(32).Fh);d["default"]=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(126);a(126);f=a(58);g=function(){function a(a,b,f){this.view=a;this.console=b;this.config=f;this.view=a;this.console=b;this.bz=this.mQ=this.offset=0;}a.prototype.H$a=function(a){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,a);};a.prototype.Af=function(a){for(;this.bz<a;)this.mQ=(this.mQ<<8)+this.ge(),this.bz+=8;this.bz-=a;return this.mQ>>>this.bz&(1<<a)-1;};a.prototype.ge=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.Of=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.ub=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.K$=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.Ykb=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);b||0===(c&4278190080)||this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};a.prototype.gi=function(a,b){a=this.Ykb(a,b);this.offset+=8;return a;};a.prototype.Zkb=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);0===((0<a?a:-a)&4278190080)||this.console.warn("Warning: read signed value > 56 bits");return 4294967296*a+b;};a.prototype.dnb=function(){var a;a=this.Zkb();this.offset+=8;return a;};a.prototype.$K=function(){return f.GG(this.ub());};a.prototype.mV=function(){var b,f,d,g,h,l;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.ub(!0);f=this.Of(!0);d=this.Of(!0);g=this.Of();h=this.Of();l=this.ub();return[a(b,4),a(f,2),a(d,2),a(g,2),a(h,2)+a(l,4)].join("-");};a.prototype.Nza=function(a){var b;b=this.view.byteOffset+this.offset;return this.view.buffer.slice(b,b+a);};a.prototype.Xmb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var f=this.ge();0!==f&&0<--a;)b.push(f),f=this.ge();return String.fromCharCode.apply(null,b);};a.prototype.jV=function(a){var c,f;void 0===c&&(c=1);void 0===f&&(f=!0);return this.vd(this.config.mA&&b.hcb||b.kD,1,a,c,f);};a.prototype.Wmb=function(a){var c,f,d;f=10;d=!1;void 0===f&&(f=2);void 0===d&&(d=!0);void 0===c&&(c=!1);return this.vd(this.config.mA&&b.gcb||b.ES,2,a,f,d,c);};a.prototype.iV=function(a,c,f){var d;void 0===c&&(c=4);void 0===f&&(f=!0);void 0===d&&(d=!1);return this.vd(this.config.mA&&b.Jta||b.xy,4,a,c,f,d);};a.prototype.$mb=function(){for(var a=this.ge(),b=a&127;a&128;)a=this.ge(),b=b<<7|a&127;return b;};a.prototype.vd=function(a,b,f,d,g,h){void 0===g&&(g=!0);void 0===h&&(h=!1);a=a(this.view,this.offset,f,d,h);this.offset=g||!d||d===b?this.offset+f*(d||b):this.offset+b;return a;};return a;}();d.sSa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(24);h=a(58);g=function(a){function c(b,c,f){b=a.call(this,b,c,f)||this;b.Su=[];b.Mpa=[];return b;}b.__extends(c,a);c.prototype.TW=function(a,b){this.view.setUint8(void 0!==b?b:this.offset,a);void 0===b&&(this.offset+=1);};c.prototype.lvb=function(a,b){this.view.setUint16(void 0!==b?b:this.offset,a,!1);void 0===b&&(this.offset+=2);};c.prototype.sm=function(a,b,c){this.view.setUint32(void 0!==c?c:this.offset,a,b);void 0===c&&(this.offset+=4);};c.prototype.rEa=function(a){this.view.setInt32(this.offset,a,void 0);this.offset+=4;};c.prototype.mvb=function(a,b){var c;c=Math.floor(a/4294967296);a&=4294967295;void 0!==b?(this.view.setUint32(b,c,!1),this.view.setUint32(b+4,a,!1)):(this.view.setUint32(this.offset,c,!1),this.offset+=4,this.view.setUint32(this.offset,a,!1),this.offset+=4);};c.prototype.pEa=function(a){this.sm(h.Zja(a));};c.prototype.A8=function(a){var b;b=void 0!==b?b:this.offset;this.Mpa.push({offset:b,Gl:a});};c.prototype.Aj=function(a,b){this.Su.push({offset:b,remove:a});};c.prototype.hL=function(a,b,c){this.Su.push({offset:c,remove:a,replace:b});};c.prototype.Ta=function(){var a,b,c,f;a=this;if(0===this.Su.length)return[this.view.buffer];this.Qtb();this.xob();b=[];c=this.view.byteLength;f=0;this.Su.filter(function(a){return a.offset<c;}).forEach(function(c){c.offset>f&&b.push(a.view.buffer.slice(f,c.offset));c.replace&&b.push(c.replace);f=c.offset+c.remove;});b.push(this.view.buffer.slice(f));return b;};c.prototype.xob=function(){this.Su.sort(function(a,b){return a.offset-b.offset;});this.Su=this.Su.reduce(function(a,b){var c,d;if(0===a.length)return a.push(b),a;c=a[a.length-1];d=c.offset+c.remove;b.offset>=d?a.push(b):b.offset+b.remove>d&&(c.remove+=b.offset+b.remove-d,b.replace&&(c.replace=c.replace?f.Wm(c.replace,b.replace):b.replace));return a;},[]);};c.prototype.Qtb=function(){var a;a=this;this.Mpa.forEach(function(b){var c,f;c=b.Gl+a.view.getUint32(b.offset);f=a.Su.reduce(function(a,f){return f.offset>b.Gl&&f.offset<c?a+(f.remove-(f.replace?f.replace.byteLength:0)):a;},0);a.view.setUint32(b.offset,c-b.Gl-f);});};return c;}(a(756).sSa);d.rSa=g;},function(g,d,a){var b,f,h,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(373);f=a(372);h=a(202);m=a(367);g=function(){function a(a,b){this.stream=a;this.view=b instanceof ArrayBuffer?new DataView(b):new DataView(b.data,b.offset,b.length);}a.prototype.parse=function(a){var c;c=new m.Yda(this.view.byteLength);this.di=new b.kX(f.uK.Ec,c,this.view,h.console,{S9:!0});a=this.di.parse(a);this.Ec=this.di.Ec;return a.done;};return a;}();d.lNa=g;},function(g,d,a){var f;function b(a){this.zE=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.zE[b]=a.charCodeAt(b);}f=new(a(5)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,c;b=this.zE.length;if(void 0===this.zE)f.warn("XORCiper.encrypt is called with undefined secret!");else{c="";for(var d=0;d<a.length;++d)c+=String.fromCharCode(this.zE[d%b]^a.charCodeAt(d));return encodeURIComponent(c);}};b.prototype.decrypt=function(a){var b,c;b="";c=this.zE.length;a=decodeURIComponent(a);for(var f=0;f<a.length;f++)b+=String.fromCharCode(this.zE[f%c]^a.charCodeAt(f));return b;};g.T=b;},function(g,d,a){var b;b=0;g.T.fZ=function(f,d){var c,h,p,q;function g(a,b){return(a["$ASE$order"+q]||0)-(b["$ASE$order"+q]||0);}c=a(48);h=this;p=d?[d]:[];q="$op$"+b++;c({value:f,addListener:function(a,b){a["$ASE$order"+q]=b;p=p.slice();p.push(a);p.sort(g);},removeListener:function(a){var b;p=p.slice();0<=(b=p.indexOf(a))&&p.splice(b,1);},set:function(a,b){var f;if(h.value!==a){f={oldValue:h.value,newValue:a};b&&c(b,f);h.value=a;a=p;b=a.length;for(var d=0;d<b;d++)a[d](f);}}},h);};},function(g){function d(a,b){this.Fa=a;this.dh=b;}d.prototype.m$=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,f=Math.sqrt(-2*Math.log(b/2)),f=-.70711*((2.30753+.27061*f)/(1+f*(.99229+.04481*f))-f),d=0;2>d;d++)var g=Math.abs(f),c=1/(1+g/2),g=c*Math.exp(-g*g-1.26551223+c*(1.00002368+c*(.37409196+c*(.09678418+c*(-.18628806+c*(.27886807+c*(-1.13520398+c*(1.48851587+c*(-.82215223+.17087277*c))))))))),g=(0<=f?g:2-g)-b,f=f+g/(1.1283791670955126*Math.exp(-(f*f))-f*g);a=1>a?f:-f;}return this.Fa-Math.sqrt(2*this.dh)*a;};g.T=d;},function(g,d,a){var b,f,h,m,c,k,p,q,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);g=a(5);h=a(24);a(13);m=a(207);c=a(207);k=a(210);p=a(94);q=a(201);l=g.qk;a=function(a){function d(b,c,d,g,h,k){var m,n;g=a.call(this,b,d,g,k)||this;h=p.pk.prototype.toString.call(g)+(h?"(cache)":"");m={offset:d.offset,aa:d.i9,responseType:0};g.push(new q.NM(b,c,h+"(moof)",m,g,k));m={offset:d.offset+m.aa+8,aa:d.aa-(m.aa+8),responseType:l.Sc&&!l.Sc.uE.gx?0:1};if(g.O===f.L.VIDEO&&g.Ta){if(0<g.Ta.start){if(n=g.Era(g.Ta.start))m.offset=d.offset+n,m.aa=d.aa-n;}else g.Ta.end<g.eJ&&(n=g.Era(g.Ta.end))&&(m.aa-=d.aa-n);}g.push(new q.NM(b,c,h+"(mdat)",m,g,k));return g;}b.__extends(d,a);d.prototype.XB=function(a){var b,f;if(this.Ph)return!0;if(!this.Fy())return!1;f=!1;if(this.Xra)f=a.appendBuffer(h.Wm(this.Mqa),this);else if(this.Ta&&0<this.Ta.start){b=new m.DN(this.stream,this.ta[0].response);if(b=b.mAa(this.Ta.start,this.ga))f=a.appendBuffer(h.Wm(b.Yf),this),this.fP(b.Yf);this.nP();}else if(this.Ta&&this.Ta.end<this.eJ){b=new m.DN(this.stream,this.ta[0].response);if(b=b.pAa(this.Ta.end,this.ga))f=a.appendBuffer(h.Wm(b.Yf),this),this.fP(b.Yf);this.nP();}else f=a.appendBuffer(this.ta[0].response,this);f&&(f=a.appendBuffer(c.Fgb(this.ta[1].aa),this))&&(f=a.appendBuffer(this.ta[1].response,this));this.Ph=f;this.Pnb();return f;};return d;}(k.rA);d.gFa=a;},function(g,d,a){var f,h,m,c,k,p,q;function b(a,b){var f,d;f=Math.floor(1E3*a/b);d=1E3*Math.round(f/1E3);return new c.gc(d,Math.abs(Math.floor(1001*a/b)-d)>Math.abs(f-d)?1E3:1001);}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);h=a(48);m=a(6);c=a(59);k=a(379);p=a(378);a(13);q=a(375);g=function(){function a(c,f,d){this.G=f;this.K=d;this.a0=c.Sy;this.Nd=c.Oa;this.i0=c.M;this.Sj=c.O;1===this.Sj&&(f=this.a0.streams[0],void 0!==f.framerate_value&&void 0!==f.framerate_scale&&(this.$_=b(f.framerate_value,f.framerate_scale).mnb()));this.Ir=(this.uB=this.$_)&&this.uB.ga;this.M_=this.ska=!1;this.G6=-Infinity;this.mwa=Infinity;c=a.CTa(this,c.wg,c.$r);f=c.vn;d=c.$b;this.BUa=c.vJ;this.cVa=f;this.Gr=d;this.EXa=d.reduce(function(a,b){a[b.za]=b;return a;},{});!1;}a.CTa=function(a,b,c){var d,g,k,l,n,u;d=a.G;g=1===a.O;k={};d.OL&&d.OL.enabled&&d.OL.profiles&&d.OL.profiles.forEach(function(a){k[a]={action:d.OL.action,applied:!1};});l=!1;n=0;u=[];a.Sy.streams.forEach(function(t,r){var A,y,x,G,L;y=t.bitrate;x=t.vmaf;G=t.content_profile;L={inRange:!0,lf:!0};if(g){A=-1===t.content_profile.indexOf("none");L.lf=b&&!A||!b&&A;L.lf&&c&&h(q.x1(t.content_profile,t.bitrate,c),L);if(y<d.Vhb||y>d.Pgb)L.inRange=!1;!m.Qa(x)&&(x<d.Whb||x>d.Qgb)&&(L.inRange=!1);k.hasOwnProperty(G)&&"keepLowest"===k[G].action&&(k[G].applied?L.inRange=!1:k[G].applied=!0);l=l||A;}L.inRange&&L.lf&&y>n&&(n=y);t=new p.pFa(f.__assign({Lgb:t,Qf:r,track:a},L),d,a.K);u.push(t);});return{vJ:l,vn:n,$b:u};};Object.defineProperties(a.prototype,{jd:{get:function(){return!!this.Yo;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Z3:{get:function(){return this.ska;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oa:{get:function(){return this.Nd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.i0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{eb:{get:function(){return this.a0.track_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Sj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.uB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Ir;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rv:{get:function(){return this.rVa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Yo:{get:function(){return this.Gb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Sy:{get:function(){return this.a0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{vJ:{get:function(){return this.BUa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{vn:{get:function(){return this.cVa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$b:{get:function(){return this.Gr;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{a5:{get:function(){return this.Ia.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Z4:{get:function(){return this.Ia.yd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{FH:{get:function(){return this.Ia.yd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{HH:{get:function(){return this.Ia.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{i7:{get:function(){return this.Ia.yf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return 0;},enumerable:!0,configurable:!0}});a.prototype.Up=function(a){return this.Bs()[a];};a.prototype.Bs=function(){return this.EXa;};a.prototype.zU=function(a,b,c,f,d){if(f&&void 0!==f.Fj&&(this.jd||void 0!==f.cd&&f.cd.length))if(a.qn&&(this.ska=!0),this.jd)!this.M_&&f.cd&&f.cd.length>this.Yo.length&&(this.Gb=new k.$ia(this.O,this.Ia,f,d),this.G6=-Infinity,this.M_=!0);else{this.nma(b);if(c=c||this.$_)this.mma(c||this.$_),void 0===this.ga&&this.oma(c.ga);this.Gb=new k.$ia(this.O,this.Ia,f,d);a.qn&&(this.M_=!0);}else this.K&&this.K.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.m2a=function(a){this.jd||(this.oma(a.ga),this.nma(a.Rv),this.mma(a.Ia),this.Gb=a.Yo);};a.prototype.toJSON=function(){return{movieId:this.M,mediaType:this.O,trackId:this.eb};};a.prototype.toString=function(){return(0===this.O?"a":"v")+":"+this.eb;};a.prototype.oma=function(a){this.Ir=a;};a.prototype.nma=function(a){this.rVa=a;};a.prototype.mma=function(a){this.uB=a;};return a;}();d.qFa=g;},function(g,d,a){var b,f,h,m,c,k,p,q,l,n,r,L,x,G,N,R,S,C,D,E,P,J,Z;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(13);g=a(25);h=a(6);m=a(380);c=a(211);k=a(366);p=a(83);a(378);q=a(364);l=a(363);n=a(11);r=a(362);L=a(740);x=a(54);G=a(5);N=a(359);R=a(358);S=G.Promise;C=new G.Console("HEADERCACHE","media|asejs");a=new G.Console("MEDIACACHE","media|asejs");D=G.xA;E=C.trace.bind(C);a.trace.bind(a);P=C.warn.bind(C);J=C.error.bind(C);Z=C.info.bind(C);a=function(a){var f2K;f2K=2;function d(b,c,f,d){var L2K,K1n,o1n,M1n;L2K=2;while(L2K!==24){K1n="1SI";K1n+="YbZrNJ";K1n+="Cp";K1n+="9";o1n="c";o1n+="a";o1n+="t";o1n+="c";o1n+="h";M1n="fu";M1n+="n";M1n+="ctio";M1n+="n";switch(L2K){case 3:b.MDb=Z;b.PG=Object.create(null);b.Ak=c;L2K=7;break;case 2:b=a.call(this)||this;b.Ek=E;b.bd=J;b.Ha=P;L2K=3;break;case 13:b.XG=c.ZQ;b.mu=[];b.EO=!1;b.sB=[];b.IB={};L2K=19;break;case 7:b.Wd=Object.create(null);b.Xt=0;b.Kg=[];L2K=13;break;case 19:b.X0=(b.Ak.Aw||b.Ak.rca)&&0<(b.Ak.Qu||(G.options||{}).MD||0);b.Jm=b.Ak.R8;b.He=void 0;b.X0&&(b.Ak.Qu||(c=(G.options||{}).MD||0,M1n===typeof b.Ak.set?b.Ak.set({Qu:c}):b.Ak.Qu=(G.options||{}).MD||0),b.He=new L.PMa(b.Ak,G,b),b.He.Ac(b,d).then(function(){var P2K,Q1n;P2K=2;while(P2K!==1){Q1n="Media c";Q1n+="ac";Q1n+="he ";Q1n+="in";Q1n+="itialized";switch(P2K){case 4:E("");P2K=4;break;P2K=1;break;case 2:E(Q1n);P2K=1;break;}}})[o1n](function(a){var M2K,t1n;M2K=2;while(M2K!==1){t1n="Media c";t1n+="ache di";t1n+="d ";t1n+="not initialize";switch(M2K){case 4:J("",a);M2K=7;break;M2K=1;break;case 2:J(t1n,a);M2K=1;break;}}}));L2K=15;break;case 15:b.yl=f;p.call(b);K1n;return b;break;}}}while(f2K!==50){switch(f2K){case 43:d.prototype.iXa=function(a,b){var E3K,s1n;E3K=2;while(E3K!==4){s1n="pre";s1n+="buff";s1n+="stats";switch(E3K){case 2:a.Kb.WU=b;a={type:s1n,movieId:a.M,stats:{prebuffstarted:a.Kb.jE,prebuffcomplete:a.Kb.WU}};E3K=5;break;case 7:this.na(a.type,a);E3K=3;break;E3K=4;break;case 5:this.na(a.type,a);E3K=4;break;}}};d.prototype.TUa=function(a,b){var j3K,c,P1n;j3K=2;while(j3K!==4){P1n="Media c";P1n+="a";P1n+="che is not enabled";switch(j3K){case 2:c=this;return this.He?this.He.Rfb(a,b).then(function(b){var T3K;T3K=2;while(T3K!==5){switch(T3K){case 2:T3K=b&&b.Ni?1:5;break;case 1:return c.Wd[a]=b.Ni,++c.Xt,c.tO(),c.Kg.push(b.Ni),c.Kg.sort(c.aV),c.Dja(a,b),c.cache[a];break;case 3:T3K=b||b.Ni?8:6;break;T3K=b&&b.Ni?1:5;break;}}}):S.reject(P1n);break;}}};d.prototype.SUa=function(a,b){var d3K,c,f,d,j1n;d3K=2;while(d3K!==6){j1n="Media c";j1n+="ache is not ";j1n+="enabled";switch(d3K){case 2:c=this;d3K=5;break;case 5:d3K=this.He?4:7;break;case 4:f=void 0;d=!1;this.He.$ua(this.Wd[a])?(f=S.resolve(this.Wd[a]),d=!0):f=this.He.Xfb(a);return f.then(function(f){var A3K;A3K=2;while(A3K!==1){switch(A3K){case 2:return!h.R(f)&&c.He?c.He.Qfb(a,b,f).then(function(b){var o3K;o3K=2;while(o3K!==5){switch(o3K){case 2:b&&(d||(c.Wd[a]=f,++c.Xt,c.tO(),c.Kg.push(f),c.Kg.sort(c.aV)),c.Dja(a,b));return c.Wd[a];break;}}}):S.resolve(void 0);break;}}});break;case 7:return S.reject(j1n);break;}}};f2K=40;break;case 17:d.prototype.ckb=function(a){var n3K,b,c,f,d,A1n,y1n,F1n,a1n,W1n;n3K=2;while(n3K!==14){A1n="manage";A1n+="rdebugeve";A1n+="nt";y1n=", remai";y1n+="ning";y1n+=": ";F1n=",";F1n+=" p";F1n+="t";F1n+="s:";F1n+=" ";a1n=", st";a1n+="reamId";a1n+=": ";W1n=",";W1n+=" headerCache d";W1n+="ataCo";W1n+="mplete: mov";W1n+="ieId: ";switch(n3K){case 4:f=this.Wd[c]||a.Ni;n3K=3;break;case 9:n3K=(this.Ak.jf&&(c="@"+G.time.ea()+W1n+c+a1n+a.za+F1n+a.U+y1n+(f.wC-1),this.na(A1n,{message:c})),a.ie&&0===a.responseType&&this.He&&!this.Jm)?8:6;break;case 2:b=this;c=a.M;n3K=4;break;case 3:n3K=f?9:14;break;case 8:d=G.time.now();this.He.Qob(a,f,function(c){var X3K;X3K=2;while(X3K!==4){switch(X3K){case 2:c||h.R(f)||(c=G.time.ea()-d,h.R(f.Kb)&&(f.Kb={}),h.R(f.Kb.om)&&(f.Kb.om=0),f.Kb.om+=c);--f.wC;X3K=5;break;case 5:b.wO(a);X3K=4;break;case 7:b.wO(a);X3K=2;break;X3K=4;break;}}});n3K=14;break;case 6:--f.wC,b.wO(a);n3K=14;break;}}};d.prototype.cka=function(){var H3K;H3K=2;while(H3K!==1){switch(H3K){case 2:0===this.mu.length&&(this.mu=[l.zt.sv.QQ(0,void 0,!1,!1,this.yl,this.Ak),l.zt.sv.QQ(1,void 0,!1,!1,this.yl,this.Ak)],D.We());H3K=1;break;}}};f2K=15;break;case 15:d.prototype.lka=function(){var m3K,a;m3K=2;while(m3K!==3){switch(m3K){case 2:a=this.mu;this.mu=[];a.forEach(function(a){var w3K;w3K=2;while(w3K!==1){switch(w3K){case 2:l.zt.sv.L3(a);w3K=1;break;case 4:l.zt.sv.L3(a);w3K=7;break;w3K=1;break;}}});m3K=3;break;}}};d.prototype.XUa=function(){var N3K,a;N3K=2;while(N3K!==4){switch(N3K){case 2:a=this;!this.EO&&0<this.sB.length&&(this.sB.forEach(function(b){var p3K;p3K=2;while(p3K!==1){switch(p3K){case 2:a.oP(b.adb,b.Hd);p3K=1;break;}}}),this.sB=[]);N3K=4;break;}}};d.prototype.XWa=function(a,b){var t3K,c,d,g,k,m,p,l,u,t,A,y,x,G,E1n;t3K=2;while(t3K!==24){E1n="A config must be passed ";E1n+="to _req";E1n+="uestHeade";E1n+="r";switch(t3K){case 2:t3K=1;break;case 1:c=this;d=b.M;g=b.Td;t3K=3;break;case 12:t=b.config;t=q.gpa(t,l);b={stream:[new R.KZ(void 0,t.Jna,t,void 0),new R.KZ(void 0,t.sba,t,void 0)],location:new r.Pfa(void 0,a.$e,a.CD,!u,t),ja:{state:n.Ma.Lh,q7:!0,buffer:{Hu:void 0,U:0,sf:0,bb:0,Qk:0,Xv:0,$:[],mm:void 0,y9a:void 0}}};b.location.uH(l);A=this.Qbb(a,b,l,p,u,t,C);t3K=18;break;case 3:k=b.Hd;m=b.ie;p=b.Nab();l=p.Ja;u=p.wg;p=p.aC;f.assert(b.config,E1n);t3K=12;break;case 18:t3K=!A?17:16;break;case 17:return S.reject();break;case 16:y=this.Wd[d];y||(y={Td:g,M:d,headers:Object.create(null),xo:0,NS:0,wC:0,data:void 0,ie:m,Kb:{},eR:void 0,$ma:void 0},!y.ie||this.Jm?this.Wd[d]=y:y.Kb.om=0,this.Kg.push(y),this.Kg.sort(this.aV));x=[];t.$cb&&(G=2292+12*Math.ceil(l.duration/2E3));return(m&&this.He?this.Jm?this.He.Vfb(d,y):this.He.zgb(d):S.resolve(void 0)).then(function(a){var a3K;a3K=2;while(a3K!==5){switch(a3K){case 2:A.forEach(function(b){var y3K,f;y3K=2;while(y3K!==4){switch(y3K){case 5:t.NI&&y.headers[b.za]||(h.R(y.Sl)&&b.O===n.L.VIDEO&&(y.Sl=b.P,y.zo=b.zo,y.ln=b.ln,y.Xl=b.fdb,y.Wk=b.RS),u&&b.O===n.L.VIDEO&&t.KR?f=t.KR:t.ZDa&&b.Bq&&(f=b.Bq.offset+b.Bq.size),b={stream:b,url:b.url,offset:0,aa:f,ie:m},m&&(y.Kb.yhb=!h.R(a)&&0<Object.keys(a).length,b.Mv=a),b=c.YWa(b,k,y,t),x.push(b));y3K=4;break;case 2:f=G?G:t.OS;y3K=5;break;}}});return S.all(x);break;}}}).then(function(a){var z3K;z3K=2;while(z3K!==1){switch(z3K){case 2:return new S(function(b){var i3K;i3K=2;while(i3K!==1){switch(i3K){case 2:c.He&&m&&!c.Jm?c.He.Tob(y,function(){var Q3K;Q3K=2;while(Q3K!==1){switch(Q3K){case 2:b(a);Q3K=1;break;case 4:b(a);Q3K=0;break;Q3K=1;break;}}}):b(a);i3K=1;break;}}});break;}}}).then(function(a){var O3K;O3K=2;while(O3K!==3){switch(O3K){case 2:a=Math.max.apply(Math,a);y.Kb.VR=y.Kb.jua;y.Kb.AT=a;return{firstheadersent:y.Kb.VR,lastheadercomplete:y.Kb.AT};break;}}});break;}}};d.prototype.r_=function(a,b){var D3K,c;D3K=2;while(D3K!==7){switch(D3K){case 4:b=new k.Vca(a.stream,b,this.mu[c].track,a,this,!0,C);b.ie=a.ie;b.Tg=this;return b;break;case 2:c=a.stream.O;2>this.mu.length&&this.cka();D3K=4;break;}}};d.prototype.xTa=function(a,b){var F3K,f;F3K=2;while(F3K!==7){switch(F3K){case 9:b.Tg=this;return b;break;case 2:f=a.stream.O;2>this.mu.length&&this.cka();b=c.$W.create(a.stream,b,this.mu[f].track,a,this,!0,C);b.ie=a.ie;F3K=9;break;}}};f2K=23;break;case 19:d.prototype.YD=function(a){var x3K,H1n;x3K=2;while(x3K!==5){H1n="_onE";H1n+="rror";H1n+=":";H1n+=" ";switch(x3K){case 2:P(H1n,a.toString());this.wO(a);x3K=5;break;}}};d.prototype.akb=function(a){var h3K,b;h3K=2;while(h3K!==8){switch(h3K){case 2:b=this;a.Hsb=a.tc;this.ESa(a);h3K=3;break;case 3:h.R(a.xJ)||a.xJ(a.Hsb);this.ZWa(a,function(){var s3K;s3K=2;while(s3K!==1){switch(s3K){case 2:h.R(a)||(h.R(a.Ni)||a.Ni.NS--,b.wO(a));s3K=1;break;}}});h3K=8;break;}}};f2K=17;break;case 12:d.prototype.Ry=function(){var g2K,q1n;g2K=2;while(g2K!==1){q1n="Me";q1n+="dia cache";q1n+=" is";q1n+=" not e";q1n+="nabled";switch(g2K){case 2:return this.He?this.He.Vab():S.reject(q1n);break;}}};d.prototype.Lra=function(){var r3K,c,f,d,I1n,J1n;function b(a,b){var c3K;c3K=2;while(c3K!==1){switch(c3K){case 2:a&&a.data&&a.data[b].forEach(function(a){var R3K;R3K=2;while(R3K!==5){switch(R3K){case 2:a.abort();c+=a.pe;R3K=5;break;}}});c3K=1;break;}}}function a(a){var b3K;b3K=2;while(b3K!==1){switch(b3K){case 4:a.Ioa();b3K=2;break;b3K=1;break;case 2:a.Ioa();b3K=1;break;}}}r3K=2;while(r3K!==3){switch(r3K){case 2:c=0;for(f in this.Wd){d=this.Wd[f];if(d.data){for(var g in d.data){I1n="i";I1n+="n";I1n+=" ";I1n+="entry";I1n+=":";J1n="missing ";J1n+="headerEntry for stream";J1n+="Id:";d.headers[g]||J(J1n,g,I1n,d);b(d,g);d.data[g].forEach(a);delete d.data[g];}delete d.data;}}this.SWa(c);r3K=3;break;}}};d.prototype.kz=function(a){var B3K,b;B3K=2;while(B3K!==4){switch(B3K){case 2:b=this.Wd[a.M];b&&(this.Yb(a)?h.R(b.Kb.jua)&&!h.R(a.Ze)&&(b.Kb.jua=a.Ze):h.R(b.Kb.jE)&&!h.R(a.Ze)&&(b.Kb.jE=a.Ze));B3K=4;break;}}};d.prototype.bi=function(a){var G3K;G3K=2;while(G3K!==1){switch(G3K){case 2:this.Yb(a)?this.akb(a):this.ckb(a);G3K=1;break;}}};f2K=19;break;case 52:d.prototype.Yb=function(a){var s4K;s4K=2;while(s4K!==1){switch(s4K){case 2:return!!a.Yb;break;case 4:return~-a.Yb;break;s4K=1;break;}}};return d;break;case 13:d.prototype.iwa=function(a){var S2K;S2K=2;while(S2K!==1){switch(S2K){case 4:return this.wza(this.Wd[a]);break;S2K=1;break;case 2:return this.wza(this.Wd[a]);break;}}};f2K=12;break;case 23:d.prototype.wO=function(a){var k3K,b,O1n;k3K=2;while(k3K!==8){O1n="s";O1n+="av";O1n+="etod";O1n+="is";O1n+="k";switch(k3K){case 3:b=this.Wd[a.M]||a.Ni;b&&0===b.NS&&0===b.wC&&(this.iXa(b,a.tc),b.ie&&this.He&&(b.Kb.yhb||(this.Jm?this.He.Uob(b):this.He.EE(O1n,{$Aa:b.Kb.om}))));k3K=8;break;case 2:this.Yb(a)&&delete this.PG[a.za];this.Yb(a)||delete a.response;a.Zd();k3K=3;break;}}};d.prototype.YWa=function(a,b,c,f){var Z3K,d;Z3K=2;while(Z3K!==11){switch(Z3K){case 2:d=this.r_(a,f);d.yAa=b;d.Ni=c;d.Mv=a.Mv;Z3K=9;break;case 9:Z3K=!d.Vv()?8:7;break;case 8:return S.reject();break;case 14:Z3K=a.xJ?13:12;break;case 7:c.NS++;this.PG[d.za]=d;Z3K=14;break;case 12:return new S(function(a){var e3K;e3K=2;while(e3K!==1){switch(e3K){case 2:d.xJ=a;e3K=1;break;case 4:d.xJ=a;e3K=9;break;e3K=1;break;}}});break;case 13:d.xJ=a.xJ;Z3K=11;break;}}};f2K=21;break;case 32:d.prototype.Cja=function(a,b){var I3K,c;I3K=2;while(I3K!==3){switch(I3K){case 5:I3K=(b=this.Wd[a.M]||b)?4:3;break;case 2:c=a.za;I3K=5;break;case 4:b.$ma||b.ie&&!this.Jm||(b.$ma=!0,++this.Xt),b.headers||(b.headers={}),b.headers[c]=a,this.Ak.NI&&(b.xo||(b.xo=0),++b.xo),this.tO();I3K=3;break;}}};d.prototype.tO=function(){var J3K,b,c,f;J3K=2;while(J3K!==11){switch(J3K){case 5:J3K=!(this.Xt<=this.XG)?4:11;break;case 2:f=0;J3K=5;break;case 9:b=c.M;J3K=8;break;case 6:delete this.Wd[b];--this.Xt;J3K=13;break;case 8:J3K=c.data?7:6;break;case 13:this.PWa(b);J3K=4;break;case 7:for(var d in c.data){c.data[d].forEach(a);delete c.data[d];}J3K=6;break;case 4:J3K=this.Xt>this.XG?3:12;break;case 3:J3K=(c=this.Kg.shift())?9:4;break;case 12:this.QWa(f);J3K=11;break;}}function a(a){var f3K;f3K=2;while(f3K!==5){switch(f3K){case 2:a.abort();f+=a.pe;f3K=5;break;}}}};d.prototype.QWa=function(a){var L3K,p1n;L3K=2;while(L3K!==1){p1n="discardedB";p1n+="yte";p1n+="s";switch(L3K){case 2:0!==a&&(a={type:p1n,bytes:a},this.na(a.type,a));L3K=1;break;}}};d.prototype.SWa=function(a){var P3K,R1n;P3K=2;while(P3K!==1){R1n="f";R1n+="lushe";R1n+="dBytes";switch(P3K){case 2:0!==a&&(a={type:R1n,bytes:a},this.na(a.type,a));P3K=1;break;}}};d.prototype.PWa=function(a){var M3K,d1n;M3K=2;while(M3K!==5){d1n="cach";d1n+="e";d1n+="E";d1n+="vic";d1n+="t";switch(M3K){case 2:a={type:d1n,movieId:a};this.na(a.type,a);M3K=5;break;}}};d.prototype.ZWa=function(a,b){var l3K,c;l3K=2;while(l3K!==9){switch(l3K){case 4:!this.He||!a.ie||this.Jm||h.R(a.Mv)||a.Mv[a.za]&&a.Mv[a.za].header?b():this.He.Rob(a,b);c.EW||0!==Object.keys(this.PG).length||this.lka();l3K=9;break;case 2:c=a.Mb;h.R(a.yAa)||this.oP(a,a.yAa);l3K=4;break;}}};f2K=43;break;case 21:d.prototype.eVa=function(a,b,c){var W3K,f,d;W3K=2;while(W3K!==7){switch(W3K){case 4:W3K=0<f?3:9;break;case 3:return function(a,b){var K8n=B6kk;var C3K;C3K=2;while(C3K!==1){switch(C3K){case 4:K8n.B1n(0);return K8n.c1n(f,b);break;C3K=1;break;case 2:K8n.B1n(1);return K8n.S1n(f,b);break;}}};break;case 2:f=a.G3;b.ie&&this.He&&(a.WT?f=a.WT:a.Hwa&&0<a.Hwa&&(f=2E3*a.Hwa));W3K=4;break;case 9:d=c&&c.length<a.F3?c.length:a.F3;return function(a){var W8n=B6kk;var Y3K;Y3K=2;while(Y3K!==1){switch(Y3K){case 2:W8n.v1n(1);return W8n.S1n(d,a);break;case 4:W8n.B1n(0);return W8n.c1n(d,a);break;Y3K=1;break;}}};break;}}};d.prototype.oP=function(a,b){var U3K,c,f,d,g,k,m,q,p,l,u,t,Y1n,C1n,g1n,D1n,z1n,T1n,f1n;U3K=2;while(U3K!==47){Y1n="manage";Y1n+="rdebugeven";Y1n+="t";C1n=", s";C1n+="tartPts:";C1n+=" ";g1n=", p";g1n+="ts:";g1n+=" ";D1n=", ";D1n+="str";D1n+="e";D1n+="amId: ";z1n=", heade";z1n+="rCac";z1n+="he";z1n+=" requestData: ";z1n+="movieId: ";T1n="no proper fragment found t";T1n+="o request data";T1n+=" at pts";f1n="u";f1n+="nd";f1n+="e";f1n+="f";f1n+="ined";switch(U3K){case 11:U3K=void 0===k.Hk?10:19;break;case 8:this.sB.push({adb:a,Hd:b});U3K=7;break;case 36:h.R(k.Hk)&&(k.Hk=p.U);p.ie&&(p.responseType=0);a.ie&&this.He&&a.Mv&&a.Mv[f]&&f1n!==typeof p.U&&a.Mv[f][p.U]||(u=this.xTa(p,a.Mb),u.ie&&(u.Ni=a.Ni),u.Vv(),++k.wC,b.push(u));U3K=52;break;case 21:l&&(p.O===n.L.AUDIO&&!g.$wa&&l.Hd<(g.eo&&!g.Mx&&d.yj?Math.floor(d.yj.yf):0)&&(++l.gm,l.Hd+=p.Ia.yf),0<l.gm&&p.Ej({start:l.gm}));U3K=35;break;case 41:U3K=!h.R(m)&&!p.Ta?40:36;break;case 18:a.O===n.L.AUDIO&&g.dn&&g.eo&&!g.Mx&&d.yj&&(b=Math.max(d.$&&d.$.gg(0)||0,b+d.yj.yf));m=a.$;q=m&&m.Gi(b);U3K=15;break;case 9:U3K=this.EO?8:14;break;case 2:U3K=1;break;case 43:U3K=(void 0===p&&(p=a.stream.Zf(q)),void 0!==p)?42:49;break;case 28:t=u===n.L.VIDEO?g.iU:g.aU,g=u===n.L.VIDEO?g.jib:g.Yhb;U3K=44;break;case 40:B6kk.v1n(2);u=B6kk.c1n(q,1);U3K=39;break;case 10:k.eR=a;return;break;case 15:U3K=-1===q||void 0===q?27:26;break;case 52:++l;d+=p.duration;U3K=50;break;case 27:J(T1n,b);U3K=47;break;case 25:U3K=!h.R(p)?24:34;break;case 48:k.eR&&!h.R(k.Hk)&&(a=k.eR,delete k.eR,this.oP(a,k.Hk));U3K=47;break;case 26:p=a.stream.Zf(q);U3K=25;break;case 24:p.ie=a.ie;U3K=23;break;case 6:this.sB.shift();U3K=7;break;case 50:p=void 0;U3K=49;break;case 37:++u;U3K=39;break;case 7:U3K=this.sB.length>g.x6?6:47;break;case 22:l=p.QR(b);U3K=21;break;case 12:U3K=a.O===n.L.AUDIO?11:18;break;case 13:U3K=k?12:47;break;case 19:b=k.Hk;U3K=18;break;case 1:c=a.M;f=a.za;d=a.stream;g=a.Mb;U3K=9;break;case 39:U3K=u<m.length&&(p.aa<t||p.duration<g)?38:36;break;case 49:++q;U3K=44;break;case 35:g.jf&&(b="@"+G.time.ea()+z1n+c+D1n+f+g1n+b+C1n+p.U,this.na(Y1n,{message:b}));U3K=34;break;case 42:p.ie=a.ie;U3K=41;break;case 34:void 0===k.data&&(k.data={});void 0===k.data[f]&&(k.data[f]=[]);b=k.data[f];U3K=31;break;case 31:c=this.eVa(g,a,m);l=d=0;u=p&&p.O;U3K=28;break;case 38:p.p1(m.get(u)),p.wK=u+1,q=u;U3K=37;break;case 23:U3K=this.FL(a.O,g)?22:35;break;case 14:k=this.Wd[c]||a.Ni;U3K=13;break;case 44:U3K=q<(m&&m.length||0)&&!c(l,d)?43:48;break;}}};d.prototype.ESa=function(a){var q3K;q3K=2;while(q3K!==1){switch(q3K){case 4:this.Cja(a,a.Ni);q3K=7;break;q3K=1;break;case 2:this.Cja(a,a.Ni);q3K=1;break;}}};d.prototype.DSa=function(a,b){var v3K;v3K=2;while(v3K!==1){switch(v3K){case 4:this.Cja(a,b);v3K=6;break;v3K=1;break;case 2:this.Cja(a,b);v3K=1;break;}}};f2K=32;break;case 9:d.prototype.flush=function(){var d2K,a,U1n,m1n;d2K=2;while(d2K!==7){U1n="manage";U1n+="rde";U1n+="bu";U1n+="g";U1n+="event";m1n=", hea";m1n+="derC";m1n+="ache f";m1n+="lush";m1n+=": ";switch(d2K){case 3:this.Xt=0;this.Kg=[];this.Ak.jf&&(a="@"+G.time.ea()+m1n,this.na(U1n,{message:a}));d2K=7;break;case 2:this.Lra();for(var b in this.PG){a=this.PG[b];a.abort();}d2K=4;break;case 4:this.Wd=Object.create(null);d2K=3;break;}}};d.prototype.list=function(){var A2K;A2K=2;while(A2K!==1){switch(A2K){case 2:return this.Kg;break;case 4:return this.Kg;break;A2K=1;break;}}};d.prototype.IBa=function(a){var o2K;o2K=2;while(o2K!==1){switch(o2K){case 2:this.XG!==a&&(this.XG=a,this.tO());o2K=1;break;}}};d.prototype.i8=function(a,b){var V2K;V2K=2;while(V2K!==4){switch(V2K){case 5:return b;break;case 2:V2K=(a=this.Wd[a])?1:4;break;case 1:V2K=(b=a.headers[b])?5:4;break;}}};d.prototype.xgb=function(a,b){var u2K,c,f;u2K=2;while(u2K!==3){switch(u2K){case 2:c=this;f=this.iwa(a);u2K=4;break;case 4:return f||!this.He?S.resolve(f):(this.Jm?this.TUa(a,b):this.SUa(a,b)).then(function(a){var K2K;K2K=2;while(K2K!==1){switch(K2K){case 4:return c.wza(a);break;K2K=1;break;case 2:return c.wza(a);break;}}});break;}}};f2K=13;break;case 2:b.__extends(d,a);Object.defineProperties(d.prototype,{cache:{get:function(){var l2K;l2K=2;while(l2K!==1){switch(l2K){case 2:return this.Wd;break;case 4:return this.Wd;break;l2K=1;break;}}},enumerable:!0,configurable:!0}});d.prototype.cn=function(){var E2K;E2K=2;while(E2K!==5){switch(E2K){case 2:this.flush();this.lka();E2K=5;break;case 3:this.flush();this.lka();E2K=9;break;E2K=5;break;}}};d.prototype.yH=function(a,b,c){var j2K,f,d;j2K=2;while(j2K!==7){switch(j2K){case 3:for(var g in f){f.hasOwnProperty(g)&&!1===f[g]&&(d=!1);}j2K=9;break;case 4:j2K=(f[b]=a)?3:9;break;case 2:f=this.IB;d=a;j2K=4;break;case 9:c&&delete f[b];d?(this.EO=!1,this.XUa()):this.EO=!0;j2K=7;break;}}};d.prototype.fmb=function(a,b){var T2K,c,d,g,k,u1n,Z1n,w1n;T2K=2;while(T2K!==25){u1n="A config must be ";u1n+="passed to pre";u1n+="pareP";Z1n="); ignoring p";Z1n+="repare for m";Z1n+="ovieId: ";w1n="PTS passed to HeaderC";w1n+="ache.prepareP is";w1n+=" not undef";w1n+="ined or a positive number";w1n+=" (";switch(T2K){case 2:c=b.M;d=b.Td;g=b.Hd;T2K=3;break;case 13:return J(w1n+g+Z1n+c),S.reject();break;case 16:T2K=!b.ie||!this.He||this.Jm?15:26;break;case 17:return S.resolve();break;case 14:T2K=!h.R(g)&&(!h.pa(g)||0>g)?13:12;break;case 7:T2K=k.Bhb?6:14;break;case 18:for(var m in c.headers){!h.R(c.headers[m].url)&&null!==c.headers[m].url&&(void 0===c.data||void 0===c.data[m]||c.data[m].length<k.F3)?this.oP(c.headers[m],g):(h.R(c.headers[m].url)||null===c.headers[m].url)&&void 0!==c.data&&void 0!==c.data[m]&&0<c.data[m].length&&delete c.headers[m];}T2K=17;break;case 10:T2K=!this.Jm||!c.ie?20:17;break;case 20:T2K=(c.Td=d,this.Kg.sort(this.aV),!h.R(g))?19:17;break;case 3:f.assert(b.config,u1n);k=b.config;this.IBa(k.ZQ);T2K=7;break;case 19:void 0===c.data&&(c.Kb.jE=void 0);T2K=18;break;case 12:c=this.Wd[c];T2K=11;break;case 11:T2K=!h.R(c)&&(2<=c.xo||!k.NI)?10:16;break;case 6:return S.reject();break;case 27:return S.reject();break;case 15:T2K=d>k.y6||this.Xt+1>this.XG&&d>this.Kg[0].Td?27:26;break;case 26:return this.XWa(a,b);break;}}};f2K=9;break;case 40:d.prototype.Dja=function(a,b){var V3K,c,f,d,g;V3K=2;while(V3K!==14){switch(V3K){case 5:V3K=b?4:14;break;case 4:f=this.Wd[a];d=b.headers;V3K=9;break;case 2:c=this;V3K=5;break;case 9:f&&d&&Object.keys(d).forEach(function(a){var u3K;u3K=2;while(u3K!==1){switch(u3K){case 2:c.DSa(d[a],f);u3K=1;break;case 4:c.DSa(d[a],f);u3K=6;break;u3K=1;break;}}});V3K=8;break;case 8:V3K=b.data?7:14;break;case 7:g=b.data;Object.keys(g).forEach(function(a){var K3K,b,c;K3K=2;while(K3K!==8){switch(K3K){case 5:h.R(f.data)&&(f.data={});h.R(f.data[a])&&(f.data[a]=[]);c=f.data;b.forEach(function(b){var S3K;S3K=2;while(S3K!==1){switch(S3K){case 2:c[a].push(b);S3K=1;break;case 4:c[a].push(b);S3K=0;break;S3K=1;break;}}});K3K=8;break;case 2:b=g[a];K3K=5;break;}}});V3K=14;break;}}};d.prototype.aV=function(a,b){var g3K;g3K=2;while(g3K!==1){switch(g3K){case 2:return b.Td-a.Td;break;case 4:return b.Td/a.Td;break;g3K=1;break;}}};d.prototype.wza=function(a){var r4K,b,c,f;r4K=2;while(r4K!==10){switch(r4K){case 4:for(c in a.data){f=a.data[c];0<f.length&&(b[f[0].O]={za:c,Wp:a.headers[c],data:f});}b.Hk=a.Hk;r4K=9;break;case 5:r4K=a&&a.data?4:10;break;case 2:b={};r4K=5;break;case 12:b.Wk=a.Wk;r4K=11;break;case 9:b.xo=a.xo;b.Kb=a.Kb;b.Sl=a.Sl;r4K=6;break;case 6:b.zo=a.zo;b.ln=a.ln;b.Xl=a.Xl;r4K=12;break;case 11:return b;break;}}};d.prototype.toa=function(a,b,c,f,d){var b4K,V0n,e0n;b4K=2;while(b4K!==8){V0n="upda";V0n+="teStreamSelect";V0n+="i";V0n+="on returned null list";e0n="selectStream returne";e0n+="d ";e0n+="null";switch(b4K){case 2:b4K=a.location.AW(a.ja,void 0,b)?1:9;break;case 3:P(e0n);b4K=8;break;case 1:f=N(f,d);b4K=5;break;case 5:b4K=(a=a.stream[c?1:0].Caa(a.ja,b,void 0,c?f.jza:f.iza))?4:3;break;case 4:return b=b[a.wd],b.zo=a.reason,b.ln=a.Gs,b.fdb=a.Xl,b.RS=a.Wk,b;break;case 9:P(V0n);b4K=8;break;}}};d.prototype.Ata=function(a,b,c,f,d){var c4K,g,h,k,m;c4K=2;while(c4K!==14){switch(c4K){case 2:g=a.O===n.L.VIDEO;h=[];k=[];c4K=3;break;case 7:m||(m=this.toa(b,k,g,f,d))&&a.push(m);return a;break;case 3:a.$b.forEach(function(a){var R4K;R4K=2;while(R4K!==1){switch(R4K){case 2:(a.qn?k:h).push(a);R4K=1;break;}}});a=[];c&&0!==h.length&&(m=this.toa(b,h,g,f,d))&&a.push(m);c4K=7;break;}}};d.prototype.Qbb=function(a,b,c,f,d,g,k){var B4K,q,p,l,u,x0n,b0n;B4K=2;while(B4K!==10){x0n="Unable to find ";x0n+="audio nor video tracks ";x0n+="in manife";x0n+="st:";b0n="Unable to f";b0n+="ind requested";b0n+=" audio track in manif";b0n+="est:";switch(B4K){case 12:P(b0n,f);B4K=10;break;case 2:q=this;c=new m.Wca({Kc:String(c.movieId),ca:void 0,Ja:c,Aya:!0,Fya:!0,wg:!!d,$r:[],config:g,K:k},function(){});p=c.eK[0];a=a.$j(p,c.eK[1]);B4K=9;break;case 14:P(x0n,f);B4K=10;break;case 13:B4K=h.R(u)&&f?12:11;break;case 11:return[].concat(l||[]).concat(u||[]);break;case 6:B4K=h.R(l)&&h.R(u)?14:13;break;case 9:b.ja.buffer.Hu=a[n.L.VIDEO];c.getTracks(1).some(function(a){var G4K;G4K=2;while(G4K!==3){switch(G4K){case 1:return!1;break;case 7:return~9;break;G4K=3;break;case 2:G4K=a.Sy.stereo?1:5;break;case 5:l=q.Ata(a,b,d,g,p);return!0;break;}}});c.getTracks(0).some(function(a){var x4K;x4K=2;while(x4K!==1){switch(x4K){case 2:return a.eb===f?(u=q.Ata(a,b,d,g,p),!0):!1;break;}}});B4K=6;break;}}};d.prototype.FL=function(a,b){var h4K;h4K=2;while(h4K!==1){switch(h4K){case 2:return a===n.L.VIDEO&&b.rs||a===n.L.AUDIO&&b.dn;break;}}};f2K=52;break;}}}(p);d.jKa=a;x(g.EventEmitter,a.prototype);},function(g){function d(a,f,d,g){a.trace(":",d,":",g);f(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,f,g,h){g=h?g.bind(h):g;h=!1;if(a){this.console&&(g=d.bind(null,this.console,g,f));if("function"===typeof a.addEventListener)h=a.addEventListener(f,g);else if("function"===typeof a.addListener)h=a.addListener(f,g);else throw Error("Emitter does not have a function to add listeners for '"+f+"'");this.listeners.push([a,f,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,f;b=a[0];f=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(f,a):"function"===typeof b.removeListener&&b.removeListener(f,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.T=a;},function(g){function d(a,f){var b;if(void 0===f||"function"!==typeof f||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.Al)return this.Al={},this.Al[a]=[f],!0;b=this.Al[a];return void 0===b?(this.Al[a]=[f],!0):0>b.indexOf(f)?(b.push(f),!0):!1;}function a(a,f){a=this.Al?this.Al[a]:void 0;if(!a)return!1;a.forEach(function(a){a(f);});return!0;}g.T={addEventListener:d,on:d,removeEventListener:function(a,f){var b;if(void 0===f||"function"!==typeof f||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.Al)return!1;b=this.Al[a];if(void 0===b)return!1;f=b.indexOf(f);if(0>f)return!1;if(1===b.length)return delete this.Al[a],!0;b.splice(f,1);return!0;},na:a,emit:a,removeAllListeners:function(a){this.Al&&(void 0===a?delete this.Al:delete this.Al[a]);return this;}};},function(g,d,a){var b,f,h,m,c,k,p,q,l,n,r,L,x,G;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(11);h=a(25);m=a(764);c=a(714);k=a(675);p=a(5);q=p.Promise;l=a(350);n=a(667);r=a(666);L=a(663);g=new p.Console("ASEJS","media|asejs");x=g.trace.bind(g);G=g.warn.bind(g);g=function(){var r0n;r0n=2;function d(b,c){var l0n,f;l0n=2;while(l0n!==11){var p0n="D";p0n+="E";p0n+="B";p0n+="UG:";var O0n="n";O0n+="f";O0n+="-";O0n+="ase v";O0n+="ersion:";var I0n="1";I0n+="S";I0n+="IYbZrNJC";I0n+="p9";switch(l0n){case 14:this.emit=this.na=h.EventEmitter.na;this.IP=c;I0n;l0n=11;break;case 2:f=a(662);x(O0n,f,p0n,!1);l0n=4;break;case 4:this.yWa=this.Vka=!1;this.G=b;this.IB=[];this.addEventListener=h.EventEmitter.addEventListener;this.on=h.EventEmitter.on;this.removeEventListener=h.EventEmitter.removeEventListener;l0n=14;break;}}}while(r0n!==23){switch(r0n){case 2:Object.defineProperties(d.prototype,{$e:{get:function(){var i0n;i0n=2;while(i0n!==1){switch(i0n){case 4:return this.Pb;break;i0n=1;break;case 2:return this.Pb;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{dt:{get:function(){var L0n;L0n=2;while(L0n!==1){switch(L0n){case 2:return this.kma;break;case 4:return this.kma;break;L0n=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{cCa:{get:function(){var N0n;N0n=2;while(N0n!==1){switch(N0n){case 2:return this.xP;break;case 4:return this.xP;break;N0n=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Jeb:{get:function(){var k0n;k0n=2;while(k0n!==1){switch(k0n){case 4:return-b.R(this.AP);break;k0n=1;break;case 2:return!b.R(this.AP);break;}}},enumerable:!0,configurable:!0}});r0n=3;break;case 3:Object.defineProperties(d.prototype,{Yqb:{get:function(){var n0n;n0n=2;while(n0n!==1){switch(n0n){case 4:return this.xXa;break;n0n=1;break;case 2:return this.xXa;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Tg:{get:function(){var G0n;G0n=2;while(G0n!==1){switch(G0n){case 2:return this.vi;break;case 4:return this.vi;break;G0n=1;break;}}},enumerable:!0,configurable:!0}});r0n=8;break;case 8:Object.defineProperties(d.prototype,{CD:{get:function(){var h0n;h0n=2;while(h0n!==1){switch(h0n){case 4:return this.jh;break;h0n=1;break;case 2:return this.jh;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{rdb:{get:function(){var X0n;X0n=2;while(X0n!==1){switch(X0n){case 4:return this.yWa;break;X0n=1;break;case 2:return this.yWa;break;}}},enumerable:!0,configurable:!0}});d.prototype.Ac=function(a,c,f,d,g,h){var S0n,q,p;S0n=2;while(S0n!==18){var z0n="mediac";z0n+="ach";z0n+="e";var T0n="ca";T0n+="cheEv";T0n+="ict";var f0n="f";f0n+="l";f0n+="ushe";f0n+="dBytes";var d0n="d";d0n+="is";d0n+="c";d0n+="ard";d0n+="edBytes";var R0n="prebu";R0n+="ffsta";R0n+="ts";switch(S0n){case 13:this.Pb=new r(this.lu,this.jh,p);this.kma=new L(p);p.PU&&!this.cXa&&(this.cXa=setInterval(function(){var c0n;c0n=2;while(c0n!==5){switch(c0n){case 2:q.jh.save();q.lu.save();c0n=5;break;}}},p.PU));S0n=10;break;case 8:this.xXa=g;k(p);this.jh=new l(p,this.IP);this.lu=new n(p);S0n=13;break;case 19:this.Vka=!0;S0n=18;break;case 2:q=this;p=this.G;0<p.Ks&&(!b.R(a)&&a>p.Ks&&(a=p.Ks),c>p.Ks&&(c=p.Ks));b.R(a)?this.AP=c:this.$Sa=[a,c];this.xP=d;S0n=8;break;case 10:S0n=p.hF||p.EW?20:19;break;case 20:c=new m.jKa(this,p,f,h),a=function(a){var v0n;v0n=2;while(v0n!==1){switch(v0n){case 2:q.na(a.type,a);v0n=1;break;case 4:q.na(a.type,a);v0n=2;break;v0n=1;break;}}},c.addEventListener(R0n,a),c.addEventListener(d0n,a),c.addEventListener(f0n,a),c.addEventListener(T0n,a),(p.rca||p.Aw)&&c.addEventListener(z0n,function(a){var B0n;B0n=2;while(B0n!==1){var D0n="mediacac";D0n+="h";D0n+="e";switch(B0n){case 4:q.na("",a);B0n=8;break;B0n=1;break;case 2:q.na(D0n,a);B0n=1;break;}}}),this.vi=c;S0n=19;break;}}};d.prototype.$j=function(a,c){var M0n,f;M0n=2;while(M0n!==4){switch(M0n){case 2:f=this.G;return this.AP?(b.R(a)&&(a=192),b.R(c)&&(c=5800),a=Math.floor(this.AP*a/(a+c)),a<f.ixa&&(a=f.ixa),[a,this.AP-a]):this.$Sa;break;}}};d.prototype.ks=function(a,d,g,h,k,m,q,p,l){var Q0n;Q0n=2;while(Q0n!==4){var C0n="open: s";C0n+="t";C0n+="reamingMana";C0n+="ger not initt";C0n+="ed";var g0n="b";g0n+="r";g0n+="anching";switch(Q0n){case 2:Q0n=this.Vka?1:5;break;case 9:Q0n=this.Vka?0:3;break;Q0n=this.Vka?1:5;break;case 1:return p=p||this.G,this.Pb.reset(),this.lu.orb(),this.kma.reset(),void 0===m&&(m=this.nsa(a,d)),b.R(this.xP)&&(this.$j()[f.L.VIDEO]<=p.gib?this.xP=0:this.xP=p.wV),a&&a.choiceMap&&g0n===a.choiceMap.type&&(k.ag=!0),a=new c.aRa(this,a,d,g,h,k,m,q,p,l),this.IB.push(a),a;break;case 5:G(C0n);Q0n=4;break;case 7:G("");Q0n=8;break;Q0n=4;break;}}};d.prototype.i8=function(a,b){var o0n;o0n=2;while(o0n!==1){switch(o0n){case 2:return this.vi&&(a=this.vi.i8(a,b))?a:!1;break;}}};d.prototype.ygb=function(a){var t0n;t0n=2;while(t0n!==1){switch(t0n){case 2:return this.vi&&(a=this.vi.iwa(a))?a:!1;break;}}};r0n=10;break;case 10:d.prototype.Ry=function(){var K0n;K0n=2;while(K0n!==1){switch(K0n){case 2:return this.vi?this.vi.Ry():q.resolve([]);break;}}};d.prototype.NWa=function(a){var s0n,c;s0n=2;while(s0n!==3){var Y0n="can'";Y0n+="t";Y0n+=" find session in array, mov";Y0n+="ieId:";switch(s0n){case 2:this.Pb.QV(null);c=this.IB.indexOf(a);b.R(c)?G(Y0n,a.M):(this.IB.splice(c,1),0===this.IB.length&&this.lu.Arb(),this.lu.save(),this.jh.save());s0n=3;break;}}};r0n=19;break;case 19:d.prototype.osa=function(a){var P0n,b;P0n=2;while(P0n!==3){switch(P0n){case 2:b={profile:a.spoofedProfile||a.profile,a5:a.max_framerate_value,Z4:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Qya:a.pixelAspectX,Rya:a.pixelAspectY,Nk:a.channels,sampleRate:48E3};a.spoofedProfile&&(b.originalProfile=a.profile);return b;break;}}};d.prototype.nsa=function(a,b,c){var j0n,d,g;j0n=2;while(j0n!==9){var w0n="v";w0n+="id";w0n+="e";w0n+="o_tr";w0n+="acks";var U0n="a";U0n+="ud";U0n+="io_trac";U0n+="ks";var m0n="au";m0n+="dio_t";m0n+="racks";switch(j0n){case 2:d=this;g=[{},{}];j0n=4;break;case 4:(c===f.L.AUDIO?[m0n]:[U0n,w0n]).forEach(function(c,f){var W0n;W0n=2;while(W0n!==1){switch(W0n){case 2:a[c].some(function(a,c){var a0n;a0n=2;while(a0n!==1){switch(a0n){case 2:return c===b[f]?(g[f]=d.osa(a),!0):!1;break;}}});W0n=1;break;}}});return g;break;}}};d.prototype.KDa=function(a){var F0n;F0n=2;while(F0n!==1){switch(F0n){case 2:p.FJ(a);F0n=1;break;case 4:p.FJ(a);F0n=3;break;F0n=1;break;}}};d.prototype.moa=function(a,c){var y0n;y0n=2;while(y0n!==1){var Z0n="c";Z0n+="a";Z0n+="t";Z0n+="c";Z0n+="h";switch(y0n){case 2:this.vi&&(a=this.vi.fmb(this,a),b.R(c)||a.then(c),a[Z0n](function(a){var A0n;A0n=2;while(A0n!==1){var u0n="cacheP";u0n+="rep";u0n+="are";u0n+=" caught error:";switch(A0n){case 4:x("",a);A0n=2;break;A0n=1;break;case 2:x(u0n,a);A0n=1;break;}}}));y0n=1;break;}}};d.prototype.g2=function(){var E0n;E0n=2;while(E0n!==1){switch(E0n){case 2:this.vi&&this.vi.flush();E0n=1;break;}}};r0n=27;break;case 27:d.prototype.k0a=function(){var H0n;H0n=2;while(H0n!==1){switch(H0n){case 2:this.vi&&this.vi.Lra();H0n=1;break;}}};d.prototype.h2=function(){var q0n;q0n=2;while(q0n!==1){switch(q0n){case 4:return this.vi?this.vi.list():[];break;q0n=1;break;case 2:return this.vi?this.vi.list():[];break;}}};d.prototype.loa=function(){var J0n;J0n=2;while(J0n!==1){switch(J0n){case 2:this.vi&&this.vi.cn();J0n=1;break;}}};return d;break;}}}();d.CMa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);a=a(72);d.wEa=!0;d.jia=!1;a=g.V.get(a.lp);d.Xn={};d.PY=a.xn;d.IX=a.gn;d.fJa=a.SC;d.Jea=a.f5;d.JHa=a.jR;d.fxb=a.mqa;d.gxb=a.jR;d.Kda=a.oqa;d.qzb=a.Veb;d.uzb=a.ewa;d.oAb=!1;d.yNa=!0;d.Ig={IX:a.gn,Ct:void 0,At:void 0,LHa:void 0,KHa:void 0,IOa:void 0,Ida:void 0,IHa:void 0};},function(g,d){function a(a){this.Zb=a;this.Sa=JSON.stringify(this.Oab());}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Oab=function(){var a;a=[];(!this.Zb.Ei||0>=this.Zb.Ei.length)&&a.push({error:"No CDN."});this.Zb.E3||a.push({error:"No default audio track.",foundTracks:this.A5(this.Zb.Qm)});this.Zb.I3||a.push({error:"No default video track.",foundTracks:this.A5(this.Zb.Lq)});this.Zb.H3||a.push({error:"No default subtitle track.",foundTracks:this.A5(this.Zb.Hj)});return a;};a.prototype.A5=function(a){return a&&0<a.length?a.map(function(a){return a.eb;}):"No tracks found.";};d.KMa=a;},function(g,d,a){var f,h,m,c,k,p;function b(a,b){a=h.xe.call(this,a,"ManifestParserConfigImpl")||this;a.bn=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);m=a(27);c=a(34);k=a(137);p=a(35);ca(b,h.xe);qa.Object.defineProperties(b.prototype,{xba:{configurable:!0,enumerable:!0,get:function(){return[];}},U4:{configurable:!0,enumerable:!0,get:function(){return"";}},n2:{configurable:!0,enumerable:!0,get:function(){return[];}},m2:{configurable:!0,enumerable:!0,get:function(){return[];}},W4:{configurable:!0,enumerable:!0,get:function(){return"";}},S6:{configurable:!0,enumerable:!0,get:function(){return 0;}},YE:{configurable:!0,enumerable:!0,get:function(){return this.bn.YE.fa(p.Rn);}},mt:{configurable:!0,enumerable:!0,get:function(){return this.bn.mt;}}});a=b;g.__decorate([c.config(c.vba,"supportedAudioTrackTypes")],a.prototype,"xba",null);g.__decorate([c.config(c.string,"forceAudioTrack")],a.prototype,"U4",null);g.__decorate([c.config(c.vDa,"cdnIdWhiteList")],a.prototype,"n2",null);g.__decorate([c.config(c.vDa,"cdnIdBlackList")],a.prototype,"m2",null);g.__decorate([c.config(c.string,"forceTimedTextTrack")],a.prototype,"W4",null);g.__decorate([c.config(c.zw,"imageSubsResolution")],a.prototype,"S6",null);g.__decorate([c.config(c.zw,"timedTextSimpleFallbackThreshold")],a.prototype,"YE",null);g.__decorate([c.config(c.vba,"timedTextProfiles")],a.prototype,"mt",null);a=g.__decorate([f.N(),g.__param(0,f.l(m.cj)),g.__param(1,f.l(k.kG))],a);d.FMa=a;},function(g,d,a){var f,h,m,c;function b(a,b){return h.CN.call(this,a,b)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(127);h=a(387);m=a(75);c=a(157);ca(b,h.CN);b.prototype.Lkb=function(a){var b,d;b=this;a=Q(f.Ss(function(a){return a.oc&&0<a.oc.length;},a));d=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.Jo});});a=d.map(function(a){var f;f=a.Ui;f={type:m.jg.video,eb:a.Jo,Ey:a.lM,Ui:c.RZ[f.toLowerCase()]||c.pp.UA,zz:f,oc:[],cg:{}};f.oc=b.lDa(a.oc,f);b.log.trace("Transformed video track",{StreamCount:f.oc.length});return f;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.Gkb=function(a){var b;b=a.map(function(a){return a.t$;}).filter(Boolean);b=[].concat.apply([],[].concat(da(b))).map(function(a){return a.aa;});a=a.map(function(a){return a.Y3;}).filter(Boolean).map(function(a){return a.aa;});return 0<b.length?b:a;};d.qSa=b;},function(g,d,a){var f,h,m,c,k;function b(a,b,c,f){a=h.CN.call(this,a,f)||this;a.config=b;a.j=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(413);h=a(387);m=a(127);c=a(75);k=a(157);ca(b,h.CN);b.prototype.nkb=function(a,b,d){var g,h,q;g=this;a=Q(m.Ss(function(a){return a.oc&&0<a.oc.length;},a));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is missing streams",g.Ita(a));});q=this.config.xba;a=Q(m.Ss(function(a){return 0===q.length||0<=q.indexOf(a.Ui);},h));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is not supported",g.Ita(a));});a=h.map(function(a){var h;h=a.Ui;h={type:c.jg.audio,eb:a.Jo,Ey:a.lM,Ui:k.RZ[h.toLowerCase()]||k.pp.UA,zz:h,Wj:a.language,displayName:a.wD,Nk:a.Nk,OEb:a.Nk,NEb:Number(a.Nk[0]),Hj:g.W9a(a.Jo,b,d),cg:{Bcp47:a.language,TrackId:a.Jo},oc:[],isNative:a.isNative};h.oc=g.lDa(a.oc,h);g.log.trace("Transformed audio track",h,{StreamCount:h.oc.length,AllowedTimedTextTracks:h.Hj.length});h.Poa=f.Yca[h.oc[0].ff];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.e_a=function(a){var b,c;b=this;c=this.config.U4;if(c){if(a=Q(a.filter(function(a){return a.Wj==c||a.eb==c;})).next().value)return a;}else if(this.j.YR&&(a=Q(a.filter(function(a){return a.eb==b.j.YR;})).next().value))return a;};b.prototype.Ita=function(a){return{language:a.wD,bcp47:a.language,type:a.Ui};};b.prototype.W9a=function(a,b,c){return b.filter(function(b){return b.Zo.AUDIO===a;}).map(function(a){return a.Zo.OZ;}).map(function(a){return c.find(function(b){return b.eb===a;});}).filter(Boolean);};d.tFa=b;},function(g,d){function a(a,f,d){this.log=a;this.j=f;this.$ba=d;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Kkb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.Yc&&0<a.Yc.length;}).map(function(a){return b.$ba(b.j,a.id,a.height,a.width,a.Sya,a.Tya,a.size,{unknown:a.Yc[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};d.VRa=a;},function(g,d){function a(a,f,d,g,c,h){this.x8=a;this.o2=f;this.LCa=d;this.vtb=g;this.Lna=c;this.gEa=h;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Dkb=function(a){var b,d,g,c,h,p,q,l,n,r,L,x,G,N,R,S;a=this.x8.decode(a);b=this.o2.Bya(a.Ln,a.dk,!0);d=this.LCa.Jkb(a.$Ca);g=this.vtb.Kkb(a.qDa);c=this.Lna.nkb(a.K1,a.media,d);h=this.gEa.Lkb(a.OW);p=this.Fkb(a,c,d);q=p[0];l=h[0];n=this.Lna.e_a(c)||q.Nc||c[0];q=this.LCa.Ksb(n.Hj)||q.vc||n.Hj[0];r=this.gEa.Gkb(a.OW);L=a.Nf;x=a.Loa;G=a.Xta;N=a.Yj;R=a.K1.findIndex(function(a){return a.Jo==n.eb;});S=a.OW.findIndex(function(a){return a.Jo==l.eb;});return{Po:r,Ei:b,Qm:c,Lq:h,Hj:d,st:g,Nf:L,Rpb:x,vv:G,Yj:N,Xpa:R,bqa:S,YU:p,I3:l,E3:n,H3:q,lIb:a};};a.prototype.Fkb=function(a,f,d){var b,c;b=[];c=a.aqa[0];b.push({Nc:f.find(function(a){return a.Ey===c.aC;}),vc:d.find(function(a){return a.Ey===c.yCa;}),dJb:0});return b;};d.HMa=a;},function(g,d,a){var f,h,m,c;function b(a,b,c,f,d){this.log=a;this.config=b;this.j=c;this.o2=f;this.h$=d;}Object.defineProperty(d,"__esModule",{value:!0});f=a(66);h=a(8);m=a(157);c=a(215);b.prototype.Jkb=function(a){var b;b=this;a=a.map(function(a){var c,d,g;c=b.ctb(a);!1!==a.oT||c.length||b.log.error("track without downloadables",b.$sa(a));!0!==a.lT||c.length||b.log.error("forced track without downloadables",b.$sa(a));d={};g=[];if(0<c.length){d=c[0];g=d.profile;if(g==f.vk.MA||g==f.vk.HN)d=b.vpb(c);g=b.o2.Bya(a.xoa,void 0,!1);}a=b.h$(b.j,a.Jo,a.id,d.Tc,d.Yc||{},g,a.language,a.wD,m.RZ[a.Ui.toLowerCase()]||m.pp.UA,a.zz.toUpperCase(),d.profile,b.Rab(d)||{},a.oT,a.lT,a.RJ);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.Ksb=function(a){var b,c;b=this;c=this.config.W4;if(c){if(a=Q(a.filter(function(a){return a.Wj==c||a.eb==c;})).next().value)return a;}else if(this.j.ZR&&(a=Q(a.filter(function(a){return a.eb==b.j.ZR;})).next().value))return a;};b.prototype.ctb=function(a){var b,c,d;b=this;c=a.tDa;d=a.Cqa;a=Object.keys(c||{}).map(function(a){var f;f=c[a];return{Tc:d[a],profile:a,size:f.size||0,Td:b.U$a(a,f),offset:f.pK||0,klb:f.width,Pya:f.height,Yc:f.Mp};});a.sort(function(a,b){return a.Td-b.Td;});return a;};b.prototype.U$a=function(a,b){var c,d;c=this.config.mt.indexOf(a);b=b.size;d=this.config.YE;return a===f.vk.wX&&0<d&&b>d?this.config.mt.length+1:0<=c?c:this.config.mt.length;};b.prototype.Rab=function(a){if(a.profile===f.vk.MA||a.profile===f.vk.HN)return{offset:a.offset,length:a.size,zJb:{width:a.klb,height:a.Pya}};};b.prototype.vpb=function(a){var b,d;b=this.config.S6||c.NZ.T5();d=Q(a.filter(function(a){return a.profile===f.vk.MA||a.profile===f.vk.HN;}).filter(function(a){return a.Pya===b;})).next().value;if(d)return d;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.cr.height,intendedResolution:b});return a[0];};b.prototype.$sa=function(a){return{isNone:a.oT,isForced:a.lT,bcp47:a.language,id:a.Jo};};d.zRa=b;},function(g){g.T=function(d){return function(){return!d.apply(this,arguments);};};},function(g,d,a){var b,f;b=a(777);d=a(50);f=a(394);a=d(function(a,d){return f(b(a),d);});g.T=a;},function(g,d,a){d=a(159);a=a(217);a=d(a);g.T=a;},function(g,d,a){d=a(50)(function(a,d){for(var b=0;b<a.length;){if(null==d)return;d=d[a[b]];b+=1;}return d;});g.T=d;},function(g,d,a){var b;d=a(50);b=a(780);a=d(function(a,d){return b([a],d);});g.T=a;},function(g,d,a){var b,f;d=a(50);b=a(391);f=function(){function a(a,b){this.IM=b;this.XI=a;}a.prototype["@@transducer/init"]=b.Ac;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.IM["@@transducer/step"](a,this.XI(b));};return a;}();a=d(function(a,b){return new f(a,b);});g.T=a;},function(g,d,a){var b,f,h,m,c,k;d=a(50);b=a(393);f=a(389);h=a(217);m=a(782);c=a(388);k=a(390);a=d(b(["fantasy-land/map","map"],m,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return c(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return h(function(c,d){c[d]=a(b[d]);return c;},{},k(b));default:return f(a,b);}}));g.T=a;},function(g,d,a){var b,f;d=a(50);b=a(783);f=a(781);a=d(function(a,d){return b(f(a),d);});g.T=a;},function(g,d,a){d=a(50)(function(a,d){return d>a?d:a;});g.T=d;},function(g,d,a){var f,h;function b(a,c,d){return function(){var n;for(var g=[],k=0,m=a,l=0;l<c.length||k<arguments.length;){l<c.length&&(!h(c[l])||k>=arguments.length)?n=c[l]:(n=arguments[k],k+=1);g[l]=n;h(n)||--m;l+=1;}return 0>=m?d.apply(this,g):f(m,b(a,g,d));};}f=a(216);h=a(158);g.T=b;},function(g,d,a){var b,f,h,m,c;d=a(50);b=a(389);f=a(388);h=a(785);m=a(784);c=a(779);a=d(function(a,d){return f(c(h,0,m("length",d)),function(){var c,f;c=arguments;f=this;return a.apply(f,b(function(a){return a.apply(f,c);},d));});});g.T=a;},function(g,d,a){var b;d=a(110);b=a(787);a=d(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});g.T=a;},function(g,d,a){var b,f;b=a(218);f=Object.prototype.toString;g.T=function(){return"[object Arguments]"===f.call(arguments)?function(a){return"[object Arguments]"===f.call(a);}:function(a){return b("callee",a);};};},function(g,d,a){var b,f;d=a(50);b=a(391);f=function(){function a(a,b){this.IM=b;this.XI=a;}a.prototype["@@transducer/init"]=b.Ac;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.XI(b)?this.IM["@@transducer/step"](a,b):a;};return a;}();a=d(function(a,b){return new f(a,b);});g.T=a;},function(g,d,a){var b;b=a(216);d=a(50)(function(a,d){return b(a.length,function(){return a.apply(d,arguments);});});g.T=d;},function(g){var d;d=function(){function a(a){this.XI=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,d){return this.XI(a,d);};return a;}();g.T=function(a){return new d(a);};},function(g){g.T=function(d){return"[object String]"===Object.prototype.toString.call(d);};},function(g,d,a){var b,f;d=a(110);b=a(392);f=a(793);a=d(function(a){return b(a)?!0:!a||"object"!==typeof a||f(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});g.T=a;},function(g){g.T=function(d,a){for(var b=0,f=a.length,g=[];b<f;)d(a[b])&&(g[g.length]=a[b]),b+=1;return g;};},function(g){g.T=function(d){return"function"===typeof d["@@transducer/step"];};},function(g,d,a){var b;d=a(394);b=a(788);a=a(778);a=b([d,a]);g.T=a;},function(g,d,a){var b;d=a(159);b=a(218);a=d(function(a,d,g){var c,f;c={};for(f in d)b(f,d)&&(c[f]=b(f,g)?a(f,d[f],g[f]):d[f]);for(f in g)b(f,g)&&!b(f,c)&&(c[f]=g[f]);return c;});g.T=a;},function(g,d,a){var b,f;d=a(159);b=a(395);f=a(798);a=d(function m(a,d,g){return f(function(c,d,f){return b(d)&&b(f)?m(a,d,f):a(c,d,f);},d,g);});g.T=a;},function(g,d,a){var b;d=a(159);b=a(799);a=d(function(a,d,g){return b(function(b,d,f){return a(d,f);},d,g);});g.T=a;},function(g,d,a){var f;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(127);b.prototype.Bya=function(a,b,c){var d,g,h,m,l;d=this;g=this.config.n2;h=this.config.m2;a=Q(f.Ss(function(a){return(!g.length||0<=g.indexOf(a.id))&&0>h.indexOf(a.id);},a||[]));m=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Cdn is not allowed",{Id:a.id});});l=m.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,fe:a.fe,type:a.type,W7:a.key,yHb:a.nwa,location:{id:c.key,fe:c.fe,level:c.level,weight:c.weight,Ei:[]}};});l.sort(function(a,b){return a.fe-b.fe;});l.forEach(function(a){return a.location.Ei=l.filter(function(b){return b.W7===a.W7;});});this.log.trace("Transformed cdns",{Count:l.length});if(c&&!l.length)throw Error("no valid cdns");return l;};d.NGa=b;},function(g,d,a){var f,h,m,c,k,l,q,n,r,y,L,x,G;function b(a,b,c,d,f,g){this.xf=a;this.x8=b;this.config=c;this.h$=d;this.$ba=f;this.vW=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);m=a(160);c=a(396);k=a(801);l=a(776);q=a(775);n=a(774);r=a(773);y=a(772);L=a(386);x=a(385);a=a(384);b.prototype.create=function(a){var b,c;b=this.xf.lb("ManifestParser",a);c=new k.NGa(b,this.config);return new q.HMa(this.x8,c,new l.zRa(b,this.config,a,c,this.h$),new n.VRa(b,a,this.$ba),new r.tFa(b,this.config,a,this.vW),new y.qSa(b,this.vW));};G=b;G=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(m.jga)),g.__param(2,f.l(c.lga)),g.__param(3,f.l(L.Vha)),g.__param(4,f.l(a.cja)),g.__param(5,f.l(x.aja))],G);d.GMa=G;},function(g,d,a){var b,f,h,m,c,k,l,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(397);f=a(802);h=a(396);m=a(771);c=a(386);k=a(385);l=a(383);q=a(770);d.Kgb=new g.ac(function(d){d(h.lga).to(m.FMa).Z();d(b.mga).to(f.GMa).Z();d(c.Vha).Bh(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(214).rG;return new(Function.prototype.bind.apply(d,[null].concat(da(c))))();});d(k.aja).Bh(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(340).HGa;return new(Function.prototype.bind.apply(d,[null].concat(da(c))))();});d(l.nga).Rf(function(){return function(a){return new q.KMa(a);};});});},function(g,d,a){var f,h,m,c,k,l,q,n,r,y;function b(a,b,c,d,f,g,h,k){this.JC=a;this.oe=b;this.config=c;this.xn=f;this.Nr=g;this.Zba=h;this.XT=k;this.log=d.lb("CDMAttestedDescriptor");this.Asa();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(119);m=a(41);c=a(17);k=a(7);l=a(77);q=a(111);n=a(65);r=a(219);a=a(135);b.prototype.Asa=function(){var a;a=this;return this.Zba.GW?this.config().b7a?this.zsa().then(function(b){if(b)return Promise.resolve(void 0);a.Jva||(a.Jva=a.Hab());return a.Jva;}).then(function(b){return Promise.all([Promise.resolve(b),a.zsa()]);}).then(function(a){var b;a=Q(a);b=a.next().value;if(!a.next().value)return b;}):(this.xn.Xg.removeServiceToken("cad"),Promise.resolve(void 0)):Promise.resolve(void 0);};b.prototype.Hab=function(){var a;a=this;return Promise.all([this.JC(),this.uab()]).then(function(b){var c;c=Q(b);b=c.next().value;c=c.next().value;c={type:l.Zi.Lt,ZS:c,context:{Rd:a.config().Rd}};return b.M9a(c,a.XT());}).then(function(b){var c;c=a.oe.encode(b.R7.data);a.log.trace("Challenge generated",c);b.close().subscribe();return c;})["catch"](function(b){a.log.error("Failed to generate challenge for CAD token",b);});};b.prototype.zsa=function(){var a;a=this;return this.Nr().then(function(b){return(b=a.xn.Xg.getServiceTokens(b.profile.id))&&b.find(function(a){return"cad"===a.name;});});};b.prototype.uab=function(){return Promise.resolve(this.oe.decode("AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="));};y=b;y=g.__decorate([f.N(),g.__param(0,f.l(h.fN)),g.__param(1,f.l(m.Jj)),g.__param(2,f.l(c.ld)),g.__param(3,f.l(k.ob)),g.__param(4,f.l(q.LA)),g.__param(5,f.l(n.Sq)),g.__param(6,f.l(r.aO)),g.__param(7,f.l(a.$F))],y);d.jGa=y;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(398);f=a(804);d.o0a=new g.ac(function(a){a(b.jda).to(f.jGa).Z();});},function(g,d,a){var f,h,m;function b(a){this.Ba=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(21);m=a(3);b.prototype.Orb=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Ba.Vf(c)?d=Math.round(c*b.fa(m.ma)/100):(a=parseInt(a),this.Ba.Cp(a)&&(d=a));return m.Cb(Math.min(d,b.fa(m.ma)));};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.ue))],a);d.UFa=a;},function(g,d,a){var f,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);b.prototype.B5=function(){return this.cv().M_a;};b.prototype.C5=function(){return this.cv().N_a;};b.prototype.sab=function(){return this.cv().O_a;};b.prototype.l5=function(){return this.cv().Yna;};b.prototype.cv=function(){return this.config();};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.ld))],h);d.TFa=h;},function(g,d,a){var f,h,m,c,k,l,q;function b(a,b,c,d,f){this.nQ=b;this.Ba=c;this.L_a=d;this.config=f;this.ia=a.lb("Bookmark");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(400);m=a(399);c=a(7);k=a(21);l=a(3);a=a(17);b.prototype.cna=function(a){var b,c;b=a.Ya.playbackState&&a.Ya.playbackState.currentTime;c=this.y$a(a.M);b=this.Ba.Nl(b)?l.Cb(b):c;if(this.Ba.Dd(b))this.ia.info("Overriding bookmark",{From:a.kA.fa(l.ma),To:b.fa(l.ma)}),a=Object.assign({},a,{kA:b});else if(this.zdb(a))return this.ia.trace("Ignoring bookmark because it's too close to beginning"),l.Eg(0);return this.ydb(a)?(this.ia.trace("Ignoring bookmark because it's too close to end"),l.Eg(0)):this.xdb(a)?(this.ia.trace("Ignoring bookmark because it's too close to the end to start decoding"),l.Eg(0)):a.kA;};b.prototype.zdb=function(a){return 0>a.kA.Pk(this.B5(a));};b.prototype.B5=function(a){return this.Zna(this.nQ.B5(),a.LK);};b.prototype.ydb=function(a){return 0<a.kA.Pk(this.C5(a));};b.prototype.C5=function(a){var b;b=a.Ya.ag?this.nQ.sab():this.nQ.C5();return a.LK.ke(this.Zna(b,a.LK));};b.prototype.xdb=function(a){return 0<a.kA.Pk(this.Z$a(a));};b.prototype.Z$a=function(a){var b;b=a.Ya.ag?this.config().nya:this.config().L9;return a.LK.ke(l.Cb(b));};b.prototype.y$a=function(a){var b;a=this.nQ.l5()[a];b=-1;this.Ba.Ci(a)?b=parseInt(a):this.Ba.Vf(a)&&(b=a);if(this.Ba.Cp(b))return l.Cb(b);};b.prototype.Zna=function(a,b){return this.L_a.Orb(a,b);};q=b;q=g.__decorate([f.N(),g.__param(0,f.l(c.ob)),g.__param(1,f.l(h.gda)),g.__param(2,f.l(k.ue)),g.__param(3,f.l(m.fda)),g.__param(4,f.l(a.ld))],q);d.VFa=q;},function(g,d,a){var b,f,h,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(220);f=a(400);h=a(399);m=a(808);c=a(807);k=a(806);d.V1=new g.ac(function(a){a(b.jX).to(m.VFa).Z();a(f.gda).to(c.TFa).Z();a(h.fda).to(k.UFa).Z();});},function(g,d){function a(a){var b;b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="InvalidOperationError";this.message=a;}Object.defineProperty(d,"__esModule",{value:!0});ca(a,Error);d.Cfa=a;},function(g,d,a){var f,h,m,c;function b(a){this.Ba=a;this.P0={};this.fma={};for(var b in f.zF)this.Ba.Vf(parseInt(b))&&(this.fma[f.zF[b]]=1);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(221);h=a(810);m=a(1);a=a(21);b.prototype.track=function(a){var b;if(this.Ba.Ci(a)){if(!this.fma[a])throw new h.Cfa("Cast Interaction type "+a+" is undefined.");}else{if(!this.Ba.Nl(f.zF[a]))throw new h.Cfa("Cast Interaction type "+a+" is undefined.");a=f.zF[a];}b=this.P0[a];this.P0[a]=b?b+1:1;};c=b;c=g.__decorate([m.N(),g.__param(0,m.l(a.ue))],c);d.KGa=c;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(221);f=a(811);d.yQ=new g.ac(function(a){a(b.rda).to(f.KGa);});},function(g,d,a){var h,m,c;function b(a,b,c){var d;d=this;this.ia=a;this.valid=!0;this.Pl=!1;this.context=c.context;this.size=c.size;this.Zh=b.create().then(function(a){d.storage=a;return a.bK("mediacache").then(function(a){d.keys=a;});});}function f(a,b){this.xf=a;this.Ah=b;this.EC={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(7);a=a(63);f.prototype.OQ=function(a){this.EC[a.context]=new b(this.xf.lb("DiskStorageContext"),this.Ah,a);return this.EC[a.context];};f.prototype.kqa=function(a){delete this.EC[a.context];};c=f;c=g.__decorate([h.N(),g.__param(0,h.l(m.ob)),g.__param(1,h.l(a.fp))],c);d.EIa=c;b.prototype.create=function(a,b,c,d){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.Zh.then(function(){f.keys[g]=void 0;return f.storage.save(g,c,!1).then(function(){f.ia.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");d(f.BS(a,b));});})["catch"](function(c){f.ia.trace("create failed",c);d(f.ev(a,b,c));});};b.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ia.trace("append "+c);d(this.ev(a,b,"append is not supported"));};b.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.Zh.then(function(){if(d.keys.hasOwnProperty(f))return delete d.keys[f],d.storage.remove(f).then(function(){d.ia.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");c(d.BS(a,b));});c(d.BS(a,b));})["catch"](function(f){d.ia.trace("remove failed",f);c(d.ev(a,b,f));});};b.prototype.read=function(a,b,c,d,f){var g,h,k;g=this;h=this.getKey(a,b);k=Date.now();0!==c||-1!=d?f(this.ev(a,b,"byteStart/byteEnd combination is not supported")):this.Zh.then(function(){if(g.keys.hasOwnProperty(h))return g.storage.load(h).then(function(m){g.ia.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");f(Object.assign(g.BS(a,b),{value:m.value,sEb:c,end:d}));});f(g.ev(a,b,"Item doesn't exist"));})["catch"](function(c){g.ia.trace("read failed",c);f(g.ev(a,b,c));});};b.prototype.info=function(a){var b;b=this;this.ia.trace("info ");this.Zh.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.R9(c);a[c.pI]||(a[c.pI]={});a[c.pI][c.wv]={size:0};return a;},{}),total:b.size,EKb:0};a(c);})["catch"](function(c){b.ia.trace("info failed",c);a(b.ev(void 0,void 0,c));});};b.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b||"");this.Zh.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[d.R9(b).wv]={size:0};return a;},{});d.ia.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ia.trace("query failed",a);c({});});};b.prototype.ep=function(a){var b;b=this;this.ia.trace("validate");this.Zh.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.R9(c).wv]={size:0};return a;},{});a(c);})["catch"](function(c){b.ia.trace("validate failed",c);a(b.ev(void 0,void 0,c));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.BS=function(a,b){return{W:!0,pI:void 0===a?"":a,key:void 0===b?"":b,Cub:0,Ii:this.size};};b.prototype.ev=function(a,b,c){return{W:!1,error:c,pI:void 0===a?"":a,key:void 0===b?"":b,Cub:0,Ii:this.size};};b.prototype.R9=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{pI:a,wv:b};};d.uxb=b;},function(g,d,a){var f,h,m;function b(a){this.xf=a;this.Ms={};this.ia=this.xf.lb("MemoryStorage");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(7);b.prototype.load=function(a){var b;if(this.Ms.hasOwnProperty(a)){b=this.Ms[a];this.ia.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ia.debug("Storage entry not found",{key:a});return Promise.reject({Y:h.u.np});};b.prototype.save=function(a,b,d){if(d&&this.Ms.hasOwnProperty(a))return Promise.resolve(!1);this.Ms[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.Ms[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.Ms).map(function(b){return{key:b,value:a.Ms[b]};});return Promise.resolve(b);};b.prototype.bK=function(a){var b;b=Object.keys(this.Ms).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.Ms={};return Promise.resolve();};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.ob))],m);d.bNa=m;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EHa="__default_rule_key__";},function(g,d,a){var h,m,c,k,l,q,n;function b(a,b,c,d){this.ia=a;this.config=b;this.vdb=c;this.X8=d;this.Lu={mem:{storage:this.X8,key:"mem"}};this.nw=this.config.nw;}function f(a,b,c,d){this.xf=a;this.Ah=b;this.X8=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(2);c=a(161);k=a(7);l=a(402);q=a(815);a=a(51);f.prototype.create=function(){this.mI||(this.mI=this.qC());return this.mI;};f.prototype.qC=function(){this.rZa=new b(this.xf.lb("AppStorage"),this.config,this.Ah,this.X8);return this.rZa.create();};n=f;n=g.__decorate([h.N(),g.__param(0,h.l(k.ob)),g.__param(1,h.l(c.GY)),g.__param(2,h.l(l.xga)),g.__param(3,h.l(a.vm))],n);d.$Ea=n;b.prototype.create=function(){var a;a=this;return this.j4a().then(function(b){if(!a.G0a(b,a.config.VS))throw a.Tib(b);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.r5(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){d(a);});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.r5(a).storage.save(a,b,c).then(function(a){f(a);})["catch"](function(a){g(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.r5(a).storage.remove(a).then(function(){c();})["catch"](function(a){d(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.jAa("mem").then(function(){return a.jAa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ia.error("remove all failed");c(b);});});};b.prototype.loadAll=function(){var a,b;a=this;b=[];return this.Rva("mem").then(function(c){b=b.concat(c);return a.Rva("idb");})["catch"](function(b){a.Feb(b)||a.ia.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ia.error("load all failed",b);throw b;});};b.prototype.bK=function(a){var b;b=this;return new Promise(function(c,d){var f;f=b.Lu.idb;f?f.storage.bK(a).then(function(a){c(a);})["catch"](function(a){b.ia.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};b.prototype.j4a=function(){var a;a=this;return this.vdb.create().then(function(b){a.Lu.idb={storage:b,key:"idb"};})["catch"](function(b){a.ia.error("idb failed to load",b);return b||{Y:m.u.bj};});};b.prototype.G0a=function(a,b){return!a||a&&b?!0:!1;};b.prototype.Tib=function(a){var b;b="";a&&(b+=a.Y);return{Y:b};};b.prototype.jAa=function(a){return(a=this.Lu[a])?a.storage.removeAll():Promise.resolve();};b.prototype.Rva=function(a){return(a=this.Lu[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.W8a=function(a){for(var b in this.nw)if(a.startsWith(b))return this.nw[b];return this.nw[q.EHa];};b.prototype.r5=function(a){var b,c;b=this;this.W8a(a).every(function(a){return b.Lu[a]?(c=b.Lu[a],!1):!0;});c||(this.ia.error("component not found for storageKey",{Erb:a,kEb:Object.keys(this.Lu),rules:this.nw}),c=this.Lu.mem);this.ia.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};b.prototype.Feb=function(a){return(a&&(a.Y||a.errorSubCode))===m.u.np;};d.Rca=b;},function(g,d,a){var f,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(51);qa.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.rba;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.KCa;}}});h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.vm))],h);d.hHa=h;},function(g,d,a){var f,h,m,c,k;function b(a,b){a=m.xe.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.iz="namedatapairs";return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);m=a(36);c=a(51);a=a(27);ca(b,m.xe);qa.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Pp?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.rba;}},dQ:{configurable:!0,enumerable:!0,get:function(){return this.config.dQ;}},eba:{configurable:!0,enumerable:!0,get:function(){return 0;}},GL:{configurable:!0,enumerable:!0,get:function(){return 0;}},Kra:{configurable:!0,enumerable:!0,get:function(){return!0;}}});k=b;g.__decorate([h.config(h.zw,"simulateIdbOpenError")],k.prototype,"eba",null);g.__decorate([h.config(h.zw,"simulateIdbLoadAllError")],k.prototype,"GL",null);g.__decorate([h.config(h.Yd,"fixInvalidDatabase")],k.prototype,"Kra",null);k=g.__decorate([f.N(),g.__param(0,f.l(a.cj)),g.__param(1,f.l(c.vm))],k);d.nLa=k;},function(g,d,a){var h,m,c;function b(a,b,c){this.config=a;this.zj=b;this.Us=c;}function f(a,b){this.reason=a;this.cause=b;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);m=a(62);(function(a){a[a.cZ=0]="NoData";a[a.Error=1]="Error";a[a.ix=2]="Timeout";}(c=d.hQa||(d.hQa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(d,f){b.IR("get",!1,a).then(function(b){d({key:a,value:b});})["catch"](function(a){var b;b=h.u.Bia;switch(a.reason){case c.cZ:b=h.u.np;break;case c.ix:b=h.u.JQa;}f({Y:b,cause:a.cause});});});};b.prototype.save=function(a,b,d){var f;f=this;return new Promise(function(g,k){f.IR(d?"add":"put",!0,{name:a,data:b}).then(function(){g(!d);})["catch"](function(a){var b;b=h.u.Cia;switch(a.reason){case c.ix:b=h.u.MQa;}k({Y:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(d,f){b.IR("delete",!0,a).then(function(){d();})["catch"](function(a){var b;b=h.u.FZ;switch(a.reason){case c.ix:b=h.u.Aia;}f({Y:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,d){a.IR("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=h.u.FZ;switch(a.reason){case c.ix:b=h.u.Aia;}d({Y:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.zj.jl(this.config.timeout,new Promise(function(b,d){var g,h,k;if(a.config.GL)d(new f(a.config.GL));else{g=[];h=a.Us.transaction(a.config.iz,"readonly");k=h.objectStore(a.config.iz).openCursor();h.onerror=function(){d(new f(c.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{g.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(x){d(new f(c.Error,x));}else b(g);};k.onerror=function(){d(new f(c.Error,k.error));};}}))["catch"](function(a){return a instanceof m.Bm?Promise.reject(new f(c.ix,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(c.Error,a));});};b.prototype.bK=function(a){var b;b=this;return this.zj.jl(this.config.timeout,new Promise(function(d,g){var h,k,m;if(b.config.GL)g(new f(b.config.GL));else{h={};k=b.Us.transaction(b.config.iz,"readonly");m=k.objectStore(b.config.iz).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){g(new f(c.Error,m.error));};m.onsuccess=function(b){var k,m;try{k=b.target.result;if(k){m=k.key;a&&0!==m.indexOf(a)?d(h):(h[m]=void 0,k["continue"]());}else d(h);}catch(R){g(new f(c.Error,R));}};m.onerror=function(){g(new f(c.Error,m.error));};}}))["catch"](function(a){return a instanceof m.Bm?Promise.reject(new f(c.ix,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(c.Error,a));});};b.prototype.IR=function(a,b,d){var g;g=this;return this.zj.jl(this.config.timeout,new Promise(function(h,k){var m,l;m=g.Us.transaction(g.config.iz,b?"readwrite":"readonly");l=m.objectStore(g.config.iz)[a](d);m.onerror=function(){k(new f(c.Error,l.error));};l.onsuccess=function(b){var d;if("get"==a)try{d=b.target.result;d?h(d.data):k(new f(c.cZ));}catch(R){k(new f(c.cZ,R));}else h();};l.onerror=function(){k(new f(c.Error,l.error));};}))["catch"](function(a){return a instanceof m.Bm?Promise.reject(new f(c.ix,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(c.Error,a));});};d.mLa=b;},function(g,d,a){var m,c,k,l,q,n,r,y,L,x,G,N;function b(a,b,c,d,f,g){this.config=b;this.qI=c;this.Ah=d;this.Kub=f;this.ki=g;this.ia=a.lb(n.JZ);}function f(a,b){this.config=a;this.ot=b;}function h(a,b,c,d,f){this.config=b;this.ot=c;this.ki=f;this.ia=a.lb(n.JZ);this.qI=new Promise(function(a,b){var c;try{c=d();c?a(c):b({Y:q.u.Xea});}catch(ea){b({Y:q.u.xN,cause:ea});}});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1);c=a(7);k=a(819);l=a(162);q=a(2);n=a(405);r=a(406);y=a(62);L=a(63);x=a(114);G=a(161);N=a(60);h.prototype.create=function(){this.t3||(this.t3=this.qC());return this.t3;};h.prototype.cn=function(a){var b;b=this;this.t3=null;return this.ot.jl(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof y.Bm?Promise.reject({Y:q.u.xN}):a.Y?Promise.reject(a):Promise.reject({Y:q.u.xN,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.ot.jl(this.config.timeout,new Promise(function(c,d){b.qI.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({Y:q.u.xN,cause:f.error});};})["catch"](function(a){d(a);});}));};h.prototype.qC=function(){var a,b;a=this;return this.ot.jl(this.config.timeout,new Promise(function(c,d){a.config.eba?d({Y:a.config.eba}):a.qI.then(function(f){a.ki.mark(N.si.BKa);(b=f.open(a.config.name,a.config.version))?(b.onblocked=function(){a.ki.mark(N.si.yKa);d({Y:q.u.uKa});},b.onupgradeneeded=function(){var c;a.ki.mark(N.si.IKa);c=b.result;try{c.createObjectStore(a.config.iz,{keyPath:"name"});}catch(ia){a.ia.error("Exception while creating object store",ia);}},b.onsuccess=function(g){var h,k;a.ki.mark(N.si.HKa);try{h=g.target.result;k=h.objectStoreNames.length;a.ia.trace("objectstorenames length ",k);if(0===k){a.ia.error("invalid indexedDb state, deleting");a.ki.mark(N.si.AKa);try{h.close();}catch(ea){}f.deleteDatabase(a.config.name);setTimeout(function(){d({Y:q.u.tKa});},1);return;}}catch(ea){a.ia.error("Exception while inspecting indexedDb objectstorenames",ea);}c(b.result);},b.onerror=function(){a.ki.mark(N.si.zKa);a.ia.error("IndexedDB open error",b.error);d({Y:q.u.vKa,cause:b.error});}):d({Y:q.u.Yea});})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof y.Bm){try{b&&b.readyState&&a.ki.mark("readyState-"+b.readyState);}catch(D){}if(a.config.dQ&&b&&"done"===b.readyState){if(a.Gub(b))return a.ki.mark(N.si.FKa),Promise.resolve(b.result);a.ki.mark(N.si.EKa);}a.ki.mark(N.si.DKa);return Promise.reject({Y:q.u.xKa});}if(c.Y)return Promise.reject(c);a.ki.mark(N.si.CKa);a.ia.error("IndexedDB open exception occurred",c);return Promise.reject({Y:q.u.wKa,cause:c});});};h.prototype.Gub=function(a){try{return 0<a.result.objectStoreNames.length;}catch(S){this.ki.mark(N.si.GKa);this.ia.error("failed to check open request state",S);}return!1;};a=h;a=g.__decorate([m.N(),g.__param(0,m.l(c.ob)),g.__param(1,m.l(r.yN)),g.__param(2,m.l(y.bx)),g.__param(3,m.l(l.Wea)),g.__param(4,m.l(x.jx))],a);d.rKa=a;f.prototype.create=function(a){return Promise.resolve(new k.mLa(this.config,this.ot,a));};a=f;a=g.__decorate([m.N(),g.__param(0,m.l(r.yN)),g.__param(1,m.l(y.bx))],a);d.oLa=a;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.mI||(this.mI=this.qC(this.Kub));return this.mI;};b.prototype.qC=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.ki.mark(N.si.IQa);b.qI.create().then(function(f){b.Ah.create(f).then(function(g){Promise.all(a.map(function(a){return a.ep(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ia.debug("DB validation failed, cause: "+a);b.config.Kra?(b.ia.debug("Fixing corrupt DB"),b.qI.cn(f).then(function(){b.ia.error("Invalid database deleted, creating new database.");b.qC().then(function(a){b.ia.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ia.error("Couldn't delete invalid database.");d(a);})):(b.ia.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};a=b;a=g.__decorate([m.N(),g.__param(0,m.l(c.ob)),g.__param(1,m.l(r.yN)),g.__param(2,m.l(G.Vea)),g.__param(3,m.l(G.xfa)),g.__param(4,m.az(L.Lia)),g.__param(5,m.l(x.jx))],a);d.pLa=a;},function(g,d,a){var f,h,m;function b(a){this.Us=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(162);b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.Us.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(y){}c({key:a,value:g});}else d({Y:h.u.np});}catch(y){d({Y:h.u.Bia,cause:y});}});};b.prototype.save=function(a,b,d){var c;c=this;return new Promise(function(f,g){if(d&&c.Us.getItem(a))f(!1);else try{"string"===typeof b?c.Us.setItem(a,b):c.Us.setItem(a,JSON.stringify(b));f(!0);}catch(y){g({Y:h.u.Cia,cause:y});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.Us.removeItem(a);c();}catch(t){d({Y:h.u.FZ,cause:t});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.bK=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.ANa))],m);d.JLa=m;},function(g,d,a){var f,h,m,c,k;function b(a,b,d){this.zj=b;this.config=d;this.ia=a.lb(c.JZ);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);m=a(62);c=a(405);a=a(404);b.prototype.ep=function(a){return this.config.enabled?this.config.timeout?this.zj.jl(this.config.timeout,this.wqa(a)):this.wqa(a):Promise.resolve();};b.prototype.wqa=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&d();b.ia.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ia.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(m.bx)),g.__param(2,f.l(a.Cda))],k);d.gHa=k;},function(g,d,a){var b,f,h,m,c,k,l,q,n,r,y,L,x,G,N,R,C;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(406);f=a(63);h=a(162);m=a(822);c=a(403);k=a(821);l=a(404);q=a(161);n=a(820);r=a(818);y=a(817);L=a(816);x=a(63);G=a(402);N=a(814);R=a(401);C=a(813);d.storage=new g.ac(function(a){a(h.Jga).Rf(function(){return function(){return J.localStorage;};});a(h.Wea).Rf(function(){return function(){return J.indexedDB;};});a(G.xga).to(N.bNa).Z();a(x.fp).to(L.$Ea).Z();a(c.Ofa).to(k.JLa).Z();a(b.yN).to(r.nLa).Z();a(q.xfa).to(n.oLa).Z();a(f.Lia).to(m.gHa).Z();a(q.Vea).to(n.rKa).Z();a(q.GY).to(n.pLa).Z();a(l.Cda).to(y.hHa).Z();a(R.aea).to(C.EIa).Z();});},function(g,d,a){var f,h,m;function b(a){this.imb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(222);a=a(407);b.prototype.L8a=function(){var a,b;a={WI:h.Pw.gSa};b=this.imb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.WI=b.value?h.Pw.bia:h.Pw.Oca;if(a.WI===h.Pw.Oca){c=function(){b.value&&(a.WI=h.Pw.bia);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.WI=h.Pw.Error;});return a;};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.cia))],m);d.CJa=m;},function(g,d,a){var f,h,m;function b(a,b){this.Vwa=a;this.log=b.lb("MediaCapabilities");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(409);h=a(7);a=a(1);b.prototype.F4=function(a){var b,c,d;b=this;c={Sc:void 0};if(this.Vwa.Wwa){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,P:1E3*a.P,eS:"24"};this.Vwa.F4(d).then(function(a){return c.Sc=Object.assign({},a,d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};m=b;m=g.__decorate([a.N(),g.__param(0,a.l(f.qga)),g.__param(1,a.l(h.ob))],m);d.OMa=m;},function(g,d,a){var f,h;function b(a){this.navigator=a;this.Wwa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(37);b.prototype.F4=function(a){return this.Wwa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.P,framerate:a.eS}}).then(function(a){return{dKb:a.supported,brb:a.smooth,Plb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.QA))],h);d.NMa=h;},function(g,d,a){var f,h;function b(a,b,d,g){a=f.um.call(this,a,b,d)||this;a.Pg=g;a.type=h.Pj.Fia;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(128);h=a(29);ca(b,f.um);b.prototype.qJ=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.Pg.ii.toString()});};d.PQa=b;},function(g,d,a){var f,h,m;function b(a,b,d,g,m,l){a=f.um.call(this,a,b,d)||this;a.wn=g;a.Eo=m;a.Ra=l;a.type=h.Pj.pX;a.log=a.Eo.lb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(128);h=a(29);m=a(3);ca(b,f.um);b.prototype.Eq=function(a){switch(a){case h.Gh.ip:return this.isb;default:return Promise.resolve(!1);}};b.prototype.hD=function(){var a;a=this;return this.Eq(h.Gh.ip).then(function(a){return a?h.Gh.ip:void 0;}).then(function(b){return a.lI(b);});};b.prototype.i1=function(a){return this.Yv=a;};b.prototype.rM=function(){var a;if(this.Yv){a=this.fua&&this.gua&&this.fua.ke(this.gua).fa(m.ma);this.Yv.itshdcp=JSON.stringify({hdcp1:this.Ds,time1:a});}};qa.Object.defineProperties(b.prototype,{fk:{configurable:!0,enumerable:!0,get:function(){this.Ywa||(this.Ywa=this.wn.mJ().then(function(a){return a.createMediaKeys();}));return this.Ywa;}},isb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.zba||(this.config().g7a?this.zba=this.fk.then(function(b){if(b&&b.getStatusForPolicy)return a.gua=a.Ra.Ve,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.fua=a.Ra.Ve;a.Ds=b;a.log.trace("hdcpStatus: "+a.Ds);return"usable"===a.Ds;});a.Ds="not available";a.log.trace("hdcpStatus: "+a.Ds);return!1;})["catch"](function(b){a.Ds="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Ds},b);return!1;}).then(function(b){a.rM();return b;}):(this.Ds="not enabled",this.log.trace("hdcpStatus: "+this.Ds),this.rM(),this.zba=Promise.resolve(!1)));return this.zba;}}});d.SGa=b;},function(g,d,a){var f,h,m,c,k,l,q,n,r,y,L,x,G,N,R,C,E,D,U;function b(a,b,c,d,f,g,k){a=h.um.call(this,a,b,c)||this;a.ka=d;a.Ra=f;a.Eo=g;a.oe=k;a.type=m.Pj.Yw;a.xF="hvc1";a.nGa="avc1";a.Uya={};a.log=a.Eo.lb("MicrosoftVideoCapabilityDetector");a.mF[m.od.Uq]=n.Kd.IF;a.lrb();a.UL&&a.config().Ihb?a.F6a=a.e4a():(a.F6a=Promise.resolve(""),a.config().Khb?a.i4a():a.config().Jhb&&a.h4a());return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(66);h=a(128);m=a(29);g=a(97);c=a(136);k=a(102);l=a(3);q=a(233);n=a(129);r=a(223);y="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");L="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");x="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");G="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");N="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");R="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");C=["hdcp=1"];E=["hdcp=2"];D=new g.hx();U=new q.fX();ca(b,h.um);b.prototype.Eq=function(a){switch(a){case m.Gh.ip:return this.ACa();case m.Gh.Sw:return this.TK;default:return Promise.resolve(!1);}};b.prototype.eD=function(){return this.UL?this.tdb?this.ACa().then(function(a){return Promise.resolve(a?c.hb.md:c.hb.lG);}):Promise.resolve(c.hb.lG):this.jsb?Promise.resolve(c.hb.lG):Promise.resolve(c.hb.mp);};b.prototype.VL=function(){return this.hsb();};b.prototype.XL=function(){return this.UL&&this.CCa()?this.TK:Promise.resolve(!1);};b.prototype.TL=function(){return this.gsb();};b.prototype.i1=function(a){this.Yv=a;Object.assign(this.Yv,this.Uya);a.itshwdrm=this.UL;a.itsqhd=this.BCa();a.itshevc=this.CCa();a.itshdr=this.VL();a.itsdv=this.TL();return a;};b.prototype.vH=function(a,b){(this.Yv?this.Yv:this.Uya)[a]=b;};b.prototype.hD=function(){var a;a=this;return this.Eq(m.Gh.Sw).then(function(b){return b?a.lI(m.Gh.Sw):a.Eq(m.Gh.ip).then(function(b){return b?a.lI(m.Gh.ip):a.lI(void 0);});});};b.prototype.qJ=function(){return this.eD().then(function(a){return a===c.hb.md?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.G4=function(a){var b;b=this;return a.filter(function(a){var d,g;for(var d=Q(b.tq),f=d.next();!f.done;f=d.next())if(f.value.test(a))return!0;d=Q(b.il);for(f=d.next();!f.done;f=d.next())if(f.value.test(a))return!1;a=b.x$[a];d=[];g=c.hb.mp;if(a)return b.is.Ci(a)?f=a:(d=a.ed,f=a.Be,g=a.De),b.Gu(g,f,d);});};b.prototype.$x=function(){var a;a=h.um.prototype.$x.call(this);a[f.da.vG]="vp09.00.11.08.02";a[f.da.wG]="vp09.00.11.08.02";a[f.da.xG]="vp09.00.11.08.02";a[f.da.dY]={Be:"hev1.2.6.L90.B0",De:c.hb.md,ed:y};a[f.da.gY]={Be:"hev1.2.6.L93.B0",De:c.hb.md,ed:y};a[f.da.jY]={Be:"hev1.2.6.L120.B0",De:c.hb.md,ed:y};a[f.da.mY]={Be:"hev1.2.6.L123.B0",De:c.hb.md,ed:y};a[f.da.LF]={Be:"hev1.2.6.L150.B0",De:c.hb.md,ed:y};a[f.da.MF]={Be:"hev1.2.6.L153.B0",De:c.hb.md,ed:y};a[f.da.eY]={Be:"hev1.2.6.L90.B0",De:c.hb.md,ed:y};a[f.da.hY]={Be:"hev1.2.6.L93.B0",De:c.hb.md,ed:y};a[f.da.kY]={Be:"hev1.2.6.L120.B0",De:c.hb.md,ed:y};a[f.da.nY]={Be:"hev1.2.6.L123.B0",De:c.hb.md,ed:y};a[f.da.oY]={Be:"hev1.2.6.L150.B0",De:c.hb.md,ed:y};a[f.da.pY]={Be:"hev1.2.6.L153.B0",De:c.hb.md,ed:y};a[f.da.nN]={Be:"hev1.2.6.L90.B0",De:c.hb.md,ed:x};a[f.da.oN]={Be:"hev1.2.6.L93.B0",De:c.hb.md,ed:x};a[f.da.pN]={Be:"hev1.2.6.L120.B0",De:c.hb.md,ed:x};a[f.da.qN]={Be:"hev1.2.6.L123.B0",De:c.hb.md,ed:G};a[f.da.ZX]={Be:"hev1.2.6.L150.B0",De:c.hb.md,ed:G};a[f.da.aY]={Be:"hev1.2.6.L153.B0",De:c.hb.md,ed:G};a[f.da.ZM]={Be:"hev1.2.6.L90.B0",De:c.hb.md,ed:N};a[f.da.$M]={Be:"hev1.2.6.L93.B0",De:c.hb.md,ed:N};a[f.da.aN]={Be:"hev1.2.6.L120.B0",De:c.hb.md,ed:N};a[f.da.bN]={Be:"hev1.2.6.L123.B0",De:c.hb.md,ed:R};a[f.da.cN]={Be:"hev1.2.6.L150.B0",De:c.hb.md,ed:R};a[f.da.yX]={Be:"hev1.2.6.L153.B0",De:c.hb.md,ed:R};return a;};b.prototype.Gu=function(a,b,c){a=r.Zw.PQ(a,b,c);return this.ds(a);};b.prototype.BCa=function(){return this.Gu(c.hb.md,this.xF,y);};b.prototype.hsb=function(){return this.Gu(c.hb.md,this.xF,x);};b.prototype.gsb=function(){return this.Gu(c.hb.md,this.xF,N);};b.prototype.CCa=function(){return this.Gu(c.hb.md,this.xF,L);};b.prototype.ACa=function(){var a;a=this;return this.TK.then(function(b){return b?Promise.resolve(b):a.Cza;});};b.prototype.rM=function(){this.Yv&&(this.Yv.itshdcp=JSON.stringify({hdcp1:this.dua,time1:this.SCa-this.nCa,hdcp2:this.eua,time2:this.TCa-this.oCa}));};b.prototype.lrb=function(){var a;a=this;this.UL?(this.j$=new k.aj(),this.k$=new k.aj(),this.Cza=k.Da.from(this.j$).iM().then(function(a){return"probably"===a;}),this.TK=k.Da.from(this.k$).iM().then(function(a){return"probably"===a;}),this.VBa(this.k$,this.config().Mhb),this.cza(this.mab.bind(this),this.k$),this.TK.then(function(b){b||(a.VBa(a.j$,a.config().Lhb),a.cza(a.lab.bind(a),a.j$));})):(this.Cza=Promise.resolve(!0),this.TK=Promise.resolve(!1));};b.prototype.cza=function(a,b){k.Da.ot(0,this.config().Nhb).map(function(){return a();}).HL(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).eM(k.Da.from(b)).iM();};b.prototype.VBa=function(a,b){this.ka.fg(l.Cb(b),function(){a.next("timeout");a.complete();});};b.prototype.lab=function(){var a;a=r.Zw.PQ(c.hb.lG,this.nGa,C).split("|");this.dua=r.Zw.yba(a[0],a[1]);this.SCa=this.Ra.Ve.fa(l.ma);this.nCa=this.nCa||this.SCa;this.rM();return this.dua;};b.prototype.mab=function(){var a;a=r.Zw.PQ(c.hb.md,this.xF,E).split("|");this.eua=r.Zw.yba(a[0],a[1]);this.TCa=this.Ra.Ve.fa(l.ma);this.oCa=this.oCa||this.TCa;this.rM();return this.eua;};b.prototype.e4a=function(){var a;a=this;return this.g3(c.hb.md,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.vH("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.h4a=function(){var a;a=this;this.g3(c.hb.mp,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.oe.decode(b));a.vH("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.vH("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.i4a=function(){var a;a=this;this.g3(c.hb.mp,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.oe.decode(b));a.vH("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.vH("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.g3=function(a,b){var c;c=this;return new Promise(function(d,f){var p,n,u;function g(a){try{m(a.target,"Unexpectedly got an mskeyerror event: 0x"+U.fJ(a&&a.target&&a.target.error&&a.target.error.fKb||0,4));}catch(la){m(a.target,la);}}function h(a){m(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.A4(a.message,"PlayReadyKeyMessage","Challenge");q(a.target);d(b);}catch(Fa){m(a.target,Fa);}}function m(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});q(a);f(d);}function q(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);p&&p.cancel();}try{n=new Uint8Array(D.Nrb(b));u=new J.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),n);u.addEventListener("mskeymessage",k);u.addEventListener("mskeyadded",h);u.addEventListener("mskeyerror",g);p=c.ka.fg(l.Cb(1E3),function(){m(u,Error("timeout"));});}catch(xa){f(xa);}});};b.prototype.A4=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};qa.Object.defineProperties(b.prototype,{tdb:{configurable:!0,enumerable:!0,get:function(){return this.config().f7a&&(!this.config().Ohb||this.BCa());}},UL:{configurable:!0,enumerable:!0,get:function(){try{return this.ds(c.hb.md);}catch(P){return!1;}}},jsb:{configurable:!0,enumerable:!0,get:function(){try{return this.ds(c.hb.lG);}catch(P){return!1;}}}});b.dF='video/mp4;codecs="{0},mp4a";';d.AMa=b;},function(g,d,a){var f,h,m,c,k;function b(a,b,d,g){a=c.AX.call(this,a,b)||this;a.is=d;a.platform=g;a.type=f.Fw.Yw;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);h=a(66);m=a(136);c=a(410);k=a(223);ca(b,c.AX);b.prototype.SL=function(){return this.config().JI&&this.Gu(m.hb.mp,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]);};b.prototype.$x=function(){var a;a={};a[h.Xi.rN]="mp4a.40.2";a[h.Xi.bY]="mp4a.40.5";this.config().i4&&(a[h.Xi.sN]="mp4a.40.2");"browser"===this.platform.mqa?this.config().JI&&(a[h.Xi.XM]={Be:"avc1",De:m.hb.mp,ed:["audio-endpoint-codec=DD+JOC"]},a[h.Xi.YM]={Be:"avc1",De:m.hb.mp,ed:["audio-endpoint-codec=DD+JOC"]}):(this.config().g4&&(a[h.Xi.XM]="ec-3"),this.config().f4&&(a[h.Xi.sX]="ec-3"),this.config().JI&&(a[h.Xi.YM]={Be:"avc1",De:m.hb.mp,ed:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.G4=function(a){var b;b=this;return a.filter(function(a){var c,f;for(var c=Q(b.tq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Q(b.il);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.x$[a];c=[];f=m.hb.mp;if(a)return b.is.Ci(a)?d=a:(c=a.ed,d=a.Be,f=a.De),b.Gu(f,d,c);});};b.prototype.Gu=function(a,b,c){a=k.Zw.PQ(a,b,c);return this.ds(a);};d.fNa=b;},function(g,d,a){var f,h,m,c,k,l,q,n,r,y,L,x,G,N,R,C,E,D,J;function b(a,b,c,d,f,g,h,k,m,l,q){this.nva=a;this.cast=b;this.config=c;this.ka=d;this.Ra=f;this.is=g;this.wn=h;this.Eo=k;this.Pg=m;this.platform=l;this.oe=q;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(29);m=a(225);c=a(163);k=a(224);l=a(830);q=a(829);n=a(128);r=a(410);y=a(30);L=a(42);x=a(21);G=a(828);N=a(118);R=a(7);C=a(827);E=a(64);D=a(72);a=a(41);b.prototype.Q3a=function(a){var b;b=this.nva.wpa();switch(a){case h.Fw.Yw:return new l.fNa(this.config,b,this.is,this.platform);default:return new r.AX(this.config,b);}};b.prototype.C4a=function(a){var b;b=this.nva.wpa();switch(a){case h.Pj.nX:a=new k.sda(this.config,b,this.is,this.cast);break;case h.Pj.pX:a=new G.SGa(this.config,b,this.is,this.wn,this.Eo,this.Ra);break;case h.Pj.Yw:a=new q.AMa(this.config,b,this.is,this.ka,this.Ra,this.Eo,this.oe);break;case h.Pj.Fia:a=new C.PQa(this.config,b,this.is,this.Pg);break;default:a=new n.um(this.config,b,this.is);}return a;};J=b;J=g.__decorate([f.N(),g.__param(0,f.l(m.Dfa)),g.__param(1,f.l(k.oX)),g.__param(2,f.l(c.eN)),g.__param(3,f.l(y.ng)),g.__param(4,f.l(L.Kj)),g.__param(5,f.l(x.ue)),g.__param(6,f.l(N.Xw)),g.__param(7,f.l(R.ob)),g.__param(8,f.l(E.Tn)),g.__param(9,f.l(D.lp)),g.__param(10,f.l(a.Jj))],J);d.IGa=J;},function(g,d,a){var f,h,m,c,k,l;function b(a,b,c){this.config=a;this.Ypa=b;this.cast=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(225);m=a(163);c=a(29);k=a(224);l=a(223);b.prototype.wpa=function(){switch(this.config().NW){case c.Pj.nX:return k.sda.b3(this.Ypa,this.cast);case c.Pj.Yw:return l.Zw.b3(this.config);default:return this.Ypa;}};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.eN)),g.__param(1,f.l(h.Iha)),g.__param(2,f.l(k.oX))],a);d.vLa=a;},function(g,d,a){var f,h,m,c,k,l,q,n;function b(a,b,d){this.hR=a;this.Ba=b;this.RE=d;this.iYa="video/mp4;codecs={0}";this.SSa="audio/mp4;codecs={0}";a=this.hR.oS(h.od.Uq);this.hYa=c.Kd.zpa(a);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(29);m=a(1);c=a(129);k=a(21);l=a(231);q=a(413);n=a(9);b.prototype.nI=function(a){a=this.hR.pab(a);a=this.Ba.Nl(a)?a:h.od.pG;return this.RE.format(this.iYa,this.hYa[a]);};b.prototype.hI=function(a){return 0===a.length?this.RE.format(this.SSa,c.Kd.WW):q.Yca[a[0].ff]===f.NEa?n.Uw:n.gMa;};a=f=b;a.NEa="AAC";a=f=g.__decorate([m.N(),g.__param(0,m.l(h.CX)),g.__param(1,m.l(k.ue)),g.__param(2,m.l(l.MZ))],a);d.dRa=a;},function(g,d,a){var f,h,m,c,k,l;function b(a,b,c){this.config=a;this.uoa=b;this.plb=c;this.xmb=this.u4a();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(29);h=a(163);m=a(1);c=a(66);k=a(415);a=a(414);b.prototype.Sbb=function(){return this.psa().Dta();};b.prototype.Tbb=function(){return this.Vp().Dta();};b.prototype.psa=function(){this.I1&&this.I1.type==this.config().J1||(this.I1=this.uoa.Q3a(this.config().J1));return this.I1;};b.prototype.Vp=function(){this.MW&&this.MW.type==this.config().NW||(this.MW=this.uoa.C4a(this.config().NW),this.MW.i1(this.plb.dab()));return this.MW;};b.prototype.pab=function(a){var d;if(!a||!a.length)return f.od.mN;a=this.a9a(a);for(var b=[f.od.pG,f.od.mN,f.od.bO,f.od.Yq,f.od.Uq,f.od.qA,f.od.Tt,f.od.Ch],c=b.length;c--;){d=b[c];if((0,this.xmb[d])(a))return d;}return f.od.pG;};b.prototype.Eq=function(a){return this.Vp().Eq(a);};b.prototype.ds=function(a){return this.Vp().ds(a);};b.prototype.eD=function(){return this.Vp().eD();};b.prototype.VL=function(){return this.Vp().VL();};b.prototype.SL=function(){return this.psa().SL();};b.prototype.TL=function(){return this.Vp().TL();};b.prototype.XL=function(){return this.Vp().XL();};b.prototype.oS=function(a){return this.Vp().oS(a);};b.prototype.hD=function(){return this.Vp().hD();};b.prototype.qJ=function(){return this.Vp().qJ();};b.prototype.a9a=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.ff]="";});return Object.keys(b);};b.prototype.u4a=function(){var a;a={};a[f.od.Ch]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[f.od.qA]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[f.od.Tt]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[f.od.Uq]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[f.od.Yq]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[f.od.bO]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[f.od.mN]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=Q(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[c.da.lN]);a[f.od.pG]=function(){return!0;};return a;};l=b;l=g.__decorate([m.N(),g.__param(0,m.l(h.eN)),g.__param(1,m.l(a.qda)),g.__param(2,m.l(k.Aea))],l);d.xIa=l;},function(g,d,a){var b,f,h,m,c,k,l,q,n,r,y,L,x,G,N,R,C,E,D,U;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(29);f=a(17);h=a(834);m=a(163);c=a(113);k=a(833);l=a(225);q=a(832);n=a(415);r=a(414);y=a(831);L=a(224);x=a(8);G=a(409);N=a(826);R=a(408);C=a(825);E=a(222);D=a(824);U=a(407);d.hR=new g.ac(function(a){a(c.XA).to(k.dRa).Z();a(b.CX).to(h.xIa).Z();a(l.Dfa).to(q.vLa).Z();a(r.qda).to(y.IGa).Z();a(l.Iha).Bh({isTypeSupported:x.NA&&x.NA.isTypeSupported});a(L.oX).Bh("undefined"!==typeof cast?cast:null);a(n.Aea).dA(function(){return{dab:function(){return J._cad_global.platformExtraInfo;}};});a(m.eN).dA(function(a){return a.ec.get(f.ld);});a(G.qga).to(N.NMa).Z();a(R.pga).to(C.OMa).Z();a(E.zea).to(D.CJa).Z();a(U.cia).Bh(J);});},function(g,d,a){function b(a){this.x6a=void 0===a?10:a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b=g.__decorate([a.N()],b);d.BRa=b;},function(g,d,a){var f,h;function b(a){this.Ysb=a;this.rW={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(226);b.prototype.u$a=function(){var a,b,d;a=[];for(b in this.rW){d=this.rW[b];a.push({Iu:Number(b),Zz:d.Uk().Zz,X3:d.Uk().X3});}return a;};b.prototype.YP=function(a){var b,d;b=a.Iu;d=this.rW[b];d||(d=this.Ysb(),this.rW[b]=d);d.YP(a);};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.QZ))],h);d.PGa=h;},function(g,d,a){var f,h,m,c;function b(a){this.config=a;this.hba=h.Ef;this.LE=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);m=a(3);a=a(417);b.prototype.Uk=function(){var b;for(var a;0<this.LE.length;)a=this.LE.shift(),this.Jma(a);a=void 0===this.FI||void 0===this.cy?m.Ef:this.cy.ke(this.FI);b=a.qva()?0:this.hba.fa(h.sA)/a.fa(m.ma);return{Zz:Math.floor(b),X3:a.fa(m.ma)};};b.prototype.YP=function(a){this.hba=this.hba.add(a.size);this.LE.push(a.w6a);for(this.LE.sort(function(a,b){return a.start.Pk(b.start);});this.LE.length>this.config.x6a;)a=this.LE.shift(),this.Jma(a);};b.prototype.Jma=function(a){void 0===this.FI&&(this.FI=a.start);void 0!==this.cy&&0>this.cy.Pk(a.start)&&(this.FI=this.FI.add(a.start.ke(this.cy)));if(void 0===this.cy||0>this.cy.Pk(a.end))this.cy=a.end;};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(a.Yia))],c);d.CRa=c;},function(g,d,a){var b,f,h,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(838);f=a(837);h=a(836);m=a(416);c=a(417);k=a(226);d.$z=new g.ac(function(a){a(k.Zia).to(b.CRa);a(m.tda).to(f.PGa).Z();a(c.Yia).Bh(new h.BRa());a(k.QZ).Rf(function(a){return function(){return a.ec.get(k.Zia);};});});},function(g,d,a){var f,h,m,c,k,l;function b(a,b,c,d,f,g,k,m,l,p,n,u,r,C,E,J){var q;q=this;this.Vd=a;this.Ba=b;this.ya=c;this.Hb=f;this.Ko=k;this.cI=m;this.xYa=l;this.config=p;this.af=u;this.M=r;this.j=n.create(r,C,E);this.j.background=!0;this.j.Ja=J;this.log=d.lb("VideoPlayer",this.j);this.Lya=[];this.ended=!1;this.FM();this.j.state.addListener(function(a){a.newValue===h.jb.$c&&q.Fd(h.qb.t7,{movieId:r});});this.j.Ya.ag&&(this.bC=g.R3a(this,this.j,this.af),this.j.addEventListener(h.S.uL,function(a){q.Fd(h.qb.upb,{segmentId:a.segmentId});}));}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);h=a(15);m=a(3);c=a(8);k=a(76);l=a(18);b.prototype.isReady=function(){return this.j.state.value===h.jb.$c;};b.prototype.Uab=function(){return this.j.M;};b.prototype.n6=function(){return this.j.oa;};b.prototype.sy=function(){return this.j.Yg;};b.prototype.Iy=function(){return this.j.rq.value;};b.prototype.ueb=function(){return this.j.paused.value;};b.prototype.keb=function(){return this.ended;};b.prototype.nj=function(){var a;a=this.j.e2.value;return a?{networkStalled:!!a.cW,stalled:!!a.cW,progress:a.Qi,progressRollback:!!a.Amb}:null;};b.prototype.getError=function(){var a;a=this.j.Xh;return a?a.Sba():null;};b.prototype.m$a=function(){var a;a=(this.t5()||0)+this.j.usa();return Math.min(a,this.s5());};b.prototype.t5=function(){return this.j.ty();};b.prototype.s5=function(){return this.j.Yx.fa(m.ma);};b.prototype.ncb=function(){return this.j.kF?{width:this.j.kF.width,height:this.j.kF.height}:null;};b.prototype.B$a=function(){var f;if(this.j.Lq){for(var a,b=0;b<this.j.Lq.length;b++)for(var c=this.j.Lq[b],d=0;d<c.oc.length;d++){f=c.oc[d];this.Ba.Vf(f.E4a)&&this.Ba.Vf(f.Dpa)&&this.Ba.Vf(f.Cpa)&&this.Ba.Vf(f.Bpa)&&0<f.Dpa&&(f=f.Bpa/f.Cpa,a=this.Ba.Vf(a)?Math.min(a,f):f);}return a;}};b.prototype.M$a=function(){var a;a=this;return{addEventListener:this.j.M3.addEventListener,removeEventListener:this.j.M3.removeEventListener,getModel:function(){return a.j.M3.oIb;},getTime:function(){return a.ya.Xb().fa(m.ma);},getGroups:function(){var b;b=a.j.RU;return b?b.kab():[];}};};b.prototype.$9a=function(){var a;a=this;return this.j.Qm?this.j.Qm.map(function(b){return a.wy(b);}).filter(function(a){return null!==a;}):[];};b.prototype.Gta=function(a){var b,c;b=this;c=a&&this.j.Qm.find(function(c){return b.wy(c)===a;})||this.j.Nc.value;return null===c?[]:c.Hj.map(function(a){return b.wy(a);}).filter(function(a){return null!==a;});};b.prototype.teb=function(){return this.j.muted.value;};b.prototype.pcb=function(){return this.j.volume.value;};b.prototype.Z9a=function(){return this.wy(this.j.Nc.value);};b.prototype.Fta=function(){return this.wy(this.j.vc.value);};b.prototype.geb=function(){return!!this.j.background;};b.prototype.hqb=function(a){this.j.muted.set(!!a);};b.prototype.wqb=function(a){this.j.volume.set(this.Zxa(a,1));};b.prototype.lqb=function(a){this.j.playbackRate.set(this.Zxa(a,2));};b.prototype.Upb=function(a){var b,c;b=this;c=this.j.Qm.find(function(c){return b.wy(c)===a;});c?this.j.Nc.set(c):this.log.error("Invalid setAudioTrack call");};b.prototype.PBa=function(a){var d;if(null!==this.j.Nc.value){for(var b=this.j.Nc.value.Hj,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.vc.set(null);return;}if(this.wy(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.vc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.BBa=function(a){this.j.background=a;};b.prototype.LL=function(){this.j.LL();};b.prototype.addEventListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.cw=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,c){try{a.Fd(h.qb.cgb,void 0,!0);b.Ja&&(b.Ja.watermarkInfo&&a.Fd(h.qb.bvb,b.Ja.watermarkInfo,!0),b.Ja.choiceMap&&a.Fd(h.qb.tpb,{segmentMap:b.Ja.choiceMap},!0));c({W:!0});}catch(y){c({Y:f.u.eh,Sa:a.Vd.ud(y)});}}));};b.prototype.close=function(a){var b;b=this;this.Moa||(this.Moa=new Promise(function(c){a?b.j.sd(a,c):b.j.close(c);}));return this.Moa;};b.prototype.play=function(){this.j.jj?this.j.fireEvent(h.S.UAa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(h.S.$Da)));};b.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(h.S.Eub));};b.prototype.seek=function(a,b,c,d){this.j.zg?this.j.zg.seek(a,b,c,d):this.j.Rx=a;};b.prototype.ulb=function(a){return this.bC?(this.log.trace("Playing a segment",a),this.bC.play(a)):Promise.resolve();};b.prototype.Smb=function(a){return this.bC?(this.log.trace("Queueing a segment",a),this.bC.fi(a)):Promise.resolve();};b.prototype.Jq=function(a,b){return this.bC?(this.log.trace("Updating next segment weights",a,b),this.bC.Jq(a,b)):Promise.resolve();};b.prototype.oM=function(){this.j.oM();};b.prototype.CS=function(){var a;a=this.j.Nn.CS();return{bounds:a.SH,margins:a.un,size:a.size,visibility:a.visibility};};b.prototype.DL=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.hM&&(b&&this.j.hM.Vaa(b),c&&this.j.hM.Waa(c),"boolean"===typeof a&&this.j.hM.Xaa(a));this.j.Nn&&d&&this.j.Nn.rqb(d);};b.prototype.RBa=function(a){this.j.pm=a;};b.prototype.dcb=function(a){return this.j.qt&&this.j.qt.iab(a)||null;};b.prototype.U9a=function(){return this.Vd.gk({playerver:this.config.version,jssid:this.config.Seb,groupName:this.config.config.nv,xid:this.j.oa,pbi:this.j.index},this.config.qlb,{prefix:"pi_"});};b.prototype.Mdb=function(a){this.j.sd(this.af(f.I.iJa,f.u.bj,a));};b.prototype.Pfb=function(a,b,c){if(!this.Ba.kna(a))throw Error("invalid url");this.Lya.push({url:a,name:b,j_a:c});this.yza();};b.prototype.yta=function(){var a,b,c,d,f,g,h,k;a={};b=this.j.fW;try{if(this.j.Xh&&(a.errorCode=this.j.Xh.kR,a.errorType=b?"endplay":"startplay"),a.playdelay=l.Tl(this.j.roa()),a.xid=this.j.oa,this.j.Ja&&this.Ba.Ci(this.j.Ja.packageId)&&(a.packageId=Number(this.j.Ja.packageId)),a.auth=this.j.b$a(),a.hdr=this.j.xab(),b){a.totaltime=this.j.cl?this.my(this.j.cl.rJ()):0;a.abrdel=this.j.cl?this.j.cl.qsa():0;c=this.j.zg;d=c?c.ry():null;this.Ba.Vf(d)&&(a.totdfr=d);d=c?c.iJ():null;this.Ba.Vf(d)&&(a.totcfr=d);f=c?c.yab():null;f&&(a.rbfrs_decoder=f.u5a,a.rbfrs_network=f.Jib);a.rbfrs_delay=this.j.cl?this.j.cl.k7:0;a.init_vbr=this.j.dT;g=this.wS();this.Ba.Nl(g)&&(a.pdltime=g);h=this.j.Le.value;k=h&&h.stream;k&&(a.vbr=k.P,a.vdlid=k.Tc);a.bufferedTime=this.j.usa();}}catch(R){this.log.error("error capturing session summary",R);}return a;};b.prototype.OI=function(a){var b,c,d;b=this;if(this.Ba.Vf(this.j.Qb.value)){c=Object.assign({},this.Ko.create(this.j),{action:a});d=this.cI(k.ql.OI);return this.xYa().then(function(a){return d.hn(b.log,a.profile,b.j.Ja.wf,c);}).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.Ic,errorExternalCode:a.vg,errorData:a.data,errorDetails:a.zC};});}return Promise.resolve({success:!1});};b.prototype.wy=function(a){var b;if(null!==a){b=a.Jmb=a.Jmb||{trackId:a.eb,bcp47:a.Wj,displayName:a.displayName,trackType:a.Ui,channels:a.Nk};a.$p&&(b.isImageBased=!0);this.xeb(a)&&(b.isNative=a.isNative);this.yeb(a)&&(b.isNoneTrack=a.SJ(),b.isForcedNarrative=a.kT());return b;}return null;};b.prototype.xeb=function(a){return"undefined"!==typeof a.isNative;};b.prototype.yeb=function(a){return"undefined"!==typeof a.SJ&&"undefined"!==typeof a.kT;};b.prototype.Zxa=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.my=function(a){return this.Ba.Vf(a)?(a/1E3).toFixed(0):"";};b.prototype.Fd=function(a,b,c){b=b||{};b.target=this;this.Hb.Ib(a,b,!c);};b.prototype.FM=function(){var a;a=this;this.j.addEventListener(h.S.Iba,function(){a.Fd(h.qb.$m);});this.j.addEventListener(h.S.VT,function(){a.Fd(h.qb.foa);});this.j.addEventListener(h.S.Dn,function(){a.Fd(h.qb.foa);});this.j.addEventListener(h.S.pD,function(b){a.Fd(h.qb.pD,{errorCode:b});});this.j.addEventListener(h.S.M1,function(b){a.Fd(h.qb.k_a,b.j);});this.j.addEventListener(h.S.jj,function(b){a.Fd(h.qb.l_a,b);});this.j.rq.addListener(function(){a.Fd(h.qb.Jlb);});this.j.paused.addListener(function(){a.Fd(h.qb.Qkb);});this.j.muted.addListener(function(){a.Fd(h.qb.Bib);});this.j.volume.addListener(function(){a.Fd(h.qb.Xub);});this.j.Ob.addListener(function(){a.HDa();});this.j.state.addListener(function(){a.HDa();});this.j.e2.addListener(function(b){a.$fb||a.j.state.value!=h.jb.$c||b.newValue||(a.$fb=!0,a.Fd(h.qb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.yta());}));a.Fd(h.qb.f2);});this.j.Nc.addListener(function(b){a.Fd(h.qb.IH);b.oldValue&&b.newValue&&b.oldValue.Hj==b.newValue.Hj||a.Fd(h.qb.bA);setTimeout(function(){var b;if(null!==a.j.Nc.value&&null!==a.j.vc.value){b=a.j.Nc.value.Hj;0<=b.indexOf(a.j.vc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.vc.set(b[0]));}},0);});this.j.vc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.eb==b.newValue.eb||a.Fd(h.qb.ZE);});this.j.addEventListener(h.S.bA,function(){a.Fd(h.qb.bA);});this.j.addEventListener(h.S.mM,function(){a.Fd(h.qb.mM);});this.j.state.addListener(function(b){switch(b.newValue){case h.jb.$c:a.Fd(h.qb.S6a);a.Fd(h.qb.Tub);a.Fd(h.qb.Kna);a.Fd(h.qb.bA);a.Fd(h.qb.bgb);a.yza();a.gvb();break;case h.jb.CLOSING:a.j.Xh&&a.Fd(h.qb.error,a.j.Xh.Sba());break;case h.jb.CLOSED:a.Fd(h.qb.closed),a.Hb.FC();}});};b.prototype.gvb=function(){var a;a=this;this.j.Nn.addEventListener("showsubtitle",function(b){a.Fd(h.qb.Sqb,b,!0);});this.j.Nn.addEventListener("removesubtitle",function(b){a.Fd(h.qb.Xnb,b,!0);});};b.prototype.yza=function(){if(this.j.state.value==h.jb.$c){for(var a,b,c;b=this.Lya.shift();)a=this.j.Nn.h1(b.url,b.name),b.j_a&&(c=a);c&&this.j.vc.set(c);}};b.prototype.HDa=function(){var a;a=this.j.state.value==h.jb.$c&&this.j.Ob.value==h.ib.Wq;this.ended!==a&&(this.ended=a,this.Fd(h.qb.Z7a));};b.prototype.wS=function(){var a,b;try{a=/playercore.*js/;b=c.br.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(A){}};d.rLa=b;},function(g,d,a){var f,h,m,c,k,l,q,n,r,y,L,x;function b(a){this.Wc=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(247);m=a(22);c=a(21);k=a(23);l=a(7);q=a(70);n=a(229);r=a(840);y=a(227);L=a(76);x=a(65);b.prototype.r4a=function(a,b,d,f,g,h,p){return new r.rLa(this.Wc.get(m.cf),this.Wc.get(c.ue),this.Wc.get(k.Oe),this.Wc.get(l.ob),this.Wc.get(q.jN),this.Wc.get(n.HZ),this.Wc.get(y.qZ),this.Wc.get(L.LX),this.Wc.get(x.Sq),a,b,d,f,g,h,p);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.yfa))],a);d.nSa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(418);f=a(841);d.Rub=new g.ac(function(a){a(b.qja).to(f.nSa).Z();});},function(g,d,a){var f,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);b.prototype.zza=function(a,b,d){var c;if(this.config().Fpb){c=a.metrics;d||(void 0===c?b.cq.transition({isBranching:b.Ya.ag||void 0,isPlaygraph:a.playlistSegment||void 0,srcxid:b.oa,srcmid:b.M,segment:a.segmentId,dataerror:"missingMetrics"}):b.cq.transition({isBranching:b.Ya.ag||void 0,isPlaygraph:a.playlistSegment||void 0,srcxid:b.oa,srcmid:b.M,segment:a.segmentId,srcsegment:c.srcsegment,srcsegmentduration:c.srcsegmentduration,srcoffset:c.srcoffset,seamlessRequested:c.seamlessRequested,transitionType:c.transitionType,delayToTransition:c.delayToTransition,durationOfTransition:c.durationOfTransition,atRequest:c.atRequest,atTransition:c.atTransition,discard:c.discard}));}};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.ld))],h);d.RRa=h;},function(g,d,a){var h;function b(){}function f(a,b,d,f,g){this.debug=a;this.version=b;this.Seb=d;this.qlb=f;this.config=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);f.prototype.l5=function(){return this.config.Yna;};f.prototype.pta=function(){return this.config.Llb;};b.prototype.cv=function(a,b,d,g,h){return new f(a,b,d,g,h);};h=b;h=g.__decorate([a.N()],h);d.XQa=h;},function(g,d,a){var m,c,k,l;function b(a,b,c,d,f,g,h,m,l){var p;p=this;this.ja=b;this.j=c;this.VD=d;this.Pv=f;this.ka=g;this.fQ=h;this.af=m;this.fA=l;this.Cz=function(){p.nq&&(p.nq.closed||p.nq.unsubscribe(),p.nq=void 0);};this.log=a.lb("SegmentManager",this.j);this.je=new Map();this.Wua=!0;this.j.Ya.ag&&(this.j.addEventListener(k.S.uL,function(a){return p.Vjb(a);}),this.j.addEventListener(k.S.closed,this.Cz));}function f(a,b){this.id=a;this.w2=b;}function h(a,b,d,f){return c.Qc.call(this,a,d,void 0,void 0,void 0,b,void 0,f)||this;}Object.defineProperty(d,"__esModule",{value:!0});m=a(2);c=a(55);k=a(15);l=a(3);ca(h,c.Qc);h.prototype.toString=function(){return this.code+"-"+this.Ic+" : "+this.message+"\n"+JSON.stringify(this.data);};f.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.jm,contentEndPts:this.PC};};qa.Object.defineProperties(f.prototype,{jm:{configurable:!0,enumerable:!0,get:function(){return this.w2.startTimeMs;}},PC:{configurable:!0,enumerable:!0,get:function(){return this.w2.endTimeMs;}},Nib:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.w2.next);}}});b.prototype.Vjb=function(a){var b,c;b=this;if(0===this.je.size){c=this.j.nS();Object.keys(c).forEach(function(a){b.je.set(a,new f(a,c[a]));});}this.ha=this.je.get(a.segmentId);this.fA.zza(a,this.j,this.Wua);this.Wua=!1;};b.prototype.play=function(a){this.yz&&(this.yz=void 0);this.Cz();this.log.trace("Playing segment",a);return this.bva(a)?this.tlb(a):this.QU(a);};b.prototype.fi=function(a){this.log.trace("Queueing segment",a);return this.bva(a)?this.Rmb(a):this.Tmb(a);};b.prototype.Jq=function(a,b){var c,d;c=this;d=this.j.nb;if(!d)return Promise.reject(this.getError(m.I.ada,"ASE session manager is not yet initialized",m.u.eX,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.hca(a,b);c.j.fireEvent(k.S.Jq,{ji:a,hub:b});f();}catch(G){g(c.getError(m.I.ada,"updateNextSegmentWeights threw an exception",m.u.GFa,{segmentId:a,updates:b,error:G}));}});};b.prototype.bva=function(a){return this.ha?void 0!==this.j.nS()[this.ha.id].next[a]:!1;};b.prototype.qta=function(){if(this.j.nb)return this.j.nb.U5().ee;};b.prototype.nbb=function(){if(this.j.nb)return this.j.nb.U5().id;};b.prototype.w$a=function(a){if(this.j.nb)return(a=this.j.nb.q5(a))&&a.Rc;};b.prototype.tlb=function(a){var b,c,d;b=this;c=this.j.nb;if(!c)return Promise.reject(this.getError(m.I.vF,"ASE session manager is not yet initialized",m.u.eX,{id:a}));if(this.ha&&1===this.ha.Nib.length)return this.QU(a);if(!this.j.zg)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(m.I.vF,"MediaPresenter is not initialized",m.u.DFa,{id:a}));d=this.w$a(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.QU(a)):new Promise(function(f,g){var u,t,r,y,x,A;function h(){!r&&t&&u&&(A.cancel(),r=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:t,repositioned:u,completed:r}),c.Ju(a,!1,!0)?(f(),r=!0):(r=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.QU(a).then(f)["catch"](g)));}function p(){u=!0;b.log.trace("Player is repositioned",{id:a,stopped:t,repositioned:u,completed:r});b.j.removeEventListener(k.S.Dn,p);h();}function q(){b.j.removeEventListener(k.S.Ez,q);c.stop();}function n(){t=!0;b.log.trace("ASE is stopped",{id:a,stopped:t,repositioned:u,completed:r});c.removeEventListener("stop",n);h();}u=!1;t=!1;r=!1;y=b.je.get(a);x=y.jm+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:x,currentSegment:b.ha,nextSegment:y},null,"  "));b.j.fireEvent(k.S.tU,{Th:b.ha&&b.ha.id,uU:a});c.addEventListener("stop",n);b.j.addEventListener(k.S.Ez,q);b.j.addEventListener(k.S.Dn,p);A=b.ka.fg(l.Eg(10),function(){r=!0;A.cancel();g(b.getError(m.I.vF,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.u.CFa,{id:a,stopped:t,repositioned:u,completed:r}));});b.ja.seek(x,k.kg.WA);});};b.prototype.QU=function(a){var b;b=this.je.get(a);return b?this.kBa(b,m.I.vF):Promise.reject(this.getError(m.I.vF,"Unable to find the separated segment",m.u.$ca,{id:a}));};b.prototype.Rmb=function(a){var b;b=this.j.nb;if(!b)return Promise.reject(this.getError(m.I.Gw,"ASE session manager is not yet initialized",m.u.eX,{id:a}));if(b.Ju(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(m.I.Gw,"ASE chooseNextSegment failed",m.u.zFa,{id:a}));};b.prototype.Tmb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.M,srcsegment:this.nbb()});if(this.yz)return Promise.reject(this.getError(m.I.Gw,"Unable to queue a non-next segment because there is currently already a segment queued",m.u.FFa,{currentSegment:this.ha?this.ha.id:void 0,queuedSegment:this.yz.id,failedSegment:a}));if(!this.ha)return Promise.reject(this.getError(m.I.Gw,"Unable to queue a non-next segment because there is no currently playing segment",m.u.AFa,{nextSegmentid:a}));c=this.je.get(a);if(!c)return Promise.reject(this.getError(m.I.Gw,"Unable to find the separated segment",m.u.$ca,{nextSegmentid:a,currentSegmentId:this.ha.id}));this.yz={id:a,mE:new Promise(function(d,f){var g,h;g=b.VD.upa({pta:function(){return 100;}},function(){return b.ja.j.Qb.value||0;});h=b.qta()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:h});g.Sma(b.Pv.tpa(a+":lastPts",h));b.nq=g.observe().subscribe(function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.ha.id,playerEndPts:b.qta(),pts:h});b.yz=void 0;b.Cz();b.kBa(c,m.I.Gw).then(d)["catch"](f);},function(c){b.yz=void 0;b.Cz();f(b.getError(m.I.Gw,"ASE session manager is not yet initialized",m.u.BFa,{id:a,error:c}));});})};this.yz.mE["catch"](function(a){b.j.sd(b.af(a.code,a));});return Promise.resolve();};b.prototype.kBa=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.ja.seek(a.jm,k.kg.ex);d();}catch(x){f(c.getError(b,"Seek threw an exception",m.u.EFa,{id:a.id,error:x}));}});};b.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new h(a,b,c,d);};d.aGa=b;},function(g,d,a){var c,k,l;function b(a,b,d,f,g,h,m,l,p){var q;q=this;this.ya=a;this.Pv=d;this.VD=f;this.f$=g;this.config=h;this.af=m;this.MK=l;this.n8a=Object.keys(k.qb).map(function(a){return{event:k.qb[a],ov:function(b){return q.Hb.Ib(k.qb[a],b);}};});this.Hb=p.create();this.jw=[];this.log=b.lb("SegmentManager");new c.aj();this.Q4=!0;}function f(a,b,d,f,g,k,l,p,n){var q;q=this;this.log=a;this.config=b;this.tjb=d;this.Pv=f;this.f$=g;this.af=k;this.MK=l;this.zq=p;this.xa=n;this.Cz=function(){q.nq&&(q.nq.closed||q.nq.unsubscribe(),q.nq=void 0);};this.u6=function(a){q.log.trace("Received the transition event",{movieId:a.M});q.enb(m(q.xa));};this.log.debug("Constructing session data",h(n));this.V7=new c.aj();this.Nsb=new Promise(function(a){q.enb=a;});}function h(a){return{movieId:a.M};}function m(a){return JSON.stringify({movieId:a.M,startPts:a.U,endPts:a.ba,params:a.$a?{trackingId:a.$a.ah,authParams:a.$a.JH,sessionParams:a.$a.hm,disableTrackStickiness:a.$a.Q3,uiPlayStartTime:a.$a.xW,loadImmediately:a.$a.DT,playbackState:a.$a.playbackState?{currentTime:a.$a.playbackState.currentTime,volume:a.$a.playbackState.volume,muted:a.$a.playbackState.muted}:void 0,pin:a.$a.Z9,heartbeatCooldown:a.$a.B6,uiLabel:a.$a.se}:void 0});}Object.defineProperty(d,"__esModule",{value:!0});c=a(102);k=a(15);l=a(3);f.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",h(this.xa));this.ja=this.f$.r4a(this.config,this.MK,this.af,this.xa.M,this.xa.el,this.xa.$a,this.xa.KT);this.ja.addEventListener(k.qb.pD,function(a){b.log.trace("Segment is inactive",h(b.xa));b.zq.close(b.af(a.errorCode));});this.ja.addEventListener(k.qb.closed,this.Cz);if(a)this.log.debug("Pausing background segment",h(this.xa)),this.ja.addEventListener(k.qb.t7,this.u6),this.ja.pause();else{c=function(a){b.u6(a);b.ja.removeEventListener(k.qb.loaded,c);};this.ja.addEventListener(k.qb.loaded,c);}};f.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",m(this.xa));if(this.nq)this.log.trace("Segment is currently observing",h(this.xa));else if(this.xa.$a&&this.xa.$a.DT)this.V7.next(this);else{b=this.tjb.upa(this.config,function(){var b;if(a.ja){b=a.ja.j.Qb.value;if(b)return b;}return 0;});c=this.Pv.tpa("LOAD",this.v0a(this.xa));this.log.trace("Adding a moment to watch",{name:c.name,time:c.time});b.Sma(c);this.nq=b.observe().subscribe(function(){a.log.trace("Segment has reached its loading point",h(a.xa));a.V7.next(a);a.Cz();});}};f.prototype.close=function(a){this.log.info("Closing segment",{segment:m(this.xa),error:a});return this.ja?(this.ja.removeEventListener(k.qb.t7,this.u6),this.ja.close(a)):Promise.resolve();};f.prototype.v0a=function(a){var b,c;b=a.ba;a=a.$a?a.$a.DT:!1;c=0;b&&!a&&(c=b-this.config.config.Uva,c<this.config.config.xwa&&(c=b-(b-this.config.config.xwa)/2));return c;};b.prototype.xS=function(){return this.$d&&this.$d.ja?this.$d.ja.isReady():!1;};b.prototype.Vl=function(){if(!this.$d||!this.$d.ja)throw Error("Player not ready");return this.$d.ja;};b.prototype.k1=function(a){this.log.info("Adding segment",m(a));this.Q4?(this.log.trace("First segment, loading",h(a)),a=this.Tva(a),this.Q4=!1):(this.log.trace("Subsequent segment, caching",h(a)),a=this.yob(a));return a?a.Nsb:null;};b.prototype.transition=function(a){var b;if(this.Os&&this.Os.ja){b=this.Os;this.Os=void 0;this.log.info("Transitioning segment",m(b.xa));b&&b.ja&&b.ja.RBa(this.ya.Xb().fa(l.ma));return this.nDa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.$d.xa)),nextSession:this.Os?JSON.stringify(h(this.Os.xa)):void 0});c=[this.$d.close(a)];this.Os&&c.push(this.Os.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.Os=void 0;b.jw=[];b.Q4=!0;a();})["catch"](d);});};b.prototype.addListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.Tva=function(a){var b,c;b=this;this.log.info("Loading the next episode",h(a));this.$d&&(this.config.l5()[a.M]=a.U);c=this.Z8a(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",h(a)),null;this.log.trace("Found the next session",h(a));c.V7.subscribe(function(a){b.Gsb(a);});this.$d?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.Os=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),c.load(!1),this.nDa(c));return c;};b.prototype.nDa=function(a,b){var c,d,f;b=void 0===b?{}:b;this.log.trace("Playing episode",h(a.xa));c=this.$d;this.$d=a;if(this.$d.ja&&(this.$d.ja.BBa(!1),this.FM(this.$d.ja,c?c.ja:void 0),c&&c.ja)){d=c.ja.sy();a=this.$d.ja.sy();f=d.parentElement;d.style.display="none";c=c.close();f.appendChild(a);this.$d.ja&&(a.style.display="block",this.$d.ja.getError()?this.$d.ja.close():(this.$d.ja.j.Wtb(b),this.$d.ja.LL(),this.$d.ja.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};b.prototype.Gsb=function(a){var b,c,d,f;if(this.jw.length&&a.ja){a=a.ja.j.Qb.value;b=this.jw[0];c=this.$d.xa.ba;d=this.$d.xa.$a?this.$d.xa.$a.DT:!1;if(c||d){d?f=0:c&&(f=c-this.config.config.Uva);null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",h(b.xa)),this.Tva(b.xa),this.jw.splice(0,1));}}};b.prototype.Z8a=function(a){return this.$d?this.jw.find(function(b){return b.xa.M===a.M;}):this.ks(a);};b.prototype.yob=function(a){var c;if(this.$d.xa.M===a.M)return this.yya(this.$d.xa,a),this.log.trace("Overwrote the currently playing segment data",m(this.$d.xa)),this.$d;for(var b=0;b<this.jw.length;++b){c=this.jw[b];if(c.xa.M===a.M)return this.yya(c.xa,a),this.log.trace("Overwrote the currently playing segment data",m(c.xa)),c;}a=this.ks(a);this.jw.push(a);this.$d.observe();return a;};b.prototype.yya=function(a,b){a.U=b.U||a.U;a.ba=b.ba||a.ba;a.$a=b.$a||a.$a;a.KT=b.KT||a.KT;};b.prototype.ks=function(a){return new f(this.log,this.config,this.VD,this.Pv,this.f$,this.af,this.MK,this,a);};b.prototype.FM=function(a,b){this.n8a.forEach(function(c){b&&b.removeEventListener(c.event,c.ov);a.addEventListener(c.event,c.ov);});this.Hb.Ib(k.nG.vL);};d.ZQa=b;},function(g,d,a){var f,h,m,c,k,l,n,t,r,y,L,x,G,N;function b(a,b,c,d,f,g,h,k,m,l,p){this.ya=a;this.xf=b;this.Pv=c;this.VD=d;this.Sub=f;this.MK=g;this.ka=h;this.fQ=k;this.fA=m;this.af=l;this.u4=p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);m=a(7);c=a(422);k=a(421);l=a(61);n=a(419);t=a(418);r=a(846);y=a(845);L=a(84);x=a(30);G=a(228);a=a(424);b.prototype.n4a=function(a){return new r.ZQa(this.ya,this.xf,this.Pv,this.VD,this.Sub,a,this.af,this.MK,this.u4);};b.prototype.R3a=function(a,b,c){c=void 0===c?this.af:c;return new y.aGa(this.xf,a,b,this.VD,this.Pv,this.ka,this.fQ,c,this.fA);};N=b;N=g.__decorate([f.N(),g.__param(0,f.l(h.Oe)),g.__param(1,f.l(m.ob)),g.__param(2,f.l(c.Aga)),g.__param(3,f.l(k.Bga)),g.__param(4,f.l(t.qja)),g.__param(5,f.l(n.Tha)),g.__param(6,f.l(x.ng)),g.__param(7,f.l(L.YW)),g.__param(8,f.l(G.SZ)),g.__param(9,f.l(l.sl)),g.__param(10,f.l(a.iN))],N);d.YQa=N;},function(g,d,a){var b,f,h,m,c,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(229);f=a(420);h=a(847);m=a(844);c=a(228);k=a(843);d.je=new g.ac(function(a){a(b.HZ).to(h.YQa).Z();a(f.Gia).to(m.XQa).Z();a(c.SZ).to(k.RRa).Z();});},function(g,d,a){var f;function b(a,b){this.config=a;this.Qb=b;this.tK=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(102);b.prototype.Sma=function(a){0===this.tK.filter(function(b){return b.g9===a;}).length&&this.tK.push({g9:a,Wza:!1});};b.prototype.observe=function(){var a;a=this;return f.Da.interval(this.config.pta()).ys(function(){var b,c;b=a.Qb();c=a.tK.filter(function(a){return!a.Wza&&a.g9.time<=b;});c.forEach(function(a){a.Wza=!0;});return f.Da.from(c.map(function(a){return a.g9;}));});};d.kNa=b;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(849);b.prototype.upa=function(a,b){return new h.kNa(a,b);};a=b;a=g.__decorate([f.N()],a);d.jNa=a;},function(g,d){function a(a,d){this.name=a;this.time=d;if(0==a.length)throw new TypeError("'name' property is not valid: "+a);if(0>d)throw new TypeError("'time' property is not valid: "+d);}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.add=function(b,d){return new a(b,this.time+d);};a.prototype.ke=function(b,d){return new a(b,this.time-d);};d.iNa=a;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(851);b.prototype.tpa=function(a,b){return new h.iNa(a,b);};a=b;a=g.__decorate([f.N()],a);d.hNa=a;},function(g,d,a){var b,f,h,m;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(422);f=a(852);h=a(421);m=a(850);d.tK=new g.ac(function(a){a(b.Aga).to(f.hNa).Z();a(h.Bga).to(m.jNa).Z();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.reduce=function(a,b,d){for(;void 0!==a;a=a.cause)d=b(d,a);return d;};},function(g,d,a){var y,L,x,G;function b(a,b){this.oe=a;this.Vd=b;this.fd=[];}function f(a){return r.call(this,a,function(a){return{Details:a};})||this;}function h(a){return r.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function m(a,b){b=r.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.oe=a;return b;}function c(a,b){b=r.call(this,b,function(a){return a();})||this;b.Vd=a;return b;}function k(a,b){return n.call(this,a,b,function(a){var b;b=L.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;k.B1a(b,a,"stack","message");return a;},{});return Object.assign({},a,b);})||this;}function l(a){return r.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function n(a,b,c){b=r.call(this,b,c)||this;b.Vd=a;return b;}function t(a){return r.call(this,a,function(a){return{Details:a};})||this;}function r(a,b){this.Ro=a;this.value=b?b(a):a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);y=a(1);L=a(854);x=a(22);a=a(41);r.prototype.RI=function(a){return this.Ro===a;};ca(t,r);t.prototype.eA=function(a,b){return b?"":"\r\n"+this.Ro;};ca(n,r);n.prototype.eA=function(){var a;a="";this.Vd.Vu(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(X){try{a+=", "+b+": "+JSON.stringify(c);}catch(D){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};ca(l,r);l.prototype.eA=function(a){var b;b="\r\n"+this.Ro.message;a||(b+="\r\n"+this.Ro.stack);return b;};ca(k,n);k.B1a=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};d.Xxb=k;ca(c,r);c.prototype.eA=function(){var a;a="";this.Vd.Vu(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};ca(m,r);m.prototype.eA=function(a,b){return this.Ro&&!b?"\r\n"+this.oe.encode(this.Ro):"";};ca(h,r);h.prototype.eA=function(){return this.Ro?this.Ro.toJSON():"";};ca(f,r);f.prototype.eA=function(){return", "+(this.Ro.toString?""+this.Ro.toString():"");};b.prototype.ZYa=function(a){this.fd.push(new t(a));};b.prototype.QYa=function(a){this.fd.push(new n(this.Vd,a));};b.prototype.HYa=function(a){this.fd.push(new l(a));};b.prototype.GYa=function(a){this.fd.push(new k(this.Vd,a));};b.prototype.KYa=function(a){this.fd.push(new c(this.Vd,a));};b.prototype.$Ya=function(a){this.fd.push(new m(this.oe,a));};b.prototype.PYa=function(a){this.fd.push(new h(a));};b.prototype.aZa=function(a){this.fd.push(new f(a));};b.prototype.io=function(){return this.fd;};G=b;G=g.__decorate([y.N(),g.__param(0,y.l(a.Jj)),g.__param(1,y.l(x.cf))],G);d.PLa=G;},function(g,d,a){var f,h,m,c;function b(a,b){this.oe=a;this.Vd=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(855);m=a(41);a=a(22);b.prototype.Jab=function(){return new h.PLa(this.oe,this.Vd);};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(m.Jj)),g.__param(1,f.l(a.cf))],c);d.OLa=c;},function(g,d,a){var f,h;function b(a,b,d,f,g,h,l){this.level=a;this.Mk=b;this.timestamp=d;this.message=f;this.fd=g;this.prefix=h;this.index=void 0===l?0:l;}Object.defineProperty(d,"__esModule",{value:!0});f=a(3);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.tW=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.Rrb(!!a));return(this.timestamp.fa(f.ma)/1E3).toFixed(3)+"|"+this.index+"|"+(h[this.level]||this.level)+"|"+this.Mk+"| "+a;};b.prototype.Rrb=function(a){var g;for(var b=this.fd.length,d="",f=0;f<b;++f){g=this.fd[f].Ro;f&&d.length&&(d+=" ");if("object"===typeof g)if(null===g)d+="null";else if(g instanceof Error)d+=this.Qrb(g,a);else try{d+=JSON.stringify(g);}catch(t){d+=this.Prb(g);}else d+=g;}return d;};b.prototype.Qrb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.Prb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};d.lFa=b;},function(g,d,a){var f,h;function b(a,b,d,g,h,l){a=f.VF.call(this,a,b,d,g)||this;a.s6=h;Array.isArray(l)?a.prefix=l:l&&"string"===typeof l&&(a.prefix=[],a.prefix.push(l));return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(230);h=a(857);ca(b,f.VF);b.prototype.uu=function(a,b,d){a=new h.lFa(a,this.Mk,this.ya.Xb(),b,d,this.prefix);b=Q(this.kk.kk);for(d=b.next();!d.done;d=b.next())d=d.value,d(a);};b.prototype.h3=function(a){return new b(this.ya,this.as,this.kk,a,this.s6,this.prefix);};d.mFa=b;},function(g,d,a){var f,h,m;function b(a,b,d,g,h){a=m.VF.call(this,a,b,d,h)||this;a.j=g;f.Yk(a,"playback");return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(47);h=a(423);m=a(230);ca(b,m.VF);b.prototype.h3=function(a){return new b(this.ya,this.as,this.kk,this.j,a);};b.prototype.uu=function(a,b,d){a=new h.Tfa(a,this.Mk,this.ya.Xb(),b,d,this.j.index);b=Q(this.kk.kk);for(d=b.next();!d.done;d=b.next())d=d.value,d(a,this.j);};d.zPa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EnumeratedErrorBase=function(a,b,d,g){this.type=a;this.name=a.name;this.number=b;"string"===typeof d?this.message=d:void 0!==d&&(this.cause=d);void 0!==g&&(this.message=g);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(860);d.dC=function(a,d){var c;a=a.Jab();for(var f=0;f<d.length;++f){c=d[f];void 0!=c&&null!=c&&(c.cg&&(c=c.cg),c.constructor===Uint8Array?a.$Ya(c):"MediaRequest"===c.constructor.name?a.PYa(c):"string"===typeof c?a.ZYa(c):"function"===typeof c?a.KYa(c):c instanceof Error?a.HYa(c):c instanceof b.EnumeratedErrorBase?a.GYa(c):c instanceof Object?a.QYa(c):a.aZa(c));}return a.io();};},function(g,d,a){var f,h,m,c,k,l,n;function b(a,b,c){this.ya=a;this.kk=b;this.b8=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(230);h=a(1);m=a(859);c=a(23);k=a(95);l=a(7);n=a(858);b.prototype.lb=function(a,b,c,d,g){c=void 0===c?this.kk:c;return b?new m.zPa(this.ya,this.b8,c,b,a):g?new n.mFa(this.ya,this.b8,c,a,d||"",g):new f.VF(this.ya,this.b8,c,a);};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(c.Oe)),g.__param(1,h.l(k.IA)),g.__param(2,h.l(l.Ufa))],a);d.XLa=a;},function(g,d,a){var f;function b(){this.gba={};this.kk=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.qV=function(a,b){var c;c=this;b&&(this.gba[a]=b,this.kk=Object.keys(this.gba).map(function(a){return c.gba[a];}));};f=b;f=g.__decorate([a.N()],f);d.YLa=f;},function(g,d,a){var b,f,h,m,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(863);f=a(862);g=a(1);h=a(95);m=a(7);c=a(856);d.wgb=new g.ac(function(a){a(m.ob).to(f.XLa).Z();a(h.IA).to(b.YLa).Z();a(m.Ufa).to(c.OLa).Z();});},function(g,d,a){var f,h;function b(a,b){this.ka=a;this.MQ=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(30);b.prototype.Jb=function(a){this.FC();this.Dj=this.ka.fg(this.MQ,a);};b.prototype.FC=function(){this.Dj&&this.Dj.cancel();this.Dj=void 0;};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.ng))],h);d.rIa=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qIa="DebouncerFactorySymbol";},function(g,d,a){var f,h,m;function b(a,b,d){this.ka=a;this.Msb=b;this.ov=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(30);h=a(1);m=a(3);b.prototype.us=function(){this.Dj||(this.Dj=this.ka.fg(m.Cb(this.Msb),this.ov));};b.prototype.Zg=function(){this.Dj&&this.Dj.cancel();this.Dj=void 0;};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(f.ng))],a);d.MRa=a;},function(g,d,a){var f,h,m;function b(a){this.pc=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);m=a(8);b.prototype.wZa=function(a){var b;b={enableVP9:!0};67<=this.x$a(m.Oj)&&this.pc.gk(a,b);};b.prototype.x$a=function(a){return(a=a.match(/Chrome\/(\d*)\./))&&Number(a[1])||0;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.cf))],a);d.iSa=a;},function(g,d){function a(){this.searchParams={};}function b(b){this.Gl=b;this.searchParams=new a();}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};qa.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.Gl+this.searchParams.toString();}}});d.hSa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zZ="PrioritizedSetOfListsSymbol";d.RPa="PrioritizedSetOfListsFactorySymbol";d.SPa="PrioritizedSetOfSetsFactorySymbol";},function(g,d,a){var f,h,m,c;function b(a,b,c){var d;d=this;this.app=a;this.ka=b;this.MQ=c;this.Qs=function(a){d.Dj=void 0;d.Btb(a||d.MQ);};this.Bva=m.Cb(-this.MQ.fa(m.ma));}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);m=a(3);a=a(30);b.prototype.Jb=function(a){this.paa=a;this.Dj=this.Dj||this.zb(this.Qs);};b.prototype.FC=function(){this.Dj&&this.Dj.cancel();this.Dj=void 0;};b.prototype.Btb=function(a){var b,c;b=this.app.Xb();if(this.paa){c=a.ke(b.ke(this.Bva));0>=c.Pk(m.Ef)?(a=this.paa,this.paa=void 0,this.Bva=b,a()):this.Dj=this.Dj||this.ka.fg(c,this.Qs.bind(this,a));}};b.prototype.zb=function(a){return this.ka.fg(m.Ef,a);};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(h.Oe)),g.__param(1,f.l(a.ng))],c);d.ARa=c;},function(g,d,a){var f,h,m,c,k,l,n,t,r;function b(a,b){this.ya=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(23);c=a(55);k=a(2);l=a(15);n=a(3);t=a(8);a=a(431);b.prototype.b6a=function(a){var b,d,g,h,m,p,q,u,t;b=this;m=a.Qb.value;p=a.Rm.value;q=a.Ob.value;u=a.state.value;h={segmentId:a.Q5(),mediaTime:m,segmentTime:a.ty(),bufferingState:f.Z_a[p],presentingState:f.lmb[q],playbackState:f.Blb[u],mseBuffersBusy:this.Kbb(a),intBuffersBusy:this.wab(a),tabVisible:this.psb(),decodedFrameCount:this.t5a(a),videoElementInDom:this.Oub(a),lastVideoSync:this.ya.Xb().ke(n.Cb(a.aM)).fa(n.ma)};t=q===l.ib.og?a.Ya.ag?this.config.pya:this.config.oya:this.config.oxa;p!==l.pf.$c?(d=k.u.qHa,this.doa(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.bda)):q!==l.ib.ad&&(d=k.u.rHa,(a=a.zg)&&a.xb.sourceBuffers.forEach(function(a){var c,d;c=f.Fhb[a.O];h[c+"Ranges"]=a.mS();a=a.buffered();if(0===a.length)h[c+"Undecoded"]=0,g=f.HFa;else{d=1E3*a.end(0)-m;h[c+"Undecoded"]=d;1<a.length&&(g=f.IFa);m<1E3*a.start(0)||m>1E3*a.end(0)?g=f.JFa:d<t.fa(n.ma)?g=f.KFa:b.doa(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.bda);}}));a="";try{a=JSON.stringify(h);}catch(P){a="Cannot stringify details: "+P;}return new c.Qc(k.I.dha,d,g,void 0,void 0,void 0,a,void 0);};b.prototype.Kbb=function(a){var b;if(a.xb){b={};a.xb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.wab=function(a){var b;if(a.xb){b={};a.xb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.nj()};});return b;}};b.prototype.psb=function(){return!t.Ld.hidden;};b.prototype.t5a=function(a){return(a=a.zg)&&(a=a.xb.La)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.Oub=function(a){if(a=a.zg)if(a=a.xb.La)return t.Ld.body.contains(a);return!1;};b.prototype.doa=function(a,b){return!(a.audio.updating===b.audio.updating&&a.video.updating===b.video.updating);};r=f=b;r.HFa="1";r.IFa="2";r.JFa="3";r.bda="4";r.KFa="5";r.Fhb=["Audio","Video"];r.Z_a=["","NORMAL","BUFFERING","STALLED"];r.lmb=["","WAITING","PLAYING ","PAUSED","ENDED"];r.Blb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];r=f=g.__decorate([h.N(),g.__param(0,h.l(m.Oe)),g.__param(1,h.l(a.Cga))],r);d.vIa=r;},function(g,d,a){var f,h,m,c;function b(a,b){this.ya=a;this.entries=[];this.ia=b.lb("TimingApi");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);m=a(3);a=a(7);b.prototype.mark=function(a,b){a={name:a,oa:b,Isb:this.ya.Xb()};this.entries.push(a);return a;};b.prototype.Pab=function(){return this.entries.slice();};b.prototype.ata=function(){var a;a={};try{a=this.Pab().filter(function(a){return!a.oa;}).reduce(function(a,b){a[b.name]=b.Isb.fa(m.ma);return a;},{});}catch(p){this.ia.error(" getMapOfCommonMarks exception",p);}return a;};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(h.Oe)),g.__param(1,f.l(a.ob))],c);d.ORa=c;},function(g,d,a){var f,h,m,c;function b(a){return h.QM.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(34);h=a(36);m=a(1);a=a(27);ca(b,h.QM);qa.Object.defineProperties(b.prototype,{XDa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([f.config(f.Yd,"usePerformanceApi")],c.prototype,"XDa",null);c=g.__decorate([m.N(),g.__param(0,m.l(a.rX))],c);d.WGa=c;},function(g,d,a){var f,h,m,c;function b(a){a=h.QM.call(this,a,"DebugConfigImpl")||this;a.CFb=function(){debugger;};return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(34);h=a(36);m=a(1);a=a(27);ca(b,h.QM);qa.Object.defineProperties(b.prototype,{U_a:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([f.config(f.Yd,"breakOnError")],c.prototype,"U_a",null);c=g.__decorate([m.N(),g.__param(0,m.l(a.rX))],c);d.sIa=c;},function(g,d,a){var f,h,m,c;function b(a,b,c){this.config=a;this.Ba=b;this.ia=c.lb("General");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(21);m=a(86);a=a(7);b.prototype.assert=function(){};b.prototype.HZa=function(a,b){this.assert(this.Ba.Nl(a),b);};b.prototype.IZa=function(a,b){this.assert(this.Ba.Dd(a),b);};b.prototype.NZa=function(a,b){this.assert(this.Ba.Ci(a),b);};b.prototype.QZa=function(a,b){this.assert(this.Ba.Gk(a),b);};b.prototype.OZa=function(a,b){this.assert(this.Ba.Ci(a)||null===a||void 0===a,b);};b.prototype.LZa=function(a,b){this.assert(this.Ba.Vf(a),b);};b.prototype.KZa=function(a,b){this.assert(this.Ba.r1(a),b);};b.prototype.PZa=function(a,b){this.assert(this.Ba.Cp(a),b);};b.prototype.MZa=function(a,b){this.assert(this.Ba.qH(a),b);};b.prototype.FZa=function(a,b){this.assert(this.Ba.oH(a),b);};b.prototype.JZa=function(a,b){this.assert(this.Ba.pH(a),b);};b.prototype.ceb=function(){this.assert(!1,"invalid operation, this method should not be called");};b.QGb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(q){return q.stack;}};};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(m.Uda)),g.__param(1,f.l(h.ue)),g.__param(2,f.l(a.ob))],c);d.tIa=c;},function(g,d,a){var f,h,m,c;function b(a,b){this.is=a;this.Vd=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(21);a=a(22);b.prototype.encode=function(a){var b,c;b=this;c="";this.Vd.Vu(a,function(a,d){a=b.Wqa(a)+"="+b.Wqa(d);c=c?c+(","+a):a;});return c;};b.prototype.Wqa=function(a){return this.is.Nl(a)?this.is.Vf(a)?""+a:this.is.Ci(a)?(a=a.replace(f.hAa,this.Ngb.bind(this)),!f.Umb.test(a)&&f.Cib.test(a)&&(a='"'+a+'"'),a):this.is.oH(a)?""+a:this.is.$0(a)?"NaN":"":"";};b.prototype.Ngb=function(a){return f.map[a];};c=f=b;c.map={'"':'""',"\r":"","\n":" "};c.hAa=/(?!^.+)["\r\n](?=.+$)/g;c.Umb=/["].*["]/g;c.Cib=/[", ]/;c=f=g.__decorate([h.N(),g.__param(0,h.l(m.ue)),g.__param(1,h.l(a.cf))],c);d.jHa=c;},function(g,d,a){var f,h,m,c;function b(a,b){this.Ra=a;this.iS=this.Ra.Ve.fa(m.ma)-1;this.ogb=this.wT=0;this.id=""+b.pC();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(42);m=a(3);a=a(116);b.prototype.Xb=function(){var a,b;a=this.Ra.Ve.fa(m.ma)-this.iS;if(a<this.wT){b=this.wT+1;this.iS-=b-a;a=b;}this.wT=a;return m.Cb(this.wT);};b.prototype.Kab=function(){return this.ogb++;};qa.Object.defineProperties(b.prototype,{Oy:{configurable:!0,enumerable:!0,get:function(){return m.Cb(this.iS);}}});c=b;c=g.__decorate([f.N(),g.__param(0,f.l(h.Kj)),g.__param(1,f.l(a.HA))],c);d.aFa=c;},function(g){g.T="function"===typeof Object.create?function(d,a){d.dsb=a;d.prototype=Object.create(a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});}:function(d,a){function b(){}d.dsb=a;b.prototype=a.prototype;d.prototype=new b();d.prototype.constructor=d;};},function(g){g.T=function(d){return d&&"object"===typeof d&&"function"===typeof d.Lp&&"function"===typeof d.fill&&"function"===typeof d.rJb;};},function(g,d,a){(function(b){var Y,O,W,T,aa,M;function f(a,b){var c;c={xaa:[],Si:m};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.jC=arguments[3]);x(b)?c.$aa=b:b&&d.ZTa(c,b);C(c.$aa)&&(c.$aa=!1);C(c.depth)&&(c.depth=2);C(c.jC)&&(c.jC=!1);C(c.Kpa)&&(c.Kpa=!0);c.jC&&(c.Si=g);return k(c,a,c.depth);}function g(a,b){return(b=f.Srb[b])?"\u001b["+f.jC[b][0]+"m"+a+"\u001b["+f.jC[b][1]+"m":a;}function m(a){return a;}function c(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function k(a,b,f){var g,h,m,p,q;if(a.Kpa&&b&&P(b.gT)&&b.gT!==d.gT&&(!b.constructor||b.constructor.prototype!==b)){g=b.gT(f,a);N(g)||(g=k(a,g,f));return g;}if(g=l(a,b))return g;h=Object.keys(b);m=c(h);a.$aa&&(h=Object.getOwnPropertyNames(b));if(U(b)&&(0<=h.indexOf("message")||0<=h.indexOf("description")))return n(b);if(0===h.length){if(P(b))return a.Si("[Function"+(b.name?": "+b.name:"")+"]","special");if(E(b))return a.Si(RegExp.prototype.toString.call(b),"regexp");if(D(b))return a.Si(Date.prototype.toString.call(b),"date");if(U(b))return n(b);}g="";p=!1;q=["{","}"];L(b)&&(p=!0,q=["[","]"]);P(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");E(b)&&(g=" "+RegExp.prototype.toString.call(b));D(b)&&(g=" "+Date.prototype.toUTCString.call(b));U(b)&&(g=" "+n(b));if(0===h.length&&(!p||0==b.length))return q[0]+g+q[1];if(0>f)return E(b)?a.Si(RegExp.prototype.toString.call(b),"regexp"):a.Si("[Object]","special");a.xaa.push(b);h=p?t(a,b,f,m,h):h.map(function(c){return r(a,b,f,m,c,p);});a.xaa.pop();return y(h,g,q);}function l(a,b){if(C(b))return a.Si("undefined","undefined");if(N(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.Si(b,"string");if(G(b))return a.Si(""+b,"number");if(x(b))return a.Si(""+b,"boolean");if(null===b)return a.Si("null","null");}function n(a){return"["+Error.prototype.toString.call(a)+"]";}function t(a,b,c,d,f){for(var g=[],h=0,k=b.length;h<k;++h)Object.prototype.hasOwnProperty.call(b,String(h))?g.push(r(a,b,c,d,String(h),!0)):g.push("");f.forEach(function(f){f.match(/^\d+$/)||g.push(r(a,b,c,d,f,!0));});return g;}function r(a,b,c,d,f,g){var h,m;b=Object.getOwnPropertyDescriptor(b,f)||{value:b[f]};b.get?m=b.set?a.Si("[Getter/Setter]","special"):a.Si("[Getter]","special"):b.set&&(m=a.Si("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,f)||(h="["+f+"]");m||(0>a.xaa.indexOf(b.value)?(m=null===c?k(a,b.value,null):k(a,b.value,c-1),-1<m.indexOf("\n")&&(m=g?m.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+m.split("\n").map(function(a){return"   "+a;}).join("\n"))):m=a.Si("[Circular]","special"));if(C(h)){if(g&&f.match(/^\d+$/))return m;h=JSON.stringify(""+f);h.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(h=h.substr(1,h.length-2),h=a.Si(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),h=a.Si(h,"string"));}return h+": "+m;}function y(a,b,c){var d;d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function L(a){return Array.isArray(a);}function x(a){return"boolean"===typeof a;}function G(a){return"number"===typeof a;}function N(a){return"string"===typeof a;}function C(a){return void 0===a;}function E(a){return J(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function J(a){return"object"===typeof a&&null!==a;}function D(a){return J(a)&&"[object Date]"===Object.prototype.toString.call(a);}function U(a){return J(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function P(a){return"function"===typeof a;}function Q(a){return 10>a?"0"+a.toString(10):a.toString(10);}function Z(){var a,b;a=new Date();b=[Q(a.getHours()),Q(a.getMinutes()),Q(a.getSeconds())].join(":");return[a.getDate(),aa[a.getMonth()],b].join(" ");}function ea(a,b){var c;if(!a){c=Error("Promise was rejected with a falsy value");c.reason=a;a=c;}return b(a);}Y=Object.LGb||function(a){for(var b=Object.keys(a),c={},d=0;d<b.length;d++)c[b[d]]=Object.getOwnPropertyDescriptor(a,b[d]);return c;};O=/%[sdj%]/g;d.format=function(a){if(!N(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(f(arguments[c]));return b.join(" ");}for(var c=1,d=arguments,g=d.length,b=String(a).replace(O,function(a){if("%%"===a)return"%";if(c>=g)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++]);}catch(nb){return"[Circular]";}default:return a;}}),h=d[c];c<g;h=d[++c])b=null!==h&&J(h)?b+(" "+f(h)):b+(" "+h);return b;};d.M5a=function(a,c){var f;if("undefined"!==typeof b&&!0===b.xIb)return a;if("undefined"===typeof b)return function(){return d.M5a(a,c).apply(this,arguments);};f=!1;return function(){if(!f){if(b.kKb)throw Error(c);b.oKb?console.trace(c):console.error(c);f=!0;}return a.apply(this,arguments);};};W={};d.DFb=function(a){var c;C(T)&&(T=b.e8a.mAb||"");a=a.toUpperCase();if(!W[a])if(new RegExp("\\b"+a+"\\b","i").test(T)){c=b.YIb;W[a]=function(){var b;b=d.format.apply(d,arguments);console.error("%s %d: %s",a,c,b);};}else W[a]=function(){};return W[a];};d.gT=f;f.jC={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.Srb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};d.isArray=L;d.heb=x;d.Qa=function(a){return null===a;};d.zHb=function(a){return null==a;};d.pa=G;d.Qd=N;d.EHb=function(a){return"symbol"===typeof a;};d.R=C;d.CHb=E;d.Xe=J;d.m7=D;d.o7=U;d.Nb=P;d.BHb=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};d.isBuffer=a(880);aa="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");d.log=function(){console.log("%s - %s",Z(),d.format.apply(d,arguments));};d.mHb=a(879);d.ZTa=function(a,b){if(b&&J(b))for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];};h();h();M="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;d.Bmb=function(a){function b(){for(var b,c,d=new Promise(function(a,d){b=a;c=d;}),f=[],g=0;g<arguments.length;g++)f.push(arguments[g]);f.push(function(a,d){a?c(a):b(d);});try{a.apply(this,f);}catch(nb){c(nb);}return d;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(M&&a[M]){b=a[M];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,M,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));M&&Object.defineProperty(b,M,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,Y(a));};d.Bmb.mFb=M;d.KEb=function(a){function c(){var g,h;function c(){return g.apply(h,arguments);}for(var d=[],f=0;f<arguments.length;f++)d.push(arguments[f]);g=d.pop();if("function"!==typeof g)throw new TypeError("The last argument must be of type Function");h=this;a.apply(this,d).then(function(a){b.Hxa(c,null,a);},function(a){b.Hxa(ea,a,c);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(c,Object.getPrototypeOf(a));Object.defineProperties(c,Y(a));return c;};}.call(this,a(232)));},function(g,d,a){var f;function b(a){this.T9a=a;this.KS=!1;this.TS=this.kM=this.VE=0;this.EJ=!1;this.US=0;}Object.defineProperty(d,"__esModule",{value:!0});f=a(881);b.prototype.RYa=function(a){a<this.VE&&(this.kM+=this.VE);this.VE=a;this.KS=!0;};b.prototype.A$a=function(){if(this.KS)return this.EJ?this.US-this.TS:this.kM+this.VE-this.TS;};b.prototype.refresh=function(){var a;a=this.T9a();f.pa(a)&&this.RYa(a);};b.prototype.grb=function(){this.EJ||(this.KS&&(this.US=this.kM+this.VE),this.EJ=!0);};b.prototype.vrb=function(){this.EJ&&(this.KS&&(this.TS+=this.kM+this.VE-this.US),this.US=0,this.EJ=!1);};d.QNa=b;},function(g,d,a){var f,h,m;function b(a){this.ka=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(30);m=a(62);b.prototype.jl=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.ka.fg(a,function(){f(new m.Bm(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.ng))],a);d.XPa=a;},function(g,d,a){var f,h,m,c,k,l,n,t;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);h=Array.prototype.slice;m=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");c={};k={};l={};n={};t=/\s+/g;[m,h].forEach(function(a){var d;for(var b=a.length;b--;){d=a[b];c[d]=b<<18;k[d]=b<<12;l[d]=b<<6;n[d]=b;}});b.prototype.encode=function(a){return f.n4(a,m,"=");};b.prototype.decode=function(a){return f.A3(a);};b.A3=function(a){var b,d,f;a=a.replace(t,"");b=a.length;d=a.charAt(b-1);"="!==d&&"."!==d||b--;d=a.charAt(b-1);"="!==d&&"."!==d||b--;d=3*(b>>2);f=0;switch(b%4){case 2:f=1;break;case 3:f=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(d+f),g=0,h=0,m;h<d;){m=c[a[g++]]+k[a[g++]]+l[a[g++]]+n[a[g++]];if(!(0<=m&&16777215>=m))throw Error("bad base64");b[h++]=m>>>16;b[h++]=m>>>8&255;b[h++]=m&255;}if(0<f&&(m=c[a[g++]]+k[a[g++]],b[h++]=m>>>16,1<f&&(m+=l[a[g++]],b[h++]=m>>>8&255),!(0<=m&&16776960>=m&&0===(m&(1<f?255:65535)))))throw Error("bad base64");return b;};b.n4=function(a,b,c){for(var d="",f=0,g=a.length,h=g-2,k;f<h;){k=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=k&&16777215>=k))throw Error("not bytes");d+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(f==h){k=(a[f++]<<8)+a[f++];if(!(0<=k&&65535>=k))throw Error("not bytes");d+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+c;}else if(f==g-1){k=a[f++];if(!(0<=k&&255>=k))throw Error("not bytes");d+=b[k>>>2]+b[k<<4&63]+c+c;}return d;};h=f=b;h=f=g.__decorate([a.N()],h);d.NFa=h;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.encode=function(a){return f.n4(a);};b.prototype.decode=function(a){return f.A3(a);};b.n4=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,d,f=a.length,g="";b<f;){d=a[b++];if(!(0<=d&&255>=d))throw Error("bad utf8");if(d&128)if(192===(d&224))d=((d&31)<<6)+(a[b++]&63);else if(224===(d&240))d=((d&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(d);}return g;};b.A3=function(a){var b,d,f,g,h;b=a.length;d=0;g=0;if(!(0<=b))throw Error("bad string");for(f=b;f--;)h=a.charCodeAt(f),128>h?d++:d=2048>h?d+2:d+3;d=new Uint8Array(d);for(f=0;f<b;f++)h=a.charCodeAt(f),128>h?d[g++]=h:(2048>h?d[g++]=192|h>>>6:(d[g++]=224|h>>>12,d[g++]=128|h>>>6&63),d[g++]=128|h&63);return d;};h=f=b;h=f=g.__decorate([a.N()],h);d.jSa=h;},function(g,d,a){var f,h,m,c,k,l,n;function b(a,b,c,d){var g;g=this;this.config=a;this.L4a=b;this.Hb=c;this.performance=d;this.Xjb=function(a){g.vBa=a.ke(g.Ve);};f.Yk(this,"date");f.Yk(this,"performance");this.pZa=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.vBa=h.Ef;this.Hb.addListener(n.Bfa.xBa,this.Xjb);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(47);h=a(3);m=a(1);c=a(37);k=a(437);l=a(70);n=a(15);qa.Object.defineProperties(b.prototype,{Ve:{configurable:!0,enumerable:!0,get:function(){return this.qxa?h.timestamp(this.performance.timing.navigationStart+this.performance.now()):h.Cb(this.L4a.now());}},Maa:{configurable:!0,enumerable:!0,get:function(){return this.Ve.add(this.vBa);}},qxa:{configurable:!0,enumerable:!0,get:function(){return this.config.XDa&&this.pZa;}}});a=b;a=g.__decorate([m.N(),g.__param(0,m.l(k.wda)),g.__param(1,m.l(c.Tda)),g.__param(2,m.l(l.OX)),g.__param(3,m.l(c.sZ)),g.__param(3,m.optional())],a);d.XGa=a;},function(g,d,a){var f,h;function b(a){this.osb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(115);b.prototype.random=function(){return this.osb.random();};b.prototype.E$=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.Oia))],h);d.gQa=h;},function(g,d,a){var f,h,m,c,k;function b(a,b){this.Ra=a;this.random=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(3);c=a(42);a=a(115);b.prototype.pC=function(){return this.Ra.Ve.fa(m.Am)*f.nda+Math.floor(this.random.random()*f.nda);};k=f=b;k.nda=1E4;k=f=g.__decorate([h.N(),g.__param(0,h.l(c.Kj)),g.__param(1,h.l(a.oG))],k);d.kLa=k;},function(g,d,a){var h,m,c,k;function b(a){this.$E=a;m.Yk(this,"timers");}function f(a,b){this.$E=a;this.J0a=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);m=a(47);c=a(37);k=a(3);f.prototype.cancel=function(){this.J0a(this.$E);};b.prototype.Jb=function(a){return this.fg(k.Ef,a);};b.prototype.fg=function(a,b){var c;c=this.$E.setTimeout(b,a.fa(k.ma));return new f(this.$E,function(a){a.clearTimeout(c);});};b.prototype.bBa=function(a,b){var c;c=this.$E.setInterval(b,a.fa(k.ma));return new f(this.$E,function(a){a.clearInterval(c);});};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(c.tja))],a);d.SQa=a;},function(g,d,a){var b,f,h,m,c,k,l,n,t,r,y,L,x,G,N,C,E,X,D,U,P,Q,Z,ea,Y,O,W,T,aa,M,ca,ka,ra,xa,la,Fa,da,fa,ha,ga,ma,na,qa,pa,oa,sa,ta,ua,za,Aa,Ea,Ga,Ia,Ka,La,Na,Oa,Pa,Qa,Sa,Va;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(37);f=a(42);h=a(30);m=a(116);c=a(115);k=a(889);l=a(888);n=a(887);t=a(886);r=a(98);y=a(99);L=a(41);x=a(22);G=a(21);N=a(70);C=a(62);E=a(436);X=a(885);D=a(233);U=a(884);P=a(435);Q=a(883);Z=a(139);ea=a(434);Y=a(882);O=a(231);W=a(97);T=a(878);aa=a(23);M=a(433);ca=a(877);ka=a(876);ra=a(86);xa=a(875);la=a(7);Fa=a(437);da=a(874);fa=a(114);ha=a(873);ga=a(432);ma=a(872);na=a(871);qa=a(96);pa=a(8);oa=a(870);sa=a(430);ta=a(429);ua=a(869);za=a(428);Aa=a(17);Ea=a(72);Ga=a(61);Ia=a(427);Ka=a(426);La=a(868);Na=a(425);Oa=a(424);Pa=a(130);Qa=a(867);Sa=a(866);Va=a(865);d.E1a=new g.ac(function(a){a(b.Kt).Bh(JSON);a(b.tja).Bh(J);a(c.Oia).Bh(Math);a(b.Qfa).Bh(pa.aZ);a(b.sZ).Bh(pa.br);a(b.Tda).Bh(Date);a(b.QA).Bh(pa.sk);a(b.ZMa).Bh(pa.NA);a(Fa.wda).to(da.WGa).Z();a(aa.Oe).to(T.aFa).Z();a(f.Kj).to(t.XGa).Z();a(h.ng).to(k.SQa).Z();a(m.HA).to(l.kLa).Z();a(C.bx).to(Q.XPa).Z();a(c.oG).to(n.gQa).Z();a(ra.yt).to(ka.tIa).Z();a(ra.Uda).to(xa.sIa).Z();a(r.kx).to(X.jSa).Z();a(y.Hw).to(D.fX).Z();a(L.Jj).to(U.NFa).Z();a(x.cf).to(P.hja).Z();a(G.ue).Bh(Z.Jt);a(Na.iN).to(Oa.AJa).Z();a(N.jN).to(ea.Lj).U6();a(N.BF).to(ea.Lj).Z();a(N.OX).to(ea.Lj).Z();a(O.MZ).to(W.hx).Z();a(M.Fda).to(ca.jHa).Z();a(fa.jx).to(ha.ORa).Z();a("Factory<LoggerFactory>").Psb(la.ob);a(ga.Xda).to(ma.vIa).Z();a(qa.YA).Rf(function(a){return function(b){return new na.ARa(a.ec.get(aa.Oe),a.ec.get(h.ng),b);};});a(Sa.qIa).Rf(function(a){return function(b){return new Va.rIa(a.ec.get(h.ng),b);};});a(oa.zZ).Rsb(sa.dia);a(oa.RPa).Rf(function(a){var b;b=a.ec.get(oa.zZ);return function(){return new b(!1);};});a(oa.SPa).Rf(function(a){var b;b=a.ec.get(oa.zZ);return function(){return new b(!0);};});a(ta.fja).Rf(function(){return function(a){return new ua.hSa(a);};});a(Ga.sl).Rf(function(a){return function(b,c,d){var f,g,h;f=a.ec.get(ra.yt);g=a.ec.get(Aa.ld);h=a.ec.get(Ea.lp);return new za.GPa(f,g,h,Ia.rga,b,c,d);};});a(E.Tga).Rf(function(){return function(a){return new Y.QNa(a);};});a(Ka.gja).to(La.iSa).Z();a(Pa.ZA).Rf(function(a){return function(b,c){return new Qa.MRa(a.ec.get(h.ng),b,c);};});});},function(g,d,a){var b,f,h,m,c,k,l,n,t,r,y,L,x,G,N,C,E,J,D,U,P,Q,Z,ea,Y,O,W,T,aa,M,ca,ka,ra,xa;Object.defineProperty(d,"__esModule",{value:!0});b=a(890);f=a(864);h=a(853);m=a(848);c=a(842);k=a(839);l=a(835);n=a(823);t=a(812);r=a(809);y=a(805);L=a(803);x=a(659);G=a(246);N=a(656);C=a(652);E=a(638);J=a(631);D=a(624);U=a(616);P=a(610);Q=a(245);Z=a(602);ea=a(600);Y=a(593);O=a(589);W=a(581);T=a(579);aa=a(574);M=a(555);ca=a(537);ka=a(533);ra=a(529);xa=a(521);d.Nfb=function(a){a.load(b.E1a,k.$z,f.wgb,l.hR,t.yQ,h.tK,m.je,c.Rub,n.storage,r.V1,y.o0a,L.Kgb,x.xn,G.TB,N.vh,C.sgb,E.Kib,J.I9a,D.Emb,U.eE,P.U6a,Q.eme,Z.crypto,ea.Vd,Y.Jc,O.CZa,W.uib,T.Rkb,aa.j,M.D1a,ca.ptb,ka.qj,ra.Oi,xa.TZa);};},function(g,d,a){var h,m;function b(a,b,d,f,g){this.ya=a;this.config=b;this.ka=d;this.Qs=f;this.name=g;}function f(a,b,d,f){var c;c=this;this.ya=a;this.ka=b;this.timeout=d;this.Lsb=f;this.Mcb=function(){c.ZH=!0;c.My.cancel();c.Lsb();};this.startTime=this.ya.Xb();this.My=this.ka.fg(this.timeout,function(){c.Mcb();});this.ZH=!1;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);m=a(87);f.prototype.stop=function(){this.ZH||(this.hW=this.ya.Xb(),this.My.cancel());};qa.Object.defineProperties(f.prototype,{Nqa:{configurable:!0,enumerable:!0,get:function(){if(this.hW&&this.startTime)return this.hW.ke(this.startTime);}}});b.prototype.P0a=function(){var a;a=this;this.hC=new f(this.ya,this.ka,this.config.T6,function(){a.Qs(new m.Ff(h.I.ria,h.u.dJa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.T6+"ms"));});};b.prototype.O0a=function(){this.hC&&this.hC.stop();};b.prototype.Opb=function(){this.zL=this.ya.Xb();};b.prototype.Q0a=function(){var a;a=this;this.BW=new f(this.ya,this.ka,this.config.taa,function(){a.Qs(new m.Ff(h.I.ria,h.u.cJa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.taa+"ms"));});};b.prototype.voa=function(){this.BW&&this.BW.stop();};qa.Object.defineProperties(b.prototype,{Bc:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.hC){b=this.hC.Nqa;b&&(a.bxa=b);this.zL&&this.hC.hW&&(a.zL=this.zL.ke(this.hC.hW));}this.BW&&(b=this.BW.Nqa)&&(a.Woa=b);return a;}}});d.mJa=b;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.Iqa=function(a,d){for(var b=a.next(),f;b&&!b.done&&b.value;)f=b.value[0],b=b.value[1],d&&d(f,b),b=a.next();};d.pJa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kJa="EmeApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Vq||(d.Vq={});g[g.SDa=0]="usable";g[g.u8a=1]="expired";g[g.Qnb=2]="released";g[g.tya=3]="outputRestricted";g[g.kkb=4]="outputDownscaled";g[g.rrb=5]="statusPending";g[g.Zdb=6]="internalError";},function(g,d,a){var f,h,m,c,k,l,n,t,r,y,L,x,G,N,C,E,J,D,U,P,Q;function b(a,b,d,f,g,k,l,p,n){var q;q=this;this.ya=b;this.Hl=d;this.config=f;this.Jf=g;this.li=k;this.po=l;this.ka=p;this.zj=n;this.onMessage=function(a){var b,c,d;b=q.li.X2(a);c=b.message;d=b.Z8;q.OV(b.sessionId);q.tv=q.li.tv(b);q.log.trace("Received "+a.type+" event",{messageType:d,isIntermediateChallenge:q.tv});"license-renewal"===d&&(q.log.trace("Received a renewal request"),q.xh=y.Zi.zm,q.mf=P.Dz);q.mf!==P.Lf||q.tv||(q.R7={po:q.po,data:c},q.Fl(L.gp.$za));q.mf===P.Dz&&q.Fl(L.gp.aAa);q.YJ&&(q.YJ.next({Jp:c,zoa:d,xh:q.xh}),q.xh!==y.Zi.zm||q.tv||(q.YJ.complete(),q.YJ=void 0));q.mf===P.stop&&(q.Zg.O0a(),q.config.ii&&q.qL&&(q.qL.next({Jp:c}),q.qL.complete(),q.qL=void 0));};this.hya=function(a){var b,d;b=q.li.W2(a).D7;q.OV(a.target.sessionId);q.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{J.pJa.Iqa(b,function(a,b){q.log.trace("key status: "+b);b=Q[b];q.zva.next({yv:new Uint8Array(a),value:b.status});q.sD(b.error)&&(d=new E.Ff(b.error),q.y7(d));});}catch(Fa){d=new E.Ff(c.I.uOa);d.AI(Fa);}d?q.z7(d):(q.li.GQ()||q.tva(),q.xh!==y.Zi.Lt||q.li.L1()||(q.log.info("Kicking off license renewal",{timeout:q.config.Cv}),setTimeout(function(){q.qAa();},q.config.Cv.fa(m.ma))));};this.XD=function(a){var b;b=q.li.ko(a);q.log.error("Received event: "+a.type,b);q.Is(b);q.z7(b);q.Yh||q.Xk||q.y7(b);};this.Is=function(a){q.Yh&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.li.ko(b));q.Yh&&(q.Yh.error(a),q.Yh=void 0);},function(){q.log.trace("Issuing a generate challenge error");q.Yh&&(q.Yh.error(a),q.Yh=void 0);});};this.sva=function(){q.Yh&&(q.Yh.complete(),q.Yh=void 0);};this.z7=function(a){q.Xk&&(q.log.error("Failed to add license",a),q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.li.ko(b));q.mf===P.Dz&&q.Fl(L.gp.Wma);q.Yh=void 0;q.Xk&&(q.Xk.error(a),q.Xk=void 0);},function(){q.log.trace("Issuing a license error");q.Yh=void 0;q.Xk&&(q.Xk.error(a),q.Xk=void 0);}));};this.tva=function(){q.Xk&&(q.log.info("Successfully added license"),q.mf===P.Lf?q.Fl(L.gp.Qma):q.mf===P.Dz&&q.Fl(L.gp.Vma),q.Xk.complete(),q.Xk=void 0);};this.y7=function(a){q.ro&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.li.ko(b));q.Yh=void 0;q.Xk=void 0;q.ro&&(q.ro.next(a),q.ro.complete(),q.ro=void 0);},function(){q.log.trace("Issuing a CDM error");q.Yh=void 0;q.Xk=void 0;q.ro&&(q.ro.next(a),q.ro.complete(),q.ro=void 0);});};this.Fl=function(a){q.Bc.push({time:q.ya.Xb(),Uhb:a});};this.log=a.lb("EmeSession");this.YJ=new h.aj();this.config.ii&&(this.qL=new h.aj());this.zva=new h.QN();this.ro=new h.aj();this.mf=P.Ktb;this.Bc=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(102);m=a(3);c=a(2);k=a(23);l=a(7);n=a(41);t=a(30);r=a(64);y=a(77);L=a(438);x=a(895);G=a(168);N=a(234);C=a(894);E=a(87);J=a(893);D=a(892);U=a(62);(function(a){a[a.Ktb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Lf=3]="license";a[a.Dz=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(P||(P={})));Q={usable:{status:x.Vq.SDa},expired:{status:x.Vq.u8a,error:c.I.eha},released:{status:x.Vq.Qnb},"output-not-allowed":{status:x.Vq.tya,error:c.I.fha},"output-restricted":{status:x.Vq.tya,error:c.I.iZ},"output-downscaled":{status:x.Vq.kkb},"status-pending":{status:x.Vq.rrb},"internal-error":{status:x.Vq.Zdb,error:c.I.tOa}};b.prototype.eD=function(){return this.context.Rd;};b.prototype.hv=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.mf=P.closed;this.Bc=[];return this.Jf.kva()?(this.log.trace("Closing the session"),this.Jf.nAa(this.onMessage),this.Jf.lAa(this.hya),this.Jf.kAa(this.XD),this.fk=void 0,h.Da.create(function(b){a.zj.jl(a.config.lna,a.Jf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(d){a.log.error("Close failed",d);d=a.li.ko(d);d.code=c.I.wOa;b.error(d);});})):h.Da.empty();};b.prototype.Ueb=function(){return this.zva.B1();};b.prototype.UI=function(){return this.ro?this.ro.B1():void 0;};b.prototype.Rp=function(){return this.po;};b.prototype.pv=function(){return void 0!==this.Lf;};b.prototype.ks=function(a,b,d,f){var g;g=this;this.xh=f;this.mf=P.create;this.context=a;this.Fl(L.gp.Lva);return h.Da.create(function(h){(d.aua()?Promise.resolve():g.zj.jl(g.config.mna,g.Jf.spa(a,b)).then(function(a){g.log.trace("Created media keys");d.Rz(a);return g.vZa(a);})).then(function(){g.fk=d.fk;try{g.Jf.ks(g.fk,g.li.c6(f));g.Jf.Rma(g.onMessage);g.Jf.Oma(g.hya);g.Jf.Lma(g.XD);g.OV(g.Jf.hv());h.next(g);h.complete();}catch(wa){h.error(new E.Ff(c.I.XIa,c.u.eh,void 0,"Unable to create a persisted key session",wa));}})["catch"](function(a){a.code&&a.Ic?h.error(a):h.error(new E.Ff(c.I.lea,a instanceof U.Bm?c.u.EF:c.u.eh,void 0,"Unable to create MediaKeys. "+a.message,a));});});};b.prototype.kqb=function(a){this.Bg=a;this.log.Ima("xid",a.oa);};b.prototype.gS=function(a){var b;b=this;this.mf=P.Lf;this.log.trace("Generating a license challenge");this.Yh=new h.aj();if(!a)return this.E2(new E.Ff(c.I.oea,c.u.HX));if(0===a.length)return this.E2(new E.Ff(c.I.oea,c.u.GX));this.zj.jl(this.config.nna,this.Jf.fsa("cenc",a)).then(function(){b.OV(b.Jf.hv());})["catch"](function(a){var d;d=new E.Ff(c.I.nea,a instanceof U.Bm?c.u.EF:c.u.eh);d.message="Unable to generate request.";d.AI(a);b.log.error("Unable to generate a license request",d);b.Is(d);});this.log.trace("Returning the challenge subject");return this.Yh;};b.prototype.Pma=function(a){var b;b=this;a instanceof Uint8Array?0===a.length?(this.log.error("The license buffer is empty"),this.Is(new E.Ff(c.I.pea,c.u.GX))):this.tv?this.zj.jl(this.config.u1,this.Jf.update(a)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.li.ko(a);a.code=c.I.gN;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Is(a);}):(this.mf===P.Lf&&(this.Fl(L.gp.Zza),this.Lf=a,this.sva()),this.mf===P.Dz&&(this.Fl(L.gp.bAa),this.Lf=a,this.z1())):this.mf===P.Dz?(this.Fl(L.gp.cAa),this.y7(a)):this.Is(a);};b.prototype.z1=function(){var a,b;a=this;if(!this.Lf)return this.E2(new E.Ff(c.I.pea,c.u.HX));this.Xk=new h.aj();b=this.Lf;this.Lf=void 0;this.zj.jl(this.config.u1,this.Jf.update(b)).then(function(){a.li.GQ()&&a.tva();})["catch"](function(b){b=a.li.ko(b);b.code=c.I.iha;b.message="Unable to update the EME";a.log.error(b.message,b);a.z7(b);});return this.Xk;};b.prototype.ZJ=function(){return this.YJ;};b.prototype.Q9a=function(){var a;a=this;if(this.mf===P.Lf&&this.xh===y.Zi.Lt)return h.Da.empty();this.mf=P.stop;this.log.trace("Generating a secure stop challenge");this.Yh=new h.aj();this.Zg=new D.mJa(this.ya,this.config,this.ka,function(){a.log.error("got a timeout error");},"non-persisted");this.Zg.P0a();this.Jf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var d;d=a.li.ko(b);d.code=c.I.rea;d.Ic=c.u.eh;d.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.Is(d);});return this.Yh;};b.prototype.Xma=function(a){a&&a.constructor!==Uint8Array?this.Is(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Is(new E.Ff(c.I.qea,c.u.GX))):(this.log.trace("Secure stop is ready to apply"),this.hBa=a,this.Zg.Opb(),this.sva()):(this.log.error("The secure stop buffer is undefined"),this.Is(new E.Ff(c.I.qea,c.u.HX)));};b.prototype.xZa=function(){var a;a=this;if(!this.hBa)return h.Da.from([this]);this.log.trace("Setting the secure stop data");return h.Da.create(function(b){a.Zg.Q0a();a.Jf.update(a.hBa).then(function(){a.Zg.voa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(d){var f;a.Zg.voa();f=a.li.ko(d);f.code=c.I.gN;f.Ic=c.u.eh;f.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:d});b.error(f);});});};b.prototype.vZa=function(a){var b,c;b=this;c=this.li.o5();return c?(c=this.Hl.decode(c),this.zj.jl(this.config.ona,this.Jf.NBa(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};b.prototype.OV=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.Ima("sessionId",a));};b.prototype.sD=function(a){return a===c.I.iZ?this.config.GU:!!a;};b.prototype.qAa=function(){this.log.trace("Initiating a renewal request");this.xh=y.Zi.zm;this.mf=P.Dz;this.li.g7(this.Jf);};b.prototype.E2=function(a){var b;b=this;return h.Da.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(l.ob)),g.__param(1,f.l(k.Oe)),g.__param(2,f.l(n.Jj)),g.__param(3,f.l(r.Tn)),g.__param(4,f.l(C.kJa)),g.__param(5,f.l(N.RIa)),g.__param(6,f.l(G.TIa)),g.__param(7,f.l(t.ng)),g.__param(8,f.l(U.bx))],a);d.oJa=a;},function(g,d,a){var f,h,m,c,k,l,n,t,r;function b(a,b,c,d,f,g,h){this.Eo=a;this.ya=b;this.oe=c;this.config=d;this.ka=f;this.zj=g;this.wn=h;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);m=a(23);c=a(41);k=a(64);l=a(30);n=a(62);t=a(896);a=a(118);b.prototype.create=function(){var a;a=this;return Promise.all([this.wn.Y$a(),this.wn.X$a(),this.wn.Rp()]).then(function(b){var c,d;c=Q(b);b=c.next().value;d=c.next().value;c=c.next().value;return new t.oJa(a.Eo,a.ya,a.oe,a.config,b,d,c,a.ka,a.zj);});};r=b;r=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(m.Oe)),g.__param(2,f.l(c.Jj)),g.__param(3,f.l(k.Tn)),g.__param(4,f.l(l.ng)),g.__param(5,f.l(n.bx)),g.__param(6,f.l(a.Xw))],r);d.nJa=r;},function(g,d){function a(a){this.Hja=a;this.Tka=0;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.next=function(){return this.Hja.length>this.Tka?{value:this.Hja[this.Tka++],done:!1}:{done:!0};};d.dFa=a;},function(g,d,a){var f,h,m,c,k,l,n,t,r,y;function b(a,b,c,d){this.Vd=a;this.uh=b;this.qm=c;this.Pg=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(22);c=a(99);k=a(98);l=a(898);n=a(87);t=a(62);r=a(77);a=a(64);b.prototype.GQ=function(){return!1;};b.prototype.L1=function(){return!1;};b.prototype.c6=function(a){return this.Pg.ii&&a===r.Zi.zm?"persistent-usage-record":"temporary";};b.prototype.o5=function(){if(this.Pg.Oz)return this.Pg.Oz;};b.prototype.X5=function(){return[];};b.prototype.tv=function(a){return this.Vd.Ku(a.message,this.qm.decode("certificate"));};b.prototype.g7=function(a){a.update(this.qm.decode("renew")).then(function(){});};b.prototype.X2=function(a){return{type:a.type,sessionId:a.target.sessionId,message:a.message,Z8:"license-request"};};b.prototype.W2=function(a){var b,c,d,f;b=a.type;a=a.target.sessionId;c=l.dFa;d=[1];f=new ArrayBuffer(d.length);f=new Uint8Array(f);f.set(d);return{type:b,sessionId:a,D7:new c([[f,"usable"]])};};b.prototype.ko=function(a){var b,c,d;b=a.target.error;b&&(c=b.systemCode,d=b.code);b=new n.Ff(h.I.NN,a instanceof t.Bm?h.u.EF:h.u.yA,c?this.uh.fJ(c,4):d,"",b);b.AI(a);return b;};y=b;y=g.__decorate([f.N(),g.__param(0,f.l(m.cf)),g.__param(1,f.l(c.Hw)),g.__param(2,f.l(k.kx)),g.__param(3,f.l(a.Tn))],y);d.OQa=y;},function(g,d,a){var f,h,m,c,k,l,n,t,r;function b(a,b,c,d){var f;f=this;this.pc=a;this.IW=b;this.Hl=c;this.Vua=function(a){return/com.apple.fps/.test(a)&&!/com.apple.fps.2_0/.test(a);};this.w4a=function(a){var b;a=function(a){var c,d;function b(a,b,c){var d,f;d=new Uint8Array("piff"==a?88:72);f=new h.wA(d);f.Pq(12);f.Nq("frma");f.Nq("avc1");f.Pq(20);f.Nq("schm");f.qF(0);f.qF(0);f.Nq(a);f.Pq(b);"piff"==a?(f.Pq(56),f.Nq("schi"),f.Pq(48),f.Nq("uuid"),f.oA(new Uint8Array([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84]))):(f.Pq(40),f.Nq("schi"),f.Pq(32),f.Nq("tenc"));f.qF(0);f.qF(0);f.Pq(264);f.oA(c);return d;}c=b("piff",65537,a);c=f.IW.decode(f.Hl.encode(c));a=b("cenc",65536,a);a=f.IW.decode(f.Hl.encode(a));d=new Uint8Array(7+c.length+8+a.length+5);d.set([91,10,32,32,32,32,34],0);d.set(c,7);d.set([34,44,10,32,32,32,32,34],7+c.length);d.set(a,7+c.length+8);d.set([34,10,32,32,93],7+c.length+8+a.length);return d;}(a);b=new Uint8Array(13+a.length+2);b.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);b.set(a,13);b.set([10,125],13+a.length);return b;};this.Dab=function(a){var b;a=a.subarray(14,30);a=f.Hl.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.vob=function(){f.ej.forEach(function(a){f.X&&f.X.addEventListener(a.name,a.ov);});f.ej.length=0;};this.ej=[];this.log=d.lb("EmeFactory");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(131);m=a(1);c=a(2);k=a(22);l=a(98);n=a(41);t=a(7);r=a(8);b.prototype.hv=function(){if(this.X)return this.X.sessionId;};b.prototype.vAa=function(a){this.RG=a;return Promise.resolve({});};b.prototype.spa=function(a){var d;function b(){var b,c;b=d.pc.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,void 0);c=b.lastChild;d.gma=b;a.La=r.Ld.createElement("VIDEO");c?d.gma.insertBefore(a.La,c):d.gma.appendChild(a.La);}d=this;return new Promise(function(f,g){function h(){try{d.wr=new J.WebKitMediaKeys(d.RG);a.La.webkitSetMediaKeys(d.wr);f(d.wr);}catch(S){d.log.error("CREATE: Exception on webkitSetMediaKeys",S);g({W:!1,code:c.I.DZ,Sa:d.pc.ud(S)});}}if(d.Vua(d.RG))try{d.wr=new J.WebKitMediaKeys(d.RG);a.La&&a.La.webkitSetMediaKeys(d.wr);f(d.wr);}catch(S){g({W:!1,code:c.I.DZ,Sa:d.pc.ud(S)});}else{try{d.wr=new J.WebKitMediaKeys(d.RG);}catch(S){g({W:!1,code:c.I.DZ,Sa:d.pc.ud(S)});}a.La?a.La.webkitSetMediaKeys(d.wr):(b(),d.Re=new r.NA(),d.Re.addEventListener("sourceopen",h),d.Bi=URL.createObjectURL(d.Re),a.La.src=d.Bi);f(d.wr);}});};b.prototype.ks=function(){};b.prototype.kva=function(){return!!this.X;};b.prototype.NBa=function(){return Promise.resolve();};b.prototype.fsa=function(a,b){try{return this.Vua(this.RG)&&(b=this.w4a(this.Dab(b))),this.X=this.wr.createSession("video/mp4",b,null),this.vob(),Promise.resolve();}catch(x){return Promise.reject(x);}};b.prototype.update=function(a){if(!this.X)throw ReferenceError("Unable to update the EME with a response, key session is not valid");try{return this.X.update(a),Promise.resolve();}catch(L){return Promise.reject(L);}};b.prototype.load=function(){return Promise.resolve(!0);};b.prototype.close=function(){if(!this.X)throw ReferenceError("Unable to close a key session, key session is not valid");try{return this.X.close(),Promise.resolve();}catch(y){return Promise.reject(y);}finally{this.X=void 0;}};b.prototype.remove=function(){if(!this.X)throw ReferenceError("Unable to remove a key session, key session is not valid");try{return this.X.close(),Promise.resolve();}catch(y){return Promise.reject(y);}};b.prototype.Rma=function(a){this.X?this.X.addEventListener(f.AA,a):this.ej.push({name:f.AA,ov:a});};b.prototype.Oma=function(a){this.X?this.X.addEventListener(f.JX,a):this.ej.push({name:f.JX,ov:a});};b.prototype.Lma=function(a){this.X?this.X.addEventListener(f.zA,a):this.ej.push({name:f.zA,ov:a});};b.prototype.nAa=function(a){if(!this.X)throw ReferenceError("Unable to remove message handler, key session is not valid");this.X.removeEventListener(f.AA,a);};b.prototype.lAa=function(a){if(!this.X)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.X.removeEventListener(f.JX,a);};b.prototype.kAa=function(a){if(!this.X)throw ReferenceError("Unable to remove error handler, key session is not valid");this.X.removeEventListener(f.zA,a);};a=f=b;a.AA="webkitkeymessage";a.JX="webkitkeyadded";a.zA="webkitkeyerror";a=f=g.__decorate([m.N(),g.__param(0,m.l(k.cf)),g.__param(1,m.l(l.kx)),g.__param(2,m.l(n.Jj)),g.__param(3,m.l(t.ob))],a);d.LJa=a;},function(g,d,a){var f,h,m,c,k,l,n,t,r;function b(a,b,c,d){this.Vd=a;this.uh=b;this.Pg=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(22);c=a(99);k=a(234);l=a(87);n=a(62);t=a(64);a=a(17);b.prototype.GQ=function(){return!0;};b.prototype.L1=function(){return!0;};b.prototype.c6=function(){return"temporary";};b.prototype.o5=function(){return this.Pg.Oz?this.Pg.Oz:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};b.prototype.X5=function(){var a,b;a=[{contentType:k.rl,robustness:"HW_SECURE_DECODE"},{contentType:k.rl,robustness:"SW_SECURE_DECODE"},{contentType:k.rl,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:k.rl,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:k.Uw,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().Qra?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.tv=function(a){return this.Vd.Ku(a.message,new Uint8Array([8,4]));};b.prototype.g7=function(){};b.prototype.X2=function(a){return{type:a.type,sessionId:a.target.sessionId,message:new Uint8Array(a.message),Z8:a.messageType};};b.prototype.W2=function(a){return{type:a.type,sessionId:a.target.sessionId,D7:a.target.keyStatuses.entries()};};b.prototype.ko=function(a){var b,c,d;b=new l.Ff(h.I.NN);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Ic=1<=c&&9>=c?h.u.yA+c:h.u.yA):b.Ic=a instanceof n.Bm?h.u.EF:h.u.eh;try{d=a.message.match(/\((\d*)\)/)[1];b.vg=this.uh.fJ(d,4);}catch(N){}b.AI(a);return b;};r=b;r=g.__decorate([f.N(),g.__param(0,f.l(m.cf)),g.__param(1,f.l(c.Hw)),g.__param(2,f.l(t.Tn)),g.__param(3,f.l(a.ld))],r);d.RGa=r;},function(g,d,a){var f,h;function b(a){return h.AZ.apply(this,arguments)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(439);ca(b,h.AZ);a=b;a=g.__decorate([f.N()],a);d.OPa=a;},function(g,d,a){var f,h,m,c,k,l,n,t,r;function b(a,b,c){this.uh=a;this.oe=b;this.Pg=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(99);c=a(41);k=a(234);l=a(87);n=a(77);t=a(64);r=a(62);b.prototype.GQ=function(){return!0;};b.prototype.L1=function(){return!1;};b.prototype.c6=function(a){return this.Pg.ii&&a===n.Zi.zm?"persistent-usage-record":"temporary";};b.prototype.o5=function(){if(this.Pg.Oz)return this.Pg.Oz;};b.prototype.X5=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:k.Uw}],videoCapabilities:[{contentType:k.rl}],sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.tv=function(){return!1;};b.prototype.g7=function(){};b.prototype.X2=function(a){var b;b=new Uint8Array(a.message);b=this.A4(b,"PlayReadyKeyMessage","Challenge");b=this.oe.decode(b);return{type:a.type,sessionId:a.target.sessionId,message:b,Z8:a.messageType};};b.prototype.W2=function(a){return{type:a.type,sessionId:a.target.sessionId,D7:a.target.keyStatuses.entries()};};b.prototype.ko=function(a){var b,c;b=new l.Ff(h.I.NN);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Ic=1<=c&&9>=c?h.u.yA+c:h.u.yA):b.Ic=a instanceof r.Bm?h.u.EF:h.u.eh;try{b.vg=this.uh.fJ(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(G){}b.AI(a);return b;};b.prototype.A4=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.Hw)),g.__param(1,f.l(c.Jj)),g.__param(2,f.l(t.Tn))],a);d.jJa=a;},function(g,d,a){var f,h,m,c,k,l,n,t,r,y,C,x,G,N,E,J,X,D,U,P;function b(a,b,c,d,f,g,h,k,m){this.Eo=a;this.Vd=b;this.qm=c;this.uh=d;this.oe=f;this.is=g;this.oU=h;this.config=k;this.Pg=m;this.log=this.Eo.lb("MediaKeySystemAccessServices");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);m=a(7);c=a(87);k=a(168);l=a(903);n=a(902);t=a(901);r=a(439);y=a(22);C=a(99);x=a(41);G=a(21);N=a(37);E=a(900);J=a(899);X=a(98);D=a(17);U=a(136);a=a(64);b.prototype.mJ=function(){this.mE||(this.mE=this.Lob());return this.mE;};b.prototype.k4a=function(a){var b;b=this;return new Promise(function(d,f){var g,k;g=U.hb.v5(a);k=b.Psa(g);g=b.Msa(g);k.vAa(a,g.X5()).then(function(c){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:c.getConfiguration?JSON.stringify(c.getConfiguration()):void 0});d(c);})["catch"](function(d){b.log.error("Unable to create the media key system access object",{keySystem:a,error:d.message});f(new c.Ff(h.I.mea,h.u.eh,void 0,"Unable to create media keys system access. "+d.message,d));});});};b.prototype.Rp=function(){var a;a=this;return this.mJ().then(function(b){return a.Nsa(b);});};b.prototype.W$a=function(){var a,b;a=this;b=this.config().Ava||[this.config().Rd];if(1<b.length)return this.mJ().then(function(b){return a.Nsa(b);}).then(function(a){return U.hb.Lsa(a);});b=U.hb.v5(b[0]);return Promise.resolve(U.hb.Lsa(b));};b.prototype.X$a=function(){var a;a=this;return this.Rp().then(function(b){return a.Msa(b);});};b.prototype.Y$a=function(){var a;a=this;return this.Rp().then(function(b){return a.Psa(b);});};b.prototype.Nsa=function(a){return U.hb.v5(a.keySystem);};b.prototype.Msa=function(a){switch(a){case k.Sn.rz:return new l.jJa(this.uh,this.oe,this.Pg);case k.Sn.XC:return new J.OQa(this.Vd,this.uh,this.qm,this.Pg);default:return new t.RGa(this.Vd,this.uh,this.Pg,this.config);}};b.prototype.Psa=function(a){switch(a){case k.Sn.rz:return new n.OPa(this.oU,this.is);case k.Sn.XC:return new E.LJa(this.Vd,this.qm,this.oe,this.Eo);default:return new r.AZ(this.oU,this.is);}};b.prototype.Lob=function(){var a,b;a=this;b=(this.config().Ava||[this.config().Rd]).map(function(b){return function(){return a.k4a(b);};});return this.Mob(b);};b.prototype.Mob=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};P=b;P=g.__decorate([f.N(),g.__param(0,f.l(m.ob)),g.__param(1,f.l(y.cf)),g.__param(2,f.l(X.kx)),g.__param(3,f.l(C.Hw)),g.__param(4,f.l(x.Jj)),g.__param(5,f.l(G.ue)),g.__param(6,f.l(N.QA)),g.__param(7,f.l(D.ld)),g.__param(8,f.l(a.Tn))],P);d.SMa=P;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(78);a=a(79);g=function(a){function c(b){a.call(this);this.ojb=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.Uf=function(a){return new h(a,this.ojb);};return c;}(g.Da);d.wIa=g;h=function(a){function c(b,c){a.call(this,b);this.Yu=c;this.Atb();}b(c,a);c.prototype.Atb=function(){try{this.mTa();}catch(k){this.bd(k);}};c.prototype.mTa=function(){var a;a=this.Yu();a&&this.add(f.kt(this,a));};return c;}(a.fr);},function(g,d,a){g=a(905);d.defer=g.wIa.create;},function(g,d,a){g=a(10);a=a(906);g.Da.defer=a.defer;},function(g,d,a){g=a(10);a=a(449);g.Da.from=a.from;},function(g,d,a){var f,h,m,c,k,l,n,t,r,y,C;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new h.Cw(a).bg(new n(b));}f=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(100);m=a(101);g=a(46);c=a(79);k=a(78);l=a(165);d.Aca=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.bg.call(b.apply(void 0,[c].concat(a)));};};d.uvb=b;n=function(){function a(a){this.Cg=a;}a.prototype.call=function(a,b){return b.subscribe(new t(a,this.Cg));};return a;}();d.yDb=n;t=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.A7=[];this.active=0;this.Cg="function"===typeof c?c:null;this.values=d;}f(b,a);b.prototype.oh=function(a){var b;b=this.A7;m.isArray(a)?b.push(new y(a)):"function"===typeof a[l.iterator]?b.push(new r(a[l.iterator]())):b.push(new C(this.destination,this,a));};b.prototype.ic=function(){var a,b,d;a=this.A7;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.srb?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.Yib=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.$0a=function(){var f,k;for(var a=this.A7,b=a.length,c=this.destination,d=0;d<b;d++){f=a[d];if("function"===typeof f.wo&&!f.wo())return;}for(var g=!1,h=[],d=0;d<b;d++){f=a[d];k=f.next();f.mD()&&(g=!0);if(k.done){c.complete();return;}h.push(k.value);}this.Cg?this.S0(h):c.next(h);g&&c.complete();};b.prototype.S0=function(a){var b;try{b=this.Cg.apply(this,a);}catch(S){this.destination.error(S);return;}this.destination.next(b);};return b;}(g.ri);d.zDb=t;r=function(){function a(a){this.iterator=a;this.s9=a.next();}a.prototype.wo=function(){return!0;};a.prototype.next=function(){var a;a=this.s9;this.s9=this.iterator.next();return a;};a.prototype.mD=function(){var a;a=this.s9;return a&&a.done;};return a;}();y=function(){function a(a){this.Ep=a;this.length=this.index=0;this.length=a.length;}a.prototype[l.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.Ep;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.wo=function(){return this.Ep.length>this.index;};a.prototype.mD=function(){return this.Ep.length===this.index;};return a;}();C=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.srb=!0;this.buffer=[];this.l7=!1;}f(b,a);b.prototype[l.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.l7?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.wo=function(){return 0<this.buffer.length;};b.prototype.mD=function(){return 0===this.buffer.length&&this.l7;};b.prototype.al=function(){0<this.buffer.length?(this.l7=!0,this.parent.Yib()):this.destination.complete();};b.prototype.hz=function(a,b){this.buffer.push(b);this.parent.$0a();};b.prototype.subscribe=function(a,b){return k.kt(this,this.observable,this,b);};return b;}(c.fr);},function(g,d,a){g=a(909);d.Aca=g.uvb;},function(g,d,a){g=a(10);a=a(910);g.Da.Aca=a.Aca;},function(g,d,a){var b,f,h,m,c,k,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(100);h=a(101);g=a(79);m=a(78);c={};d.I2=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());return function(b){return b.bg.call(new f.Cw([b].concat(a)),new k(c));};};k=function(){function a(a){this.Cg=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Cg));};return a;}();d.ZGa=k;l=function(a){function d(b,c){a.call(this,b);this.Cg=c;this.active=0;this.values=[];this.aya=[];}b(d,a);d.prototype.oh=function(a){this.values.push(c);this.aya.push(a);};d.prototype.ic=function(){var a,b,d;a=this.aya;b=a.length;if(0===b)this.destination.complete();else{this.Tba=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(m.kt(this,d,d,c));}}};d.prototype.al=function(){0===--this.active&&this.destination.complete();};d.prototype.hz=function(a,b,d){var f;a=this.values;f=a[d];f=this.Tba?f===c?--this.Tba:this.Tba:0;a[d]=b;0===f&&(this.Cg?this.S0(a):this.destination.next(a.slice()));};d.prototype.S0=function(a){var b;try{b=this.Cg.apply(this,a);}catch(L){this.destination.error(L);return;}this.destination.next(b);};return d;}(g.fr);d.Vwb=l;},function(g,d,a){var b,f,h,m;b=a(117);f=a(101);h=a(100);m=a(912);d.I2=function(){var g;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];g=d=null;b.Jy(a[a.length-1])&&(g=a.pop());"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&f.isArray(a[0])&&(a=a[0]);return new h.Cw(a,g).bg(new m.ZGa(d));};},function(g,d,a){g=a(10);a=a(913);g.Da.I2=a.I2;},function(g,d,a){var b,f,h,m,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(442);g=a(10);h=a(164);m=a(117);c=a(444);a=function(a){function d(b,d,g){void 0===b&&(b=0);a.call(this);this.Ts=-1;this.Gqa=0;f.cva(d)?this.Ts=1>Number(d)&&1||Number(d):m.Jy(d)&&(g=d);m.Jy(g)||(g=h.async);this.ka=g;this.Gqa=c.m7(b)?+b-this.ka.now():b;}b(d,a);d.create=function(a,b,c){void 0===a&&(a=0);return new d(a,b,c);};d.zb=function(a){var b,c,d;b=a.index;c=a.Ts;d=a.Bf;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.Jb(a,c);}};d.prototype.Uf=function(a){return this.ka.Jb(d.zb,this.Gqa,{index:0,Ts:this.Ts,Bf:a});};return d;}(g.Da);d.NRa=a;},function(g,d,a){g=a(915);d.ot=g.NRa.create;},function(g,d,a){g=a(10);a=a(916);g.Da.ot=a.ot;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c){a.call(this);this.error=b;this.ka=c;}b(d,a);d.create=function(a,b){return new d(a,b);};d.zb=function(a){a.Bf.error(a.error);};d.prototype.Uf=function(a){var b,f;b=this.error;f=this.ka;a.mk=!0;if(f)return f.Jb(d.zb,0,{error:b,Bf:a});a.error(b);};return d;}(a(10).Da);d.xJa=g;},function(g,d,a){g=a(918);d.NXa=g.xJa.create;},function(g,d,a){g=a(10);a=a(919);g.Da["throw"]=a.NXa;},function(g,d,a){g=a(443);d.jz=g.Ljb;},function(g,d,a){g=a(10);a=a(921);g.Da.jz=a.jz;},function(g,d,a){g=a(10);a=a(450);g.Da.of=a.of;},function(g,d,a){var b,f,h,m;b=a(10);f=a(100);h=a(117);m=a(235);d.Y8=function(){var d,g,l;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];d=Number.POSITIVE_INFINITY;g=null;l=a[a.length-1];h.Jy(l)?(g=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(d=a.pop())):"number"===typeof l&&(d=a.pop());return null===g&&1===a.length&&a[0]instanceof b.Da?a[0]:m.Nv(d)(new f.Cw(a,g));};},function(g,d,a){g=a(10);a=a(924);g.Da.Y8=a.Y8;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(442);g=a(10);h=a(164);a=function(a){function c(b,c){void 0===b&&(b=0);void 0===c&&(c=h.async);a.call(this);this.Ts=b;this.ka=c;if(!f.cva(b)||0>b)this.Ts=0;c&&"function"===typeof c.Jb||(this.ka=h.async);}b(c,a);c.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=h.async);return new c(a,b);};c.zb=function(a){var b,c;b=a.Bf;c=a.Ts;b.next(a.index);b.closed||(a.index+=1,this.Jb(a,c));};c.prototype.Uf=function(a){var b;b=this.Ts;a.add(this.ka.Jb(c.zb,b,{index:0,Bf:a,Ts:b}));};return c;}(g.Da);d.sLa=a;},function(g,d,a){g=a(926);d.interval=g.sLa.create;},function(g,d,a){g=a(10);a=a(927);g.Da.interval=a.interval;},function(g,d,a){g=a(447);d.bv=g.fia.create;},function(g,d,a){g=a(10);a=a(929);g.Da.bv=a.bv;},function(g,d,a){g=a(132);d.empty=g.GF.create;},function(g,d,a){g=a(10);a=a(931);g.Da.empty=a.empty;},function(g,d,a){g=a(10);a=a(133);g.Da.concat=a.concat;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);f=a(78);d.oW=function(a,b){return function(c){return c.bg(new h(a,b));};};h=function(){function a(a,b){this.Cg=a;this.jk=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Cg,this.jk));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.Cg=c;this.jk=d;this.index=0;}b(c,a);c.prototype.oh=function(a){var b,c;c=this.index++;try{b=this.Cg(a,c);}catch(A){this.destination.error(A);return;}this.O_(b,a,c);};c.prototype.O_=function(a,b,c){var d;d=this.fT;d&&d.unsubscribe();this.add(this.fT=f.kt(this,a,b,c));};c.prototype.ic=function(){var b;b=this.fT;b&&!b.closed||a.prototype.ic.call(this);};c.prototype.Jr=function(){this.fT=null;};c.prototype.al=function(b){this.remove(b);this.fT=null;this.Ye&&a.prototype.ic.call(this);};c.prototype.hz=function(a,b,c,d){this.jk?this.UXa(a,b,c,d):this.destination.next(b);};c.prototype.UXa=function(a,b,c,d){var f;try{f=this.jk(a,b,c,d);}catch(L){this.destination.error(L);return;}this.destination.next(f);};return c;}(g.fr);},function(g,d,a){var b;b=a(934);d.oW=function(a,d){return b.oW(a,d)(this);};},function(g,d,a){g=a(10);a=a(935);g.Da.prototype.oW=a.oW;},function(g,d,a){var b,f;b=a(456);d.zib=function(a,d){return function(c){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof d)return c.bg(new f(g,d));h=Object.create(c,b.U1a);h.source=c;h.mW=g;return h;};};f=function(){function a(a,b){this.mW=a;this.wL=b;}a.prototype.call=function(a,b){var c,d;c=this.wL;d=this.mW();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();d.Vzb=f;},function(g,d,a){var b,f;b=a(458);f=a(937);d.eV=function(a,d,c,g){var h,k;c&&"function"!==typeof c&&(g=c);h="function"===typeof c?c:void 0;k=new b.QN(a,d,g);return function(a){return f.zib(function(){return k;},h)(a);};};},function(g,d,a){var b;b=a(938);d.eV=function(a,d,g,c){return b.eV(a,d,g,c)(this);};},function(g,d,a){g=a(10);a=a(939);g.Da.prototype.eV=a.eV;},function(g,d,a){var b,f,h,l,c;b=a(100);f=a(236);h=a(132);l=a(133);c=a(117);d.eW=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){var g,k;g=a[a.length-1];c.Jy(g)?a.pop():g=null;k=a.length;return 1===k?l.concat(new f.GZ(a[0],g),d):1<k?l.concat(new b.Cw(a,g),d):l.concat(new h.GF(g),d);};};},function(g,d,a){var b;b=a(941);d.eW=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.eW.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(942);g.Da.prototype.eW=a.eW;},function(){},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);f=a(78);d.eM=function(a){return function(b){return b.bg(new h(a));};};h=function(){function a(a){this.Va=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Va));};return a;}();l=function(a){function c(b,c){a.call(this,b);this.Va=c;this.add(f.kt(this,c));}b(c,a);c.prototype.hz=function(){this.complete();};c.prototype.al=function(){};return c;}(g.fr);},function(g,d,a){var b;b=a(945);d.eM=function(a){return b.eM(a)(this);};},function(g,d,a){g=a(10);a=a(946);g.Da.prototype.eM=a.eM;},function(g,d){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);d.bFa=g;},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);f=a(948);h=a(132);d.TE=function(a){return function(b){return 0===a?new h.GF():b.bg(new l(a));};};l=function(){function a(a){this.total=a;if(0>this.total)throw new f.bFa();}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.total));};return a;}();c=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.oh=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(g.ri);},function(g,d,a){var b;b=a(949);d.TE=function(a){return b.TE(a)(this);};},function(g,d,a){g=a(10);a=a(950);g.Da.prototype.TE=a.TE;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);d.HL=function(a){return function(b){return b.bg(new f(a));};};f=function(){function a(a){this.aw=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.aw));};return a;}();h=function(a){function c(b,c){a.call(this,b);this.aw=c;this.kba=!0;this.index=0;}b(c,a);c.prototype.oh=function(a){var b;b=this.destination;this.kba&&this.ztb(a);this.kba||b.next(a);};c.prototype.ztb=function(a){try{this.kba=!!this.aw(a,this.index++);}catch(p){this.destination.error(p);}};return c;}(g.ri);},function(g,d,a){var b;b=a(952);d.HL=function(a){return b.HL(a)(this);};},function(g,d,a){g=a(10);a=a(953);g.Da.prototype.HL=a.HL;},function(g,d,a){var b;b=a(443);d.jz=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.jz.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(955);g.Da.prototype.jz=a.jz;},function(g,d,a){var b;b=a(445);d.ND=function(a,d,g){void 0===g&&(g=Number.POSITIVE_INFINITY);return b.ND(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(957);g.Da.prototype.ND=a.ND;g.Da.prototype.ys=a.ND;},function(g,d,a){var b;b=a(235);d.Nv=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.Nv(a)(this);};},function(g,d,a){g=a(10);a=a(959);g.Da.prototype.Nv=a.Nv;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);d.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.bg(new f(a,b));};};f=function(){function a(a,b){this.Cg=a;this.Hba=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Cg,this.Hba));};return a;}();d.Ozb=f;h=function(a){function c(b,c,d){a.call(this,b);this.Cg=c;this.count=0;this.Hba=d||this;}b(c,a);c.prototype.oh=function(a){var b;try{b=this.Cg.call(this.Hba,a,this.count++);}catch(q){this.destination.error(q);return;}this.destination.next(b);};return c;}(g.ri);},function(g,d,a){var b;b=a(961);d.map=function(a,d){return b.map(a,d)(this);};},function(g,d,a){g=a(10);a=a(962);g.Da.prototype.map=a.map;},function(g,d){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);d.qJa=g;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);f=a(964);d.Vg=function(a,b,d){return function(c){return c.bg(new h(a,b,d,c));};};h=function(){function a(a,b,c,d){this.aw=a;this.jk=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.aw,this.jk,this.defaultValue,this.source));};return a;}();l=function(a){function c(b,c,d,f,g){a.call(this,b);this.aw=c;this.jk=d;this.defaultValue=f;this.source=g;this.wo=!1;this.index=0;"undefined"!==typeof f&&(this.zT=f,this.wo=!0);}b(c,a);c.prototype.oh=function(a){var b;b=this.index++;this.aw?this.VXa(a,b):this.jk?this.wma(a,b):(this.zT=a,this.wo=!0);};c.prototype.VXa=function(a,b){var c;try{c=this.aw(a,b,this.source);}catch(A){this.destination.error(A);return;}c&&(this.jk?this.wma(a,b):(this.zT=a,this.wo=!0));};c.prototype.wma=function(a,b){var c;try{c=this.jk(a,b);}catch(A){this.destination.error(A);return;}this.zT=c;this.wo=!0;};c.prototype.ic=function(){var a;a=this.destination;this.wo?(a.next(this.zT),a.complete()):a.error(new f.qJa());};return c;}(g.ri);},function(g,d,a){var b;b=a(965);d.Vg=function(a,d,g){return b.Vg(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(966);g.Da.prototype.Vg=a.Vg;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(46);d.qsb=function(a,b,d){return function(c){return c.bg(new h(a,b,d));};};h=function(){function a(a,b,c){this.Mib=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Mib,this.error,this.complete));};return a;}();l=function(a){function c(b,c,d,g){a.call(this,b);b=new f.ri(c,d,g);b.mk=!0;this.add(b);this.jaa=b;}b(c,a);c.prototype.oh=function(a){var b;b=this.jaa;b.next(a);b.Wz?this.destination.error(b.Xz):this.destination.next(a);};c.prototype.bd=function(a){var b;b=this.jaa;b.error(a);b.Wz?this.destination.error(b.Xz):this.destination.error(a);};c.prototype.ic=function(){var a;a=this.jaa;a.complete();a.Wz?this.destination.error(a.Xz):this.destination.complete();};return c;}(f.ri);},function(g,d,a){var b;b=a(968);d.z_=function(a,d,g){return b.qsb(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(969);g.Da.prototype.CI=a.z_;g.Da.prototype.z_=a.z_;},function(g,d,a){function b(){return function(){function a(){this.Fk=[];}a.prototype.add=function(a){this.has(a)||this.Fk.push(a);};a.prototype.has=function(a){return-1!==this.Fk.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.Fk.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.Fk.length=0;};return a;}();}g=a(80);d.mIb=b;d.Set=g.root.Set||b();},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);f=a(78);h=a(971);d.nR=function(a,b){return function(c){return c.bg(new l(a,b));};};l=function(){function a(a,b){this.sT=a;this.o9a=b;}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.sT,this.o9a));};return a;}();c=function(a){function c(b,c,d){a.call(this,b);this.sT=c;this.values=new h.Set();d&&this.add(f.kt(this,d));}b(c,a);c.prototype.hz=function(){this.values.clear();};c.prototype.y9=function(a){this.bd(a);};c.prototype.oh=function(a){this.sT?this.fYa(a):this.yka(a,a);};c.prototype.fYa=function(a){var b,c;c=this.destination;try{b=this.sT(a);}catch(y){c.error(y);return;}this.yka(b,a);};c.prototype.yka=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return c;}(g.fr);d.wxb=c;},function(g,d,a){var b;b=a(972);d.nR=function(a,d){return b.nR(a,d)(this);};},function(g,d,a){g=a(10);a=a(973);g.Da.prototype.nR=a.nR;},function(g,d,a){var b,f,h,l,c,k,n;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(164);h=a(444);g=a(46);l=a(237);d.Ed=function(a,b){var d;void 0===b&&(b=f.async);d=h.m7(a)?+a-b.now():Math.abs(a);return function(a){return a.bg(new c(d,b));};};c=function(){function a(a,b){this.Ed=a;this.ka=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Ed,this.ka));};return a;}();k=function(a){function c(b,c,d){a.call(this,b);this.Ed=c;this.ka=d;this.fi=[];this.fra=this.active=!1;}b(c,a);c.zb=function(a){for(var b=a.source,c=b.fi,d=a.ka,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.Jb(a,b)):(this.unsubscribe(),b.active=!1);};c.prototype.dXa=function(a){this.active=!0;this.add(a.Jb(c.zb,this.Ed,{source:this,destination:this.destination,ka:a}));};c.prototype.cBa=function(a){var b;if(!0!==this.fra){b=this.ka;a=new n(b.now()+this.Ed,a);this.fi.push(a);!1===this.active&&this.dXa(b);}};c.prototype.oh=function(a){this.cBa(l.Notification.f3(a));};c.prototype.bd=function(a){this.fra=!0;this.fi=[];this.destination.error(a);};c.prototype.ic=function(){this.cBa(l.Notification.a3());};return c;}(g.ri);n=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(g,d,a){var b,f;b=a(164);f=a(975);d.Ed=function(a,d){void 0===d&&(d=b.async);return f.Ed(a,d)(this);};},function(g,d,a){g=a(10);a=a(976);g.Da.prototype.Ed=a.Ed;},function(g,d,a){var b;b=a(446);d.dI=function(){return b.dI()(this);};},function(g,d,a){g=a(10);a=a(978);g.Da.prototype.dI=a.dI;},function(g,d){d.wdb=function(a){return a;};},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(236);h=a(132);a=function(a){function c(b,c){a.call(this);this.A1=b;(this.ka=c)||1!==b.length||(this.vr=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){var d;d=a.length;return 0===d?new h.GF():1===d?new f.GZ(a[0],b):new c(a,b);};c.zb=function(a){var b,c,d;b=a.A1;c=a.index;d=a.Bf;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.Jb(a)));};c.prototype.Uf=function(a){var b,d,f;b=this.A1;d=this.ka;f=b.length;if(d)return d.Jb(c.zb,0,{A1:b,index:0,length:f,Bf:a});for(d=0;d<f&&!a.closed;d++)a.next(b[d]);a.complete();};return c;}(g.Da);d.eFa=a;},function(g,d,a){var b,f,h,l,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(80);g=a(10);h=a(165);a=function(a){function d(b,d){a.call(this);this.ka=d;if(null==b)throw Error("iterator cannot be null.");if((d=b[h.iterator])||"string"!==typeof b)if(d||void 0===b.length){if(!d)throw new TypeError("object is not iterable");b=b[h.iterator]();}else b=new c(b);else b=new l(b);this.iterator=b;}b(d,a);d.create=function(a,b){return new d(a,b);};d.zb=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.Bf;if(a.wJ)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.Jb(a));}};d.prototype.Uf=function(a){var b,c;b=this.iterator;c=this.ka;if(c)return c.Jb(d.zb,0,{index:0,iterator:b,Bf:a});do{c=b.next();if(c.done){a.complete();break;}else a.next(c.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return d;}(g.Da);d.wLa=a;l=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.ow=a;this.DJ=b;this.Q7=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.DJ<this.Q7?{done:!1,value:this.ow.charAt(this.DJ++)}:{done:!0,value:void 0};};return a;}();c=function(){function a(a,b,c){var d;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&f.root.isFinite(c)){d=+c;c=(0===d||isNaN(d)?d:0>d?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>k?k:c;}this.yZa=a;this.DJ=b;this.Q7=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.DJ<this.Q7?{done:!1,value:this.yZa[this.DJ++]}:{done:!0,value:void 0};};return a;}();k=Math.pow(2,53)-1;},function(g,d,a){var b;b=a(133);g=a(133);d.Q1a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){return d.bg.call(b.concat.apply(void 0,[d].concat(a)));};};},function(g,d,a){var b;b=a(983);g=a(133);d.Q1a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.concat.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(984);g.Da.prototype.concat=a.concat;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c,d){a.call(this);this.parent=b;this.jkb=c;this.ikb=d;this.index=0;}b(d,a);d.prototype.oh=function(a){this.parent.hz(this.jkb,a,this.ikb,this.index++,this);};d.prototype.bd=function(a){this.parent.y9(a,this);this.unsubscribe();};d.prototype.ic=function(){this.parent.al(this);this.unsubscribe();};return d;}(a(46).ri);d.zfa=g;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);f=a(78);d.M0a=function(a){return function(b){var c;c=new h(a);b=b.bg(c);return c.l2=b;};};h=function(){function a(a){this.wL=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.wL,this.l2));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.wL=c;this.l2=d;}b(c,a);c.prototype.error=function(b){var c;if(!this.Ye){c=void 0;try{c=this.wL(b,this.l2);}catch(t){a.prototype.error.call(this,t);return;}this.YXa();this.add(f.kt(this,c));}};return c;}(g.fr);},function(g,d,a){var b;b=a(987);d.n_=function(a){return b.M0a(a)(this);};},function(g,d,a){g=a(10);a=a(988);g.Da.prototype["catch"]=a.n_;g.Da.prototype.n_=a.n_;},function(g,d,a){var b,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(239);a=function(a){function d(b,d){var c;c=this;void 0===b&&(b=f);void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b,function(){return c.frame;});this.dhb=d;this.frame=0;this.index=-1;}b(d,a);d.prototype.flush=function(){for(var a=this.Vj,b=this.dhb,d,f;(f=a.shift())&&(this.frame=f.Ed)<=b&&!(d=f.We(f.state,f.Ed)););if(d){for(;f=a.shift();)f.unsubscribe();throw d;}};d.b5=10;return d;}(a(238).cX);d.uSa=a;f=function(a){function d(b,d,f){void 0===f&&(f=b.index+=1);a.call(this,b,d);this.ka=b;this.GM=d;this.index=f;this.active=!0;this.index=b.index=f;}b(d,a);d.prototype.Jb=function(b,f){var c;void 0===f&&(f=0);if(!this.id)return a.prototype.Jb.call(this,b,f);this.active=!1;c=new d(this.ka,this.GM);this.add(c);return c.Jb(b,f);};d.prototype.uV=function(a,b,f){void 0===f&&(f=0);this.Ed=a.frame+f;a=a.Vj;a.push(this);a.sort(d.crb);return!0;};d.prototype.oV=function(){};d.prototype.JO=function(b,d){if(!0===this.active)return a.prototype.JO.call(this,b,d);};d.crb=function(a,b){return a.Ed===b.Ed?a.index===b.index?0:a.index>b.index?1:-1:a.Ed>b.Ed?1:-1;};return d;}(g.bX);d.tSa=f;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(166);h=a(71);g=a(455);a=a(453);f=function(a){function c(b,c){a.call(this);this.de=b;this.RL=[];this.ka=c;}b(c,a);c.prototype.Uf=function(b){var c,d;c=this;d=c.cwa();b.add(new h.uk(function(){c.dwa(d);}));return a.prototype.Uf.call(this,b);};c.prototype.Aqb=function(){for(var a=this,b=a.de.length,c=0;c<b;c++)(function(){var b;b=a.de[c];a.ka.Jb(function(){b.notification.observe(a);},b.frame);}());};return c;}(f.aj);d.Nyb=f;a.vna(f,[g.Nia]);},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(10);h=a(71);g=a(455);a=a(453);f=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.cwa();a.add(new h.uk(function(){b.dwa(c);}));b.Xob(a);return a;});this.de=b;this.RL=[];this.ka=c;}b(c,a);c.prototype.Xob=function(a){var d;for(var b=this.de.length,c=0;c<b;c++){d=this.de[c];a.add(this.ka.Jb(function(a){a.message.notification.observe(a.Bf);},d.frame,{message:d,Bf:a}));}};return c;}(f.Da);d.YGa=f;a.vna(f,[g.Nia]);},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(10);f=a(237);h=a(992);a(991);l=a(454);c=a(990);g=function(a){function d(b){a.call(this,c.tSa,750);this.GZa=b;this.ldb=[];this.m9a=[];}b(d,a);d.prototype.flush=function(){var c;for(var b=this.ldb;0<b.length;)b.shift().Aqb();a.prototype.flush.call(this);for(b=this.m9a.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.GZa(c.$Db,c.VI);}};d.RIb=function(a){var h,k;if("string"!==typeof a)return new l.qG(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){h=g*this.b5;k=a[g];switch(k){case"-":case" ":break;case"(":c=h;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:h;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:h;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+k+"'.");}}return 0>f?new l.qG(d):new l.qG(d,f);};d.QIb=function(a,b,c,d){var q,r,u;void 0===d&&(d=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,k=[],l=a.indexOf("^"),l=-1===l?0:l*-this.b5,m="object"!==typeof b?function(a){return a;}:function(a){return d&&b[a]instanceof h.YGa?b[a].de:b[a];},n=-1,p=0;p<g;p++){q=p*this.b5+l;r=void 0;u=a[p];switch(u){case"-":case" ":break;case"(":n=q;break;case")":n=-1;break;case"|":r=f.Notification.a3();break;case"^":break;case"#":r=f.Notification.ppa(c||"error");break;default:r=f.Notification.f3(m(u));}r&&k.push({frame:-1<n?n:q,notification:r});}return k;};return d;}(c.uSa);d.Xia=g;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);d.pV=function(){return function(a){return a.bg(new f(a));};};f=function(){function a(a){this.Ll=a;}a.prototype.call=function(a,b){var c;c=this.Ll;c.bo++;a=new h(a,c);b=b.subscribe(a);a.closed||(a.jo=c.connect());return b;};return a;}();h=function(a){function c(b,c){a.call(this,b);this.Ll=c;}b(c,a);c.prototype.Jr=function(){var a,b;a=this.Ll;if(a){this.Ll=null;b=a.bo;0>=b?this.jo=null:(a.bo=b-1,1<b?this.jo=null:(b=this.jo,a=a.Zt,this.jo=null,!a||b&&a!==b||a.unsubscribe()));}else this.jo=null;};return c;}(g.ri);},function(g,d){g=function(){function a(b,d){void 0===d&&(d=a.now);this.RQa=b;this.now=d;}a.prototype.Jb=function(a,d,g){void 0===d&&(d=0);return new this.RQa(this,a).Jb(g,d);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();d.QQa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(){a.apply(this,arguments);}b(d,a);return d;}(a(238).cX);d.aQa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(){a.call(this);}b(d,a);d.prototype.Jb=function(){return this;};return d;}(a(71).uk);d.VEa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c){a.call(this,b,c);this.ka=b;this.GM=c;}b(d,a);d.prototype.Jb=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.Jb.call(this,b,c);this.Ed=c;this.state=b;this.ka.flush(this);return this;};d.prototype.We=function(b,c){return 0<c||this.closed?a.prototype.We.call(this,b,c):this.JO(b,c);};d.prototype.uV=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.Ed?a.prototype.uV.call(this,b,c,d):b.flush(this);};return d;}(a(239).bX);d.$Pa=g;},function(g,d,a){g=a(998);a=a(996);d.fi=new a.aQa(g.$Pa);},function(g,d){d.Sib=function(){};},function(g,d,a){var f;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:f.Sib;}f=a(1E3);d.ilb=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b(a);};d.jlb=b;},function(g,d,a){var b,f,h;b=a(46);f=a(241);h=a(242);d.Tsb=function(a,c,d){if(a){if(a instanceof b.ri)return a;if(a[f.Mz])return a[f.Mz]();}return a||c||d?new b.ri(a,c,d):new b.ri(h.empty);};},function(g,d){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(a){b.call(this);this.UI=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);d.dO=g;},function(g,d,a){var f,h;function b(){try{return h.apply(this,arguments);}catch(m){return f.Wu.e=m,f.Wu;}}f=a(461);d.rDa=function(a){h=a;return b;};},function(g,d,a){var f,h,l,c,k,n,q,r,A,y,C,x,G;function b(a,b,c,d,f,g,k,l,m){var p;p=this;this.ka=b;this.vq=c;this.config=d;this.py=f;this.Z6a=g;this.eC=k;this.wn=l;this.XT=m;this.Urb=function(a,b){b.ZJ().TE(1).subscribe(function(a){p.Kva.next({po:b.Rp(),data:a.Jp});});b.ZJ().map(function(c){return p.nJ(a,b,c);}).Nv().CI(function(a){b.kc=a.kc[0];return b.Pma(a.Dv[0].data);}).subscribe(void 0,function(a){b.Pma(a);},function(){p.i0a(b);});};this.Vrb=function(a){a.qL.map(function(b){return p.tta(a,b);}).Nv().CI(function(b){return a.Xma(b.response);}).subscribe(void 0,function(b){a.Xma(b);});};this.log=a.lb("DrmServices");this.Kva=new h.aj();this.py().cp&&this.eC.Pza().then(function(){p.urb();})["catch"](function(a){p.log.error("Unable to load the persisted DRM data",a);});this.config.eT&&this.wn.mJ().then(function(a){return p.rpa(a,{Rd:a.keySystem},n.Zi.zm,m()).ys(function(a){return a.close();}).subscribe();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(102);l=a(7);c=a(30);k=a(441);n=a(77);q=a(64);r=a(243);A=a(244);y=a(440);C=a(17);x=a(118);a=a(135);b.prototype.cw=function(a,b){var c;c=this;return new Promise(function(d,f){c.Lf(a,b).subscribe(d,f);});};b.prototype.M9a=function(a,b){var c;c=this;return new Promise(function(d,f){c.gS(a,b).subscribe(d,f);});};b.prototype.Lf=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.Zsa(a,a.type));return this.jI(a.context,a.type,b).ys(function(b){b.kqb(a.Bg);c.Urb(a,b);return c.apa(b.gS(a.ZS),b);});};b.prototype.zrb=function(a,b){var c,d;c=this;this.config.ii?(this.log.info("Releasing server license and EME license",this.d6(a)),this.Vrb(a),d=a.Q9a()):(this.log.info("Releasing server license",this.d6(a)),d=this.tta(a));return this.apa(d,a).CI(function(){c.eC.T$(Object.assign({Rd:a.context.Rd,kc:[]},a.Bg));b.Tnb();});};b.prototype.ZJ=function(){return this.Kva.B1();};b.prototype.Zsa=function(a,b){return{movieId:a.Bg.M,xid:a.Bg.oa,type:n.Mva(b)};};b.prototype.d6=function(a){return{movieId:a.Bg?a.Bg.M:void 0,xid:a.Bg?a.Bg.oa:void 0,keySessionId:a.hv()};};b.prototype.apa=function(a,b){return h.Da.concat(a,h.Da.of(b)).Vg();};b.prototype.nJ=function(a,b,c){this.log.info("Sending license request",this.Zsa(a,c.xh));return h.Da.bv(this.vq.Lf({oa:a.Bg.oa,Nf:a.Bg.Nf,qR:[a.Bg.Yj],Kp:[{sessionId:b.hv()||"session",data:c.Jp}],xh:c.xh,po:b.Rp(),zoa:c.zoa,jK:a.Bg.jK,wf:a.Bg.wf}));};b.prototype.tta=function(a,b){this.log.info("Sending release request",this.d6(a));return b?h.Da.bv(this.vq.release({oa:a.Bg.oa,kc:[a.kc],Jp:b.Jp})):h.Da.bv(this.vq.release({oa:a.Bg.oa,kc:[a.kc]}));};b.prototype.gS=function(a,b){return this.jI(a.context,a.type,b).ys(function(b){b.gS(a.ZS);return b.ZJ().map(function(){return b;});});};b.prototype.jI=function(a,b,c){var d;d=this;return h.Da.bv(this.wn.mJ()).ys(function(f){return d.rpa(f,a,b,c);});};b.prototype.rpa=function(a,b,c,d){return h.Da.bv(this.Z6a.create()).ys(function(f){return f.ks(b,a,d,c);});};b.prototype.trb=function(a){var b;b=this;return this.config.ii?h.Da.empty():h.Da.bv(this.vq.release({oa:a.oa,kc:a.kc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.Da.empty();}).map(function(){return a;});};b.prototype.urb=function(){var a;a=this;this.ka.fg(this.config.X9,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.eC.rR.length});b=a.eC.rR.filter(function(a){return!a.active;}).map(function(b){return a.trb(b);});h.Da.concat.apply(h.Da,[].concat(da(b))).subscribe(function(b){a.eC.T$(b);});});};b.prototype.i0a=function(a){var b;if(a.hv()&&a.Bg){b=new A.EX();b.Rd=a.context.Rd;b.kc=[a.kc];b.profileId=a.Bg.profileId;b.oa=a.Bg.oa;b.M=a.Bg.M;this.eC.Kma(b);}};G=b;G=g.__decorate([f.N(),g.__param(0,f.l(l.ob)),g.__param(1,f.l(c.ng)),g.__param(2,f.l(k.eea)),g.__param(3,f.l(q.Tn)),g.__param(4,f.l(C.ld)),g.__param(5,f.l(y.uea)),g.__param(6,f.l(r.mX)),g.__param(7,f.l(x.Xw)),g.__param(8,f.l(a.$F))],G);d.PIa=G;},function(g,d,a){var b,f,h,l,c,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(119);f=a(1005);h=a(118);l=a(904);c=a(440);k=a(897);d.Y6a=new g.ac(function(a){a(b.fea).to(f.PIa).Z();a(h.Xw).to(l.SMa).Z();a(c.uea).to(k.nJa);});},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);d.eia=function(a,d,g,c,h){c=void 0===c?b.Cb(0):c;this.config=a;this.TB=d;this.afb=c;this.Lnb=void 0===h?!1:h;this.id=void 0!==g?g:this.I$a();this.languages=(a=a())&&a.wh&&a.wh.kE||["en-US"];};},function(g,d,a){var f;function b(a,b,c,d,g){return f.eia.call(this,a,b,c,d,g)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1007);ca(b,f.eia);b.prototype.I$a=function(){var a;a=this.config();return a&&a.Pp?"browsertest":"browser";};d.HPa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.UEa=function(){this.id="browser";this.Hy=!0;};},function(g,d,a){var f,h,l,c;function b(a){this.profile=new c.HPa(a,new l.UEa());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(17);l=a(1009);c=a(1008);b.prototype.Ac=function(){this.Zh||(this.Zh=Promise.resolve());return this.Zh;};b.prototype.uy=function(a){if(this.profile.id===a)return this.profile;};qa.Object.defineProperties(b.prototype,{tgb:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.ld))],a);d.EPa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(65);f=a(1010);d.TB=new g.ac(function(a){a(b.Pca).to(f.EPa).Z();});},function(g,d,a){var f,h,l,c,k;function b(a,b){return h.xe.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);l=a(27);c=a(3);a=a(34);ca(b,h.xe);qa.Object.defineProperties(b.prototype,{eT:{configurable:!0,enumerable:!0,get:function(){return!1;}},ii:{configurable:!0,enumerable:!0,get:function(){return!1;}},Cv:{configurable:!0,enumerable:!0,get:function(){return c.Ef;}},X9:{configurable:!0,enumerable:!0,get:function(){return c.Eg(10);}},T6:{configurable:!0,enumerable:!0,get:function(){return c.Cb(2E3);}},taa:{configurable:!0,enumerable:!0,get:function(){return c.Cb(1E3);}},hlb:{configurable:!0,enumerable:!0,get:function(){return c.Cb(2500);}},HI:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},dJ:{configurable:!0,enumerable:!0,get:function(){return!1;}},WL:{configurable:!0,enumerable:!0,get:function(){return!1;}},Cn:{configurable:!0,enumerable:!0,get:function(){return!0;}},lna:{configurable:!0,enumerable:!0,get:function(){return c.Eg(30);}},mna:{configurable:!0,enumerable:!0,get:function(){return c.Eg(30);}},ona:{configurable:!0,enumerable:!0,get:function(){return c.Eg(30);}},nna:{configurable:!0,enumerable:!0,get:function(){return c.Eg(30);}},u1:{configurable:!0,enumerable:!0,get:function(){return c.Eg(30);}},Oz:{configurable:!0,enumerable:!0,get:function(){return"";}},GU:{configurable:!0,enumerable:!0,get:function(){return!1;}}});k=b;g.__decorate([a.config(a.Yd,"initializeKeySystemAtStartup")],k.prototype,"eT",null);g.__decorate([a.config(a.Yd,"secureStopEnabled")],k.prototype,"ii",null);g.__decorate([a.config(a.Wg,"licenseRenewalRequestDelay")],k.prototype,"Cv",null);g.__decorate([a.config(a.Wg,"persistedReleaseDelay")],k.prototype,"X9",null);g.__decorate([a.config(a.Wg,"secureStopKeyMessageTimeoutMilliseconds")],k.prototype,"T6",null);g.__decorate([a.config(a.Wg,"secureStopKeyAddedTimeoutMilliseconds")],k.prototype,"taa",null);g.__decorate([a.config(a.Wg,"secureStopPersistedKeyMessageTimeoutMilliseconds")],k.prototype,"hlb",null);g.__decorate([a.config(a.string,"drmPersistKey")],k.prototype,"HI",null);g.__decorate([a.config(a.Yd,"forceLimitedDurationLicense")],k.prototype,"dJ",null);g.__decorate([a.config(a.Yd,"supportsLimitedDurationLicense")],k.prototype,"WL",null);g.__decorate([a.config(a.Yd,"prepareCadmium")],k.prototype,"Cn",null);g.__decorate([a.config(a.Wg,"apiCloseTimeout")],k.prototype,"lna",null);g.__decorate([a.config(a.Wg,"apiCreateMediaKeysTimeout")],k.prototype,"mna",null);g.__decorate([a.config(a.Wg,"apiSetServerCertificateTimeout")],k.prototype,"ona",null);g.__decorate([a.config(a.Wg,"apiGenerateRequestTimeout")],k.prototype,"nna",null);g.__decorate([a.config(a.Wg,"apiUpdateTimeout")],k.prototype,"u1",null);g.__decorate([a.config(a.string,"serverCertificate")],k.prototype,"Oz",null);g.__decorate([a.config(a.Yd,"outputRestrictedIsFatal")],k.prototype,"GU",null);k=g.__decorate([f.N(),g.__param(0,f.l(l.cj)),g.__param(1,f.l(l.vA)),g.__param(1,f.optional())],k);d.dda=k;},function(g,d,a){var f,h,l,c;function b(a,b){return c.dda.call(this,a,void 0===b?"ChromeEmeConfig":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(27);l=a(34);c=a(1012);ca(b,c.dda);qa.Object.defineProperties(b.prototype,{eT:{configurable:!0,enumerable:!0,get:function(){return!0;}},WL:{configurable:!0,enumerable:!0,get:function(){return!0;}},GU:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;g.__decorate([l.config(l.Yd,"initializeKeySystemAtStartup")],a.prototype,"eT",null);g.__decorate([l.config(l.Yd,"supportsLimitedDurationLicense")],a.prototype,"WL",null);g.__decorate([l.config(l.Yd,"outputRestrictedIsFatal")],a.prototype,"GU",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.cj)),g.__param(1,f.l(h.vA)),g.__param(1,f.optional())],a);d.lJa=a;},function(g,d,a){var f,h,l,c,k,n,q;function b(a,b,d,f){a=c.xe.call(this,a,void 0===f?"FtlProbeConfigImpl":f)||this;a.Jf=b;a.Ra=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(42);h=a(1);l=a(3);c=a(36);k=a(85);n=a(34);a=a(27);ca(b,c.xe);qa.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.e5+(-1===this.e5.indexOf("?")?"?":"&")+"monotonic="+this.Ra.qxa+"&device=web";}},kCa:{configurable:!0,enumerable:!0,get:function(){return l.Ef;}},V4:{configurable:!0,enumerable:!0,get:function(){return"";}},e5:{configurable:!0,enumerable:!0,get:function(){return this.Jf.endpoint+"/ftl/probe"+(this.V4?"?force="+this.V4:"");}}});q=b;g.__decorate([n.config(n.Yd,"ftlEnabled")],q.prototype,"enabled",null);g.__decorate([n.config(n.Wg,"ftlStartDelay")],q.prototype,"kCa",null);g.__decorate([n.config(n.string,"ftlEndpointForceParam")],q.prototype,"V4",null);g.__decorate([n.config(n.url,"ftlEndpoint")],q.prototype,"e5",null);q=g.__decorate([h.N(),g.__param(0,h.l(a.cj)),g.__param(1,h.l(k.ut)),g.__param(2,h.l(f.Kj)),g.__param(3,h.l(a.vA)),g.__param(3,h.optional())],q);d.OJa=q;},function(g,d,a){var f,h,l,c;function b(a,b){return l.xe.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);l=a(36);a=a(27);ca(b,l.xe);qa.Object.defineProperties(b.prototype,{VDa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});c=b;g.__decorate([h.config(h.Yd,"useNetworkMonitor")],c.prototype,"VDa",null);c=g.__decorate([f.N(),g.__param(0,f.l(a.cj)),g.__param(1,f.l(a.vA)),g.__param(1,f.optional())],c);d.BNa=c;},function(g,d){function a(a){this.value=a;}Object.defineProperty(d,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.qya=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};d.Vga=a;},function(g,d,a){var f,h,l,c,k,n,q,r;function b(a,b,d){a=c.xe.call(this,a,void 0===d?"GeneralConfigImpl":d)||this;a.bn=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(3);h=a(1);l=a(34);c=a(36);k=a(51);n=a(27);a=a(137);q={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};d.QI=function(a,b){return a.Qza(q[b]||b,k.Dt);};ca(b,c.xe);qa.Object.defineProperties(b.prototype,{QI:{configurable:!0,enumerable:!0,get:function(){return k.Dt.VPa;}},rba:{configurable:!0,enumerable:!0,get:function(){return f.Eg(8);}},nv:{configurable:!0,enumerable:!0,get:function(){return"";}},gC:{configurable:!0,enumerable:!0,get:function(){return"";}},iA:{configurable:!0,enumerable:!0,get:function(){return"";}},KCa:{configurable:!0,enumerable:!0,get:function(){return!1;}},dQ:{configurable:!0,enumerable:!0,get:function(){return!0;}},VS:{configurable:!0,enumerable:!0,get:function(){return this.bn.VS;}},r8a:{configurable:!0,enumerable:!0,get:function(){return!1;}},Gp:{configurable:!0,enumerable:!0,get:function(){return{};}},gaa:{configurable:!0,enumerable:!0,get:function(){return!1;}},w7:{configurable:!0,enumerable:!0,get:function(){return!1;}},PW:{configurable:!0,enumerable:!0,get:function(){return!1;}},tM:{configurable:!0,enumerable:!0,get:function(){return!1;}},nw:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Pp:{configurable:!0,enumerable:!0,get:function(){return 0<=[k.Dt.Wia,k.Dt.Afa].indexOf(this.QI);}}});r=b;g.__decorate([l.config(d.QI,"environment")],r.prototype,"QI",null);g.__decorate([l.config(l.Wg,"storageTimeout")],r.prototype,"rba",null);g.__decorate([l.config(l.string,"groupName")],r.prototype,"nv",null);g.__decorate([l.config(l.string,"canaryGroupName")],r.prototype,"gC",null);g.__decorate([l.config(l.string,"uiGroupName")],r.prototype,"iA",null);g.__decorate([l.config(l.Yd,"testIndexDBForCorruptedDatabase")],r.prototype,"KCa",null);g.__decorate([l.config(l.Yd,"applyIndexedDbOpenWorkaround")],r.prototype,"dQ",null);g.__decorate([l.config(l.Yd,"ignoreIdbOpenError")],r.prototype,"VS",null);g.__decorate([l.config(l.Yd,"executeStorageMigration")],r.prototype,"r8a",null);g.__decorate([l.config(l.object(),"browserInfo")],r.prototype,"Gp",null);g.__decorate([l.config(l.Yd,"retryAllMslRequestsOnError")],r.prototype,"gaa",null);g.__decorate([l.config(l.Yd,"isTestAccount")],r.prototype,"w7",null);g.__decorate([l.config(l.Yd,"vuiCommandLogging")],r.prototype,"PW",null);g.__decorate([l.config(l.Yd,"useRangeHeader")],r.prototype,"tM",null);g.__decorate([l.config(l.object,"storageRules")],r.prototype,"nw",null);r=g.__decorate([h.N(),g.__param(0,h.l(n.cj)),g.__param(1,h.l(a.kG)),g.__param(2,h.l(n.vA)),g.__param(2,h.optional())],r);d.SJa=r;},function(g,d,a){var l,c,k,n,q;function b(){this.ms={};this.NAa=0;}function f(a,b,c,d,f){this.debug=a;this.Hs=b;this.zK=c;this.xf=d;this.gV=f;}function h(a,b,c){this.Hs=a;this.zK=b;this.gV=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);c=a(86);k=a(7);n=a(134);q=a(465);a=a(27);h=g.__decorate([l.N(),g.__param(0,l.l(a.zN)),g.__param(1,l.l(n.LZ)),g.__param(2,l.l(q.BZ))],h);d.bHa=h;f=g.__decorate([l.N(),g.__param(0,l.l(c.yt)),g.__param(1,l.l(a.zN)),g.__param(2,l.l(n.LZ)),g.__param(3,l.l(k.ob)),g.__param(4,l.l(q.BZ))],f);d.lSa=f;b.prototype.Ghb=function(a){this.ms=Object.assign({},this.ms,a);this.NAa++;};qa.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.ms;}},MAa:{configurable:!0,enumerable:!0,get:function(){return this.NAa;}}});a=b;a=g.__decorate([l.N()],a);d.qLa=a;},function(g,d,a){var b,f,h,l,c,k,n,q,r,A,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(17);f=a(1018);h=a(27);l=a(51);c=a(1017);k=a(464);n=a(1015);q=a(167);r=a(1014);A=a(64);y=a(1013);d.config=new g.ac(function(a){a(b.ld).Rf(function(){return function(){return J._cad_global.config;};});a(h.rX).to(f.bHa).Z();a(h.cj).to(f.lSa).Z();a(h.zN).to(f.qLa).Z();a(l.vm).to(c.SJa).Z();a(k.Kga).to(n.BNa).Z();a(q.Hea).to(r.OJa).Z();a(A.Tn).to(y.lJa).Z();});},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.aua=function(){return void 0!==this.fk;};a.prototype.Rz=function(a){this.fk=a;};a.prototype.Tnb=function(){this.aua()&&(this.fk=void 0);};d.TMa=a;},function(g,d,a){var b,f,h,l,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);f=a(87);h=a(119);l=a(245);d.Dmb=function(a){l.II.parent=a.ec;return function(){c||(c=new Promise(function(a,c){try{a(l.II.get(h.fea));}catch(t){c(new f.Ff(b.I.KKa,b.u.cLa,void 0,"Unable to extract the DRM services from the dependency injector",t));}}));return c;};};},function(g,d,a){var l,c,k,n,q,r,A,y;function b(a,b,c){var d;d=this;this.is=a;this.Ah=b;this.config=c;this.Gq=function(){return{version:d.version,drmData:d.rR.map(function(a){return a.Gq();})};};this.d5=function(a){var b;d.is.Gk(a)&&(a=f(a));1===a.version&&(a=h(d.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new y.EX(a);});}catch(X){throw new q.Qc(k.I.EA,k.u.vt,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",X);}}else{if(!a.version||!d.is.Vf(a.version))throw new q.Qc(k.I.EA,k.u.vt,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new q.Qc(k.I.EA,k.u.ida,void 0,void 0,void 0,"Version number is not supported. Version: "+d.getVersion);}return b;};this.Kn=new r.wfa(2,this.config.HI,this.is.Gk(this.config.HI),this.Ah,this.Gq);}function f(a){a=JSON.parse(a);a={profileId:a.profileId,xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!(a.profileId&&a.licenseContextId&&a.xid&&a.movieId))throw new q.Qc(k.I.EA,k.u.vt);return{version:1,drmData:[a]};}function h(a,b){if(a.Sr(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new y.EX({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),profileId:a.profileId,xid:a.xid,movieId:a.movieId}).Gq();})};throw new q.Qc(k.I.EA,k.u.vt);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);c=a(64);k=a(2);n=a(21);q=a(55);r=a(466);A=a(63);y=a(244);b.prototype.Pza=function(){return this.nrb();};b.prototype.Kma=function(a){return this.Kn.add(a);};b.prototype.T$=function(a){return this.Kn.remove(a,function(a,b){return a.oa===b.oa;});};b.prototype.toString=function(){return JSON.stringify(this.Gq(),null,"  ");};b.prototype.nrb=function(){var a;a=this;this.Tza||(this.Tza=new Promise(function(b,c){a.Kn.load(a.d5).then(function(){b();})["catch"](function(a){a.Y&&a.cause?c(new q.Qc(k.I.EA,a.Y,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.Tza;};qa.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Kn.version;}},rR:{configurable:!0,enumerable:!0,get:function(){return this.Kn.Ip;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(n.ue)),g.__param(1,l.l(A.fp)),g.__param(2,l.l(c.Tn))],a);d.GGa=a;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(65);f=a(246);d.Cmb=function(a){return function(){var c;if(!h){f.d1.parent=a.ec;c=f.d1.get(b.Pca);h=new Promise(function(a,b){c.Ac().then(function(){a(c);})["catch"](function(a){b(a);});});}return h;};};},function(g,d,a){var b,f,h,l,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);f=a(35);h=a(468);l=a(66);c={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};d.Hha=function(){this.h_a=this.KH=h.PM.Gfa;this.Jaa=!0;this.GH=[];this.jF=[];this.HU=this.wR=!1;this.mt=[l.vk.wX,l.vk.DQa,l.vk.MA];this.Rd=void 0;this.q4=!0;this.CR=!1;this.C1=f.aa(288E4);this.E1=f.aa(335544320);this.MT=b.Cb(15E3);this.ehb=f.aa(6291456);this.DD=1E3;this.k2=!0;this.Oba=c;this.YE=f.aa(0);this.uW=b.Cb(0);this.VS=!0;};},function(g,d,a){var h,l,c,k,n,q,r,A,f,y;function b(a){var b;b=q.Hha.call(this)||this;a=/CrOS/.test(a.userAgent);b.GH=[r.Xi.rN,r.Xi.sN];b.jF=[r.da.SX,r.da.lN,r.da.PX,r.da.QX,r.da.vG,r.da.wG];a&&b.jF.push(r.da.TX,r.da.RX,r.da.xG);b.wR=!0;b.HU=!0;b.Rd=A.hb.ySa;b.MT=k.Cb(15E3);return b;}function f(a){var b,c,d,f;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);d=/ Edg\//.test(a);f=/Tesla/.test(a);this.version="6.0018.714.011";this.xn=!0;this.SC=f?"T":d?"D":b?"C":c?"O":"M";this.gn=f?"NFCDTS-01-":d?"NFCDIE-04-":c?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":b?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":/Android.*Chrome\/[.0-9]* /.test(a)?"NFCDCH-AT-":"NFCDCH-LX-";this.f5=!0;this.jR=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.mqa="browser";this.ewa="";this.oqa="cadmium";this.Veb=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(37);c=a(72);k=a(3);n=a(137);q=a(1024);r=a(66);A=a(136);f=g.__decorate([h.N(),g.__param(0,h.l(l.QA))],f);d.Swb=f;ca(b,q.Hha);y=b;y=g.__decorate([h.N(),g.__param(0,h.l(l.QA))],y);d.Twb=y;d.platform=new h.ac(function(a){a(c.lp).to(f);a(n.kG).to(y);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xxa=function(a){return function(b){return function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return d.forEach(function(d){return a.bind(d).Ssb(b);});};};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);f=a(31);h=a(67);d.eza=function(){return function(a,c){c=new h.Metadata(f.hG,c);if(Reflect.w6(f.hG,a.constructor))throw Error(b.BMa);Reflect.J3(f.hG,c,a.constructor);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(67);h=a(88);d.fM=function(a){return function(c,d,g){var k;k=new f.Metadata(b.EN,a);h.Yz(c,d,g,k);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(67);h=a(88);d.az=function(a){return function(c,d,g){var k;k=new f.Metadata(b.Vw,a);"number"===typeof g?h.Yz(c,d,g,k):h.dM(c,d,k);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(67);h=a(88);d.bh=function(){return function(a,c,d){var g;g=new f.Metadata(b.sG,!0);h.Yz(a,c,d,g);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(67);h=a(88);d.optional=function(){return function(a,c,d){var g;g=new f.Metadata(b.Rga,!0);"number"===typeof d?h.Yz(a,c,d,g):h.dM(a,c,g);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(67);h=a(88);d.zxa=function(a){return function(c,d,g){var k;k=new f.Metadata(b.Ot,a);"number"===typeof g?h.Yz(c,d,g,k):h.dM(c,d,k);};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(67);f=a(88);d.FCa=function(a,d){return function(c,g,h){var k;k=new b.Metadata(a,d);"number"===typeof h?f.Yz(c,g,h,k):f.dM(c,g,k);};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);f=a(31);d.N=function(){return function(a){var d;if(Reflect.w6(f.gZ,a))throw Error(b.nIa);d=Reflect.getMetadata(f.HHa,a)||[];Reflect.J3(f.gZ,d,a);return a;};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(103);d.ac=function(){return function(a){this.id=b.id();this.R$=a;};}();d.Xca=function(){return function(a){this.id=b.id();this.R$=a;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);g=function(){function a(){this.xi=new Map();}a.prototype.add=function(a,d){var c;if(null===a||void 0===a)throw Error(b.dG);if(null===d||void 0===d)throw Error(b.dG);c=this.xi.get(a);void 0!==c?(c.push(d),this.xi.set(a,c)):this.xi.set(a,[d]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.dG);a=this.xi.get(a);if(void 0!==a)return a;throw Error(b.Hfa);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.dG);if(!this.xi["delete"](a))throw Error(b.Hfa);};a.prototype.Zta=function(a){if(null===a||void 0===a)throw Error(b.dG);return this.xi.has(a);};a.prototype.clone=function(){var b;b=new a();this.xi.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.qtb=function(a){this.xi.forEach(function(b,c){a(c,b);});};return a;}();d.$La=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.of=function(b,d){var f;f=new a();f.QH=b;f.Qhb=d;return f;};return a;}();d.Xwb=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(81);f=a(471);g=function(){function a(a){this.Fb=a;}a.prototype.Z=function(){this.Fb.scope=b.Qn.IZ;return new f.Iw(this.Fb);};a.prototype.U6=function(){this.Fb.scope=b.Qn.$N;return new f.Iw(this.Fb);};return a;}();d.PFa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(1038);f=a(249);h=a(248);g=function(){function a(a){this.Fb=a;this.g_=new h.iX(this.Fb);this.f_=new f.hX(this.Fb);this.Kja=new b.PFa(a);}a.prototype.Z=function(){return this.Kja.Z();};a.prototype.U6=function(){return this.Kja.U6();};a.prototype.EM=function(){return this.g_.EM();};a.prototype.oq=function(a){return this.f_.oq(a);};return a;}();d.eda=g;},function(g,d,a){var b,f,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);f=a(81);h=a(1039);l=a(471);g=function(){function a(a){this.Fb=a;}a.prototype.to=function(a){this.Fb.type=f.Eh.HY;this.Fb.pj=a;return new h.eda(this.Fb);};a.prototype.dDa=function(){if("function"!==typeof this.Fb.Me)throw Error(""+b.fLa);this.to(this.Fb.Me);};a.prototype.Bh=function(a){this.Fb.type=f.Eh.yda;this.Fb.cache=a;this.Fb.KC=null;this.Fb.pj=null;new l.Iw(this.Fb);};a.prototype.dA=function(a){this.Fb.type=f.Eh.kea;this.Fb.cache=null;this.Fb.KC=a;this.Fb.pj=null;new h.eda(this.Fb);};a.prototype.Rsb=function(a){this.Fb.type=f.Eh.zda;this.Fb.pj=a;new l.Iw(this.Fb);};a.prototype.Rf=function(a){this.Fb.type=f.Eh.NX;this.Fb.Yu=a;new l.Iw(this.Fb);};a.prototype.Psb=function(a){this.Fb.type=f.Eh.NX;this.Fb.Yu=function(b){return function(){return b.ec.get(a);};};new l.Iw(this.Fb);};a.prototype.jM=function(a){this.Fb.type=f.Eh.gia;this.Fb.vq=a;new l.Iw(this.Fb);};a.prototype.Ssb=function(a){this.dA(function(b){return b.ec.get(a);});};return a;}();d.QFa=g;},function(g,d,a){var h,l,c;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===l.ir.vda;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function f(a,b){var d;if(Reflect.Scb(c.hG,a)){d=Reflect.getMetadata(c.hG,a);try{b[d.value]();}catch(t){throw Error(h.KOa(a.name,t.message));}}}Object.defineProperty(d,"__esModule",{value:!0});h=a(52);l=a(81);c=a(31);d.wob=function(a,c,d){var g;g=null;0<c.length?(g=c.filter(function(a){return null!==a.target&&a.target.type===l.ir.Ada;}).map(d),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,c,d)):g=new a();f(a,g);return g;};},function(g,d,a){var h,l,c,k,n;function b(a){return function(c){var d,g,m,q,p;d=c.QH;g=c.v2;m=c.target&&c.target.isArray();q=!c.Rs||!c.Rs.target||!c.target||!c.Rs.target.Ogb(c.target.Me);if(m&&q)return g.map(function(c){return b(a)(c);});m=null;if(!c.target.dva()||0!==d.length){p=d[0];d=p.scope===l.Qn.IZ;q=p.scope===l.Qn.Request;if(d&&p.f1)return p.cache;if(q&&null!==a&&a.has(p.id))return a.get(p.id);if(p.type===l.Eh.yda)m=p.cache;else if(p.type===l.Eh.Function)m=p.cache;else if(p.type===l.Eh.zda)m=p.pj;else if(p.type===l.Eh.kea&&null!==p.KC)m=f("toDynamicValue",p.Me,function(){return p.KC(c.aE);});else if(p.type===l.Eh.NX&&null!==p.Yu)m=f("toFactory",p.Me,function(){return p.Yu(c.aE);});else if(p.type===l.Eh.gia&&null!==p.vq)m=f("toProvider",p.Me,function(){return p.vq(c.aE);});else if(p.type===l.Eh.HY&&null!==p.pj)m=n.wob(p.pj,g,b(a));else throw g=k.jD(c.Me),Error(h.aLa+" "+g);"function"===typeof p.oq&&(m=p.oq(c.aE,m));d&&(p.cache=m,p.f1=!0);q&&null!==a&&!a.has(p.id)&&a.set(p.id,m);return m;}};}function f(a,b,d){try{return d();}catch(y){if(c.lva(y))throw Error(h.mGa(a,b.toString()));throw y;}}Object.defineProperty(d,"__esModule",{value:!0});h=a(52);l=a(81);c=a(474);k=a(138);n=a(1041);d.resolve=function(a){return b(a.dE.iaa.mob)(a.dE.iaa);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(103);g=function(){function a(a,d,c,f,g){this.id=b.id();this.Me=a;this.aE=d;this.Rs=c;this.target=g;this.v2=[];this.QH=Array.isArray(f)?f:[f];this.mob=null===c?new Map():null;}a.prototype.Hma=function(b,d,c){b=new a(b,this.aE,this,d,c);this.v2.push(b);return b;};return a;}();d.Request=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.ow=a;}a.prototype.startsWith=function(a){return 0===this.ow.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.ow.split("").reverse().join("");return this.startsWith.call({ow:a},b);};a.prototype.contains=function(a){return-1!==this.ow.indexOf(a);};a.prototype.equals=function(a){return this.ow===a;};a.prototype.value=function(){return this.ow;};return a;}();d.ZPa=g;},function(g,d,a){var c,k,n,q,r,A;function b(a,b,d,g){var h,m,t,u,x,y,G,C,E,L;h=a.Csa(d);m=h.Voa;if(void 0===m)throw Error(k.nMa+" "+b+".");for(var h=h.Dub,p=Object.keys(h),q=0===d.length&&0<p.length?p.length:d.length,p=[],r=0;r<q;r++){u=r;x=g;y=b;G=m;t=h[u.toString()]||[];C=l(t);E=!0!==C.bh;G=G[u];L=C.l||C.az;G=L?L:G;G instanceof c.LY&&(G=G.Mtb());if(E){E=G===Function;E=G===Object||E||void 0===G;if(!x&&E)throw Error(k.oMa+" argument "+u+" in class "+y+".");u=new A.YN(n.ir.Ada,C.fM,G);u.kd=t;t=u;}else t=null;null!==t&&p.push(t);}a=f(a,d);return p.concat(a);}function f(a,b){var k,m,p;for(var c=a.pbb(b),d=[],g=0,h=Object.keys(c);g<h.length;g++){k=h[g];m=c[k];p=l(c[k]);k=new A.YN(n.ir.vda,p.fM||k,p.l||p.az);k.kd=m;d.push(k);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=f(a,b),d=d.concat(a));return d;}function h(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=r.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.kd.filter(function(a){return a.key===q.sG;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:h(a,c);}return 0;}function l(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[q.RF],az:b[q.Vw],fM:b[q.EN],bh:b[q.sG]};}Object.defineProperty(d,"__esModule",{value:!0});c=a(473);k=a(52);n=a(81);q=a(31);r=a(138);d.getFunctionName=r.getFunctionName;A=a(472);d.K$a=function(a,c){var d;d=r.getFunctionName(c);return b(a,d,c,!1);};d.g$a=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oPa=function(){return function(a,b){this.aE=a;this.iaa=b;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(103);g=function(){function a(a){this.id=b.id();this.ec=a;}a.prototype.SYa=function(a){this.dE=a;};return a;}();d.Bda=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gX={Wzb:2,Nga:0,RNa:1};},function(g,d,a){var c,k,n,q,r,A,y,C,x,G,E,J;function b(a,b,d,g,h){var k,m;k=l(d.ec,h.Me);m=[];k.length===c.gX.Nga&&d.ec.options.MH&&"function"===typeof h.Me&&a.Csa(h.Me).Voa&&(d.ec.bind(h.Me).dDa(),k=l(d.ec,h.Me));m=b?k:k.filter(function(a){var b;b=new E.Request(a.Me,d,g,a,h);return a.lC(b);});f(h.Me,m,h,d.ec);return m;}function f(a,b,d,f){switch(b.length){case c.gX.Nga:if(d.dva())break;a=A.jD(a);b=k.wNa;b+=A.vfb(a,d);b+=A.Qva(f,a,l);throw Error(b);case c.gX.RNa:if(!d.isArray())break;default:if(!d.isArray())throw a=A.jD(a),b=k.yEa+" "+a,b+=A.Qva(f,a,l),Error(b);}}function h(a,c,d,f,g,l){var m;null===g?(c=b(a,c,f,null,l),m=new E.Request(d,f,null,c,l),d=new x.oPa(f,m),f.SYa(d)):(c=b(a,c,f,g,l),m=g.Hma(l.Me,c,l));c.forEach(function(b){var c,d,g;c=null;if(l.isArray())c=m.Hma(b.Me,b,l);else{if(b.cache)return;c=m;}if(b.type===n.Eh.HY&&null!==b.pj){d=G.K$a(a,b.pj);if(!f.ec.options.lw){g=G.g$a(a,b.pj);if(d.length<g)throw b=k.zEa(G.getFunctionName(b.pj)),Error(b);}d.forEach(function(b){h(a,!1,b.Me,f,c,b);});}});}function l(a,b){var c,d;c=[];d=a.jB;d.Zta(b)?c=d.get(b):null!==a.parent&&(c=l(a.parent,b));return c;}Object.defineProperty(d,"__esModule",{value:!0});c=a(1048);k=a(52);n=a(81);q=a(31);r=a(474);A=a(138);y=a(1047);C=a(67);x=a(1046);G=a(1045);E=a(1043);J=a(472);d.k5=function(a){return a.jB;};d.dE=function(a,b,c,d,f,g,k,l){void 0===l&&(l=!1);b=new y.Bda(b);c=new C.Metadata(c?q.Vw:q.RF,f);d=new J.YN(d,"",f,c);void 0!==g&&(g=new C.Metadata(g,k),d.kd.push(g));try{return h(a,l,f,b,null,d),b;}catch(Y){throw r.lva(Y)&&b.dE&&A.l1a(b.dE.iaa),Y;}};d.lFb=function(a,b,c,d){c=new J.YN(n.ir.UZ,"",b,new C.Metadata(c,d));a=new y.Bda(a);return new E.Request(b,a,null,[],c);};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(81);f=a(103);g=function(){function a(a,c){this.id=f.id();this.f1=!1;this.Me=a;this.scope=c;this.type=b.Eh.uLa;this.lC=function(){return!0;};this.KC=this.oq=this.vq=this.Yu=this.cache=this.pj=null;}a.prototype.clone=function(){var b;b=new a(this.Me,this.scope);b.f1=!1;b.pj=this.pj;b.KC=this.KC;b.scope=this.scope;b.type=this.type;b.Yu=this.Yu;b.vq=this.vq;b.lC=this.lC;b.oq=this.oq;b.cache=this.cache;return b;};return a;}();d.OFa=g;},function(g,d,a){var b,f,l,m,c,k,p,q,r,A,y,C;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(Z){g(Z);}}function k(a){try{l(d["throw"](a));}catch(Z){g(Z);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};f=this&&this.DDb||function(a,b){var f,g,k,l,m;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.lz.pop();f.hA.pop();continue;default:if(!(l=f.hA,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))f.label=c[1];else if(6===c[0]&&f.label<l[1])f.label=l[1],l=c;else if(l&&f.label<l[2])f.label=l[2],f.lz.push(c);else{l[2]&&f.lz.pop();f.hA.pop();continue;}}c=b.call(a,f);}catch(Z){c=[6,Z];k=0;}finally{g=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,NV:function(){if(l[0]&1)throw l[1];return l[1];},hA:[],lz:[]};h();h();n();return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this;}),m;};Object.defineProperty(d,"__esModule",{value:!0});l=a(1050);m=a(52);c=a(81);a(31);k=a(475);p=a(1049);q=a(1042);r=a(1040);A=a(103);y=a(138);a(1037);C=a(1036);g=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+m.AGa);if(void 0===a.by)a.by=c.Qn.$N;else if(a.by!==c.Qn.IZ&&a.by!==c.Qn.$N&&a.by!==c.Qn.Request)throw Error(""+m.yGa);if(void 0===a.MH)a.MH=!1;else if("boolean"!==typeof a.MH)throw Error(""+m.xGa);if(void 0===a.lw)a.lw=!1;else if("boolean"!==typeof a.lw)throw Error(""+m.zGa);this.options={MH:a.MH,by:a.by,lw:a.lw};this.id=A.id();this.jB=new C.$La();this.yXa=[];this.parent=this.g0=null;this.hVa=new k.UY();}a.Y8=function(b,c){var f,g;function d(a,b){a.qtb(function(a,c){c.forEach(function(a){b.add(a.Me,a.clone());});});}f=new a();g=p.k5(f);b=p.k5(b);c=p.k5(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.Hka(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.R$(f.Una,f.xDa,f.rva,f.Xza);}};a.prototype.aK=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return b(this,void 0,void 0,function(){var b,c,d,g,h;return f(this,function(f){switch(f.label){case 0:b=this.Hka(),c=0,d=a,f.label=1;case 1:if(!(c<d.length))return[3,4];g=d[c];h=b(g.id);return[4,g.R$(h.Una,h.xDa,h.rva,h.Xza)];case 2:f.NV(),f.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new l.OFa(a,this.options.by||c.Qn.$N);this.jB.add(a,b);return new r.QFa(b);};a.prototype.gnb=function(a){this.wDa(a);return this.bind(a);};a.prototype.wDa=function(a){try{this.jB.remove(a);}catch(N){throw Error(m.iGa+" "+y.jD(a));}};a.prototype.Tua=function(a){var b;b=this.jB.Zta(a);!b&&this.parent&&(b=this.parent.Tua(a));return b;};a.prototype.restore=function(){var a;a=this.yXa.pop();if(void 0===a)throw Error(m.xNa);this.jB=a.QH;this.g0=a.Qhb;};a.prototype.U3a=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.Gka(!1,!1,c.ir.UZ,a);};a.prototype.getAll=function(a){return this.Gka(!0,!0,c.ir.UZ,a);};a.prototype.resolve=function(a){var b;b=this.U3a();b.bind(a).dDa();return b.get(a);};a.prototype.Hka=function(){var f;function a(a){return function(b){b=f.gnb.bind(f)(b);b.Fb.qib=a;return b;};}function b(){return function(a){return f.Tua.bind(f)(a);};}function c(){return function(a){f.wDa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.Fb.qib=a;return b;};}f=this;return function(f){return{Una:d(f),rva:b(),Xza:a(f),xDa:c()};};};a.prototype.Gka=function(a,b,c,d){var f;f=null;a={u_a:a,d2a:function(a){return a;},seb:b,key:void 0,Me:d,rsb:c,value:void 0};if(this.g0){if(f=this.g0(a),void 0===f||null===f)throw Error(m.dLa);}else f=this.zWa()(a);return f;};a.prototype.zWa=function(){var a;a=this;return function(b){var c;c=p.dE(a.hVa,a,b.seb,b.rsb,b.Me,b.key,b.value,b.u_a);c=b.d2a(c);return q.resolve(c);};};return a;}();d.AF=g;},function(g,d,a){(function(a){var b;(function(b){var ca,Y,O,W,da,fa,M,ha,ga;function d(a,b,c){var d;d=ga.get(a);if(!d){if(!c)return;d=new M();ga.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new M();d.set(b,a);}return a;}function c(a,b,d){if(f(a,b,d))return!0;b=E(b);return null!==b?c(a,b,d):!1;}function f(a,b,c){b=d(b,c,!1);return void 0!==b&&!!b.has(a);}function g(a,b,c){if(f(a,b,c))return h(a,b,c);b=E(b);return null!==b?g(a,b,c):void 0;}function h(a,b,c){b=d(b,c,!1);return void 0===b?void 0:b.get(a);}function l(a,b){var c,f;c=n(a,b);a=E(a);if(null===a)return c;b=l(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new ha();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return T(a);}function n(a,b){var c;a=d(a,b,!1);c=[];a&&S(a,function(a,b){return c.push(b);});return c;}function r(a){return void 0===a;}function u(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function x(a){return"object"===typeof a?null!==a:"function"===typeof a;}function C(a){return"symbol"===typeof a?a:String(a);}function E(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===fa||b!==fa)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function Q(a){a=a.next();return a.done?void 0:a;}function S(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=Q(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function T(a){var b;b=[];S(a,function(a,c){b.push(c);});return b;}function D(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function U(){var a;a={};return function(){function b(){this.ao=[];this.Fk=[];this.sO=a;this.rO=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.ao.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.KO(a,!1);};b.prototype.get=function(a){a=this.KO(a,!1);return 0<=a?this.Fk[a]:void 0;};b.prototype.set=function(a,b){a=this.KO(a,!0);this.Fk[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.KO(b,!1);if(0<=c){b=this.ao.length;for(c+=1;c<b;c++)this.ao[c-1]=this.ao[c],this.Fk[c-1]=this.Fk[c];this.ao.length--;this.Fk.length--;this.sO=a;this.rO=-2;return!0;}return!1;};b.prototype.clear=function(){this.ao.length=0;this.Fk.length=0;this.sO=a;this.rO=-2;};b.prototype.keys=function(){return D(this.ao,void 0,"key");};b.prototype.values=function(){return D(void 0,this.Fk,"value");};b.prototype.entries=function(){return D(this.ao,this.Fk,"key+value");};b.prototype.KO=function(a,b){var c;if(this.sO===a)return this.rO;c=this.ao.indexOf(a);0>c&&b&&(c=this.ao.length,this.ao.push(a),this.Fk.push(void 0));return this.sO=a,this.rO=c;};return b;}();}function P(){return function(){function a(){this.xi=new M();}Object.defineProperty(a.prototype,"size",{get:function(){return this.xi.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.xi.has(a);};a.prototype.add=function(a){return this.xi.set(a,a),this;};a.prototype["delete"]=function(a){return this.xi["delete"](a);};a.prototype.clear=function(){this.xi.clear();};a.prototype.keys=function(){return this.xi.keys();};a.prototype.values=function(){return this.xi.values();};a.prototype.entries=function(){return this.xi.entries();};return a;}();}function aa(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(da.has(d,b));d[b]=!0;return b;}function c(a,b){if(!ca.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:W()});}return a[f];}d=W();f=b();return function(){function a(){this.sx=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?da.has(a,this.sx):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?da.get(a,this.sx):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.sx]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.sx]:!1;};a.prototype.clear=function(){this.sx=b();};return a;}();}function Z(a){a.BDb=1;delete a.CDb;return a;}ca=Object.prototype.hasOwnProperty;Y="function"===typeof Object.create;O=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();W=Y?function(){return Z(Object.create(null));}:O?function(){return Z({__proto__:null});}:function(){return Z({});};(function(a){var b;b=!Y&&!O;a.has=b?function(a,b){return ca.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return ca.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(da||(da={})));fa=Object.getPrototypeOf(Function);M="function"===typeof Map?Map:U();ha="function"===typeof Set?Set:P();ga=new("function"===typeof WeakMap?WeakMap:(aa()))();b.Pu=function(a,b,c,d){var g;if(r(d)){if(r(c)){if(!u(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!r(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!u(a))throw new TypeError();if(!x(b))throw new TypeError();c=C(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!u(a))throw new TypeError();if(!x(b))throw new TypeError();if(r(c))throw new TypeError();if(!x(d))throw new TypeError();c=C(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!r(g)){if(!x(g))throw new TypeError();d=g;}}return d;}};b.kd=function(a,b){return function(c,f){if(r(f)){if("function"!==typeof c)throw new TypeError();d(c,void 0,!0).set(a,b);}else{if(!x(c))throw new TypeError();f=C(f);d(c,f,!0).set(a,b);}};};b.J3=function(a,b,c){var f;if(!x(c))throw new TypeError();r(f)||(f=C(f));d(c,f,!0).set(a,b);};b.Scb=function(a,b){var d;if(!x(b))throw new TypeError();r(d)||(d=C(d));return c(a,b,d);};b.w6=function(a,b){var c;if(!x(b))throw new TypeError();r(c)||(c=C(c));return f(a,b,c);};b.getMetadata=function(a,b,c){if(!x(b))throw new TypeError();r(c)||(c=C(c));return g(a,b,c);};b.JGb=function(a,b,c){if(!x(b))throw new TypeError();r(c)||(c=C(c));return h(a,b,c);};b.HGb=function(a,b){if(!x(a))throw new TypeError();r(b)||(b=C(b));return l(a,b);};b.KGb=function(a,b){if(!x(a))throw new TypeError();r(b)||(b=C(b));return n(a,b);};b.NFb=function(a,b,c){var f;if(!x(b))throw new TypeError();r(c)||(c=C(c));f=d(b,c,!1);if(r(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ga.get(b);a["delete"](c);if(0<a.size)return!0;ga["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)ca.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof J?J:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(250)));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(1052);J._cad_global={};J.DEBUG=!1;a(9);a(8);a(16);a(18);a(33);a(28);a(105);a(511);a(256);a(45);a(26);a(14);a(68);a(53);a(510);a(175);a(428);a(509);a(508);a(173);a(507);a(254);a(193);a(343);a(275);a(269);a(271);a(270);a(253);a(286);a(285);a(283);a(141);a(182);a(506);a(12);a(265);a(505);a(104);a(69);a(274);a(124);a(342);a(341);a(192);a(504);a(171);a(313);a(282);a(503);a(90);a(179);a(502);a(501);a(320);a(180);a(323);a(181);a(287);a(500);a(140);a(267);a(145);a(280);a(122);a(89);a(499);a(498);a(497);a(496);a(495);a(268);a(56);a(494);a(266);a(272);a(276);a(340);a(273);a(264);a(493);a(492);a(258);a(120);a(491);a(490);a(489);a(488);a(487);a(480);a(477);a(278);},function(g,d,a){g.T=a(1053);}]));}.call(J));}(window));}.call(window));